<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal 改进测试</title>
  <script type="module" src="/packages/webcomponent/dist/ldesign/ldesign.esm.js"></script>
  <link rel="stylesheet" href="/packages/webcomponent/dist/ldesign/ldesign.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      padding: 40px;
      background: #f5f5f7;
    }
    .demo-section {
      margin-bottom: 40px;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    h2 {
      color: #1d1d1f;
      margin-bottom: 20px;
      font-size: 24px;
    }
    .demo-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .info-box {
      background: #f0f9ff;
      border: 1px solid #3b82f6;
      padding: 16px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .info-title {
      font-weight: 600;
      color: #1e40af;
      margin-bottom: 8px;
    }
    .info-list {
      color: #1e40af;
      line-height: 1.8;
    }
    .modal-content {
      line-height: 1.8;
    }
    .modal-form {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .form-group label {
      font-weight: 500;
      color: #374151;
    }
    .form-group input,
    .form-group textarea {
      padding: 8px 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 14px;
    }
    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }
  </style>
</head>
<body>

  <h1 style="text-align: center; color: #1d1d1f; margin-bottom: 40px;">🎨 Modal 组件改进测试</h1>

  <div class="info-box">
    <div class="info-title">✨ 主要改进内容</div>
    <ul class="info-list">
      <li>优化头部按钮样式：移除多层叠加效果，保持简洁清晰的单层样式</li>
      <li>调整按钮尺寸：从 36px 调整为 32px，更加精致</li>
      <li>缩小按钮间距：头部按钮间距从 12px 改为 8px，底部按钮间距从 16px 改为 12px</li>
      <li>更换图标风格：最大化图标改为方形(square)，恢复图标改为复制形(copy)，更符合 Windows 风格</li>
      <li>优化关闭按钮：悬浮时显示淡红色背景，增强交互反馈</li>
      <li>简化过渡动画：避免 transform 缩放效果，保持稳定的视觉体验</li>
    </ul>
  </div>

  <!-- 基础模态框测试 -->
  <div class="demo-section">
    <h2>📦 基础模态框</h2>
    <p>测试优化后的头部按钮样式和间距</p>
    <div class="demo-buttons">
      <ldesign-button type="primary" onclick="showBasicModal()">打开基础模态框</ldesign-button>
      <ldesign-button type="secondary" onclick="showLargeModal()">打开大型模态框</ldesign-button>
      <ldesign-button type="success" onclick="showFullModal()">打开全屏模态框</ldesign-button>
    </div>
  </div>

  <!-- 可拖拽和调整大小 -->
  <div class="demo-section">
    <h2>🔧 交互功能测试</h2>
    <p>测试可拖拽、可调整大小、可最大化功能</p>
    <div class="demo-buttons">
      <ldesign-button type="primary" onclick="showDraggableModal()">可拖拽模态框</ldesign-button>
      <ldesign-button type="secondary" onclick="showResizableModal()">可调整大小</ldesign-button>
      <ldesign-button type="info" onclick="showMaximizableModal()">可最大化模态框</ldesign-button>
    </div>
  </div>

  <!-- 表单模态框 -->
  <div class="demo-section">
    <h2>📝 表单模态框</h2>
    <p>测试底部按钮间距优化效果</p>
    <div class="demo-buttons">
      <ldesign-button type="primary" onclick="showFormModal()">打开表单模态框</ldesign-button>
      <ldesign-button type="secondary" onclick="showMultiButtonModal()">多按钮模态框</ldesign-button>
    </div>
  </div>

  <!-- 动画效果测试 -->
  <div class="demo-section">
    <h2>🎭 动画效果</h2>
    <p>测试不同动画效果下的按钮表现</p>
    <div class="demo-buttons">
      <ldesign-button onclick="showAnimModal('fade')">淡入淡出</ldesign-button>
      <ldesign-button onclick="showAnimModal('zoom')">缩放</ldesign-button>
      <ldesign-button onclick="showAnimModal('slide-down')">从上滑入</ldesign-button>
      <ldesign-button onclick="showAnimModal('elastic')">弹性</ldesign-button>
      <ldesign-button onclick="showAnimModal('bounce')">弹跳</ldesign-button>
    </div>
  </div>

  <!-- 模态框实例 -->
  <ldesign-modal id="basicModal" modal-title="基础模态框" size="medium">
    <div class="modal-content">
      <p>这是一个基础的模态框示例。</p>
      <p>注意观察头部按钮的样式和间距：</p>
      <ul>
        <li>按钮尺寸更加紧凑（32px）</li>
        <li>按钮间距更小（8px）</li>
        <li>悬浮效果更加简洁</li>
        <li>关闭按钮悬浮时呈现淡红色</li>
      </ul>
    </div>
  </ldesign-modal>

  <ldesign-modal id="largeModal" modal-title="大型模态框" size="large">
    <div class="modal-content">
      <h3>大尺寸内容展示</h3>
      <p>这是一个大型模态框，适合展示更多内容。</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
  </ldesign-modal>

  <ldesign-modal id="fullModal" modal-title="全屏模态框" size="full">
    <div class="modal-content">
      <h3>全屏展示模式</h3>
      <p>此模态框占满整个屏幕，适合需要最大化展示空间的场景。</p>
      <p>头部按钮样式在全屏模式下同样保持优雅。</p>
    </div>
  </ldesign-modal>

  <ldesign-modal id="draggableModal" modal-title="可拖拽模态框" size="medium" is-draggable="true">
    <div class="modal-content">
      <p>🎯 这个模态框可以拖拽移动！</p>
      <p>尝试拖动标题栏来移动模态框位置。</p>
      <p>注意：按钮区域不会触发拖拽，保证按钮可以正常点击。</p>
    </div>
  </ldesign-modal>

  <ldesign-modal id="resizableModal" modal-title="可调整大小" size="medium" resizable="true">
    <div class="modal-content">
      <p>📏 这个模态框可以调整大小！</p>
      <p>拖动边缘或角落来调整窗口尺寸。</p>
      <p>最小和最大尺寸都有限制，确保内容可读性。</p>
    </div>
  </ldesign-modal>

  <ldesign-modal id="maximizableModal" modal-title="可最大化模态框" size="medium" maximizable="true">
    <div class="modal-content">
      <p>🖥️ 点击头部的最大化按钮可以全屏显示！</p>
      <p>最大化图标现在使用方形图标(□)，恢复时显示复制形图标，更符合 Windows 风格。</p>
      <p>再次点击可以恢复原始大小。</p>
    </div>
  </ldesign-modal>

  <ldesign-modal id="formModal" modal-title="用户信息表单" size="medium">
    <div class="modal-form">
      <div class="form-group">
        <label>姓名</label>
        <input type="text" placeholder="请输入姓名">
      </div>
      <div class="form-group">
        <label>邮箱</label>
        <input type="email" placeholder="请输入邮箱">
      </div>
      <div class="form-group">
        <label>备注</label>
        <textarea placeholder="请输入备注信息"></textarea>
      </div>
    </div>
  </ldesign-modal>

  <ldesign-modal id="multiButtonModal" modal-title="多按钮操作" size="medium">
    <div class="modal-content">
      <p>这个模态框展示了多个操作按钮。</p>
      <p>底部按钮间距已优化为 12px，更加紧凑。</p>
    </div>
    <div slot="footer" style="display: flex; justify-content: space-between; width: 100%;">
      <ldesign-button type="text">删除</ldesign-button>
      <div style="display: flex; gap: 12px;">
        <ldesign-button type="secondary">保存草稿</ldesign-button>
        <ldesign-button type="primary">发布</ldesign-button>
      </div>
    </div>
  </ldesign-modal>

  <ldesign-modal id="animModal" modal-title="动画效果演示" size="medium">
    <div class="modal-content">
      <p id="animText">测试动画效果</p>
      <p>头部按钮在各种动画效果下都能保持良好的视觉表现。</p>
    </div>
  </ldesign-modal>

  <script>
    // 基础模态框
    function showBasicModal() {
      const modal = document.getElementById('basicModal');
      modal.visible = true;
    }

    function showLargeModal() {
      const modal = document.getElementById('largeModal');
      modal.visible = true;
    }

    function showFullModal() {
      const modal = document.getElementById('fullModal');
      modal.visible = true;
    }

    // 交互功能
    function showDraggableModal() {
      const modal = document.getElementById('draggableModal');
      modal.visible = true;
    }

    function showResizableModal() {
      const modal = document.getElementById('resizableModal');
      modal.visible = true;
    }

    function showMaximizableModal() {
      const modal = document.getElementById('maximizableModal');
      modal.visible = true;
    }

    // 表单模态框
    function showFormModal() {
      const modal = document.getElementById('formModal');
      modal.visible = true;
    }

    function showMultiButtonModal() {
      const modal = document.getElementById('multiButtonModal');
      modal.visible = true;
    }

    // 动画效果
    function showAnimModal(animationType) {
      const modal = document.getElementById('animModal');
      const animText = document.getElementById('animText');
      
      modal.animation = animationType;
      animText.textContent = `当前动画效果：${animationType}`;
      modal.visible = true;
    }

    // 监听模态框关闭事件
    document.querySelectorAll('ldesign-modal').forEach(modal => {
      modal.addEventListener('ldesignClose', (e) => {
        console.log('Modal closed:', e.target.id);
      });
    });
  </script>

</body>
</html>