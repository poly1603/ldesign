---
alwaysApply: true
description: æ„å»ºå·¥å…·å’Œç»„ä»¶å¼€å‘è§„èŒƒ
---

# æ„å»ºå·¥å…·å’Œç»„ä»¶å¼€å‘è§„èŒƒ

## æ„å»ºå·¥å…·é€‰æ‹©

### 1. åº“ï¼ˆLibraryï¼‰æ‰“åŒ… ğŸ“¦

**å¿…é¡»ä½¿ç”¨ `@ldesign/builder`**

```json
// packages/your-lib/package.json
{
  "name": "@ldesign/your-lib",
  "scripts": {
    "build": "ldesign-builder build",
    "build:watch": "ldesign-builder build --watch",
    "build:clean": "ldesign-builder clean && ldesign-builder build"
  },
  "devDependencies": {
    "@ldesign/builder": "workspace:*"
  }
}
```

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… çº¯åŠŸèƒ½åº“ï¼ˆutilsã€hooksã€composablesï¼‰
- âœ… ç»„ä»¶åº“ï¼ˆéœ€è¦æ‰“åŒ…ä¸º npm åŒ…ï¼‰
- âœ… å·¥å…·åŒ…ï¼ˆCLIã€æ’ä»¶ç­‰ï¼‰
- âœ… éœ€è¦å‘å¸ƒåˆ° npm çš„åŒ…
- âœ… éœ€è¦ç”Ÿæˆå¤šç§æ ¼å¼ï¼ˆESMã€CJSã€UMDï¼‰

**é…ç½®ç¤ºä¾‹**ï¼š
```typescript
// packages/your-lib/builder.config.ts
import { defineConfig } from '@ldesign/builder'

export default defineConfig({
  entry: 'src/index.ts',
  output: {
    formats: ['esm', 'cjs', 'umd'],
    dir: 'dist',
  },
  external: ['vue', 'react'],
  minify: true,
  sourcemap: true,
  dts: true, // ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶
})
```

### 2. é¡¹ç›®ï¼ˆApplicationï¼‰æ„å»º ğŸš€

**å¿…é¡»ä½¿ç”¨ `@ldesign/launcher`**

```json
// apps/your-app/package.json
{
  "name": "your-app",
  "scripts": {
    "dev": "ldesign-launcher dev",
    "build": "ldesign-launcher build",
    "preview": "ldesign-launcher preview",
    "serve": "ldesign-launcher serve"
  },
  "devDependencies": {
    "@ldesign/launcher": "workspace:*"
  }
}
```

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… å®Œæ•´çš„åº”ç”¨ç¨‹åº
- âœ… ç¤ºä¾‹å±•ç¤ºé¡¹ç›®
- âœ… æ–‡æ¡£ç½‘ç«™
- âœ… å¼€å‘ç¯å¢ƒé¢„è§ˆ
- âœ… éœ€è¦å¼€å‘æœåŠ¡å™¨çš„é¡¹ç›®

**é…ç½®ç¤ºä¾‹**ï¼š
```typescript
// apps/your-app/launcher.config.ts
import { defineConfig } from '@ldesign/launcher'

export default defineConfig({
  root: 'src',
  publicDir: 'public',
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
  },
  server: {
    port: 3000,
    open: true,
    proxy: {
      '/api': 'http://localhost:8080',
    },
  },
})
```

### 3. å·¥å…·é€‰æ‹©å†³ç­–æ ‘

```
éœ€è¦æ‰“åŒ…å—ï¼Ÿ
â”œâ”€ æ˜¯
â”‚  â”œâ”€ éœ€è¦å‘å¸ƒåˆ° npmï¼Ÿ
â”‚  â”‚  â””â”€ æ˜¯ â†’ ä½¿ç”¨ @ldesign/builder
â”‚  â””â”€ åªæ˜¯åº”ç”¨éƒ¨ç½²ï¼Ÿ
â”‚     â””â”€ æ˜¯ â†’ ä½¿ç”¨ @ldesign/launcher
â””â”€ å¦
   â””â”€ éœ€è¦å¼€å‘æœåŠ¡å™¨ï¼Ÿ
      â””â”€ æ˜¯ â†’ ä½¿ç”¨ @ldesign/launcher
```

## Vue ç»„ä»¶å¼€å‘è§„èŒƒ

### 1. ç»„ä»¶ç›®å½•ç»“æ„ ğŸ—‚ï¸

**å¿…é¡»ä½¿ç”¨ç›®å½•åŒ…è£¹ï¼Œç»Ÿä¸€ç»“æ„**ï¼š

```
components/
â””â”€â”€ Button/                    # ç»„ä»¶ç›®å½•ï¼ˆPascalCaseï¼‰
    â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£ï¼ˆå¿…éœ€ï¼‰
    â”œâ”€â”€ Button.tsx            # ç»„ä»¶å®ç°ï¼ˆTSXï¼‰
    â”œâ”€â”€ Button.less           # ç»„ä»¶æ ·å¼ï¼ˆLessï¼‰
    â”œâ”€â”€ types.ts              # ç±»å‹å®šä¹‰
    â”œâ”€â”€ props.ts              # Props å®šä¹‰ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ constants.ts          # å¸¸é‡å®šä¹‰ï¼ˆå¯é€‰ï¼‰
    â””â”€â”€ __tests__/            # æµ‹è¯•æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
        â””â”€â”€ Button.test.ts
```

**å…³é”®è§„åˆ™**ï¼š
- âœ… ç»„ä»¶ç›®å½•åä½¿ç”¨ **PascalCase**ï¼ˆå¦‚ `Button`ã€`DatePicker`ï¼‰
- âœ… ä¸»æ–‡ä»¶åä¸ç›®å½•åä¸€è‡´ï¼ˆ`Button/Button.tsx`ï¼‰
- âœ… æ ·å¼æ–‡ä»¶ä¸ä¸»æ–‡ä»¶åŒåï¼ˆ`Button.less`ï¼‰
- âœ… å¿…é¡»æœ‰ `index.ts` ä½œä¸ºå¯¼å‡ºå…¥å£
- âœ… ç±»å‹å®šä¹‰ç‹¬ç«‹åˆ° `types.ts`
- âŒ ç¦æ­¢ç›´æ¥åœ¨æ ¹ç›®å½•åˆ›å»ºç»„ä»¶æ–‡ä»¶ï¼ˆå¦‚ `Button.tsx`ï¼‰

### 2. ç»„ä»¶å®ç°è§„èŒƒ (TSX) ğŸ“

**å¿…é¡»ä½¿ç”¨ TSX ç¼–å†™ Vue ç»„ä»¶**ï¼š

```tsx
// components/Button/Button.tsx
import { defineComponent, computed, type PropType } from 'vue'
import type { ButtonProps, ButtonEmits } from './types'
import './Button.less'

/**
 * æŒ‰é’®ç»„ä»¶
 * 
 * æä¾›å¤šç§ç±»å‹ã€å°ºå¯¸å’ŒçŠ¶æ€çš„æŒ‰é’®æ ·å¼
 * 
 * @example
 * ```tsx
 * <Button type="primary" size="large" onClick={handleClick}>
 *   ç‚¹å‡»æˆ‘
 * </Button>
 * ```
 */
export default defineComponent({
  name: 'LdButton',
  
  props: {
    /**
     * æŒ‰é’®ç±»å‹
     * @default 'default'
     */
    type: {
      type: String as PropType<ButtonProps['type']>,
      default: 'default',
    },
    
    /**
     * æŒ‰é’®å°ºå¯¸
     * @default 'medium'
     */
    size: {
      type: String as PropType<ButtonProps['size']>,
      default: 'medium',
    },
    
    /**
     * æ˜¯å¦ç¦ç”¨
     * @default false
     */
    disabled: {
      type: Boolean,
      default: false,
    },
    
    /**
     * æ˜¯å¦åŠ è½½ä¸­
     * @default false
     */
    loading: {
      type: Boolean,
      default: false,
    },
  },
  
  emits: {
    /**
     * ç‚¹å‡»äº‹ä»¶
     * @param event - é¼ æ ‡äº‹ä»¶
     */
    click: (event: MouseEvent) => true,
  },
  
  setup(props, { slots, emit }) {
    // è®¡ç®—æŒ‰é’®ç±»å
    const buttonClass = computed(() => {
      return [
        'ld-button',
        `ld-button--${props.type}`,
        `ld-button--${props.size}`,
        {
          'ld-button--disabled': props.disabled,
          'ld-button--loading': props.loading,
        },
      ]
    })
    
    // å¤„ç†ç‚¹å‡»äº‹ä»¶
    const handleClick = (event: MouseEvent) => {
      if (props.disabled || props.loading) {
        event.preventDefault()
        return
      }
      emit('click', event)
    }
    
    return () => (
      <button
        class={buttonClass.value}
        disabled={props.disabled || props.loading}
        onClick={handleClick}
      >
        {props.loading && <span class="ld-button__loading-icon">â³</span>}
        <span class="ld-button__content">{slots.default?.()}</span>
      </button>
    )
  },
})
```

**TSX ç¼–å†™è§„èŒƒ**ï¼š
- âœ… ä½¿ç”¨ `defineComponent` å®šä¹‰ç»„ä»¶
- âœ… ç»„ä»¶åä½¿ç”¨ `Ld` å‰ç¼€ï¼ˆå¦‚ `LdButton`ï¼‰
- âœ… Props ä½¿ç”¨ `PropType` æ˜¾å¼å£°æ˜ç±»å‹
- âœ… æ‰€æœ‰ props éƒ½è¦æœ‰æ³¨é‡Šå’Œé»˜è®¤å€¼
- âœ… Emits ä½¿ç”¨å¯¹è±¡å½¢å¼ï¼ŒåŒ…å«éªŒè¯å‡½æ•°
- âœ… setup è¿”å›æ¸²æŸ“å‡½æ•°
- âœ… ä½¿ç”¨ `computed` è®¡ç®—ç±»å
- âœ… äº‹ä»¶å¤„ç†å™¨ä»¥ `handle` å¼€å¤´

### 3. ç±»å‹å®šä¹‰è§„èŒƒ ğŸ“

```typescript
// components/Button/types.ts

/**
 * æŒ‰é’®ç±»å‹
 */
export type ButtonType = 
  | 'default'
  | 'primary' 
  | 'success'
  | 'warning'
  | 'danger'
  | 'info'
  | 'text'
  | 'link'

/**
 * æŒ‰é’®å°ºå¯¸
 */
export type ButtonSize = 
  | 'small'
  | 'medium'
  | 'large'

/**
 * æŒ‰é’® Props æ¥å£
 */
export interface ButtonProps {
  /** æŒ‰é’®ç±»å‹ */
  type?: ButtonType
  /** æŒ‰é’®å°ºå¯¸ */
  size?: ButtonSize
  /** æ˜¯å¦ç¦ç”¨ */
  disabled?: boolean
  /** æ˜¯å¦åŠ è½½ä¸­ */
  loading?: boolean
  /** æ˜¯å¦ä¸ºå—çº§å…ƒç´  */
  block?: boolean
  /** å›¾æ ‡ */
  icon?: string
  /** å›¾æ ‡ä½ç½® */
  iconPosition?: 'left' | 'right'
}

/**
 * æŒ‰é’®äº‹ä»¶æ¥å£
 */
export interface ButtonEmits {
  /** ç‚¹å‡»äº‹ä»¶ */
  click: (event: MouseEvent) => void
  /** åŒå‡»äº‹ä»¶ */
  dblclick: (event: MouseEvent) => void
}

/**
 * æŒ‰é’®å®ä¾‹æ¥å£
 */
export interface ButtonInstance {
  /** è§¦å‘ç‚¹å‡» */
  click: () => void
  /** è·å–æŒ‰é’®å…ƒç´  */
  getElement: () => HTMLButtonElement | null
}
```

**ç±»å‹å®šä¹‰è§„èŒƒ**ï¼š
- âœ… æ‰€æœ‰ç±»å‹éƒ½è¦æœ‰ JSDoc æ³¨é‡Š
- âœ… ä½¿ç”¨ `type` å®šä¹‰è”åˆç±»å‹
- âœ… ä½¿ç”¨ `interface` å®šä¹‰å¯¹è±¡ç±»å‹
- âœ… Props æ¥å£ä»¥ `Props` ç»“å°¾
- âœ… Emits æ¥å£ä»¥ `Emits` ç»“å°¾
- âœ… Instance æ¥å£ä»¥ `Instance` ç»“å°¾
- âœ… å¯¼å‡ºæ‰€æœ‰å…¬å¼€ç±»å‹

### 4. æ ·å¼è§„èŒƒ (Less) ğŸ¨

**å¿…é¡»ä½¿ç”¨ Lessï¼Œæ”¯æŒå®Œæ•´çš„ CSS Variables**ï¼š

```less
// components/Button/Button.less

// CSS Variables å®šä¹‰ï¼ˆå¿…é¡»åœ¨æœ€å‰é¢ï¼‰
:root {
  // é¢œè‰²å˜é‡
  --ld-button-color-primary: #1890ff;
  --ld-button-color-success: #52c41a;
  --ld-button-color-warning: #faad14;
  --ld-button-color-danger: #ff4d4f;
  --ld-button-color-info: #1890ff;
  --ld-button-color-text: rgba(0, 0, 0, 0.85);
  
  // å°ºå¯¸å˜é‡
  --ld-button-height-small: 24px;
  --ld-button-height-medium: 32px;
  --ld-button-height-large: 40px;
  
  --ld-button-padding-small: 0 8px;
  --ld-button-padding-medium: 0 16px;
  --ld-button-padding-large: 0 20px;
  
  --ld-button-font-size-small: 12px;
  --ld-button-font-size-medium: 14px;
  --ld-button-font-size-large: 16px;
  
  // åœ†è§’å˜é‡
  --ld-button-border-radius: 4px;
  
  // è¿‡æ¸¡å˜é‡
  --ld-button-transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
  
  // é˜´å½±å˜é‡
  --ld-button-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);
  --ld-button-shadow-hover: 0 4px 8px rgba(0, 0, 0, 0.15);
}

// Less å˜é‡ï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰
@prefix: ld-button;

// åŸºç¡€æ ·å¼
.@{prefix} {
  // ä½¿ç”¨ CSS Variables
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: var(--ld-button-height-medium);
  padding: var(--ld-button-padding-medium);
  font-size: var(--ld-button-font-size-medium);
  border-radius: var(--ld-button-border-radius);
  transition: var(--ld-button-transition);
  cursor: pointer;
  user-select: none;
  border: 1px solid transparent;
  
  // åŸºç¡€çŠ¶æ€
  &:hover {
    box-shadow: var(--ld-button-shadow-hover);
  }
  
  &:active {
    transform: translateY(1px);
  }
  
  &:focus-visible {
    outline: 2px solid var(--ld-button-color-primary);
    outline-offset: 2px;
  }
  
  // ç¦ç”¨çŠ¶æ€
  &--disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  // åŠ è½½çŠ¶æ€
  &--loading {
    cursor: wait;
    
    .@{prefix}__loading-icon {
      margin-right: 8px;
      animation: ld-button-loading 1s linear infinite;
    }
  }
  
  // ç±»å‹å˜ä½“ï¼ˆä½¿ç”¨ CSS Variablesï¼‰
  &--primary {
    color: #fff;
    background-color: var(--ld-button-color-primary);
    border-color: var(--ld-button-color-primary);
    
    &:hover {
      background-color: color-mix(in srgb, var(--ld-button-color-primary) 80%, white);
    }
  }
  
  &--success {
    color: #fff;
    background-color: var(--ld-button-color-success);
    border-color: var(--ld-button-color-success);
  }
  
  &--warning {
    color: #fff;
    background-color: var(--ld-button-color-warning);
    border-color: var(--ld-button-color-warning);
  }
  
  &--danger {
    color: #fff;
    background-color: var(--ld-button-color-danger);
    border-color: var(--ld-button-color-danger);
  }
  
  // å°ºå¯¸å˜ä½“ï¼ˆä½¿ç”¨ CSS Variablesï¼‰
  &--small {
    height: var(--ld-button-height-small);
    padding: var(--ld-button-padding-small);
    font-size: var(--ld-button-font-size-small);
  }
  
  &--large {
    height: var(--ld-button-height-large);
    padding: var(--ld-button-padding-large);
    font-size: var(--ld-button-font-size-large);
  }
  
  // å­å…ƒç´ 
  &__content {
    display: inline-flex;
    align-items: center;
  }
}

// åŠ¨ç”»å®šä¹‰
@keyframes ld-button-loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// æš—é»‘æ¨¡å¼æ”¯æŒï¼ˆä½¿ç”¨ CSS Variablesï¼‰
@media (prefers-color-scheme: dark) {
  :root {
    --ld-button-color-primary: #409eff;
    --ld-button-color-text: rgba(255, 255, 255, 0.85);
  }
}
```

**Less æ ·å¼è§„èŒƒ**ï¼š
- âœ… **å¿…é¡»å®šä¹‰å®Œæ•´çš„ CSS Variables** åœ¨ `:root` ä¸­
- âœ… ä½¿ç”¨ BEM å‘½åè§„èŒƒï¼ˆ`ld-button`ã€`ld-button__content`ã€`ld-button--primary`ï¼‰
- âœ… ç»„ä»¶å‰ç¼€ç»Ÿä¸€ä½¿ç”¨ `ld-`
- âœ… ä½¿ç”¨ Less å˜é‡å­˜å‚¨ç»„ä»¶å‰ç¼€ï¼ˆ`@prefix`ï¼‰
- âœ… æ‰€æœ‰é¢œè‰²ã€å°ºå¯¸ã€é—´è·éƒ½ä½¿ç”¨ CSS Variables
- âœ… æ”¯æŒæš—é»‘æ¨¡å¼ï¼ˆé€šè¿‡ CSS Variablesï¼‰
- âœ… ä½¿ç”¨è¯­ä¹‰åŒ–çš„å˜é‡å‘½å
- âœ… æä¾›å®Œæ•´çš„çŠ¶æ€æ ·å¼ï¼ˆhoverã€activeã€focusã€disabledï¼‰
- âœ… ä½¿ç”¨ `transition` æä¾›å¹³æ»‘è¿‡æ¸¡
- âŒ ç¦æ­¢ç¡¬ç¼–ç é¢œè‰²å€¼ï¼ˆå¿…é¡»ä½¿ç”¨ CSS Variablesï¼‰
- âŒ ç¦æ­¢ä½¿ç”¨ `!important`ï¼ˆé™¤éç»å¯¹å¿…è¦ï¼‰

### 5. å¯¼å‡ºè§„èŒƒ (index.ts) ğŸ“¤

```typescript
// components/Button/index.ts

/**
 * Button ç»„ä»¶å¯¼å‡ºæ¨¡å—
 * @module Button
 */

import Button from './Button'
import type { 
  ButtonProps, 
  ButtonEmits, 
  ButtonInstance,
  ButtonType,
  ButtonSize,
} from './types'

// ç»„ä»¶å®‰è£…å‡½æ•°ï¼ˆç”¨äºå…¨å±€æ³¨å†Œï¼‰
import type { App } from 'vue'

Button.install = (app: App): void => {
  app.component(Button.name!, Button)
}

// é»˜è®¤å¯¼å‡º
export default Button

// å‘½åå¯¼å‡º
export {
  Button,
}

// ç±»å‹å¯¼å‡º
export type {
  ButtonProps,
  ButtonEmits,
  ButtonInstance,
  ButtonType,
  ButtonSize,
}

// å¯¼å‡ºç»„ä»¶å®ä¾‹ç±»å‹ï¼ˆç”¨äº refï¼‰
export type ButtonRef = InstanceType<typeof Button>
```

**å¯¼å‡ºè§„èŒƒ**ï¼š
- âœ… å¿…é¡»æœ‰æ¨¡å—æ³¨é‡Š
- âœ… é»˜è®¤å¯¼å‡ºç»„ä»¶æœ¬èº«
- âœ… å‘½åå¯¼å‡ºç»„ä»¶ï¼ˆç”¨äºæŒ‰éœ€å¼•å…¥ï¼‰
- âœ… å¯¼å‡ºæ‰€æœ‰ç±»å‹å®šä¹‰
- âœ… æä¾› `install` æ–¹æ³•ï¼ˆæ”¯æŒå…¨å±€æ³¨å†Œï¼‰
- âœ… å¯¼å‡ºç»„ä»¶å®ä¾‹ç±»å‹ï¼ˆ`xxxRef`ï¼‰
- âœ… ä½¿ç”¨ `type` å…³é”®å­—å¯¼å‡ºç±»å‹

### 6. ç»„ä»¶åº“æ ¹å¯¼å‡º ğŸ“š

```typescript
// libraries/your-lib/src/index.ts

/**
 * LDesign Component Library
 * @packageDocumentation
 */

// å¯¼å‡ºæ‰€æœ‰ç»„ä»¶
export { default as Button } from './components/Button'
export { default as Input } from './components/Input'
export { default as Select } from './components/Select'

// å¯¼å‡ºæ‰€æœ‰ç±»å‹
export type * from './components/Button'
export type * from './components/Input'
export type * from './components/Select'

// å¯¼å‡ºå·¥å…·å‡½æ•°
export * from './utils'

// å¯¼å‡ºå¸¸é‡
export * from './constants'

// å…¨å±€å®‰è£…å‡½æ•°
import type { App } from 'vue'
import Button from './components/Button'
import Input from './components/Input'
import Select from './components/Select'

const components = [Button, Input, Select]

/**
 * å®‰è£…æ‰€æœ‰ç»„ä»¶
 * @param app - Vue åº”ç”¨å®ä¾‹
 */
export function install(app: App): void {
  components.forEach((component) => {
    if (component.install) {
      component.install(app)
    }
  })
}

// é»˜è®¤å¯¼å‡º
export default {
  install,
}

// ç‰ˆæœ¬ä¿¡æ¯
export const version = '__VERSION__'
```

## ç»„ä»¶å¼€å‘å®Œæ•´ç¤ºä¾‹

### ç¤ºä¾‹ï¼šDatePicker ç»„ä»¶

```
libraries/datepicker/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ DatePicker/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts              # å¯¼å‡ºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ DatePicker.tsx        # ä¸»ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ DatePicker.less       # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts              # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.ts          # å¸¸é‡
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚   â”‚       â””â”€â”€ DatePicker.test.ts
â”‚   â”‚   â””â”€â”€ DateRangePicker/
â”‚   â”‚       â””â”€â”€ ...ï¼ˆåŒä¸Šç»“æ„ï¼‰
â”‚   â”œâ”€â”€ utils/                        # å…¬å…±å·¥å…·
â”‚   â”œâ”€â”€ constants/                    # å…¬å…±å¸¸é‡
â”‚   â”œâ”€â”€ styles/                       # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ variables.less            # CSS Variables å®šä¹‰
â”‚   â”‚   â””â”€â”€ mixins.less               # Less Mixins
â”‚   â””â”€â”€ index.ts                      # åº“å…¥å£
â”œâ”€â”€ builder.config.ts                 # æ„å»ºé…ç½®ï¼ˆä½¿ç”¨ @ldesign/builderï¼‰
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## é¢å¤–çº¦æŸå’Œæœ€ä½³å®è·µ

### 1. å‘½åè§„èŒƒ ğŸ·ï¸

```typescript
// âœ… ç»„ä»¶å‘½åï¼šPascalCase
export default defineComponent({ name: 'LdButton' })

// âœ… æ–‡ä»¶å‘½åï¼šä¸ç»„ä»¶åä¸€è‡´
Button.tsx
DatePicker.tsx

// âœ… æ ·å¼æ–‡ä»¶ï¼šä¸ç»„ä»¶åä¸€è‡´
Button.less
DatePicker.less

// âœ… ç±»å‹å‘½åï¼šç»„ä»¶å + Props/Emits/Instance
interface ButtonProps {}
interface ButtonEmits {}
interface ButtonInstance {}

// âœ… äº‹ä»¶å¤„ç†å™¨ï¼šhandle + åŠ¨ä½œ
const handleClick = () => {}
const handleChange = () => {}

// âœ… è®¡ç®—å±æ€§ï¼šæè¿°æ€§åç§°
const isDisabled = computed(() => {})
const buttonClass = computed(() => {})

// âŒ ç¦æ­¢ï¼šç¼©å†™ã€ä¸æ˜ç¡®çš„å‘½å
const btn = {}  // é”™è¯¯
const hdlClk = () => {}  // é”™è¯¯
```

### 2. Props å®šä¹‰è§„èŒƒ âš™ï¸

```typescript
// âœ… å®Œæ•´çš„ Props å®šä¹‰
props: {
  // 1. å¿…é¡»æœ‰ç±»å‹å£°æ˜
  // 2. å¿…é¡»æœ‰æ³¨é‡Š
  // 3. å¿…é¡»æœ‰é»˜è®¤å€¼ï¼ˆé™¤éæ˜¯å¿…å¡«ï¼‰
  // 4. å¤æ‚ç±»å‹ä½¿ç”¨ PropType
  
  /**
   * æŒ‰é’®ç±»å‹
   * @default 'default'
   */
  type: {
    type: String as PropType<ButtonType>,
    default: 'default',
    validator: (value: string) => {
      return ['default', 'primary', 'success'].includes(value)
    },
  },
  
  /**
   * è‡ªå®šä¹‰ç±»å
   */
  customClass: {
    type: [String, Array, Object] as PropType<string | string[] | Record<string, boolean>>,
    default: '',
  },
  
  /**
   * ç‚¹å‡»å¤„ç†å™¨ï¼ˆä¸æ¨èé€šè¿‡ props ä¼ é€’ï¼Œåº”ä½¿ç”¨ emitsï¼‰
   */
  onClick: {
    type: Function as PropType<(event: MouseEvent) => void>,
    default: undefined,
  },
}
```

### 3. æ ·å¼éš”ç¦»å’Œä¸»é¢˜ ğŸ¨

```less
// styles/variables.less - å…¨å±€ CSS Variables

:root {
  // ä¸»é¢˜è‰²
  --ld-color-primary: #1890ff;
  --ld-color-success: #52c41a;
  --ld-color-warning: #faad14;
  --ld-color-danger: #ff4d4f;
  --ld-color-info: #1890ff;
  
  // ä¸­æ€§è‰²
  --ld-color-text-primary: rgba(0, 0, 0, 0.85);
  --ld-color-text-secondary: rgba(0, 0, 0, 0.65);
  --ld-color-text-disabled: rgba(0, 0, 0, 0.25);
  
  --ld-color-border: #d9d9d9;
  --ld-color-divider: #f0f0f0;
  --ld-color-background: #ffffff;
  
  // å°ºå¯¸
  --ld-size-small: 24px;
  --ld-size-medium: 32px;
  --ld-size-large: 40px;
  
  // é—´è·
  --ld-spacing-xs: 4px;
  --ld-spacing-sm: 8px;
  --ld-spacing-md: 16px;
  --ld-spacing-lg: 24px;
  --ld-spacing-xl: 32px;
  
  // å­—ä½“
  --ld-font-size-sm: 12px;
  --ld-font-size-base: 14px;
  --ld-font-size-lg: 16px;
  --ld-font-size-xl: 20px;
  
  // åœ†è§’
  --ld-border-radius-sm: 2px;
  --ld-border-radius-base: 4px;
  --ld-border-radius-lg: 8px;
  
  // é˜´å½±
  --ld-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);
  --ld-shadow-base: 0 2px 8px rgba(0, 0, 0, 0.12);
  --ld-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.16);
  
  // è¿‡æ¸¡
  --ld-transition-fast: 0.1s;
  --ld-transition-base: 0.3s;
  --ld-transition-slow: 0.5s;
  
  // å±‚çº§
  --ld-z-index-dropdown: 1000;
  --ld-z-index-modal: 1050;
  --ld-z-index-popover: 1060;
  --ld-z-index-tooltip: 1070;
}

// æš—é»‘æ¨¡å¼
[data-theme="dark"] {
  --ld-color-text-primary: rgba(255, 255, 255, 0.85);
  --ld-color-text-secondary: rgba(255, 255, 255, 0.65);
  --ld-color-background: #1f1f1f;
  --ld-color-border: #434343;
}
```

### 4. æ€§èƒ½ä¼˜åŒ–çº¦æŸ âš¡

```typescript
// âœ… ä½¿ç”¨ shallowRef å¤„ç†å¤§å‹å¯¹è±¡
const largeData = shallowRef<LargeData>({})

// âœ… ä½¿ç”¨ computed ç¼“å­˜è®¡ç®—ç»“æœ
const filteredList = computed(() => 
  props.list.filter(item => item.visible)
)

// âœ… ä½¿ç”¨ watch æ—¶æŒ‡å®šä¾èµ–
watch(() => props.value, (newVal) => {
  // ä»…åœ¨ props.value å˜åŒ–æ—¶è§¦å‘
})

// âœ… ä½¿ç”¨ v-once ä¼˜åŒ–é™æ€å†…å®¹
return () => (
  <div v-once>{staticContent}</div>
)

// âœ… å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
import { VirtualList } from '@ldesign/shared'

// âŒ ç¦æ­¢åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤æ‚è®¡ç®—
// <div>{props.list.filter(...).map(...)}</div>

// âœ… åº”è¯¥ä½¿ç”¨ computed
const processedList = computed(() => 
  props.list.filter(...).map(...)
)
```

### 5. æ— éšœç¢è®¿é—® (A11y) â™¿

```tsx
// âœ… å¿…é¡»æä¾›å®Œæ•´çš„æ— éšœç¢å±æ€§
return () => (
  <button
    role="button"
    aria-label={props.ariaLabel || 'Button'}
    aria-disabled={props.disabled}
    aria-busy={props.loading}
    tabindex={props.disabled ? -1 : 0}
    onClick={handleClick}
    onKeydown={handleKeydown}
  >
    {slots.default?.()}
  </button>
)

// âœ… æ”¯æŒé”®ç›˜å¯¼èˆª
const handleKeydown = (event: KeyboardEvent) => {
  if (event.key === 'Enter' || event.key === ' ') {
    event.preventDefault()
    handleClick(event as unknown as MouseEvent)
  }
}
```

### 6. æµ‹è¯•è§„èŒƒ ğŸ§ª

```typescript
// components/Button/__tests__/Button.test.ts
import { mount } from '@vue/test-utils'
import { describe, it, expect, vi } from 'vitest'
import Button from '../Button'

describe('Button', () => {
  it('renders correctly', () => {
    const wrapper = mount(Button, {
      slots: {
        default: 'Click me',
      },
    })
    expect(wrapper.text()).toBe('Click me')
  })
  
  it('emits click event', async () => {
    const onClick = vi.fn()
    const wrapper = mount(Button, {
      props: {
        onClick,
      },
    })
    
    await wrapper.trigger('click')
    expect(onClick).toHaveBeenCalledTimes(1)
  })
  
  it('disables click when disabled', async () => {
    const onClick = vi.fn()
    const wrapper = mount(Button, {
      props: {
        disabled: true,
        onClick,
      },
    })
    
    await wrapper.trigger('click')
    expect(onClick).not.toHaveBeenCalled()
  })
})
```

## æ£€æŸ¥æ¸…å• âœ“

### æ„å»ºå·¥å…·
- [ ] åº“é¡¹ç›®ä½¿ç”¨ `@ldesign/builder`
- [ ] åº”ç”¨é¡¹ç›®ä½¿ç”¨ `@ldesign/launcher`
- [ ] æ„å»ºé…ç½®æ–‡ä»¶æ­£ç¡®é…ç½®

### ç»„ä»¶ç»“æ„
- [ ] ä½¿ç”¨ç›®å½•åŒ…è£¹ç»„ä»¶
- [ ] æœ‰ `index.ts` å¯¼å‡ºæ–‡ä»¶
- [ ] ç»„ä»¶ä½¿ç”¨ TSX ç¼–å†™
- [ ] æ ·å¼ä½¿ç”¨ Less ç¼–å†™
- [ ] ç±»å‹å®šä¹‰åœ¨ `types.ts`

### æ ·å¼è§„èŒƒ
- [ ] å®šä¹‰äº†å®Œæ•´çš„ CSS Variables
- [ ] ä½¿ç”¨ BEM å‘½åè§„èŒƒ
- [ ] æ”¯æŒæš—é»‘æ¨¡å¼
- [ ] æ— ç¡¬ç¼–ç é¢œè‰²å€¼

### ç±»å‹å®šä¹‰
- [ ] æ‰€æœ‰ç±»å‹éƒ½æœ‰æ³¨é‡Š
- [ ] Props/Emits/Instance ç±»å‹å®Œæ•´
- [ ] å¯¼å‡ºæ‰€æœ‰å…¬å¼€ç±»å‹

### ä»£ç è´¨é‡
- [ ] é€šè¿‡ TypeScript æ£€æŸ¥
- [ ] é€šè¿‡ ESLint æ£€æŸ¥
- [ ] æœ‰å®Œæ•´çš„æ³¨é‡Š
- [ ] æœ‰å•å…ƒæµ‹è¯•

---

> éµå¾ªè¿™äº›è§„èŒƒï¼Œç¡®ä¿ç»„ä»¶åº“çš„ä¸€è‡´æ€§ã€å¯ç»´æŠ¤æ€§å’Œé«˜è´¨é‡ï¼
