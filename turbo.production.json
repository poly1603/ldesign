{
  "$schema": "https://turbo.build/schema.v2.json",
  "extends": ["//turbo.json"],
  "tasks": {
    "build": {
      "env": [
        "NODE_ENV",
        "BUILD_ENV",
        "CDN_URL",
        "API_BASE_URL",
        "ENABLE_SOURCE_MAP",
        "ENABLE_MINIFICATION"
      ],
      "outputs": [
        "dist/**",
        "lib/**",
        "es/**",
        "esm/**",
        "cjs/**",
        "types/**",
        "!**/*.map",
        "!**/*.d.ts.map"
      ]
    },
    "build:analyze": {
      "dependsOn": ["build"],
      "inputs": [
        "dist/**",
        "lib/**",
        "es/**",
        "package.json"
      ],
      "outputs": [
        "stats/**",
        "analyze/**",
        "bundle-analyzer/**"
      ],
      "cache": true
    },
    "build:prod": {
      "dependsOn": ["^build"],
      "env": [
        "NODE_ENV",
        "BUILD_ENV",
        "ENABLE_MINIFICATION",
        "ENABLE_SOURCE_MAP"
      ],
      "outputs": [
        "dist/**",
        "lib/**",
        "es/**",
        "esm/**",
        "cjs/**",
        "types/**"
      ],
      "cache": true
    },
    "test:ci": {
      "dependsOn": ["build"],
      "env": [
        "NODE_ENV",
        "CI"
      ],
      "outputs": [
        "coverage/**",
        "test-results/**"
      ],
      "cache": true
    },
    "deploy": {
      "dependsOn": ["build", "test:run", "lint"],
      "env": [
        "NODE_ENV",
        "DEPLOY_ENV",
        "NPM_TOKEN",
        "REGISTRY_URL",
        "CI"
      ],
      "cache": false
    },
    "release": {
      "dependsOn": ["build", "test:run", "lint"],
      "env": [
        "NODE_ENV",
        "NPM_TOKEN",
        "REGISTRY_URL",
        "CI"
      ],
      "cache": false
    }
  },
  "globalEnv": [
    "NODE_ENV=production",
    "BUILD_ENV=production",
    "ENABLE_SOURCE_MAP=false",
    "ENABLE_MINIFICATION=true",
    "HMR_ENABLED=false",
    "CI=true"
  ]
}
