# CLI å¼€å‘æ¨¡å¼ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

è¿™ä¸ªå¼€å‘æ¨¡å¼å…è®¸ä½ åœ¨ `app` ç›®å½•ä¸­ç›´æ¥ä½¿ç”¨ `packages/cli` çš„æºç è¿›è¡Œè°ƒè¯•ï¼Œæ— éœ€æ¯æ¬¡ä¿®æ”¹åé‡æ–°æ‰“åŒ… CLIã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨ Web UIï¼ˆå¼€å‘æ¨¡å¼ï¼‰

```bash
# ä½¿ç”¨ CLI æºç å¯åŠ¨ Web UI
pnpm ui:dev
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

```bash
# å¼€å‘ç¯å¢ƒ
pnpm dev:cli

# ç”Ÿäº§ç¯å¢ƒ
pnpm dev:prod:cli

# æµ‹è¯•ç¯å¢ƒ
pnpm dev:test:cli

# é¢„å‘å¸ƒç¯å¢ƒ
pnpm dev:staging:cli
```

### 3. æ„å»ºé¡¹ç›®ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

```bash
# ç”Ÿäº§æ„å»º
pnpm build:cli

# å¼€å‘æ„å»º
pnpm build:dev:cli

# æµ‹è¯•æ„å»º
pnpm build:test:cli

# é¢„å‘å¸ƒæ„å»º
pnpm build:staging:cli
```

### 4. é¢„è§ˆæ„å»ºç»“æœï¼ˆå¼€å‘æ¨¡å¼ï¼‰

```bash
# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm preview:cli

# é¢„è§ˆå¼€å‘æ„å»º
pnpm preview:dev:cli

# é¢„è§ˆæµ‹è¯•æ„å»º
pnpm preview:test:cli

# é¢„è§ˆé¢„å‘å¸ƒæ„å»º
pnpm preview:staging:cli
```

## ğŸ”§ å·¥ä½œåŸç†

### å¼€å‘è„šæœ¬

- **è„šæœ¬ä½ç½®**: `app/scripts/ldesign-dev.js`
- **å·¥ä½œåŸç†**: ä½¿ç”¨ `jiti` ç›´æ¥åŠ è½½ CLI çš„ TypeScript æºç 
- **æºç è·¯å¾„**: `packages/cli/src/index.ts`

### å®æ—¶è°ƒè¯•

1. **ä¿®æ”¹ CLI æºç **: ç›´æ¥ç¼–è¾‘ `packages/cli/src/` ä¸‹çš„ä»»ä½•æ–‡ä»¶
2. **é‡å¯å‘½ä»¤**: åœæ­¢å½“å‰è¿è¡Œçš„å‘½ä»¤å¹¶é‡æ–°å¯åŠ¨
3. **ç«‹å³ç”Ÿæ•ˆ**: ä¿®æ”¹ä¼šç«‹å³åæ˜ åœ¨æ–°å¯åŠ¨çš„è¿›ç¨‹ä¸­

### ç¤ºä¾‹å·¥ä½œæµ

```bash
# 1. å¯åŠ¨ Web UI å¼€å‘æ¨¡å¼
pnpm ui:dev

# 2. åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¿®æ”¹ CLI æºç 
# ç¼–è¾‘ packages/cli/src/commands/ui.ts

# 3. åœæ­¢å¹¶é‡å¯ Web UI
# Ctrl+C åœæ­¢
pnpm ui:dev  # é‡æ–°å¯åŠ¨ï¼Œä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
```

## ğŸ“ ç›®å½•ç»“æ„

```
app/
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ ldesign-dev.js          # å¼€å‘æ¨¡å¼å¯åŠ¨è„šæœ¬
â”œâ”€â”€ package.json                # åŒ…å«æ‰€æœ‰ :cli å¼€å‘è„šæœ¬
â””â”€â”€ CLI-DEV-MODE.md            # æœ¬æ–‡æ¡£

packages/cli/
â”œâ”€â”€ src/                       # CLI æºç ï¼ˆç›´æ¥è°ƒè¯•è¿™é‡Œï¼‰
â”‚   â”œâ”€â”€ commands/              # å‘½ä»¤å®ç°
â”‚   â”œâ”€â”€ web/                   # Web UI åç«¯
â”‚   â””â”€â”€ index.ts              # ä¸»å…¥å£
â””â”€â”€ dist/                      # æ‰“åŒ…åçš„æ–‡ä»¶ï¼ˆå¼€å‘æ¨¡å¼ä¸ä½¿ç”¨ï¼‰
```

## ğŸ¨ å¼€å‘æŠ€å·§

### 1. å¿«é€Ÿæµ‹è¯•ä¿®æ”¹

```bash
# æµ‹è¯• CLI å¸®åŠ©ä¿¡æ¯
node scripts/ldesign-dev.js --help

# æµ‹è¯•ç‰¹å®šå‘½ä»¤
node scripts/ldesign-dev.js ui --help
node scripts/ldesign-dev.js dev --help
```

### 2. è°ƒè¯•æ—¥å¿—

åœ¨ CLI æºç ä¸­æ·»åŠ è°ƒè¯•æ—¥å¿—ï¼š

```typescript
// packages/cli/src/commands/ui.ts
context.logger.info('ğŸ”§ [è°ƒè¯•] è¿™æ˜¯ä¸€ä¸ªè°ƒè¯•ä¿¡æ¯');
```

### 3. é”™è¯¯æ’æŸ¥

å¦‚æœé‡åˆ°é”™è¯¯ï¼š

1. æ£€æŸ¥ TypeScript è¯­æ³•é”™è¯¯
2. ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½å·²å®‰è£…
3. æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

## ğŸ†š å¯¹æ¯”æ¨¡å¼

| åŠŸèƒ½ | æ™®é€šæ¨¡å¼ | å¼€å‘æ¨¡å¼ |
|------|----------|----------|
| å¯åŠ¨ Web UI | `pnpm ui` | `pnpm ui:dev` |
| å¯åŠ¨å¼€å‘æœåŠ¡å™¨ | `pnpm dev` | `pnpm dev:cli` |
| ä¿®æ”¹ CLI å | éœ€è¦é‡æ–°æ‰“åŒ… | ç›´æ¥é‡å¯å³å¯ |
| è°ƒè¯•ä½“éªŒ | è¾ƒæ…¢ | å¿«é€Ÿ |
| é€‚ç”¨åœºæ™¯ | ç”Ÿäº§ä½¿ç”¨ | å¼€å‘è°ƒè¯• |

## ğŸ¯ æ³¨æ„äº‹é¡¹

1. **å¼€å‘æ¨¡å¼ä»…ç”¨äºè°ƒè¯•**: ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨æ™®é€šæ¨¡å¼
2. **é‡å¯ç”Ÿæ•ˆ**: ä¿®æ”¹ CLI æºç åéœ€è¦é‡å¯å‘½ä»¤æ‰èƒ½ç”Ÿæ•ˆ
3. **ä¾èµ–ç®¡ç†**: ç¡®ä¿ `jiti` ä¾èµ–å·²æ­£ç¡®å®‰è£…
4. **TypeScript æ”¯æŒ**: å¼€å‘è„šæœ¬è‡ªåŠ¨æ”¯æŒ TypeScript æºç 

## ğŸš€ å¼€å§‹è°ƒè¯•

ç°åœ¨ä½ å¯ä»¥ï¼š

1. è¿è¡Œ `pnpm ui:dev` å¯åŠ¨ Web UI
2. ä¿®æ”¹ `packages/cli/src/` ä¸‹çš„ä»»ä½•æ–‡ä»¶
3. é‡å¯å‘½ä»¤æŸ¥çœ‹æ•ˆæœ
4. äº«å—å¿«é€Ÿçš„å¼€å‘è°ƒè¯•ä½“éªŒï¼

Happy Coding! ğŸ‰
