首先看看这个项目的基础架构有没有可以优化和规范化的，然后看看src中的源码有没有什么隐藏的问题，以及对src中的源码进行优化和完善，提升代码可读性，优化目录结构，提升代码质量，提升代码运行性能，而且代码中尽可能编写完善的注释，避免过大的文件，要编写完整的ts类型，避免使用any，编写覆盖率100%的测试用例，确保所有测试都通过，确保没有eslint格式错误，还要编写语言生动活泼且幽默的vitepress文档，还要编写vite+vue的示例项目，详细展示当前包的所有功能，最后确保包，示例和文档都能正常打包，没有任何提示和报错信息。


首先分析当前项目的功能，看功能是否完善，帮我完善功能，看src目录结构是否合理直观规范，在不改变功能的基础上进行调整，完善ts类型和测试用例，最终确保没有ts类型错误，eslint格式错误，测试都通过，项目打包不报错，文档是最新版，语言生动，打包不报错。示例项目功能完善，打包不报错。

https://docs.qq.com/sheet/DYVh6UnJ0emZUSUFG?tab=BB08J2


egnine,template,device
帮我完善和规范这个包中的代码，编写完整的ts类型定义，代码要规范化，易于阅读，代码结构要简洁直观，所有的代码都要非常易于阅读，最后再检查一遍当前项目的代码还有没有什么bug或者问题，又或者是什么性能问题，帮我优化好，还有测试用例也要编写完整，包含单元测试，e2e测试，vue组件测试等等，编写完整的自动化测试，测试每一个功能是否正常。vitepress使用文档也要重新检查是否是最新的，文档要涵盖各个功能的详细使用和配置，要直观，简单移动，语言生动，最后还要检查项目打包，不能有任何控制台提示和报错信息。所有的代码文件都要编写详细的中文注释，最好有逐行注释，让我一看就能明白代码的用处和作用，方便我后续阅读代码。最后要在项目根目录生成一个思维导图，详细介绍你的编码思想和实现要点以及重要知识点。请务必确保目录结构和文件结构，文件命名都规范化，简洁化。


请完善位于 `d:\WorkBench\ldesign/packages\color/` 目录下的主题色管理包，使其成为一个跨框架通用的主题色管理解决方案。具体要求如下：

## 核心功能实现
1. **主题色色阶生成**：实现算法生成从主色调衍生的完整色阶（如50-950的色阶体系）
2. **CSS变量生成**：自动生成对应的CSS自定义属性（CSS Variables）
3. **样式注入**：实现动态创建和插入`<style>`标签到页面头部的功能
4. **预设主题**：内置多套常用的主题色方案

## Vue框架集成
1. **主题切换组件**：提供开箱即用的主题色选择器组件
2. **暗黑模式组件**：提供明暗主题切换组件
3. **Vue插件**：实现`createColorEnginePlugin`插件，参考以下包的插件实现模式：
   - `d:\WorkBench\ldesign/packages\template/`
   - `d:\WorkBench\ldesign/packages\router/`
4. **Vue Hooks**：提供相关的组合式API钩子函数

## 技术规范
- 使用TypeScript最新版本，采用ESM语法
- 确保跨框架兼容性（不仅限于Vue）
- 编写完整的Vitest测试用例，确保无报错
- 提供完整的类型定义，避免使用any类型
- 遵循高内聚低耦合的设计原则

## 文档要求
- 为每个模块/目录创建详细的README.md文件
- 编写完整的VitePress使用文档，详细描述每个功能和配置选项

## 应用集成
完成包开发后，将其集成到 `d:\WorkBench\ldesign/app/` 应用中：
- 通过`createColorEnginePlugin`创建插件实例
- 将插件添加到`bootstrap.ts`文件中进行初始化

## 测试验证
- 启动开发服务器并通过MCP工具打开应用
- 测试所有页面和功能，确保显示正常且控制台无报错
- 验证主题切换、暗黑模式等功能的完整性

请按照上述要求逐步完善这个主题色管理包。

sebastian05510@outlook.com----Dh948407416
mackay36350@outlook.com----Aj383186139
finnegan549@outlook.com----Ah4710441197
orr590@outlook.com----Tu008622148
evan60330@outlook.com----As3863435722


请在这里面写一个build.ts文件，然后在中添加一个build命令，使用tsx来执行build.ts，它会自动检查当前项目中的所有子包，找到后将所有子包存储到 scripts中的.cache目录中，下一次就不再执行查找命令，一开始就询问是否对所有子包进行升级，如果选是就让用户选择升级版本规则，如果选择否，就不做任何事接下来你就需要在给每个子包打包之前先升级当前包的版本，然后查找当前包被哪些子包依赖（这个也要存在.cache中），将这些子包中的依赖版本进行更新，然后就是执行这个包的 build命令，如果成功就标记成功，否者就在.cache中生成这个包打包失败的详细信息，直到所有包打包完成，然后继续询问是否发布到npm，如果选择是就逐个包执行publish命令，如果成功就标记成功，如果失败也要把发布失败的日志存储在.cach中，如果没有publish命令就跳过发布，直到所有都结束你还要在控制台显示打包成功的包，失败的包，发布成功的包，失败的包，当然，如果包打包都失败，你就要标记，发布的时候就直接跳过，并且将版本号以及依赖该包的版本号也恢复到原来。

请帮我优化和完善，提升性能，让使用更丰富，功能更强大，清理所有无用代码以及冗余代码，清理没啥用的功能，保证项目代码简洁但高效完善，直接开始优化，不要询问我。


优化，完善，添加实用的新功能，要求性能优越，内存占用最低，代码结构最好，文件结构最好，没有冗余代码，没有重复功能，没有重复功能文件，ts类型完整不报错，打包不报错。