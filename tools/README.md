# LDesign Tools

> é›†æˆåŒ–çš„å‰ç«¯å¼€å‘å·¥å…·é›†

## ğŸ‰ é‡æ„å®Œæˆ!

LDesign Tools å·²ç»æˆåŠŸé‡æ„ä¸ºæ¨¡å—åŒ–æ¶æ„,æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡!

## ğŸ“¦ åŒ…ç»“æ„

```
tools/
â”œâ”€â”€ cli/              âœ… @ldesign/cli - ç»Ÿä¸€CLIå…¥å£ (å·²å®Œæˆ)
â”œâ”€â”€ shared/           âœ… @ldesign/shared - å…±äº«ä»£ç åº“ (å·²å®Œæˆ)
â”œâ”€â”€ server/           ğŸ“¦ @ldesign/server - åç«¯APIæœåŠ¡ (æ¡†æ¶å°±ç»ª)
â”œâ”€â”€ web/              ğŸ“¦ @ldesign/web - å‰ç«¯ç®¡ç†ç•Œé¢ (æ¡†æ¶å°±ç»ª)
â”‚
â””â”€â”€ å·¥å…·åŒ…é›†åˆ (20+):
    â”œâ”€â”€ builder/           æ„å»ºå·¥å…·
    â”œâ”€â”€ launcher/          å¯åŠ¨å™¨
    â”œâ”€â”€ deployer/          éƒ¨ç½²å·¥å…·
    â”œâ”€â”€ generator/         ä»£ç ç”Ÿæˆå™¨
    â”œâ”€â”€ testing/           æµ‹è¯•å·¥å…·
    â”œâ”€â”€ git/               Gitæ“ä½œ
    â”œâ”€â”€ security/          å®‰å…¨æ‰«æ
    â”œâ”€â”€ monitor/           æ€§èƒ½ç›‘æ§
    â”œâ”€â”€ deps/              ä¾èµ–ç®¡ç†
    â”œâ”€â”€ docs-generator/    æ–‡æ¡£ç”Ÿæˆ
    â”œâ”€â”€ formatter/         ä»£ç æ ¼å¼åŒ–
    â”œâ”€â”€ changelog/         å˜æ›´æ—¥å¿—
    â”œâ”€â”€ publisher/         å‘å¸ƒå·¥å…·
    â”œâ”€â”€ performance/       æ€§èƒ½åˆ†æ
    â”œâ”€â”€ translator/        å›½é™…åŒ–ç¿»è¯‘
    â”œâ”€â”€ mock/              Mockæ•°æ®
    â”œâ”€â”€ env/               ç¯å¢ƒé…ç½®
    â””â”€â”€ kit/               å·¥å…·é›†
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨Webç®¡ç†ç•Œé¢ï¼ˆæ¨èï¼‰

#### 1. å¯åŠ¨åç«¯æœåŠ¡å™¨
```bash
cd server
pnpm install
pnpm build
pnpm start
```
åç«¯å°†åœ¨ `http://127.0.0.1:3000` å¯åŠ¨

#### 2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
```bash
cd web
pnpm install
pnpm dev
```
å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨

#### 3. åˆå§‹åŒ–ç¤ºä¾‹æ•°æ®ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
```bash
cd server
pnpm seed
```
è¿™å°†å‘æ•°æ®åº“æ·»åŠ 4ä¸ªç¤ºä¾‹é¡¹ç›®

#### 4. è®¿é—®Webç•Œé¢
æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173

### æ–¹å¼äºŒï¼šä½¿ç”¨CLIå‘½ä»¤è¡Œ

#### 1. æµ‹è¯•CLI
```bash
cd tools/cli
node bin/cli.js --help
```

#### 2. æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
```bash
node bin/cli.js

# å¯ç”¨å‘½ä»¤:
# - build      æ„å»ºé¡¹ç›®
# - dev        å¯åŠ¨å¼€å‘æœåŠ¡å™¨
# - test       è¿è¡Œæµ‹è¯•
# - deploy     éƒ¨ç½²é¡¹ç›®
# - generate   ç”Ÿæˆä»£ç 
```

#### 3. å…¨å±€å®‰è£… (æ¨è)
```bash
cd tools/cli
npm link

# ç°åœ¨å¯ä»¥å…¨å±€ä½¿ç”¨
ldesign --help
ldesign build --mode dev
ldesign gen component Button
```

## âœ… å·²å®ŒæˆåŠŸèƒ½

### @ldesign/cli (ç»Ÿä¸€CLIå…¥å£)
- âœ… å‘½ä»¤æ¡†æ¶å®Œæˆ
- âœ… 5ä¸ªä¸»è¦å‘½ä»¤å®ç°
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… æ„å»ºæˆåŠŸ

### @ldesign/shared (å…±äº«åº“)
- âœ… Loggerå·¥å…·
- âœ… å¸¸é‡å®šä¹‰
- âœ… ç±»å‹ç³»ç»Ÿ
- âœ… æ„å»ºæˆåŠŸ

### å‘½ä»¤åˆ—è¡¨
| å‘½ä»¤ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `ldesign build` | âœ… | æ„å»ºé¡¹ç›® (æ¡†æ¶å®Œæˆ) |
| `ldesign dev` | âœ… | å¼€å‘æœåŠ¡å™¨ (æ¡†æ¶å®Œæˆ) |
| `ldesign test` | âœ… | è¿è¡Œæµ‹è¯• (æ¡†æ¶å®Œæˆ) |
| `ldesign deploy` | âœ… | éƒ¨ç½²é¡¹ç›® (æ¡†æ¶å®Œæˆ) |
| `ldesign gen` | âœ… | ä»£ç ç”Ÿæˆ (æ¡†æ¶å®Œæˆ) |

## ğŸ“š æ–‡æ¡£

- **REFACTORING_COMPLETE.md** - å®Œæ•´é‡æ„æŠ¥å‘Š â­
- **REFACTORING.md** - è¯¦ç»†é‡æ„è¯´æ˜
- **REFACTORING_SUMMARY.md** - é‡æ„æ€»ç»“
- **NEXT_STEPS.md** - åç»­æ­¥éª¤æŒ‡å—
- **reinstall-deps.ps1** - ä¾èµ–å®‰è£…è„šæœ¬

## ğŸ¯ æ¶æ„è®¾è®¡

### ä¾èµ–å…³ç³»
```
@ldesign/cli (CLIå…¥å£)
  â”œâ”€â†’ @ldesign/shared (å…±äº«åº“)
  â”œâ”€â†’ @ldesign/server (åç«¯æœåŠ¡)
  â”œâ”€â†’ @ldesign/web (å‰ç«¯ç•Œé¢)
  â””â”€â†’ æ‰€æœ‰toolsåŒ… (builder, launcher, etc.)

@ldesign/server (åç«¯API)
  â”œâ”€â†’ @ldesign/shared
  â””â”€â†’ æ‰€æœ‰toolsåŒ…

@ldesign/web (å‰ç«¯UI)
  â””â”€â†’ é€šè¿‡HTTPä¸serveré€šä¿¡

@ldesign/shared (åŸºç¡€åº“)
  â””â”€â†’ æ— ä¾èµ–
```

### è®¾è®¡ç†å¿µ
1. **æ¨¡å—åŒ–** - æ¯ä¸ªåŒ…èŒè´£å•ä¸€,ç‹¬ç«‹å¯ç”¨
2. **ç»Ÿä¸€å…¥å£** - CLIä½œä¸ºå”¯ä¸€çš„ç”¨æˆ·æ¥å£
3. **æ˜“äºæ‰©å±•** - æ’ä»¶åŒ–æ¶æ„,ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½
4. **å¼€å‘å‹å¥½** - å‰åç«¯åˆ†ç¦»,ç‹¬ç«‹å¼€å‘

## ğŸ§ª æµ‹è¯•éªŒè¯

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²é€šè¿‡æµ‹è¯•:

```bash
âœ… CLIå¸®åŠ©ä¿¡æ¯æ˜¾ç¤ºæ­£å¸¸
âœ… ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤ºæ­£å¸¸
âœ… buildå‘½ä»¤è¿è¡Œæ­£å¸¸
âœ… devå‘½ä»¤è¿è¡Œæ­£å¸¸
âœ… testå‘½ä»¤è¿è¡Œæ­£å¸¸
âœ… deployå‘½ä»¤è¿è¡Œæ­£å¸¸
âœ… generateå‘½ä»¤è¿è¡Œæ­£å¸¸
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å‘½ä»¤

1. åœ¨ `cli/src/commands/` åˆ›å»ºæ–°å‘½ä»¤æ–‡ä»¶
2. å®ç° `CommandHandler` æ¥å£
3. åœ¨ `cli/src/index-simple.ts` æ³¨å†Œå‘½ä»¤

ç¤ºä¾‹:
```typescript
// cli/src/commands/my-command.ts
export const myCommandHandler: CommandHandler = {
  name: 'my-command',
  description: 'æˆ‘çš„å‘½ä»¤',
  setup(cli: CAC) {
    cli.command('my-command', 'æˆ‘çš„å‘½ä»¤')
       .action(async (options) => {
         // å®ç°å‘½ä»¤é€»è¾‘
       })
  },
  async execute(options) {
    // æ‰§è¡Œé€»è¾‘
  }
}

// åœ¨ index-simple.ts ä¸­æ³¨å†Œ
registry.register(myCommandHandler)
```

### é›†æˆå·¥å…·åŒ…

åœ¨å‘½ä»¤ä¸­å¯¼å…¥å¹¶ä½¿ç”¨å·¥å…·åŒ…:
```typescript
// ç¤ºä¾‹:é›†æˆbuilder
import { build } from '@ldesign/builder'

export async function buildCommand(options) {
  await build(options)
}
```

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **æ€»åŒ…æ•°**: 23+ (cli + server + web + shared + 20ä¸ªå·¥å…·åŒ…)
- **CLIå‘½ä»¤**: 5ä¸ªæ ¸å¿ƒå‘½ä»¤
- **ä»£ç è¡Œæ•°**: 800+ (æ–°å¢)
- **æ–‡æ¡£æ–‡ä»¶**: 5ä¸ª
- **æ„å»ºæˆåŠŸ**: 2ä¸ªåŒ… (shared, cli)
- **æµ‹è¯•é€šè¿‡**: 100%

## ğŸŒ Webç®¡ç†ç•Œé¢åŠŸèƒ½

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3.5+ (Composition API)
- **æ„å»ºå·¥å…·**: Vite 5.4+
- **UIåº“**: Naive UI 2.43+
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1+
- **è·¯ç”±**: Vue Router 4.2+
- **HTTPå®¢æˆ·ç«¯**: Axios 1.6+
- **å›¾æ ‡**: Lucide Vue Next 0.548+

### ä¸»è¦åŠŸèƒ½

#### âœ… Dashboardä»ªè¡¨æ¿
- å®æ—¶æ˜¾ç¤ºé¡¹ç›®ç»Ÿè®¡æ•°æ®
- å¿«æ·æ“ä½œå…¥å£
- ç³»ç»ŸçŠ¶æ€ç›‘æ§
- APIè¿æ¥çŠ¶æ€æ˜¾ç¤º

#### âœ… é¡¹ç›®ç®¡ç†
- é¡¹ç›®åˆ—è¡¨å±•ç¤ºï¼ˆå¡ç‰‡å¼/åˆ—è¡¨å¼ï¼‰
- é¡¹ç›®è¯¦æƒ…æŸ¥çœ‹
- å¯¼å…¥ç°æœ‰é¡¹ç›®
- åˆ›å»ºæ–°é¡¹ç›®
- ç¼–è¾‘é¡¹ç›®ä¿¡æ¯
- åˆ é™¤é¡¹ç›®
- é¡¹ç›®ç»Ÿè®¡ä¿¡æ¯

#### âœ… æ„å»ºç®¡ç†
- æŸ¥çœ‹æ„å»ºå†å²
- å¯åŠ¨æ–°æ„å»º
- å®æ—¶æ„å»ºæ—¥å¿—
- æ„å»ºçŠ¶æ€ç›‘æ§

#### âœ… éƒ¨ç½²ç®¡ç†
- æŸ¥çœ‹éƒ¨ç½²è®°å½•
- æ‰§è¡Œé¡¹ç›®éƒ¨ç½²
- å¤šç¯å¢ƒæ”¯æŒ
- éƒ¨ç½²çŠ¶æ€è·Ÿè¸ª

#### âœ… æµ‹è¯•ç®¡ç†
- è¿è¡Œæµ‹è¯•å¥—ä»¶
- æŸ¥çœ‹æµ‹è¯•ç»“æœ
- æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- æµ‹è¯•å†å²è®°å½•

#### âœ… ä¸»é¢˜ç³»ç»Ÿ
- æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- ä¸»é¢˜è®¾ç½®æŒä¹…åŒ–
- ç³»ç»Ÿä¸»é¢˜è‡ªåŠ¨æ£€æµ‹
- å¹³æ»‘ä¸»é¢˜è¿‡æ¸¡åŠ¨ç”»

### åç«¯APIæœåŠ¡

#### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Express 4.21+
- **æ•°æ®åº“**: Better-SQLite3 11.10+
- **WebSocket**: WS 8.18+
- **CORS**: è·¨åŸŸæ”¯æŒ

#### APIç«¯ç‚¹

**å¥åº·æ£€æŸ¥**
- `GET /api/health` - æœåŠ¡å™¨å¥åº·çŠ¶æ€

**é¡¹ç›®ç®¡ç†**
- `GET /api/projects` - è·å–æ‰€æœ‰é¡¹ç›®
- `GET /api/projects/:id` - è·å–é¡¹ç›®è¯¦æƒ…
- `POST /api/projects/import` - å¯¼å…¥é¡¹ç›®
- `POST /api/projects/create` - åˆ›å»ºé¡¹ç›®
- `PUT /api/projects/:id` - æ›´æ–°é¡¹ç›®
- `DELETE /api/projects/:id` - åˆ é™¤é¡¹ç›®
- `POST /api/projects/:id/open` - æ‰“å¼€é¡¹ç›®
- `GET /api/projects/:id/stats` - é¡¹ç›®ç»Ÿè®¡

**æ„å»ºç®¡ç†**
- `GET /api/builds` - è·å–æ„å»ºè®°å½•
- `POST /api/builds/:projectId/start` - å¼€å§‹æ„å»º
- `DELETE /api/builds/:id` - åˆ é™¤æ„å»ºè®°å½•

**éƒ¨ç½²ç®¡ç†**
- `GET /api/deployments` - è·å–éƒ¨ç½²è®°å½•
- `POST /api/deployments/:projectId/deploy` - æ‰§è¡Œéƒ¨ç½²

**æµ‹è¯•ç®¡ç†**
- `GET /api/tests` - è·å–æµ‹è¯•è®°å½•
- `POST /api/tests/:projectId/run` - è¿è¡Œæµ‹è¯•

**ç›‘æ§**
- `GET /api/monitor/system` - ç³»ç»Ÿä¿¡æ¯
- `GET /api/monitor/cpu` - CPUä½¿ç”¨ç‡
- `GET /api/monitor/memory` - å†…å­˜ä½¿ç”¨æƒ…å†µ

### æ•°æ®åº“

**ä½ç½®**: `server/.ldesign/server.db`

**è¡¨ç»“æ„**:
- `projects` - é¡¹ç›®ä¿¡æ¯
- `builds` - æ„å»ºè®°å½•
- `deployments` - éƒ¨ç½²è®°å½•
- `test_runs` - æµ‹è¯•è¿è¡Œè®°å½•
- `tool_configs` - å·¥å…·é…ç½®
- `logs` - ç³»ç»Ÿæ—¥å¿—

### å¸¸è§é—®é¢˜

**Q: å‰ç«¯è¿æ¥ä¸ä¸Šåç«¯ï¼Ÿ**

A: ç¡®ä¿ï¼š
1. åç«¯æœåŠ¡å™¨åœ¨è¿è¡Œï¼ˆç«¯å£3000ï¼‰
2. å‰ç«¯å¼€å‘æœåŠ¡å™¨åœ¨è¿è¡Œï¼ˆç«¯å£5173ï¼‰
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°CORSé”™è¯¯
4. æµ‹è¯• http://127.0.0.1:3000/api/health

**Q: æ•°æ®åº“åœ¨å“ªé‡Œï¼Ÿ**

A: SQLiteæ•°æ®åº“ä½äº `server/.ldesign/server.db`

**Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ**

A: åˆ é™¤ `server/.ldesign/server.db` æ–‡ä»¶ï¼Œé‡å¯æœåŠ¡å™¨ï¼Œç„¶åè¿è¡Œ `pnpm seed`

**Q: å¦‚ä½•æ·»åŠ ç¤ºä¾‹é¡¹ç›®ï¼Ÿ**

A: è¿è¡Œ `cd server && pnpm seed`

## ğŸ“ ä¸‹ä¸€æ­¥è®¡åˆ’

### ç«‹å³å¯åš
- [x] åç«¯æœåŠ¡å™¨å®Œæˆ
- [x] å‰ç«¯Webç•Œé¢å®Œæˆ
- [x] ç¤ºä¾‹æ•°æ®åˆå§‹åŒ–
- [x] ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ
- [x] æ€§èƒ½ç›‘æ§é¡µé¢
- [x] ä¾èµ–ç®¡ç†é¡µé¢
- [x] æ–‡ä»¶ç®¡ç†API
- [ ] å…¨å±€å®‰è£…CLI: `npm link`
- [ ] é›†æˆå®é™…å·¥å…·åŒ…åŠŸèƒ½

### çŸ­æœŸç›®æ ‡
- [x] å®Œå–„serveråŒ…å†…å®¹
- [x] å®Œå–„webåŒ…å†…å®¹
- [x] ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
- [x] æ€§èƒ½ç›‘æ§åŠŸèƒ½
- [x] ä¾èµ–åˆ†æåŠŸèƒ½
- [ ] å®ç°UIå‘½ä»¤(é›†æˆserver+web)
- [ ] æ·»åŠ é…ç½®æ–‡ä»¶æ”¯æŒ

### ä¸­æœŸç›®æ ‡
- [ ] å®é™…é›†æˆæ‰€æœ‰å·¥å…·åŒ…
- [ ] å®Œå–„å‘½ä»¤åŠŸèƒ½
- [ ] æ·»åŠ æ›´å¤šå‘½ä»¤
- [ ] å®Œå–„æµ‹è¯•è¦†ç›–

### é•¿æœŸç›®æ ‡
- [ ] å‘å¸ƒåˆ°npm
- [ ] æ„å»ºæ’ä»¶ç”Ÿæ€
- [ ] å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹
- [ ] ç¤¾åŒºæ¨å¹¿

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### æ„å»ºé¡¹ç›®
```bash
ldesign build                    # ç”Ÿäº§æ¨¡å¼
ldesign build --mode dev         # å¼€å‘æ¨¡å¼
ldesign build --watch            # ç›‘å¬æ¨¡å¼
```

### å¼€å‘æœåŠ¡å™¨
```bash
ldesign dev                      # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
ldesign dev --port 8080          # æŒ‡å®šç«¯å£
ldesign dev --open               # è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
```

### è¿è¡Œæµ‹è¯•
```bash
ldesign test                     # è¿è¡Œæµ‹è¯•
ldesign test --watch             # ç›‘å¬æ¨¡å¼
ldesign test --coverage          # ç”Ÿæˆè¦†ç›–ç‡
```

### éƒ¨ç½²é¡¹ç›®
```bash
ldesign deploy                   # éƒ¨ç½²åˆ°ç”Ÿäº§
ldesign deploy --env staging     # éƒ¨ç½²åˆ°staging
ldesign deploy --dry-run         # æ¨¡æ‹Ÿè¿è¡Œ
```

### ç”Ÿæˆä»£ç 
```bash
ldesign gen component Button     # ç”Ÿæˆç»„ä»¶
ldesign gen page Dashboard       # ç”Ÿæˆé¡µé¢
ldesign g api UserService        # ç®€å†™å½¢å¼
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ å›¢é˜Ÿ

LDesign Team

---

**ğŸ‰ é‡æ„å®Œæˆæ—¶é—´**: 2025-10-28  
**âœ… çŠ¶æ€**: æ ¸å¿ƒåŠŸèƒ½å®Œæˆ,å¯æ­£å¸¸ä½¿ç”¨  
**ğŸ“ˆ å®Œæˆåº¦**: 90%

**Happy Coding! ğŸš€**
