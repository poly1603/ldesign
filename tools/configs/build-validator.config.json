{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Build Validator Configuration",
  "description": "Configuration for build artifact validation",
  "steps": {
    "validate": true,
    "analyze": true,
    "browserTest": false
  },
  "validator": {
    "formats": ["umd", "es", "cjs", "types"],
    "checks": {
      "testFiles": true,
      "imports": true,
      "bundleSize": true,
      "sourceMaps": true,
      "moduleFormats": true,
      "dependencies": true
    },
    "thresholds": {
      "maxBundleSize": 2097152,
      "maxWarningSize": 512000
    },
    "testPatterns": ["\\.test\\.", "\\.spec\\.", "__tests__", "__mocks__"],
    "buildDirs": ["dist", "es", "lib", "types"]
  },
  "analyzer": {
    "analysis": {
      "bundleSize": true,
      "directoryStructure": true,
      "dependencies": true,
      "codeQuality": true,
      "performance": true,
      "duplicates": true
    },
    "thresholds": {
      "maxBundleSize": 2097152,
      "maxWarningSize": 512000,
      "maxCompressionRatio": 70
    }
  },
  "browserTester": {
    "formats": ["umd", "es"],
    "browsers": ["chromium"],
    "headless": true,
    "timeout": 30000,
    "viewport": {
      "width": 1280,
      "height": 720
    },
    "tests": {
      "moduleLoading": true,
      "basicFunctionality": true,
      "errorHandling": true,
      "externalDependencies": false
    }
  }
}
