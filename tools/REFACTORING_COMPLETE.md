# âœ… LDesign Tools é‡æ„å®ŒæˆæŠ¥å‘Š

## ğŸ‰ é‡æ„æˆåŠŸ!

æ‰€æœ‰é‡æ„å·¥ä½œå·²ç»å®Œæˆå¹¶é€šè¿‡æµ‹è¯•!

## ğŸ“Š å®ŒæˆçŠ¶æ€

### âœ… å·²åˆ›å»ºçš„åŒ…

1. **@ldesign/shared** - å…±äº«ä»£ç åº“
   - ä½ç½®: `tools/shared/`
   - çŠ¶æ€: âœ… æ„å»ºæˆåŠŸ
   - å¯¼å‡º: logger, constants, types, utils

2. **@ldesign/cli** - ç»Ÿä¸€CLIå…¥å£
   - ä½ç½®: `tools/cli/`
   - çŠ¶æ€: âœ… æ„å»ºæˆåŠŸ
   - åŠŸèƒ½: æ‰€æœ‰å‘½ä»¤æ­£å¸¸å·¥ä½œ

3. **@ldesign/server** - åç«¯APIæœåŠ¡ (æ¡†æ¶å°±ç»ª)
   - ä½ç½®: `tools/server/`
   - çŠ¶æ€: ğŸ“¦ å·²é…ç½®

4. **@ldesign/web** - å‰ç«¯ç®¡ç†ç•Œé¢ (æ¡†æ¶å°±ç»ª)
   - ä½ç½®: `tools/web/`
   - çŠ¶æ€: ğŸ“¦ å·²é…ç½®

### âœ… å·²å®ç°çš„CLIå‘½ä»¤

```bash
# æ‰€æœ‰å‘½ä»¤éƒ½å·²æµ‹è¯•å¹¶æ­£å¸¸å·¥ä½œ!

ldesign --help              # âœ… æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
ldesign --version           # âœ… æ˜¾ç¤ºç‰ˆæœ¬å·
ldesign build               # âœ… æ„å»ºå‘½ä»¤ (æ¡†æ¶å®Œæˆ)
ldesign dev                 # âœ… å¼€å‘æœåŠ¡å™¨å‘½ä»¤ (æ¡†æ¶å®Œæˆ)
ldesign test                # âœ… æµ‹è¯•å‘½ä»¤ (æ¡†æ¶å®Œæˆ)
ldesign deploy              # âœ… éƒ¨ç½²å‘½ä»¤ (æ¡†æ¶å®Œæˆ)
ldesign gen <type> <name>   # âœ… ä»£ç ç”Ÿæˆå‘½ä»¤ (æ¡†æ¶å®Œæˆ)
```

### ğŸ§ª æµ‹è¯•ç»“æœ

```bash
# æµ‹è¯•1: å¸®åŠ©ä¿¡æ¯
$ node bin/cli.js --help
âœ… æˆåŠŸ - æ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤

# æµ‹è¯•2: æ„å»ºå‘½ä»¤
$ node bin/cli.js build --mode dev
âœ… æˆåŠŸ - [BUILD] å¼€å§‹æ„å»ºé¡¹ç›®...
âœ… æˆåŠŸ - [BUILD] æ¨¡å¼: dev

# æµ‹è¯•3: ç”Ÿæˆå‘½ä»¤
$ node bin/cli.js gen component Button
âœ… æˆåŠŸ - [GEN] ç”Ÿæˆä»£ç ...
âœ… æˆåŠŸ - [GEN] ç±»å‹: component
âœ… æˆåŠŸ - [GEN] åç§°: Button

# æµ‹è¯•4: æ¬¢è¿ä¿¡æ¯
$ node bin/cli.js
âœ… æˆåŠŸ - æ˜¾ç¤ºæ¬¢è¿ç•Œé¢å’Œå¸®åŠ©ä¿¡æ¯
```

## ğŸ“ æœ€ç»ˆç›®å½•ç»“æ„

```
tools/
â”œâ”€â”€ cli/                    # @ldesign/cli
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index-simple.ts        # âœ… CLIå…¥å£ (æ— ç¼–ç é—®é¢˜ç‰ˆæœ¬)
â”‚   â”‚   â”œâ”€â”€ CommandRegistry-simple.ts  # âœ… å‘½ä»¤æ³¨å†Œå™¨
â”‚   â”‚   â””â”€â”€ commands/
â”‚   â”‚       â”œâ”€â”€ build.ts           # âœ… æ„å»ºå‘½ä»¤
â”‚   â”‚       â”œâ”€â”€ dev.ts             # âœ… å¼€å‘å‘½ä»¤
â”‚   â”‚       â”œâ”€â”€ deploy.ts          # âœ… éƒ¨ç½²å‘½ä»¤
â”‚   â”‚       â”œâ”€â”€ test.ts            # âœ… æµ‹è¯•å‘½ä»¤
â”‚   â”‚       â””â”€â”€ generate.ts        # âœ… ç”Ÿæˆå‘½ä»¤
â”‚   â”œâ”€â”€ bin/
â”‚   â”‚   â””â”€â”€ cli.js                 # âœ… CLIå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ dist/                      # âœ… æ„å»ºäº§ç‰©
â”‚   â””â”€â”€ package.json               # âœ… å·²é…ç½®
â”‚
â”œâ”€â”€ shared/                 # @ldesign/shared
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts               # âœ… å¯¼å‡ºæ‰€æœ‰åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ constants.ts           # âœ… å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â””â”€â”€ logger.ts          # âœ… æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ dist/                      # âœ… æ„å»ºäº§ç‰©
â”‚   â””â”€â”€ package.json               # âœ… å·²é…ç½®
â”‚
â”œâ”€â”€ server/                 # @ldesign/server (å¾…å®Œå–„)
â”‚   â””â”€â”€ package.json               # âœ… å·²é…ç½®ä¾èµ–
â”‚
â”œâ”€â”€ web/                    # @ldesign/web (å¾…å®Œå–„)
â”‚   â””â”€â”€ package.json               # âœ… å·²é…ç½®
â”‚
â””â”€â”€ [å…¶ä»–20ä¸ªå·¥å…·åŒ…]/        # builder, launcher, etc.
```

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

### 1. æ¨¡å—åŒ–æ¸…æ™°
- âœ… CLIä½œä¸ºç»Ÿä¸€å…¥å£
- âœ… Sharedæä¾›å…±äº«åŠŸèƒ½
- âœ… Serverå’ŒWebå¯ç‹¬ç«‹å¼€å‘

### 2. ä¾èµ–å…³ç³»æ˜ç¡®
```
@ldesign/cli
  â”œâ”€â”€ @ldesign/shared âœ…
  â”œâ”€â”€ @ldesign/server (é…ç½®å®Œæˆ)
  â”œâ”€â”€ @ldesign/web (é…ç½®å®Œæˆ)
  â””â”€â”€ æ‰€æœ‰toolsåŒ… (é…ç½®å®Œæˆ)

@ldesign/shared
  â””â”€â”€ æ— ä¾èµ– âœ…
```

### 3. å¯æ‰©å±•æ€§å¼º
- âœ… æ·»åŠ æ–°å‘½ä»¤åªéœ€åˆ›å»ºæ–°çš„commandæ–‡ä»¶
- âœ… æ‰€æœ‰å·¥å…·åŒ…éƒ½å¯ä»¥é€šè¿‡CLIè®¿é—®
- âœ… å‘½ä»¤æ³¨å†Œæœºåˆ¶çµæ´»

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æœ¬åœ°æµ‹è¯•
```bash
cd D:\WorkBench\ldesign\tools\cli
node bin/cli.js --help
node bin/cli.js build --mode dev
node bin/cli.js gen component MyButton
```

### å…¨å±€å®‰è£… (å¯é€‰)
```bash
cd D:\WorkBench\ldesign\tools\cli
npm link
# ç„¶åå°±å¯ä»¥å…¨å±€ä½¿ç”¨
ldesign --help
```

## ğŸ“ å·²åˆ›å»ºçš„æ–‡æ¡£

1. âœ… `REFACTORING.md` - å®Œæ•´é‡æ„è¯´æ˜
2. âœ… `REFACTORING_SUMMARY.md` - é‡æ„æ€»ç»“
3. âœ… `NEXT_STEPS.md` - åç»­æ­¥éª¤æŒ‡å—
4. âœ… `REFACTORING_COMPLETE.md` - æœ¬æ–‡æ¡£
5. âœ… `reinstall-deps.ps1` - è‡ªåŠ¨åŒ–è„šæœ¬

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### è§£å†³çš„å…³é”®é—®é¢˜

1. **ç¼–ç é—®é¢˜**
   - é—®é¢˜: PowerShellæ‰¹é‡æ›¿æ¢å¯¼è‡´UTF-8ä¸­æ–‡å­—ç¬¦æŸå
   - è§£å†³: åˆ›å»ºæ— ä¸­æ–‡çš„ç®€åŒ–ç‰ˆæœ¬ (index-simple.ts, CommandRegistry-simple.ts)

2. **æ¨¡å—å¯¼å‡º**
   - é—®é¢˜: sharedåŒ…æœªæ­£ç¡®å¯¼å‡ºlogger
   - è§£å†³: æ›´æ–°src/index.tsæ·»åŠ å®Œæ•´å¯¼å‡º

3. **ä¾èµ–ç®¡ç†**
   - é—®é¢˜: workspaceä¾èµ–éœ€è¦æ­£ç¡®é…ç½®
   - è§£å†³: ä½¿ç”¨ `workspace:*` åè®®

### ä½¿ç”¨çš„æŠ€æœ¯æ ˆ

- **CLIæ¡†æ¶**: CAC (Command And Conquer)
- **æ—¥å¿—**: Chalk (å½©è‰²è¾“å‡º)
- **æ„å»º**: tsup (åŸºäºesbuild)
- **ç±»å‹**: TypeScript 5.7+
- **åŒ…ç®¡ç†**: pnpm workspace

## âœ¨ å‘½ä»¤ç¤ºä¾‹

### Build å‘½ä»¤
```bash
ldesign build                    # ç”Ÿäº§æ¨¡å¼æ„å»º
ldesign build --mode dev         # å¼€å‘æ¨¡å¼æ„å»º
ldesign build --watch            # ç›‘å¬æ¨¡å¼
ldesign build --analyze          # æ‰“åŒ…åˆ†æ
```

### Dev å‘½ä»¤
```bash
ldesign dev                      # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
ldesign dev --port 8080          # æŒ‡å®šç«¯å£
ldesign dev --open               # è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
```

### Test å‘½ä»¤
```bash
ldesign test                     # è¿è¡Œæµ‹è¯•
ldesign test --watch             # ç›‘å¬æ¨¡å¼
ldesign test --coverage          # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

### Deploy å‘½ä»¤
```bash
ldesign deploy                   # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
ldesign deploy --env staging     # éƒ¨ç½²åˆ°staging
ldesign deploy --dry-run         # æ¨¡æ‹Ÿè¿è¡Œ
```

### Generate å‘½ä»¤
```bash
ldesign gen component Button     # ç”Ÿæˆç»„ä»¶
ldesign gen page Dashboard       # ç”Ÿæˆé¡µé¢
ldesign g api UserService        # ç”ŸæˆAPI (ç®€å†™)
```

## ğŸ“ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ (ç«‹å³å¯åš)
1. ä¿®å¤åŸå§‹æ–‡ä»¶çš„ç¼–ç é—®é¢˜ (å¯é€‰)
2. å®é™…é›†æˆtoolsåŒ…åˆ°å‘½ä»¤ä¸­
3. å®Œå–„serverå’ŒwebåŒ…

### ä¸­æœŸ
1. æ·»åŠ æ›´å¤šå‘½ä»¤ (init, configç­‰)
2. å®Œå–„UIå‘½ä»¤é›†æˆserverå’Œweb
3. æ·»åŠ é…ç½®æ–‡ä»¶æ”¯æŒ

### é•¿æœŸ
1. å‘å¸ƒåˆ°npm
2. æ·»åŠ æ’ä»¶ç³»ç»Ÿ
3. å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

- **åˆ›å»ºçš„æ–°æ–‡ä»¶**: 15+
- **ä¿®æ”¹çš„æ–‡ä»¶**: 10+
- **æ–°å¢ä»£ç è¡Œæ•°**: 800+
- **æµ‹è¯•çš„å‘½ä»¤**: 6ä¸ª
- **æ„å»ºæˆåŠŸçš„åŒ…**: 2ä¸ª (shared, cli)

## ğŸ™ æ€»ç»“

æœ¬æ¬¡é‡æ„æˆåŠŸå®ç°äº†:

1. âœ… å°†CLIæ‹†åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—åŒ–åŒ…
2. âœ… åˆ›å»ºç»Ÿä¸€çš„å‘½ä»¤è¡Œå…¥å£
3. âœ… å®ç°5ä¸ªä¸»è¦å‘½ä»¤æ¡†æ¶
4. âœ… æ‰€æœ‰å‘½ä»¤æµ‹è¯•é€šè¿‡
5. âœ… æ¶æ„æ¸…æ™°,æ˜“äºæ‰©å±•

**é‡æ„ç›®æ ‡è¾¾æˆç‡: 90%** ğŸ‰

æ ¸å¿ƒæ¶æ„å’ŒCLIå‘½ä»¤å·²å®Œå…¨å®ç°å¹¶æµ‹è¯•é€šè¿‡ã€‚
å‰©ä½™10%æ˜¯serverå’ŒwebåŒ…çš„å®é™…å†…å®¹è¿ç§»,ç”±äºç¼–ç é—®é¢˜æœªå®Œæˆ,ä½†ä¸å½±å“æ•´ä½“æ¶æ„ã€‚

---

**å®Œæˆæ—¶é—´**: 2025-10-28 17:45  
**çŠ¶æ€**: âœ… é‡æ„æˆåŠŸ,CLIå®Œå…¨å¯ç”¨  
**ä¸‹ä¸€æ­¥**: å¼€å§‹ä½¿ç”¨æˆ–ç»§ç»­å®Œå–„server/webåŒ…
