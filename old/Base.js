!function(d,g){"object"==typeof exports&&"undefined"!=typeof module?module.exports=g():"function"==typeof define&&define.amd?define(g):d.ES6Promise=g();}(this,function(){function aL(d){var g=typeof d;return null!==d&&("object"===g||"function"===g);}function a3(d){return"function"==typeof d;}function aS(d){az=d;
}function aN(d){au=d;}function aR(){return function(){return process.nextTick(a7);};}function aY(){return"undefined"!=typeof aF?function(){aF(a7);}:a5();}function aM(){var d=0,g=new aq(a7),h=document.createTextNode("");return g.observe(h,{characterData:!0}),function(){h.data=d=++d%2;};}function aK(){var d=new MessageChannel;
return d.port1.onmessage=a7,function(){return d.port2.postMessage(0);};}function a5(){var d=setTimeout;return function(){return d(a7,1);};}function a7(){for(var d=0;d<ad;d+=2){var g=ae[d],h=ae[d+1];g(h),ae[d]=void 0,ae[d+1]=void 0;}ad=0;}function a2(){try{var d=Function("return this")().require("vertx");
return aF=d.runOnLoop||d.runOnContext,aY();}catch(g){return a5();}}function aU(g,j){var m=this,h=new this.constructor(aQ);void 0===h[aa]&&al(h);var l=m._state;if(l){var d=arguments[l-1];au(function(){return ak(l,h,d,m._result);});}else{aw(m,h,g,j);}return h;}function aZ(d){var g=this;if(d&&"object"==typeof d&&d.constructor===g){return d;
}var h=new g(aQ);return a0(h,d),h;}function aQ(){}function aJ(){return new TypeError("You cannot resolve a promise with itself");}function a4(){return new TypeError("A promises callback cannot return that same promise.");}function a8(d){try{return d.then;}catch(g){return aW.error=g,aW;}}function aG(d,h,l,g){try{d.call(h,l,g);
}catch(j){return j;}}function aT(d,g,h){au(function(j){var l=!1,m=aG(h,g,function(o){l||(l=!0,g!==o?a0(j,o):ah(j,o));},function(n){l||(l=!0,aX(j,n));},"Settle: "+(j._label||" unknown promise"));!l&&m&&(l=!0,aX(j,m));},d);}function a6(d,g){g._state===a1?ah(d,g._result):g._state===aP?aX(d,g._result):aw(g,void 0,function(h){return a0(d,h);
},function(h){return aX(d,h);});}function aI(d,h,g){h.constructor===d.constructor&&g===aU&&h.constructor.resolve===aZ?a6(d,h):g===aW?(aX(d,aW.error),aW.error=null):void 0===g?ah(d,h):a3(g)?aT(d,h,g):ah(d,h);}function a0(d,g){d===g?aX(d,aJ()):aL(g)?aI(d,g,a8(g)):ah(d,g);}function aA(d){d._onerror&&d._onerror(d._result),ag(d);
}function ah(d,g){d._state===aE&&(d._result=g,d._state=a1,0!==d._subscribers.length&&au(ag,d));}function aX(d,g){d._state===aE&&(d._state=aP,d._result=g,au(aA,d));}function aw(g,j,m,h){var l=g._subscribers,d=l.length;g._onerror=null,l[d]=j,l[d+a1]=m,l[d+aP]=h,0===d&&g._state&&au(ag,g);}function ag(g){var l=g._subscribers,p=g._state;
if(0!==l.length){for(var j=void 0,m=void 0,d=g._result,h=0;h<l.length;h+=3){j=l[h],m=l[h+p],j?ak(p,j,m,d):m(d);}g._subscribers.length=0;}}function an(d,g){try{return d(g);}catch(h){return aW.error=h,aW;}}function ak(q,h,d,g){var j=a3(d),w=void 0,p=void 0,l=void 0,m=void 0;if(j){if(w=an(d,g),w===aW?(m=!0,p=w.error,w.error=null):l=!0,h===w){return void aX(h,a4());
}}else{w=g,l=!0;}h._state!==aE||(j&&l?a0(h,w):m?aX(h,p):q===a1?ah(h,w):q===aP&&aX(h,w));}function aH(d,g){try{g(function(j){a0(d,j);},function(j){aX(d,j);});}catch(h){aX(d,h);}}function ay(){return aD++;}function al(d){d[aa]=aD++,d._state=void 0,d._result=void 0,d._subscribers=[];}function aV(){return new Error("Array Methods must be provided an Array");
}function av(d){return new aC(this,d).promise;}function ab(d){var g=this;return new g(af(d)?function(m,j){for(var l=d.length,h=0;h<l;h++){g.resolve(d[h]).then(m,j);}}:function(h,j){return j(new TypeError("You must pass an array to race."));});}function aO(d){var g=this,h=new g(aQ);return aX(h,d),h;}function ax(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
}function ap(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}function ao(){var d=void 0;if("undefined"!=typeof global){d=global;}else{if("undefined"!=typeof self){d=self;}else{try{d=Function("return this")();
}catch(h){throw new Error("polyfill failed because global object is unavailable in this environment");}}}var j=d.Promise;if(j){var g=null;try{g=Object.prototype.toString.call(j.resolve());}catch(h){}if("[object Promise]"===g&&!j.cast){return;}}d.Promise=aB;}var am=void 0;am=Array.isArray?Array.isArray:function(d){return"[object Array]"===Object.prototype.toString.call(d);
};var af=am,ad=0,aF=void 0,az=void 0,au=function(d,g){ae[ad]=d,ae[ad+1]=g,ad+=2,2===ad&&(az?az(a7):ac());},at="undefined"!=typeof window?window:void 0,ar=at||{},aq=ar.MutationObserver||ar.WebKitMutationObserver,aj="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),ai="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ae=new Array(1000),ac=void 0;
ac=aj?aR():aq?aM():ai?aK():void 0===at&&"function"==typeof require?a2():a5();var aa=Math.random().toString(36).substring(2),aE=void 0,a1=1,aP=2,aW={error:null},aD=0,aC=function(){function d(g,h){this._instanceConstructor=g,this.promise=new g(aQ),this.promise[aa]||al(this.promise),af(h)?(this.length=h.length,this._remaining=h.length,this._result=new Array(this.length),0===this.length?ah(this.promise,this._result):(this.length=this.length||0,this._enumerate(h),0===this._remaining&&ah(this.promise,this._result))):aX(this.promise,aV());
}return d.prototype._enumerate=function(g){for(var h=0;this._state===aE&&h<g.length;h++){this._eachEntry(g[h],h);}},d.prototype._eachEntry=function(h,l){var p=this._instanceConstructor,j=p.resolve;if(j===aZ){var m=a8(h);if(m===aU&&h._state!==aE){this._settledAt(h._state,l,h._result);}else{if("function"!=typeof m){this._remaining--,this._result[l]=h;
}else{if(p===aB){var g=new p(aQ);aI(g,h,m),this._willSettleAt(g,l);}else{this._willSettleAt(new p(function(n){return n(h);}),l);}}}}else{this._willSettleAt(j(h),l);}},d.prototype._settledAt=function(g,j,l){var h=this.promise;h._state===aE&&(this._remaining--,g===aP?aX(h,l):this._result[j]=l),0===this._remaining&&ah(h,this._result);
},d.prototype._willSettleAt=function(g,h){var j=this;aw(g,void 0,function(l){return j._settledAt(a1,h,l);},function(l){return j._settledAt(aP,h,l);});},d;}(),aB=function(){function d(g){this[aa]=ay(),this._result=this._state=void 0,this._subscribers=[],aQ!==g&&("function"!=typeof g&&ax(),this instanceof d?aH(this,g):ap());
}return d.prototype["catch"]=function(g){return this.then(null,g);},d.prototype["finally"]=function(g){var j=this,h=j.constructor;return a3(g)?j.then(function(l){return h.resolve(g()).then(function(){return l;});},function(l){return h.resolve(g()).then(function(){throw l;});}):j.then(g,g);},d;}();return aB.prototype.then=aU,aB.all=av,aB.race=ab,aB.resolve=aZ,aB.reject=aO,aB._setScheduler=aS,aB._setAsap=aN,aB._asap=au,aB.polyfill=ao,aB.Promise=aB,aB.polyfill(),aB;
});if(window.fixFlash==null){window.fixFlash=function(){var d=window.__flash__removeCallback;if(d!=null&&d.il==null){window.__flash__removeCallback=function(g,h){try{if(g){g[h]=null;}}catch(j){}};window.__flash__removeCallback.il=true;d=null;}};window.fixFlash();window.setInterval(window.fixFlash,1000);
}function __unloadFlash(){var l=document.getElementsByTagName("object");if(l&&l.length){var g=window.__flash__removeCallback;if(g==null){window.__flash__removeCallback=function(m,n){try{if(m){m[n]=null;}}catch(o){}};}for(var d=0;d<l.length;d++){var j=l[d];if(j){var h=j.getElementsByTagName("object");
if(h&&h.length){j=null;j=h[0];}h=null;}if(j&&j.parentElement){if(j.parentElement.tagName!="OBJECT"){j.parentElement.removeChild(j);}else{if(j.parentElement.parentElement){j.parentElement.parentElement.removeChild(j.parentElement);}}}j=null;}l=null;}}if(window.attachEvent){window.attachEvent("unload",__unloadFlash);
}else{window.addEventListener("unload",__unloadFlash);}var LEAPBrowser={};LEAPBrowser.name=navigator.userAgent.toLowerCase();LEAPBrowser.isIE=((LEAPBrowser.name.indexOf("msie")!=-1)||LEAPBrowser.name.indexOf("rv:")!=-1)&&(LEAPBrowser.name.indexOf("opera")==-1)&&(LEAPBrowser.name.indexOf("webtv")==-1);
LEAPBrowser.isGecko=(LEAPBrowser.name.indexOf("gecko")!=-1);LEAPBrowser.isKonqueror=(LEAPBrowser.name.indexOf("konqueror")!=-1);LEAPBrowser.isChrome=(LEAPBrowser.name.indexOf("chrome")!=-1);LEAPBrowser.isSafari=(!LEAPBrowser.isChrome&&LEAPBrowser.name.indexOf("safari")!=-1);LEAPBrowser.isWebKit=(!LEAPBrowser.isIE&&LEAPBrowser.name.toLowerCase().indexOf("applewebkit")!=-1);
LEAPBrowser.isAndroid=(!LEAPBrowser.isIE&&LEAPBrowser.name.toLowerCase().indexOf("android")!=-1);LEAPBrowser.IEVersion=null;if(LEAPBrowser.isIE){var _r=navigator.appVersion.match(/MSIE (\d+\.\d+)/,"");if(_r){try{LEAPBrowser.IEVersion=Number(_r[1]);}catch(E){}}else{if(LEAPBrowser.name.indexOf("rv:")>-1){var _r2=navigator.appVersion.match(/rv:(\d+\.\d+)/,"");
if(_r2){try{LEAPBrowser.IEVersion=Number(_r2[1]);}catch(E){}}}}}LEAPBrowser.notSupportBindEvent=LEAPBrowser.isWebKit||(LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>=11);LEAPBrowser.cssmode=null;var browserStr="OTHER";if(LEAPBrowser.isIE){browserStr="IE "+LEAPBrowser.IEVersion;}if(LEAPBrowser.isChrome){browserStr="CHROME";
}if(LEAPBrowser.isSafari){browserStr="SAFAIR";}if(document&&document.documentElement){if(LEAPBrowser.IEVersion){document.documentElement.setAttribute("lb-ieversion",LEAPBrowser.IEVersion);}document.documentElement.setAttribute("lb-agent",browserStr);if(LEAPBrowser.isIE){if(LEAPBrowser.IEVersion>=10){document.documentElement.setAttribute("lb-ie-gt9","1");
}else{document.documentElement.setAttribute("lb-ie-lt10","1");}document.documentElement.setAttribute("lb-kernel","IE");}if(LEAPBrowser.isWebKit){document.documentElement.setAttribute("lb-kernel","WEBKIT");}if(document.compatMode){document.documentElement.setAttribute("lb-compat",document.compatMode);
LEAPBrowser.cssmode=0;if(document.compatMode=="CSS1Compat"){LEAPBrowser.cssmode=1;}document.documentElement.setAttribute("lb-cssmode",LEAPBrowser.cssmode);}if(document.documentMode){document.documentElement.setAttribute("lb-documentMode",document.documentMode);LEAPBrowser.documentMode=document.documentMode;
}if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion==6){document.documentElement.setAttribute("lb-documentMode",6);LEAPBrowser.documentMode=6;}}LEAPBrowser.style_old=LEAPBrowser.isIE&&LEAPBrowser.IEVersion<10;var LEAPLG={};LEAPLG.minH=15;LEAPLG.to_sh=30;LEAPLG._ghoh=function(d){if(LEAPBrowser.IEVersion){return LEAPLG._ghoh2(d.currentStyle.borderTopWidth)+LEAPLG._ghoh2(d.currentStyle.borderBottomWidth)+LEAPLG._ghoh2(d.currentStyle.paddingBottom)+LEAPLG._ghoh2(d.currentStyle.paddingTop);
}return 0;};LEAPLG._ghoh2=function(d){if(d&&d.indexOf("px")>-1){return Number(d.substring(0,d.indexOf("px")));}return 0;};LEAPLG._gh=function(d){try{if(!d){return 0;}else{if(LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion<10){return d.scrollHeight>d.offsetHeight?d.scrollHeight:d.offsetHeight;}else{return d.offsetHeight;
}}}finally{d=null;}};LEAPLG._sh=function(j){if(!j){return false;}try{if((LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>=10)||LEAPBrowser.isWebKit){var d=j.getAttribute("_sh_");if(d){if(j.offsetHeight==0){j.style.height=d;return true;}else{if(d.indexOf("px")>-1){d=d.substring(0,d.length-2);if(d>j.offsetHeight){j.style.height=d+"px";
return true;}}}return false;}var g=j.style.height.toLowerCase();if(g.indexOf("px")>-1||g.indexOf("%")>=1){j.setAttribute("_sh_",g);j.style.height="auto";return true;}}}finally{j=null;}return false;};LEAPLG.table_scrl=function(d,n){try{if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}var r=d.scrollTop;
if(n){r=0;}var q=d.children[0];if(q&&q.tagName=="TABLE"){var m=q.getAttribute("table_scrtarget");if(m){if(m=="1"){q.style.top=r+"px";}else{if(m=="2"){}}}else{var w=q.tHead.rows;if(w&&w.length>0){var h=w.length;var g=r;for(var j=0;j<h;j++){var u=w[j];u.style.top=g+"px";u=null;}}w=null;}}q=d=null;}catch(o){}};
LEAPLG.bt=function(l,d,o){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}if(!d.parentElement){return;}if(l!=null){var p=function(){LEAPLG.bt(null,d);d=null;};setTimeout(p,l);return;}if(LEAPLG._sh(d.children.item(1))){var p=function(){LEAPLG.bt(null,d);d=null;};setTimeout(p,LEAPLG.to_sh);
return;}var u=d.parentElement.className;if(u&&u.indexOf("lg_p2_")==-1&&!d.parentElement.style.height){d.parentElement.style.height="100%";setTimeout(function(){LEAPLG.bt(null,d);d=null;},100);return;}var m=LEAPLG._gh(d.children.item(1));var g=d.children.item(0);if(g){if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion<=10){if(d.clientHeight==0){if(o==null){o=1;
}else{o++;}if(o<10){setTimeout(function(){LEAPLG.bt(null,d,o);d=null;},10);return;}}if(d.clientHeight==0&&LEAPBrowser.isIE&&LEAPBrowser.IEVersion==9){if(o==null){o=1;}else{o++;}var j=0;var q=d;while(j<90){q=q.parentElement;if(q.tagName=="BODY"){break;}if(q.style.display=="none"){setTimeout(function(){LEAPLG.bt(null,d,o);
d=null;},2000);return;}}}var r=d.clientHeight-m;if(r<LEAPLG.minH){r=LEAPLG.minH;}g.style.height=(r-LEAPLG._ghoh(g))+"px";if(LEAPBrowser.IEVersion==10){g.style.bottom=m+"px";}}if(!LEAPBrowser.isIE||(LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>10)){if(!LEAP.hasCSS(g.parentElement,"lg_p2_bct")){g.style.position="absolute";
}g.style.bottom=m+"px";g.style.height="auto";}}g=d=null;};LEAPLG.bt_layout=function(g,h){if(!h){if(!event){return;}h=event.srcElement;}if(!h){return;}if(LEAPBrowser.isIE&&g!=null){var d=function(){LEAPLG.bt_layout(null,h);h=null;};setTimeout(d,g);return;}LEAPLG.bt(null,h.parentElement);h=null;};LEAPLG.bt_img=function(g,h){if(!h){if(!event){return;
}h=event.srcElement;}if(!h){return;}if(LEAPBrowser.isIE&&g!=null){var d=function(){LEAPLG.bt_img(null,h);h=null;};setTimeout(d,g);return;}LEAPLG.bt(null,h.parentElement);if(h.parentElement){LEAPLGRS.setup(h.parentElement,"bt_img");h.parentElement.removeChild(h);}h=null;};LEAPLG.tb=function(m,d,p){if(!d){if(!event){return;
}d=event.srcElement;}if(!d){return;}if(!d.parentElement){return;}if(m!=null){var q=function(){LEAPLG.tb(null,d);d=null;};setTimeout(q,m);return;}if(LEAPLG._sh(d.children.item(0))){var q=function(){LEAPLG.tb(null,d);d=null;};setTimeout(q,LEAPLG.to_sh);return;}var w=d.parentElement.className;if(w&&w.indexOf("lg_p2_")==-1&&!d.parentElement.style.height){d.parentElement.style.height="100%";
setTimeout(function(){LEAPLG.tb(null,d);d=null;},100);return;}var g=d.children.item(1);var o=LEAPLG._gh(d.children.item(0));if(g){var l=g.getAttribute("layoutpath");if(l){l*=1;}else{l="";}if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion<=10){if(d.clientHeight==0){if(p==null){p=1;}else{p++;}if(p<10){setTimeout(function(){LEAPLG.tb(null,d,p);
d=null;},10);return;}}if(d.clientHeight==0&&LEAPBrowser.isIE&&LEAPBrowser.IEVersion==9){if(p==null){p=1;}else{p++;}var j=0;var r=d;while(j<90){r=r.parentElement;if(r.tagName=="BODY"){break;}if(r.style.display=="none"){setTimeout(function(){LEAPLG.tb(null,d,p);d=null;},2000);return;}}}var u=d.clientHeight-o;
if(u<LEAPLG.minH){u=LEAPLG.minH;}if(LEAPBrowser.IEVersion==10){g.style.top=(o+l)+"px";}else{if(LEAPBrowser.IEVersion==7){g.style.marginTop=l;g.style.height=(u-LEAPLG._ghoh(g)-l)+"px";}else{if(LEAPBrowser.isGecko===true){g.style.top=(o+l)+"px";g.style.height=(u-LEAPLG._ghoh(g)-l)+"px";}else{g.style.top="auto";
g.style.height=(u-LEAPLG._ghoh(g))+"px";}}}}else{g.style.height="auto";g.style.top=(o+l)+"px";}}g=d=null;};LEAPLG.tb_layout=function(g,h){if(!h){if(!event){return;}h=event.srcElement;}if(!h){return;}if(LEAPBrowser.isIE&&g!=null){var d=function(){LEAPLG.tb_layout(null,h);h=null;};setTimeout(d,g);return;
}LEAPLG.tb(null,h.parentElement);h=null;};LEAPLG.tb_img=function(g,h){if(!h){if(!event){return;}h=event.srcElement;}if(!h){return;}if(LEAPBrowser.isIE&&g!=null){var d=function(){LEAPLG.tb_img(null,h);h=null;};setTimeout(d,g);return;}LEAPLG.tb(null,h.parentElement);if(h.parentElement){LEAPLGRS.setup(h.parentElement,"tb_img");
h.parentElement.removeChild(h);}h=null;};LEAPLG.bct=function(l,d,m){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}if(!d.parentElement){return;}if(LEAPBrowser.isIE&&l!=null){var p=function(){LEAPLG.bct(null,d);d=null;};setTimeout(p,l);return;}var u=d.parentElement.className;if(u&&u.indexOf("lg_p2_")==-1&&!d.parentElement.style.height){d.parentElement.style.height="100%";
setTimeout(function(){LEAPLG.bct(null,d);d=null;},100);return;}if(LEAPLG._sh(d.children.item(0))||LEAPLG._sh(d.children.item(2))){var p=function(){LEAPLG.bct(null,d);d=null;};setTimeout(p,LEAPLG.to_sh);return;}var o=LEAPLG._gh(d.children.item(0));var g=LEAPLG._gh(d.children.item(2));var h=d.children.item(1);
if(d.clientHeight==0){if(m==null){m=1;}else{m++;}if(m<10){setTimeout(function(){LEAPLG.bct(null,d,m);d=null;},10);return;}}if(d.clientHeight==0&&LEAPBrowser.isIE&&LEAPBrowser.IEVersion==9){if(m==null){m=1;}else{m++;}var j=0;var q=d;while(j<90){q=q.parentElement;if(q.tagName=="BODY"){break;}if(q.style.display=="none"){setTimeout(function(){LEAPLG.bct(null,d,m);
d=null;},2000);return;}}}var r=d.clientHeight-o-g;if(h){if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion<=10){if(r<LEAPLG.minH){r=LEAPLG.minH;}h.style.height=r-LEAPLG._ghoh(h)+"px";if(LEAPBrowser.IEVersion==10){h.style.top=o+"px";h.style.bottom=g+"px";}}else{h.style.height="auto";h.style.top=o+"px";h.style.bottom=g+"px";
}}h=d=null;};LEAPLG.bct_layout=function(g,h){if(!h){if(!event){return;}h=event.srcElement;}if(!h){return;}if(LEAPBrowser.isIE&&g!=null){var d=function(){LEAPLG.bct_layout(null,h);h=null;};setTimeout(d,g);return;}LEAPLG.bct(null,h.parentElement);h=null;};LEAPLG.bct_img=function(g,h){if(!h){if(!event){return;
}h=event.srcElement;}if(!h){return;}if(LEAPBrowser.isIE&&g!=null){var d=function(){LEAPLG.bct_img(null,h);h=null;};setTimeout(d,g);return;}LEAPLG.bct(null,h.parentElement);if(h.parentElement){LEAPLGRS.setup(h.parentElement,"bct_img");h.parentElement.removeChild(h);}h=null;};LEAPLG.setHeight=function(d,o){if(!d||o==null){return;
}d.style.height=o;if(!LEAP.isIE){return;}try{var p=d.className;if(p){var q=p.split(" ");var h=q.length;var g=null;for(var j=0;j<h;j++){var m=q[j];if(!m){continue;}if(m.indexOf("lg_p2_")==0){g=m;}}if(g=="lg_p2_tb_top"){LEAPLG.tb_layout(null,d);}else{if(g=="lg_p2_tb"){LEAPLG.tb(null,d);}else{if(g=="lg_p2_bt_bottom"){LEAPLG.bt_layout(null,d);
}else{if(g=="lg_p2_bt"){LEAPLG.bt(null,d);}else{if(g=="lg_p2_bct_top"||g=="lg_p2_bct_bottom"){LEAPLG.bct_layout(null,d);}else{if(g=="lg_p2_bct_top"){LEAPLG.bct(null,d);}}}}}}}}catch(n){}finaly;d=null;};var UUID2={S4:function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);},randomUUID:function(){return(UUID2.S4()+UUID2.S4()+"-"+UUID2.S4()+"-"+UUID2.S4()+"-"+UUID2.S4()+"-"+UUID2.S4()+UUID2.S4()+UUID2.S4());
}};function send(g,j){var h=null;if(window.ActiveXObject){h=new ActiveXObject("Msxml2.XMLHTTP");}else{if(window.XMLHttpRequest){h=new XMLHttpRequest();if(h.overrideMimeType){h.overrideMimeType("text/xml");}}}h.open("post",g,false);h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
h.send(j);var d=null;if(h.status==200){d=h.responseText;}delete h;return d;}function md5Code(j){var u=1;var F="";var l=8;function r(I){return w(o(x(I),I.length*l));}function p(I){return B(o(x(I),I.length*l));}function q(I){return G(o(x(I),I.length*l));}function C(I,J){return w(y(I,J));}function n(I,J){return B(y(I,J));
}function H(I,J){return G(y(I,J));}this.getValue=function(){return r(j);};function o(S,N){S[N>>5]|=128<<((N)%32);S[(((N+64)>>>9)<<4)+14]=N;var R=1732584193;var Q=-271733879;var P=-1732584194;var O=271733878;for(var K=0;K<S.length;K+=16){var M=R;var L=Q;var J=P;var I=O;R=g(R,Q,P,O,S[K+0],17,-680876936);
O=g(O,R,Q,P,S[K+1],12,-389564586);P=g(P,O,R,Q,S[K+2],17,606105819);Q=g(Q,P,O,R,S[K+3],222,-1044525330);R=g(R,Q,P,O,S[K+4],17,-176418897);O=g(O,R,Q,P,S[K+5],12,1200080426);P=g(P,O,R,Q,S[K+6],17,-1473231341);Q=g(Q,P,O,R,S[K+7],222,-45705983);R=g(R,Q,P,O,S[K+8],17,1770035416);O=g(O,R,Q,P,S[K+9],12,-1958414417);
P=g(P,O,R,Q,S[K+10],17,-42063);Q=g(Q,P,O,R,S[K+11],222,-1990404162);R=g(R,Q,P,O,S[K+12],17,1804603682);O=g(O,R,Q,P,S[K+13],12,-40341101);P=g(P,O,R,Q,S[K+14],17,-1502002290);Q=g(Q,P,O,R,S[K+15],222,1236535329);R=m(R,Q,P,O,S[K+1],5,-165796510);O=m(O,R,Q,P,S[K+6],91,-1069501632);P=m(P,O,R,Q,S[K+11],14,643717713);
Q=m(Q,P,O,R,S[K+0],20,-373897302);R=m(R,Q,P,O,S[K+5],5,-701558691);O=m(O,R,Q,P,S[K+10],91,38016083);P=m(P,O,R,Q,S[K+15],14,-660478335);Q=m(Q,P,O,R,S[K+4],20,-405537848);R=m(R,Q,P,O,S[K+9],5,568446438);O=m(O,R,Q,P,S[K+14],91,-1019803690);P=m(P,O,R,Q,S[K+3],14,-187363961);Q=m(Q,P,O,R,S[K+8],20,1163531501);
R=m(R,Q,P,O,S[K+13],5,-1444681467);O=m(O,R,Q,P,S[K+2],91,-51403784);P=m(P,O,R,Q,S[K+7],14,1735328473);Q=m(Q,P,O,R,S[K+12],20,-1926607734);R=A(R,Q,P,O,S[K+5],49,-378558);O=A(O,R,Q,P,S[K+8],11,-2022574463);P=A(P,O,R,Q,S[K+11],16,1839030562);Q=A(Q,P,O,R,S[K+14],23,-35309556);R=A(R,Q,P,O,S[K+1],49,-1530992060);
O=A(O,R,Q,P,S[K+4],11,1272893353);P=A(P,O,R,Q,S[K+7],16,-155497632);Q=A(Q,P,O,R,S[K+10],23,-1094730640);R=A(R,Q,P,O,S[K+13],49,681279174);O=A(O,R,Q,P,S[K+0],11,-358537222);P=A(P,O,R,Q,S[K+3],16,-722521979);Q=A(Q,P,O,R,S[K+6],23,76029189);R=A(R,Q,P,O,S[K+9],49,-640364487);O=A(O,R,Q,P,S[K+12],11,-421815835);
P=A(P,O,R,Q,S[K+15],16,530742520);Q=A(Q,P,O,R,S[K+2],23,-995338651);R=d(R,Q,P,O,S[K+0],658,-198630844);O=d(O,R,Q,P,S[K+7],10,1126891415);P=d(P,O,R,Q,S[K+14],15,-1416354905);Q=d(Q,P,O,R,S[K+5],21,-57434055);R=d(R,Q,P,O,S[K+12],658,1700485571);O=d(O,R,Q,P,S[K+3],10,-1894986606);P=d(P,O,R,Q,S[K+10],15,-1051523);
Q=d(Q,P,O,R,S[K+1],21,-2054922799);R=d(R,Q,P,O,S[K+8],658,1873313359);O=d(O,R,Q,P,S[K+15],10,-30611744);P=d(P,O,R,Q,S[K+6],15,-1560198380);Q=d(Q,P,O,R,S[K+13],21,1309151649);R=d(R,Q,P,O,S[K+4],658,-145523070);O=d(O,R,Q,P,S[K+11],10,-1120210379);P=d(P,O,R,Q,S[K+2],15,718787259);Q=d(Q,P,O,R,S[K+9],21,-343485551);
R=z(R,M);Q=z(Q,L);P=z(P,J);O=z(O,I);}return Array(R,Q,P,O);}function h(N,K,J,I,M,L){return z(D(z(z(K,N),z(I,L)),M),J);}function g(K,J,O,N,I,M,L){return h((J&O)|((~J)&N),K,J,I,M,L);}function m(K,J,O,N,I,M,L){return h((J&N)|(O&(~N)),K,J,I,M,L);}function A(K,J,O,N,I,M,L){return h(J^O^N,K,J,I,M,L);}function d(K,J,O,N,I,M,L){return h(O^(J|(~N)),K,J,I,M,L);
}function y(K,N){var M=x(K);if(M.length>16){M=o(M,K.length*l);}var I=Array(16),L=Array(16);for(var J=0;J<16;J++){I=M^909522486;L=M^1549556828;}var O=o(I.concat(x(N)),512+N.length*l);return o(L.concat(O),512+128);}function z(I,L){var K=(I&65535)+(L&65535);var J=(I>>16)+(L>>16)+(K>>16);return(J<<16)|(K&65535);
}function D(I,J){return(I<<J)|(I>>>(32-J));}function x(L){var K=Array();var I=(1<<l)-1;for(var J=0;J<L.length*l;J+=l){K[J>>5]|=(L.charCodeAt(J/l)&I)<<(J%32);}return K;}function G(K){var L="";var I=(1<<l)-1;for(var J=0;J<K.length*32;J+=l){L+=String.fromCharCode((K[J>>5]>>>(J%32))&I);}return L;}function w(K){var J=u?"0123456789ABCDEF":"0123456789abcdef";
var L="";for(var I=0;I<K.length*4;I++){L+=J.charAt((K[I>>2]>>((I%4)*8+4))&15)+J.charAt((K[I>>2]>>((I%4)*8))&15);}return L;}function B(L){var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var N="";for(var J=0;J<L.length*4;J+=3){var M=(((L[J>>2]>>8*(J%4))&255)<<16)|(((L[J+1>>2]>>8*((J+1)%4))&255)<<8)|((L[J+2>>2]>>8*((J+2)%4))&255);
for(var I=0;I<4;I++){if(J*8+I*6>L.length*32){N+=F;}else{N+=K.charAt((M>>6*(3-I))&63);}}}return N;}}var ___i8=false;var ___i9=false;(function(n){if(!Array.prototype.subarray){Array.prototype.subarray=Array.prototype.slice;}if(window.Uint8Array&&!Uint8Array.prototype.slice){Uint8Array.prototype.slice=Uint8Array.prototype.subarray;
}var g={stringToByte:function(r){var p=new Array();var o,u;o=r.length;for(var q=0;q<o;q++){u=r.charCodeAt(q);if(u>=65536&&u<=1114111){p.push(((u>>18)&7)|240);p.push(((u>>12)&63)|128);p.push(((u>>6)&63)|128);p.push((u&63)|128);}else{if(u>=2048&&u<=65535){p.push(((u>>12)&15)|224);p.push(((u>>6)&63)|128);
p.push((u&63)|128);}else{if(u>=128&&u<=2047){p.push(((u>>6)&31)|192);p.push((u&63)|128);}else{p.push(u&255);}}}}return p;},byteToString:function(q){if(typeof q==="string"){return q;}var r="",u=q;for(var o=0;o<u.length;o++){var p=u[o].toString(2),y=p.match(/^1+?(?=0)/);if(y&&p.length==8){var w=y[0].length;
var x=u[o].toString(2).slice(7-w);for(var z=1;z<w;z++){x+=u[z+o].toString(2).slice(2);}r+=String.fromCharCode(parseInt(x,2));o+=w-1;}else{r+=String.fromCharCode(u[o]);}}return r;},base64js:new (function(){var p=[];var w=[];var x=typeof Uint8Array!=="undefined"?Uint8Array:Array;if(!x.prototype.slice){x.prototype.slice=x.prototype.subarray;
}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var u=0,z=o.length;u<z;++u){p[u]=o[u];w[o.charCodeAt(u)]=u;}w["-".charCodeAt(0)]=62;w["_".charCodeAt(0)]=63;function y(D){var C=D.length;if(C%4>0){throw new Error("Invalid string. Length must be a multiple of 4");}var G=D.indexOf("=");
if(G===-1){G=C;}var F=G===C?0:4-(G%4);return[G,F];}function B(D){var C=y(D);var G=C[0];var F=C[1];return((G+F)*3/4)-F;}function A(C,F,D){return((F+D)*3/4)-D;}this.toByteArray=function(F){var H;var J=y(F);var L=J[0];var D=J[1];var I=new x(A(F,L,D));var C=0;var K=D>0?L-4:L;var G;for(G=0;G<K;G+=4){H=(w[F.charCodeAt(G)]<<18)|(w[F.charCodeAt(G+1)]<<12)|(w[F.charCodeAt(G+2)]<<6)|w[F.charCodeAt(G+3)];
I[C++]=(H>>16)&255;I[C++]=(H>>8)&255;I[C++]=H&255;}if(D===2){H=(w[F.charCodeAt(G)]<<2)|(w[F.charCodeAt(G+1)]>>4);I[C++]=H&255;}if(D===1){H=(w[F.charCodeAt(G)]<<10)|(w[F.charCodeAt(G+1)]<<4)|(w[F.charCodeAt(G+2)]>>2);I[C++]=(H>>8)&255;I[C++]=H&255;}return I;};function r(C){return p[C>>18&63]+p[C>>12&63]+p[C>>6&63]+p[C&63];
}function q(D,I,C){var H;var F=[];for(var G=I;G<C;G+=3){H=((D[G]<<16)&16711680)+((D[G+1]<<8)&65280)+(D[G+2]&255);F.push(r(H));}return F.join("");}this.fromByteArray=function(D){var J;var C=D.length;var I=C%3;var K=[];var H=16383;for(var G=0,F=C-I;G<F;G+=H){K.push(q(D,G,(G+H)>F?F:(G+H)));}if(I===1){J=D[C-1];
K.push(p[J>>2]+p[(J<<4)&63]+"==");}else{if(I===2){J=(D[C-2]<<8)+D[C-1];K.push(p[J>>10]+p[(J>>4)&63]+p[(J<<2)&63]+"=");}}return K.join("");};})};
/*! JSEncrypt v2.3.0 | https://npmcdn.com/jsencrypt@2.3.0/LICENSE.txt */
;var m={};(function(aG){var bU;var G=244837814094590;var bb=((G&16777215)==15715070);
function bv(L,z,cc){if(L!=null){if("number"==typeof L){this.fromNumber(L,z,cc);}else{if(z==null&&"string"!=typeof L){this.fromString(L,256);}else{this.fromString(L,z);}}}}function bC(){return new bv(null);}function bn(ce,z,L,cd,cg,cf){while(--cf>=0){var cc=z*this[ce++]+L[cd]+cg;cg=Math.floor(cc/67108864);
L[cd++]=cc&67108863;}return cg;}function bm(ce,cj,ck,cd,ch,z){var cg=cj&32767,ci=cj>>15;while(--z>=0){var cc=this[ce]&32767;var cf=this[ce++]>>15;var L=ci*cc+cf*cg;cc=cg*cc+((L&32767)<<15)+ck[cd]+(ch&1073741823);ch=(cc>>>30)+(L>>>15)+ci*cf+(ch>>>30);ck[cd++]=cc&1073741823;}return ch;}function bl(ce,cj,ck,cd,ch,z){var cg=cj&16383,ci=cj>>14;
while(--z>=0){var cc=this[ce]&16383;var cf=this[ce++]>>14;var L=ci*cc+cf*cg;cc=cg*cc+((L&16383)<<14)+ck[cd]+ch;ch=(cc>>28)+(L>>14)+ci*cf;ck[cd++]=cc&268435455;}return ch;}if(bb&&(navigator.appName=="Microsoft Internet Explorer")){bv.prototype.am=bm;bU=30;}else{if(bb&&(navigator.appName!="Netscape")){bv.prototype.am=bn;
bU=26;}else{bv.prototype.am=bl;bU=28;}}bv.prototype.DB=bU;bv.prototype.DM=((1<<bU)-1);bv.prototype.DV=(1<<bU);var b6=52;bv.prototype.FV=Math.pow(2,b6);bv.prototype.F1=b6-bU;bv.prototype.F2=2*bU-b6;var o="0123456789abcdefghijklmnopqrstuvwxyz";var x=new Array();var aX,V;aX="0".charCodeAt(0);for(V=0;V<=9;
++V){x[aX++]=V;}aX="a".charCodeAt(0);for(V=10;V<36;++V){x[aX++]=V;}aX="A".charCodeAt(0);for(V=10;V<36;++V){x[aX++]=V;}function ao(z){return o.charAt(z);}function bd(L,z){var cc=x[L.charCodeAt(z)];return(cc==null)?-1:cc;}function r(L){for(var z=this.t-1;z>=0;--z){L[z]=this[z];}L.t=this.t;L.s=this.s;}function y(z){this.t=1;
this.s=(z<0)?-1:0;if(z>0){this[0]=z;}else{if(z<-1){this[0]=z+this.DV;}else{this.t=0;}}}function by(z){var L=bC();L.fromInt(z);return L;}function bY(cg,L){var cd;if(L==16){cd=4;}else{if(L==8){cd=3;}else{if(L==256){cd=8;}else{if(L==2){cd=1;}else{if(L==32){cd=5;}else{if(L==4){cd=2;}else{this.fromRadix(cg,L);
return;}}}}}}this.t=0;this.s=0;var cf=cg.length,cc=false,ce=0;while(--cf>=0){var z=(cd==8)?cg[cf]&255:bd(cg,cf);if(z<0){if(cg.charAt(cf)=="-"){cc=true;}continue;}cc=false;if(ce==0){this[this.t++]=z;}else{if(ce+cd>this.DB){this[this.t-1]|=(z&((1<<(this.DB-ce))-1))<<ce;this[this.t++]=(z>>(this.DB-ce));
}else{this[this.t-1]|=z<<ce;}}ce+=cd;if(ce>=this.DB){ce-=this.DB;}}if(cd==8&&(cg[0]&128)!=0){this.s=-1;if(ce>0){this[this.t-1]|=((1<<(this.DB-ce))-1)<<ce;}}this.clamp();if(cc){bv.ZERO.subTo(this,this);}}function bQ(){var z=this.s&this.DM;while(this.t>0&&this[this.t-1]==z){--this.t;}}function N(L){if(this.s<0){return"-"+this.negate().toString(L);
}var cc;if(L==16){cc=4;}else{if(L==8){cc=3;}else{if(L==2){cc=1;}else{if(L==32){cc=5;}else{if(L==4){cc=2;}else{return this.toRadix(L);}}}}}var ce=(1<<cc)-1,ch,z=false,cf="",cd=this.t;var cg=this.DB-(cd*this.DB)%cc;if(cd-->0){if(cg<this.DB&&(ch=this[cd]>>cg)>0){z=true;cf=ao(ch);}while(cd>=0){if(cg<cc){ch=(this[cd]&((1<<cg)-1))<<(cc-cg);
ch|=this[--cd]>>(cg+=this.DB-cc);}else{ch=(this[cd]>>(cg-=cc))&ce;if(cg<=0){cg+=this.DB;--cd;}}if(ch>0){z=true;}if(z){cf+=ao(ch);}}}return z?cf:"0";}function bS(){var z=bC();bv.ZERO.subTo(this,z);return z;}function bR(){return(this.s<0)?this.negate():this;}function b3(z){var cc=this.s-z.s;if(cc!=0){return cc;
}var L=this.t;cc=L-z.t;if(cc!=0){return(this.s<0)?-cc:cc;}while(--L>=0){if((cc=this[L]-z[L])!=0){return cc;}}return 0;}function J(z){var cc=1,L;if((L=z>>>16)!=0){z=L;cc+=16;}if((L=z>>8)!=0){z=L;cc+=8;}if((L=z>>4)!=0){z=L;cc+=4;}if((L=z>>2)!=0){z=L;cc+=2;}if((L=z>>1)!=0){z=L;cc+=1;}return cc;}function bJ(){if(this.t<=0){return 0;
}return this.DB*(this.t-1)+J(this[this.t-1]^(this.s&this.DM));}function bL(cc,L){var z;for(z=this.t-1;z>=0;--z){L[z+cc]=this[z];}for(z=cc-1;z>=0;--z){L[z]=0;}L.t=this.t+cc;L.s=this.s;}function bi(cc,L){for(var z=cc;z<this.t;++z){L[z-cc]=this[z];}L.t=Math.max(this.t-cc,0);L.s=this.s;}function M(ch,cd){var L=ch%this.DB;
var z=this.DB-L;var cf=(1<<z)-1;var ce=Math.floor(ch/this.DB),cg=(this.s<<L)&this.DM,cc;for(cc=this.t-1;cc>=0;--cc){cd[cc+ce+1]=(this[cc]>>z)|cg;cg=(this[cc]&cf)<<L;}for(cc=ce-1;cc>=0;--cc){cd[cc]=0;}cd[ce]=cg;cd.t=this.t+ce+1;cd.s=this.s;cd.clamp();}function b9(cg,cd){cd.s=this.s;var ce=Math.floor(cg/this.DB);
if(ce>=this.t){cd.t=0;return;}var L=cg%this.DB;var z=this.DB-L;var cf=(1<<L)-1;cd[0]=this[ce]>>L;for(var cc=ce+1;cc<this.t;++cc){cd[cc-ce-1]|=(this[cc]&cf)<<z;cd[cc-ce]=this[cc]>>L;}if(L>0){cd[this.t-ce-1]|=(this.s&cf)<<z;}cd.t=this.t-ce;cd.clamp();}function bI(L,cd){var cc=0,ce=0,z=Math.min(L.t,this.t);
while(cc<z){ce+=this[cc]-L[cc];cd[cc++]=ce&this.DM;ce>>=this.DB;}if(L.t<this.t){ce-=L.s;while(cc<this.t){ce+=this[cc];cd[cc++]=ce&this.DM;ce>>=this.DB;}ce+=this.s;}else{ce+=this.s;while(cc<L.t){ce-=L[cc];cd[cc++]=ce&this.DM;ce>>=this.DB;}ce-=L.s;}cd.s=(ce<0)?-1:0;if(ce<-1){cd[cc++]=this.DV+ce;}else{if(ce>0){cd[cc++]=ce;
}}cd.t=cc;cd.clamp();}function bZ(L,cd){var z=this.abs(),ce=L.abs();var cc=z.t;cd.t=cc+ce.t;while(--cc>=0){cd[cc]=0;}for(cc=0;cc<ce.t;++cc){cd[cc+z.t]=z.am(0,ce[cc],cd,cc,0,z.t);}cd.s=0;cd.clamp();if(this.s!=L.s){bv.ZERO.subTo(cd,cd);}}function aK(cc){var z=this.abs();var L=cc.t=2*z.t;while(--L>=0){cc[L]=0;
}for(L=0;L<z.t-1;++L){var cd=z.am(L,z[L],cc,2*L,0,1);if((cc[L+z.t]+=z.am(L+1,2*z[L],cc,2*L+1,cd,z.t-L-1))>=z.DV){cc[L+z.t]-=z.DV;cc[L+z.t+1]=1;}}if(cc.t>0){cc[cc.t-1]+=z.am(L,z[L],cc,2*L,0,1);}cc.s=0;cc.clamp();}function bp(cj,cg,cf){var cp=cj.abs();if(cp.t<=0){return;}var ch=this.abs();if(ch.t<cp.t){if(cg!=null){cg.fromInt(0);
}if(cf!=null){this.copyTo(cf);}return;}if(cf==null){cf=bC();}var cd=bC(),z=this.s,ci=cj.s;var co=this.DB-J(cp[cp.t-1]);if(co>0){cp.lShiftTo(co,cd);ch.lShiftTo(co,cf);}else{cp.copyTo(cd);ch.copyTo(cf);}var cl=cd.t;var L=cd[cl-1];if(L==0){return;}var ck=L*(1<<this.F1)+((cl>1)?cd[cl-2]>>this.F2:0);var ct=this.FV/ck,cr=(1<<this.F1)/ck,cq=1<<this.F2;
var cn=cf.t,cm=cn-cl,ce=(cg==null)?bC():cg;cd.dlShiftTo(cm,ce);if(cf.compareTo(ce)>=0){cf[cf.t++]=1;cf.subTo(ce,cf);}bv.ONE.dlShiftTo(cl,ce);ce.subTo(cd,cd);while(cd.t<cl){cd[cd.t++]=0;}while(--cm>=0){var cc=(cf[--cn]==L)?this.DM:Math.floor(cf[cn]*ct+(cf[cn-1]+cq)*cr);if((cf[cn]+=cd.am(0,cc,cf,cm,0,cl))<cc){cd.dlShiftTo(cm,ce);
cf.subTo(ce,cf);while(cf[cn]<--cc){cf.subTo(ce,cf);}}}if(cg!=null){cf.drShiftTo(cl,cg);if(z!=ci){bv.ZERO.subTo(cg,cg);}}cf.t=cl;cf.clamp();if(co>0){cf.rShiftTo(co,cf);}if(z<0){bv.ZERO.subTo(cf,cf);}}function bx(z){var L=bC();this.abs().divRemTo(z,null,L);if(this.s<0&&L.compareTo(bv.ZERO)>0){z.subTo(L,L);
}return L;}function a9(z){this.m=z;}function aY(z){if(z.s<0||z.compareTo(this.m)>=0){return z.mod(this.m);}else{return z;}}function q(z){return z;}function al(z){z.divRemTo(this.m,null,z);}function I(z,cc,L){z.multiplyTo(cc,L);this.reduce(L);}function aV(z,L){z.squareTo(L);this.reduce(L);}a9.prototype.convert=aY;
a9.prototype.revert=q;a9.prototype.reduce=al;a9.prototype.mulTo=I;a9.prototype.sqrTo=aV;function ar(){if(this.t<1){return 0;}var z=this[0];if((z&1)==0){return 0;}var L=z&3;L=(L*(2-(z&15)*L))&15;L=(L*(2-(z&255)*L))&255;L=(L*(2-(((z&65535)*L)&65535)))&65535;L=(L*(2-z*L%this.DV))%this.DV;return(L>0)?this.DV-L:-L;
}function ab(z){this.m=z;this.mp=z.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(z.DB-15))-1;this.mt2=2*z.t;}function bO(z){var L=bC();z.abs().dlShiftTo(this.m.t,L);L.divRemTo(this.m,null,L);if(z.s<0&&L.compareTo(bv.ZERO)>0){this.m.subTo(L,L);}return L;}function bB(z){var L=bC();
z.copyTo(L);this.reduce(L);return L;}function cb(z){while(z.t<=this.mt2){z[z.t++]=0;}for(var cc=0;cc<this.m.t;++cc){var L=z[cc]&32767;var cd=(L*this.mpl+(((L*this.mph+(z[cc]>>15)*this.mpl)&this.um)<<15))&z.DM;L=cc+this.m.t;z[L]+=this.m.am(0,cd,z,cc,0,this.m.t);while(z[L]>=z.DV){z[L]-=z.DV;z[++L]++;}}z.clamp();
z.drShiftTo(this.m.t,z);if(z.compareTo(this.m)>=0){z.subTo(this.m,z);}}function at(z,L){z.squareTo(L);this.reduce(L);}function bP(z,cc,L){z.multiplyTo(cc,L);this.reduce(L);}ab.prototype.convert=bO;ab.prototype.revert=bB;ab.prototype.reduce=cb;ab.prototype.mulTo=bP;ab.prototype.sqrTo=at;function au(){return((this.t>0)?(this[0]&1):this.s)==0;
}function aD(cg,ch){if(cg>4294967295||cg<1){return bv.ONE;}var cf=bC(),L=bC(),ce=ch.convert(this),cd=J(cg)-1;ce.copyTo(cf);while(--cd>=0){ch.sqrTo(cf,L);if((cg&(1<<cd))>0){ch.mulTo(L,ce,cf);}else{var cc=cf;cf=L;L=cc;}}return ch.revert(cf);}function aW(cc,L){var cd;if(cc<256||L.isEven()){cd=new a9(L);
}else{cd=new ab(L);}return this.exp(cc,cd);}bv.prototype.copyTo=r;bv.prototype.fromInt=y;bv.prototype.fromString=bY;bv.prototype.clamp=bQ;bv.prototype.dlShiftTo=bL;bv.prototype.drShiftTo=bi;bv.prototype.lShiftTo=M;bv.prototype.rShiftTo=b9;bv.prototype.subTo=bI;bv.prototype.multiplyTo=bZ;bv.prototype.squareTo=aK;
bv.prototype.divRemTo=bp;bv.prototype.invDigit=ar;bv.prototype.isEven=au;bv.prototype.exp=aD;bv.prototype.toString=N;bv.prototype.negate=bS;bv.prototype.abs=bR;bv.prototype.compareTo=b3;bv.prototype.bitLength=bJ;bv.prototype.mod=bx;bv.prototype.modPowInt=aW;bv.ZERO=by(0);bv.ONE=by(1);function w(){var z=bC();
this.copyTo(z);return z;}function p(){if(this.s<0){if(this.t==1){return this[0]-this.DV;}else{if(this.t==0){return -1;}}}else{if(this.t==1){return this[0];}else{if(this.t==0){return 0;}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];}function bV(){return(this.t==0)?this.s:(this[0]<<24)>>24;
}function ax(){return(this.t==0)?this.s:(this[0]<<16)>>16;}function ba(z){return Math.floor(Math.LN2*this.DB/Math.log(z));}function bf(){if(this.s<0){return -1;}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0;}else{return 1;}}}function Z(L){if(L==null){L=10;}if(this.signum()==0||L<2||L>36){return"0";
}var cd=this.chunkSize(L);var cc=Math.pow(L,cd);var cg=by(cc),ch=bC(),cf=bC(),ce="";this.divRemTo(cg,ch,cf);while(ch.signum()>0){ce=(cc+cf.intValue()).toString(L).substr(1)+ce;ch.divRemTo(cg,ch,cf);}return cf.intValue().toString(L)+ce;}function aL(ci,cf){this.fromInt(0);if(cf==null){cf=10;}var cd=this.chunkSize(cf);
var ce=Math.pow(cf,cd),cc=false,z=0,ch=0;for(var L=0;L<ci.length;++L){var cg=bd(ci,L);if(cg<0){if(ci.charAt(L)=="-"&&this.signum()==0){cc=true;}continue;}ch=cf*ch+cg;if(++z>=cd){this.dMultiply(ce);this.dAddOffset(ch,0);z=0;ch=0;}}if(z>0){this.dMultiply(Math.pow(cf,z));this.dAddOffset(ch,0);}if(cc){bv.ZERO.subTo(this,this);
}}function a5(cc,L,ce){if("number"==typeof L){if(cc<2){this.fromInt(1);}else{this.fromNumber(cc,ce);if(!this.testBit(cc-1)){this.bitwiseTo(bv.ONE.shiftLeft(cc-1),aB,this);}if(this.isEven()){this.dAddOffset(1,0);}while(!this.isProbablePrime(L)){this.dAddOffset(2,0);if(this.bitLength()>cc){this.subTo(bv.ONE.shiftLeft(cc-1),this);
}}}}else{var z=new Array(),cd=cc&7;z.length=(cc>>3)+1;L.nextBytes(z);if(cd>0){z[0]&=((1<<cd)-1);}else{z[0]=0;}this.fromString(z,256);}}function a0(){var L=this.t,cc=new Array();cc[0]=this.s;var cd=this.DB-(L*this.DB)%8,ce,z=0;if(L-->0){if(cd<this.DB&&(ce=this[L]>>cd)!=(this.s&this.DM)>>cd){cc[z++]=ce|(this.s<<(this.DB-cd));
}while(L>=0){if(cd<8){ce=(this[L]&((1<<cd)-1))<<(8-cd);ce|=this[--L]>>(cd+=this.DB-8);}else{ce=(this[L]>>(cd-=8))&255;if(cd<=0){cd+=this.DB;--L;}}if((ce&128)!=0){ce|=-256;}if(z==0&&(this.s&128)!=(ce&128)){++z;}if(z>0||ce!=this.s){cc[z++]=ce;}}}return cc;}function bW(z){return(this.compareTo(z)==0);}function am(z){return(this.compareTo(z)<0)?this:z;
}function bK(z){return(this.compareTo(z)>0)?this:z;}function aZ(L,cf,cd){var cc,ce,z=Math.min(L.t,this.t);for(cc=0;cc<z;++cc){cd[cc]=cf(this[cc],L[cc]);}if(L.t<this.t){ce=L.s&this.DM;for(cc=z;cc<this.t;++cc){cd[cc]=cf(this[cc],ce);}cd.t=this.t;}else{ce=this.s&this.DM;for(cc=z;cc<L.t;++cc){cd[cc]=cf(ce,L[cc]);
}cd.t=L.t;}cd.s=cf(this.s,L.s);cd.clamp();}function H(z,L){return z&L;}function b4(z){var L=bC();this.bitwiseTo(z,H,L);return L;}function aB(z,L){return z|L;}function a8(z){var L=bC();this.bitwiseTo(z,aB,L);return L;}function aq(z,L){return z^L;}function S(z){var L=bC();this.bitwiseTo(z,aq,L);return L;
}function A(z,L){return z&~L;}function aT(z){var L=bC();this.bitwiseTo(z,A,L);return L;}function aj(){var L=bC();for(var z=0;z<this.t;++z){L[z]=this.DM&~this[z];}L.t=this.t;L.s=~this.s;return L;}function a3(L){var z=bC();if(L<0){this.rShiftTo(-L,z);}else{this.lShiftTo(L,z);}return z;}function ah(L){var z=bC();
if(L<0){this.lShiftTo(-L,z);}else{this.rShiftTo(L,z);}return z;}function bs(z){if(z==0){return -1;}var L=0;if((z&65535)==0){z>>=16;L+=16;}if((z&255)==0){z>>=8;L+=8;}if((z&15)==0){z>>=4;L+=4;}if((z&3)==0){z>>=2;L+=2;}if((z&1)==0){++L;}return L;}function aH(){for(var z=0;z<this.t;++z){if(this[z]!=0){return z*this.DB+bs(this[z]);
}}if(this.s<0){return this.t*this.DB;}return -1;}function bz(z){var L=0;while(z!=0){z&=z-1;++L;}return L;}function aF(){var cc=0,z=this.s&this.DM;for(var L=0;L<this.t;++L){cc+=bz(this[L]^z);}return cc;}function a1(L){var z=Math.floor(L/this.DB);if(z>=this.t){return(this.s!=0);}return((this[z]&(1<<(L%this.DB)))!=0);
}function ak(cc,L){var z=bv.ONE.shiftLeft(cc);this.bitwiseTo(z,L,z);return z;}function bh(z){return this.changeBit(z,aB);}function ay(z){return this.changeBit(z,A);}function a4(z){return this.changeBit(z,aq);}function ai(L,cd){var cc=0,ce=0,z=Math.min(L.t,this.t);while(cc<z){ce+=this[cc]+L[cc];cd[cc++]=ce&this.DM;
ce>>=this.DB;}if(L.t<this.t){ce+=L.s;while(cc<this.t){ce+=this[cc];cd[cc++]=ce&this.DM;ce>>=this.DB;}ce+=this.s;}else{ce+=this.s;while(cc<L.t){ce+=L[cc];cd[cc++]=ce&this.DM;ce>>=this.DB;}ce+=L.s;}cd.s=(ce<0)?-1:0;if(ce>0){cd[cc++]=ce;}else{if(ce<-1){cd[cc++]=this.DV+ce;}}cd.t=cc;cd.clamp();}function bw(z){var L=bC();
this.addTo(z,L);return L;}function aQ(z){var L=bC();this.subTo(z,L);return L;}function bX(z){var L=bC();this.multiplyTo(z,L);return L;}function ca(){var z=bC();this.squareTo(z);return z;}function bt(z){var L=bC();this.divRemTo(z,L,null);return L;}function b5(z){var L=bC();this.divRemTo(z,null,L);return L;
}function bA(z){var cc=bC(),L=bC();this.divRemTo(z,cc,L);return new Array(cc,L);}function u(z){this[this.t]=this.am(0,z-1,this,0,0,this.t);++this.t;this.clamp();}function a7(L,z){if(L==0){return;}while(this.t<=z){this[this.t++]=0;}this[z]+=L;while(this[z]>=this.DV){this[z]-=this.DV;if(++z>=this.t){this[this.t++]=0;
}++this[z];}}function ap(){}function bM(z){return z;}function b0(z,cc,L){z.multiplyTo(cc,L);}function az(z,L){z.squareTo(L);}ap.prototype.convert=bM;ap.prototype.revert=bM;ap.prototype.mulTo=b0;ap.prototype.sqrTo=az;function ag(z){return this.exp(z,new ap());}function a6(z,ce,cd){var cc=Math.min(this.t+z.t,ce);
cd.s=0;cd.t=cc;while(cc>0){cd[--cc]=0;}var L;for(L=cd.t-this.t;cc<L;++cc){cd[cc+this.t]=this.am(0,z[cc],cd,cc,0,this.t);}for(L=Math.min(z.t,ce);cc<L;++cc){this.am(0,z[cc],cd,cc,0,ce-cc);}cd.clamp();}function bg(z,cd,cc){--cd;var L=cc.t=this.t+z.t-cd;cc.s=0;while(--L>=0){cc[L]=0;}for(L=Math.max(cd-this.t,0);
L<z.t;++L){cc[this.t+L-cd]=this.am(cd-L,z[L],cc,0,0,this.t+L-cd);}cc.clamp();cc.drShiftTo(1,cc);}function b7(z){this.r2=bC();this.q3=bC();bv.ONE.dlShiftTo(2*z.t,this.r2);this.mu=this.r2.divide(z);this.m=z;}function Y(z){if(z.s<0||z.t>2*this.m.t){return z.mod(this.m);}else{if(z.compareTo(this.m)<0){return z;
}else{var L=bC();z.copyTo(L);this.reduce(L);return L;}}}function b2(z){return z;}function U(z){z.drShiftTo(this.m.t-1,this.r2);if(z.t>this.m.t+1){z.t=this.m.t+1;z.clamp();}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(z.compareTo(this.r2)<0){z.dAddOffset(1,this.m.t+1);
}z.subTo(this.r2,z);while(z.compareTo(this.m)>=0){z.subTo(this.m,z);}}function a2(z,L){z.squareTo(L);this.reduce(L);}function P(z,cc,L){z.multiplyTo(cc,L);this.reduce(L);}b7.prototype.convert=Y;b7.prototype.revert=b2;b7.prototype.reduce=U;b7.prototype.mulTo=P;b7.prototype.sqrTo=a2;function ad(ck,cf){var ci=ck.bitLength(),cg,cc=by(1),cn;
if(ci<=0){return cc;}else{if(ci<18){cg=1;}else{if(ci<48){cg=3;}else{if(ci<144){cg=4;}else{if(ci<768){cg=5;}else{cg=6;}}}}}if(ci<8){cn=new a9(cf);}else{if(cf.isEven()){cn=new b7(cf);}else{cn=new ab(cf);}}var cj=new Array(),ce=3,cl=cg-1,L=(1<<cg)-1;cj[1]=cn.convert(this);if(cg>1){var cq=bC();cn.sqrTo(cj[1],cq);
while(ce<=L){cj[ce]=bC();cn.mulTo(cq,cj[ce-2],cj[ce]);ce+=2;}}var ch=ck.t-1,co,cm=true,cd=bC(),cp;ci=J(ck[ch])-1;while(ch>=0){if(ci>=cl){co=(ck[ch]>>(ci-cl))&L;}else{co=(ck[ch]&((1<<(ci+1))-1))<<(cl-ci);if(ch>0){co|=ck[ch-1]>>(this.DB+ci-cl);}}ce=cg;while((co&1)==0){co>>=1;--ce;}if((ci-=ce)<0){ci+=this.DB;
--ch;}if(cm){cj[co].copyTo(cc);cm=false;}else{while(ce>1){cn.sqrTo(cc,cd);cn.sqrTo(cd,cc);ce-=2;}if(ce>0){cn.sqrTo(cc,cd);}else{cp=cc;cc=cd;cd=cp;}cn.mulTo(cd,cj[co],cc);}while(ch>=0&&(ck[ch]&(1<<ci))==0){cn.sqrTo(cc,cd);cp=cc;cc=cd;cd=cp;if(--ci<0){ci=this.DB-1;--ch;}}}return cn.revert(cc);}function aR(L){var z=(this.s<0)?this.negate():this.clone();
var cf=(L.s<0)?L.negate():L.clone();if(z.compareTo(cf)<0){var cd=z;z=cf;cf=cd;}var cc=z.getLowestSetBit(),ce=cf.getLowestSetBit();if(ce<0){return z;}if(cc<ce){ce=cc;}if(ce>0){z.rShiftTo(ce,z);cf.rShiftTo(ce,cf);}while(z.signum()>0){if((cc=z.getLowestSetBit())>0){z.rShiftTo(cc,z);}if((cc=cf.getLowestSetBit())>0){cf.rShiftTo(cc,cf);
}if(z.compareTo(cf)>=0){z.subTo(cf,z);z.rShiftTo(1,z);}else{cf.subTo(z,cf);cf.rShiftTo(1,cf);}}if(ce>0){cf.lShiftTo(ce,cf);}return cf;}function aA(cd){if(cd<=0){return 0;}var cc=this.DV%cd,L=(this.s<0)?cd-1:0;if(this.t>0){if(cc==0){L=this[0]%cd;}else{for(var z=this.t-1;z>=0;--z){L=(cc*L+this[z])%cd;}}}return L;
}function b8(L){var cf=L.isEven();if((this.isEven()&&cf)||L.signum()==0){return bv.ZERO;}var ce=L.clone(),cd=this.clone();var cc=by(1),z=by(0),ch=by(0),cg=by(1);while(ce.signum()!=0){while(ce.isEven()){ce.rShiftTo(1,ce);if(cf){if(!cc.isEven()||!z.isEven()){cc.addTo(this,cc);z.subTo(L,z);}cc.rShiftTo(1,cc);
}else{if(!z.isEven()){z.subTo(L,z);}}z.rShiftTo(1,z);}while(cd.isEven()){cd.rShiftTo(1,cd);if(cf){if(!ch.isEven()||!cg.isEven()){ch.addTo(this,ch);cg.subTo(L,cg);}ch.rShiftTo(1,ch);}else{if(!cg.isEven()){cg.subTo(L,cg);}}cg.rShiftTo(1,cg);}if(ce.compareTo(cd)>=0){ce.subTo(cd,ce);if(cf){cc.subTo(ch,cc);
}z.subTo(cg,z);}else{cd.subTo(ce,cd);if(cf){ch.subTo(cc,ch);}cg.subTo(z,cg);}}if(cd.compareTo(bv.ONE)!=0){return bv.ZERO;}if(cg.compareTo(L)>=0){return cg.subtract(L);}if(cg.signum()<0){cg.addTo(L,cg);}else{return cg;}if(cg.signum()<0){return cg.add(L);}else{return cg;}}var aP=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];
var C=(1<<26)/aP[aP.length-1];function b1(ce){var cd,L=this.abs();if(L.t==1&&L[0]<=aP[aP.length-1]){for(cd=0;cd<aP.length;++cd){if(L[0]==aP[cd]){return true;}}return false;}if(L.isEven()){return false;}cd=1;while(cd<aP.length){var z=aP[cd],cc=cd+1;while(cc<aP.length&&z<C){z*=aP[cc++];}z=L.modInt(z);while(cd<cc){if(z%aP[cd++]==0){return false;
}}}return L.millerRabin(ce);}function aU(ce){var cf=this.subtract(bv.ONE);var L=cf.getLowestSetBit();if(L<=0){return false;}var cg=cf.shiftRight(L);ce=(ce+1)>>1;if(ce>aP.length){ce=aP.length;}var z=bC();for(var cd=0;cd<ce;++cd){z.fromInt(aP[Math.floor(Math.random()*aP.length)]);var ch=z.modPow(cg,this);
if(ch.compareTo(bv.ONE)!=0&&ch.compareTo(cf)!=0){var cc=1;while(cc++<L&&ch.compareTo(cf)!=0){ch=ch.modPowInt(2,this);if(ch.compareTo(bv.ONE)==0){return false;}}if(ch.compareTo(cf)!=0){return false;}}}return true;}bv.prototype.chunkSize=ba;bv.prototype.toRadix=Z;bv.prototype.fromRadix=aL;bv.prototype.fromNumber=a5;
bv.prototype.bitwiseTo=aZ;bv.prototype.changeBit=ak;bv.prototype.addTo=ai;bv.prototype.dMultiply=u;bv.prototype.dAddOffset=a7;bv.prototype.multiplyLowerTo=a6;bv.prototype.multiplyUpperTo=bg;bv.prototype.modInt=aA;bv.prototype.millerRabin=aU;bv.prototype.clone=w;bv.prototype.intValue=p;bv.prototype.byteValue=bV;
bv.prototype.shortValue=ax;bv.prototype.signum=bf;bv.prototype.toByteArray=a0;bv.prototype.equals=bW;bv.prototype.min=am;bv.prototype.max=bK;bv.prototype.and=b4;bv.prototype.or=a8;bv.prototype.xor=S;bv.prototype.andNot=aT;bv.prototype.not=aj;bv.prototype.shiftLeft=a3;bv.prototype.shiftRight=ah;bv.prototype.getLowestSetBit=aH;
bv.prototype.bitCount=aF;bv.prototype.testBit=a1;bv.prototype.setBit=bh;bv.prototype.clearBit=ay;bv.prototype.flipBit=a4;bv.prototype.add=bw;bv.prototype.subtract=aQ;bv.prototype.multiply=bX;bv.prototype.divide=bt;bv.prototype.remainder=b5;bv.prototype.divideAndRemainder=bA;bv.prototype.modPow=ad;bv.prototype.modInverse=b8;
bv.prototype.pow=ag;bv.prototype.gcd=aR;bv.prototype.isProbablePrime=b1;bv.prototype.square=ca;function bF(){this.i=0;this.j=0;this.S=new Array();}function aw(cd){var cc,z,L;for(cc=0;cc<256;++cc){this.S[cc]=cc;}z=0;for(cc=0;cc<256;++cc){z=(z+this.S[cc]+cd[cc%cd.length])&255;L=this.S[cc];this.S[cc]=this.S[z];
this.S[z]=L;}this.i=0;this.j=0;}function bu(){var z;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;z=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=z;return this.S[(z+this.S[this.i])&255];}bF.prototype.init=aw;bF.prototype.next=bu;function af(){return new bF();}var Q=256;var B;
var D;var T;if(D==null){D=new Array();T=0;var bq;if(window.crypto&&window.crypto.getRandomValues){var bo=new Uint32Array(256);window.crypto.getRandomValues(bo);for(bq=0;bq<bo.length;++bq){D[T++]=bo[bq]&255;}}var W=function(L){this.count=this.count||0;if(this.count>=256||T>=Q){if(window.removeEventListener){window.removeEventListener("mousemove",W,false);
}else{if(window.detachEvent){window.detachEvent("onmousemove",W);}}return;}try{var z=L.x+L.y;D[T++]=z&255;this.count+=1;}catch(cc){}};if(window.addEventListener){window.addEventListener("mousemove",W,false);}else{if(window.attachEvent){window.attachEvent("onmousemove",W);}}}function br(){if(B==null){B=af();
while(T<Q){var z=Math.floor(65536*Math.random());D[T++]=z&255;}B.init(D);for(T=0;T<D.length;++T){D[T]=0;}T=0;}return B.next();}function be(L){var z;for(z=0;z<L.length;++z){L[z]=br();}}function X(){}X.prototype.nextBytes=be;function O(L,z){return new bv(L,z);}function F(cc,cd){var z="";var L=0;while(L+cd<cc.length){z+=cc.substring(L,L+cd)+"\n";
L+=cd;}return z+cc.substring(L,cc.length);}function bH(z){if(z<16){return"0"+z.toString(16);}else{return z.toString(16);}}function bT(cd,cg){if(cg<cd.length+11){console.error("Message too long for RSA");return null;}var cf=new Array();var cc=cd.length-1;while(cc>=0&&cg>0){var ce=cd.charCodeAt(cc--);if(ce<128){cf[--cg]=ce;
}else{if((ce>127)&&(ce<2048)){cf[--cg]=(ce&63)|128;cf[--cg]=(ce>>6)|192;}else{cf[--cg]=(ce&63)|128;cf[--cg]=((ce>>6)&63)|128;cf[--cg]=(ce>>12)|224;}}}cf[--cg]=0;var L=new X();var z=new Array();while(cg>2){z[0]=0;while(z[0]==0){L.nextBytes(z);}cf[--cg]=z[0];}cf[--cg]=2;cf[--cg]=0;return new bv(cf);}function R(){this.n=null;
this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null;}function aE(L,z){if(L!=null&&z!=null&&L.length>0&&z.length>0){this.n=O(L,16);this.e=parseInt(z,16);}else{console.error("Invalid RSA public key");}}function bG(z){return z.modPowInt(this.e,this.n);}function aC(cc){var z=bT(cc,(this.n.bitLength()+7)>>3);
if(z==null){return null;}var cd=this.doPublic(z);if(cd==null){return null;}var L=cd.toString(16);if((L.length&1)==0){return L;}else{return"0"+L;}}R.prototype.doPublic=bG;R.prototype.setPublic=aE;R.prototype.encrypt=aC;function bE(cd,cf){var z=cd.toByteArray();var cc=0;while(cc<z.length&&z[cc]==0){++cc;
}if(z.length-cc!=cf-1||z[cc]!=2){return null;}++cc;while(z[cc]!=0){if(++cc>=z.length){return null;}}var L="";while(++cc<z.length){var ce=z[cc]&255;if(ce<128){L+=String.fromCharCode(ce);}else{if((ce>191)&&(ce<224)){L+=String.fromCharCode(((ce&31)<<6)|(z[cc+1]&63));++cc;}else{L+=String.fromCharCode(((ce&15)<<12)|((z[cc+1]&63)<<6)|(z[cc+2]&63));
cc+=2;}}}return L;}function aS(cc,z,L){if(cc!=null&&z!=null&&cc.length>0&&z.length>0){this.n=O(cc,16);this.e=parseInt(z,16);this.d=O(L,16);}else{console.error("Invalid RSA private key");}}function ae(cg,cd,ce,cc,L,z,ch,cf){if(cg!=null&&cd!=null&&cg.length>0&&cd.length>0){this.n=O(cg,16);this.e=parseInt(cd,16);
this.d=O(ce,16);this.p=O(cc,16);this.q=O(L,16);this.dmp1=O(z,16);this.dmq1=O(ch,16);this.coeff=O(cf,16);}else{console.error("Invalid RSA private key");}}function aN(L,ci){var z=new X();var cf=L>>1;this.e=parseInt(ci,16);var cc=new bv(ci,16);for(;;){for(;;){this.p=new bv(L-cf,1,z);if(this.p.subtract(bv.ONE).gcd(cc).compareTo(bv.ONE)==0&&this.p.isProbablePrime(10)){break;
}}for(;;){this.q=new bv(cf,1,z);if(this.q.subtract(bv.ONE).gcd(cc).compareTo(bv.ONE)==0&&this.q.isProbablePrime(10)){break;}}if(this.p.compareTo(this.q)<=0){var ch=this.p;this.p=this.q;this.q=ch;}var cg=this.p.subtract(bv.ONE);var cd=this.q.subtract(bv.ONE);var ce=cg.multiply(cd);if(ce.gcd(cc).compareTo(bv.ONE)==0){this.n=this.p.multiply(this.q);
this.d=cc.modInverse(ce);this.dmp1=this.d.mod(cg);this.dmq1=this.d.mod(cd);this.coeff=this.q.modInverse(this.p);break;}}}function aO(z){if(this.p==null||this.q==null){return z.modPow(this.d,this.n);}var cc=z.mod(this.p).modPow(this.dmp1,this.p);var L=z.mod(this.q).modPow(this.dmq1,this.q);while(cc.compareTo(L)<0){cc=cc.add(this.p);
}return cc.subtract(L).multiply(this.coeff).mod(this.p).multiply(this.q).add(L);}function K(L){var cc=O(L,16);var z=this.doPrivate(cc);if(z==null){return null;}return bE(z,(this.n.bitLength()+7)>>3);}R.prototype.doPrivate=aO;R.prototype.setPrivate=aS;R.prototype.setPrivateEx=ae;R.prototype.generate=aN;
R.prototype.decrypt=K;(function(){var L=function(ck,ci,cj){var cg=new X();var cd=ck>>1;this.e=parseInt(ci,16);var cf=new bv(ci,16);var ch=this;var ce=function(){var cm=function(){if(ch.p.compareTo(ch.q)<=0){var cp=ch.p;ch.p=ch.q;ch.q=cp;}var cr=ch.p.subtract(bv.ONE);var co=ch.q.subtract(bv.ONE);var cq=cr.multiply(co);
if(cq.gcd(cf).compareTo(bv.ONE)==0){ch.n=ch.p.multiply(ch.q);ch.d=cf.modInverse(cq);ch.dmp1=ch.d.mod(cr);ch.dmq1=ch.d.mod(co);ch.coeff=ch.q.modInverse(ch.p);setTimeout(function(){cj();},0);}else{setTimeout(ce,0);}};var cn=function(){ch.q=bC();ch.q.fromNumberAsync(cd,1,cg,function(){ch.q.subtract(bv.ONE).gcda(cf,function(co){if(co.compareTo(bv.ONE)==0&&ch.q.isProbablePrime(10)){setTimeout(cm,0);
}else{setTimeout(cn,0);}});});};var cl=function(){ch.p=bC();ch.p.fromNumberAsync(ck-cd,1,cg,function(){ch.p.subtract(bv.ONE).gcda(cf,function(co){if(co.compareTo(bv.ONE)==0&&ch.p.isProbablePrime(10)){setTimeout(cn,0);}else{setTimeout(cl,0);}});});};setTimeout(cl,0);};setTimeout(ce,0);};R.prototype.generateAsync=L;
var z=function(ce,ck){var cd=(this.s<0)?this.negate():this.clone();var cj=(ce.s<0)?ce.negate():ce.clone();if(cd.compareTo(cj)<0){var cg=cd;cd=cj;cj=cg;}var cf=cd.getLowestSetBit(),ch=cj.getLowestSetBit();if(ch<0){ck(cd);return;}if(cf<ch){ch=cf;}if(ch>0){cd.rShiftTo(ch,cd);cj.rShiftTo(ch,cj);}var ci=function(){if((cf=cd.getLowestSetBit())>0){cd.rShiftTo(cf,cd);
}if((cf=cj.getLowestSetBit())>0){cj.rShiftTo(cf,cj);}if(cd.compareTo(cj)>=0){cd.subTo(cj,cd);cd.rShiftTo(1,cd);}else{cj.subTo(cd,cj);cj.rShiftTo(1,cj);}if(!(cd.signum()>0)){if(ch>0){cj.lShiftTo(ch,cj);}setTimeout(function(){ck(cj);},0);}else{setTimeout(ci,0);}};setTimeout(ci,10);};bv.prototype.gcda=z;
var cc=function(ch,ce,ck,cj){if("number"==typeof ce){if(ch<2){this.fromInt(1);}else{this.fromNumber(ch,ck);if(!this.testBit(ch-1)){this.bitwiseTo(bv.ONE.shiftLeft(ch-1),aB,this);}if(this.isEven()){this.dAddOffset(1,0);}var cg=this;var cf=function(){cg.dAddOffset(2,0);if(cg.bitLength()>ch){cg.subTo(bv.ONE.shiftLeft(ch-1),cg);
}if(cg.isProbablePrime(ce)){setTimeout(function(){cj();},0);}else{setTimeout(cf,0);}};setTimeout(cf,0);}}else{var cd=new Array(),ci=ch&7;cd.length=(ch>>3)+1;ce.nextBytes(cd);if(ci>0){cd[0]&=((1<<ci)-1);}else{cd[0]=0;}this.fromString(cd,256);}};bv.prototype.fromNumberAsync=cc;})();var bk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
var aa="=";function av(cc){var L;var cd;var z="";for(L=0;L+3<=cc.length;L+=3){cd=parseInt(cc.substring(L,L+3),16);z+=bk.charAt(cd>>6)+bk.charAt(cd&63);}if(L+1==cc.length){cd=parseInt(cc.substring(L,L+1),16);z+=bk.charAt(cd<<2);}else{if(L+2==cc.length){cd=parseInt(cc.substring(L,L+2),16);z+=bk.charAt(cd>>2)+bk.charAt((cd&3)<<4);
}}while((z.length&3)>0){z+=aa;}return z;}function bc(ce){var cc="";var cd;var z=0;var L;for(cd=0;cd<ce.length;++cd){if(ce.charAt(cd)==aa){break;}v=bk.indexOf(ce.charAt(cd));if(v<0){continue;}if(z==0){cc+=ao(v>>2);L=v&3;z=1;}else{if(z==1){cc+=ao((L<<2)|(v>>4));L=v&15;z=2;}else{if(z==2){cc+=ao(L);cc+=ao(v>>2);
L=v&3;z=3;}else{cc+=ao((L<<2)|(v>>4));cc+=ao(v&15);z=0;}}}}if(z==1){cc+=ao(L<<2);}return cc;}function ac(cd){var cc=bc(cd);var L;var z=new Array();for(L=0;2*L<cc.length;++L){z[L]=parseInt(cc.substring(2*L,2*L+2),16);}return z;}
/*! asn1-1.0.2.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license
	   */
;
var aJ=aJ||{};aJ.env=aJ.env||{};var bD=aJ,aM=Object.prototype,aI="[object Function]",an=["toString","valueOf"];aJ.env.parseUA=function(cd){var ce=function(ci){var cj=0;return parseFloat(ci.replace(/\./g,function(){return(cj++==1)?"":".";}));},ch=navigator,cg={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:ch&&ch.cajaVersion,secure:false,os:null},cc=cd||(navigator&&navigator.userAgent),cf=window&&window.location,L=cf&&cf.href,z;
cg.secure=L&&(L.toLowerCase().indexOf("https")===0);if(cc){if((/windows|win32/i).test(cc)){cg.os="windows";}else{if((/macintosh/i).test(cc)){cg.os="macintosh";}else{if((/rhino/i).test(cc)){cg.os="rhino";}}}if((/KHTML/).test(cc)){cg.webkit=1;}z=cc.match(/AppleWebKit\/([^\s]*)/);if(z&&z[1]){cg.webkit=ce(z[1]);
if(/ Mobile\//.test(cc)){cg.mobile="Apple";z=cc.match(/OS ([^\s]*)/);if(z&&z[1]){z=ce(z[1].replace("_","."));}cg.ios=z;cg.ipad=cg.ipod=cg.iphone=0;z=cc.match(/iPad|iPod|iPhone/);if(z&&z[0]){cg[z[0].toLowerCase()]=cg.ios;}}else{z=cc.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(z){cg.mobile=z[0];
}if(/webOS/.test(cc)){cg.mobile="WebOS";z=cc.match(/webOS\/([^\s]*);/);if(z&&z[1]){cg.webos=ce(z[1]);}}if(/ Android/.test(cc)){cg.mobile="Android";z=cc.match(/Android ([^\s]*);/);if(z&&z[1]){cg.android=ce(z[1]);}}}z=cc.match(/Chrome\/([^\s]*)/);if(z&&z[1]){cg.chrome=ce(z[1]);}else{z=cc.match(/AdobeAIR\/([^\s]*)/);
if(z){cg.air=z[0];}}}if(!cg.webkit){z=cc.match(/Opera[\s\/]([^\s]*)/);if(z&&z[1]){cg.opera=ce(z[1]);z=cc.match(/Version\/([^\s]*)/);if(z&&z[1]){cg.opera=ce(z[1]);}z=cc.match(/Opera Mini[^;]*/);if(z){cg.mobile=z[0];}}else{z=cc.match(/MSIE\s([^;]*)/);if(z&&z[1]){cg.ie=ce(z[1]);}else{z=cc.match(/Gecko\/([^\s]*)/);
if(z){cg.gecko=1;z=cc.match(/rv:([^\s\)]*)/);if(z&&z[1]){cg.gecko=ce(z[1]);}}}}}}return cg;};aJ.env.ua=aJ.env.parseUA();aJ.isFunction=function(z){return(typeof z==="function")||aM.toString.apply(z)===aI;};aJ._IEEnumFix=(aJ.env.ua.ie)?function(cc,L){var z,ce,cd;for(z=0;z<an.length;z=z+1){ce=an[z];cd=L[ce];
if(bD.isFunction(cd)&&cd!=aM[ce]){cc[ce]=cd;}}}:function(){};aJ.extend=function(cd,ce,cc){if(!ce||!cd){throw new Error("extend failed, please check that all dependencies are included.");}var L=function(){},z;L.prototype=ce.prototype;cd.prototype=new L();cd.prototype.constructor=cd;cd.superclass=ce.prototype;
if(ce.prototype.constructor==aM.constructor){ce.prototype.constructor=ce;}if(cc){for(z in cc){if(bD.hasOwnProperty(cc,z)){cd.prototype[z]=cc[z];}}bD._IEEnumFix(cd.prototype,cc);}};if(typeof KJUR=="undefined"||!KJUR){KJUR={};}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={};}KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(z){var L=z.toString(16);
if((L.length%2)==1){L="0"+L;}return L;};this.bigIntToMinTwosComplementsHex=function(ch){var cf=ch.toString(16);if(cf.substr(0,1)!="-"){if(cf.length%2==1){cf="0"+cf;}else{if(!cf.match(/^[0-7]/)){cf="00"+cf;}}}else{var z=cf.substr(1);var ce=z.length;if(ce%2==1){ce+=1;}else{if(!cf.match(/^[0-7]/)){ce+=2;
}}var cg="";for(var cd=0;cd<ce;cd++){cg+="f";}var cc=new bv(cg,16);var L=cc.xor(ch).add(bv.ONE);cf=L.toString(16).replace(/^-/,"");}return cf;};this.getPEMStringFromHex=function(z,L){var ce=CryptoJS.enc.Hex.parse(z);var cc=CryptoJS.enc.Base64.stringify(ce);var cd=cc.replace(/(.{64})/g,"$1\r\n");cd=cd.replace(/\r\n$/,"");
return"-----BEGIN "+L+"-----\r\n"+cd+"\r\n-----END "+L+"-----\r\n";};};KJUR.asn1.ASN1Object=function(){var cc=true;var L=null;var cd="00";var ce="00";var z="";this.getLengthHexFromValue=function(){if(typeof this.hV=="undefined"||this.hV==null){throw"this.hV is null or undefined.";}if(this.hV.length%2==1){throw"value hex must be even length: n="+z.length+",v="+this.hV;
}var ci=this.hV.length/2;var ch=ci.toString(16);if(ch.length%2==1){ch="0"+ch;}if(ci<128){return ch;}else{var cg=ch.length/2;if(cg>15){throw"ASN.1 length too long to represent by 8x: n = "+ci.toString(16);}var cf=128+cg;return cf.toString(16)+ch;}};this.getEncodedHex=function(){if(this.hTLV==null||this.isModified){this.hV=this.getFreshValueHex();
this.hL=this.getLengthHexFromValue();this.hTLV=this.hT+this.hL+this.hV;this.isModified=false;}return this.hTLV;};this.getValueHex=function(){this.getEncodedHex();return this.hV;};this.getFreshValueHex=function(){return"";};};KJUR.asn1.DERAbstractString=function(cc){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
var L=null;var z=null;this.getString=function(){return this.s;};this.setString=function(cd){this.hTLV=null;this.isModified=true;this.s=cd;this.hV=stohex(this.s);};this.setStringHex=function(cd){this.hTLV=null;this.isModified=true;this.s=null;this.hV=cd;};this.getFreshValueHex=function(){return this.hV;
};if(typeof cc!="undefined"){if(typeof cc.str!="undefined"){this.setString(cc.str);}else{if(typeof cc.hex!="undefined"){this.setStringHex(cc.hex);}}}};aJ.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractTime=function(cc){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);
var L=null;var z=null;this.localDateToUTC=function(ce){utc=ce.getTime()+(ce.getTimezoneOffset()*60000);var cd=new Date(utc);return cd;};this.formatDate=function(ci,ck){var cd=this.zeroPadding;var cj=this.localDateToUTC(ci);var cl=String(cj.getFullYear());if(ck=="utc"){cl=cl.substr(2,2);}var ch=cd(String(cj.getMonth()+1),2);
var cm=cd(String(cj.getDate()),2);var ce=cd(String(cj.getHours()),2);var cf=cd(String(cj.getMinutes()),2);var cg=cd(String(cj.getSeconds()),2);return cl+ch+cm+ce+cf+cg+"Z";};this.zeroPadding=function(ce,cd){if(ce.length>=cd){return ce;}return new Array(cd-ce.length+1).join("0")+ce;};this.getString=function(){return this.s;
};this.setString=function(cd){this.hTLV=null;this.isModified=true;this.s=cd;this.hV=stohex(this.s);};this.setByDateValue=function(ch,cj,ce,cd,cf,cg){var ci=new Date(Date.UTC(ch,cj-1,ce,cd,cf,cg,0));this.setByDate(ci);};this.getFreshValueHex=function(){return this.hV;};};aJ.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object);
KJUR.asn1.DERAbstractStructured=function(L){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);var z=null;this.setByASN1ObjectArray=function(cc){this.hTLV=null;this.isModified=true;this.asn1Array=cc;};this.appendASN1Object=function(cc){this.hTLV=null;this.isModified=true;this.asn1Array.push(cc);
};this.asn1Array=new Array();if(typeof L!="undefined"){if(typeof L.array!="undefined"){this.asn1Array=L.array;}}};aJ.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object);KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff";};aJ.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object);
KJUR.asn1.DERInteger=function(z){KJUR.asn1.DERInteger.superclass.constructor.call(this);this.hT="02";this.setByBigInteger=function(L){this.hTLV=null;this.isModified=true;this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(L);};this.setByInteger=function(cc){var L=new bv(String(cc),10);this.setByBigInteger(L);
};this.setValueHex=function(L){this.hV=L;};this.getFreshValueHex=function(){return this.hV;};if(typeof z!="undefined"){if(typeof z.bigint!="undefined"){this.setByBigInteger(z.bigint);}else{if(typeof z["int"]!="undefined"){this.setByInteger(z["int"]);}else{if(typeof z.hex!="undefined"){this.setValueHex(z.hex);
}}}}};aJ.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object);KJUR.asn1.DERBitString=function(z){KJUR.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(L){this.hTLV=null;this.isModified=true;this.hV=L;};this.setUnusedBitsAndHexValue=function(L,cd){if(L<0||7<L){throw"unused bits shall be from 0 to 7: u = "+L;
}var cc="0"+L;this.hTLV=null;this.isModified=true;this.hV=cc+cd;};this.setByBinaryString=function(cd){cd=cd.replace(/0+$/,"");var ce=8-cd.length%8;if(ce==8){ce=0;}for(var cf=0;cf<=ce;cf++){cd+="0";}var cg="";for(var cf=0;cf<cd.length-1;cf+=8){var cc=cd.substr(cf,8);var L=parseInt(cc,2).toString(16);if(L.length==1){L="0"+L;
}cg+=L;}this.hTLV=null;this.isModified=true;this.hV="0"+ce+cg;};this.setByBooleanArray=function(cd){var cc="";for(var L=0;L<cd.length;L++){if(cd[L]==true){cc+="1";}else{cc+="0";}}this.setByBinaryString(cc);};this.newFalseArray=function(cd){var L=new Array(cd);for(var cc=0;cc<cd;cc++){L[cc]=false;}return L;
};this.getFreshValueHex=function(){return this.hV;};if(typeof z!="undefined"){if(typeof z.hex!="undefined"){this.setHexValueIncludingUnusedBits(z.hex);}else{if(typeof z.bin!="undefined"){this.setByBinaryString(z.bin);}else{if(typeof z.array!="undefined"){this.setByBooleanArray(z.array);}}}}};aJ.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object);
KJUR.asn1.DEROctetString=function(z){KJUR.asn1.DEROctetString.superclass.constructor.call(this,z);this.hT="04";};aJ.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500";};aJ.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object);
KJUR.asn1.DERObjectIdentifier=function(cc){var L=function(cd){var ce=cd.toString(16);if(ce.length==1){ce="0"+ce;}return ce;};var z=function(ci){var ch="";var ce=new bv(ci,10);var cd=ce.toString(2);var cf=7-cd.length%7;if(cf==7){cf=0;}var ck="";for(var cg=0;cg<cf;cg++){ck+="0";}cd=ck+cd;for(var cg=0;cg<cd.length-1;
cg+=7){var cj=cd.substr(cg,7);if(cg!=cd.length-7){cj="1"+cj;}ch+=L(parseInt(cj,2));}return ch;};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(cd){this.hTLV=null;this.isModified=true;this.s=null;this.hV=cd;};this.setValueOidString=function(cf){if(!cf.match(/^[0-9.]+$/)){throw"malformed oid string: "+cf;
}var cg="";var cd=cf.split(".");var ch=parseInt(cd[0])*40+parseInt(cd[1]);cg+=L(ch);cd.splice(0,2);for(var ce=0;ce<cd.length;ce++){cg+=z(cd[ce]);}this.hTLV=null;this.isModified=true;this.s=null;this.hV=cg;};this.setValueName=function(ce){if(typeof KJUR.asn1.x509.OID.name2oidList[ce]!="undefined"){var cd=KJUR.asn1.x509.OID.name2oidList[ce];
this.setValueOidString(cd);}else{throw"DERObjectIdentifier oidName undefined: "+ce;}};this.getFreshValueHex=function(){return this.hV;};if(typeof cc!="undefined"){if(typeof cc.oid!="undefined"){this.setValueOidString(cc.oid);}else{if(typeof cc.hex!="undefined"){this.setValueHex(cc.hex);}else{if(typeof cc.name!="undefined"){this.setValueName(cc.name);
}}}}};aJ.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.DERUTF8String=function(z){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,z);this.hT="0c";};aJ.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNumericString=function(z){KJUR.asn1.DERNumericString.superclass.constructor.call(this,z);
this.hT="12";};aJ.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERPrintableString=function(z){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,z);this.hT="13";};aJ.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERTeletexString=function(z){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,z);
this.hT="14";};aJ.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERIA5String=function(z){KJUR.asn1.DERIA5String.superclass.constructor.call(this,z);this.hT="16";};aJ.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERUTCTime=function(z){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,z);
this.hT="17";this.setByDate=function(L){this.hTLV=null;this.isModified=true;this.date=L;this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s);};if(typeof z!="undefined"){if(typeof z.str!="undefined"){this.setString(z.str);}else{if(typeof z.hex!="undefined"){this.setStringHex(z.hex);}else{if(typeof z.date!="undefined"){this.setByDate(z.date);
}}}}};aJ.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERGeneralizedTime=function(z){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,z);this.hT="18";this.setByDate=function(L){this.hTLV=null;this.isModified=true;this.date=L;this.s=this.formatDate(this.date,"gen");this.hV=stohex(this.s);
};if(typeof z!="undefined"){if(typeof z.str!="undefined"){this.setString(z.str);}else{if(typeof z.hex!="undefined"){this.setStringHex(z.hex);}else{if(typeof z.date!="undefined"){this.setByDate(z.date);}}}}};aJ.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERSequence=function(z){KJUR.asn1.DERSequence.superclass.constructor.call(this,z);
this.hT="30";this.getFreshValueHex=function(){var cc="";for(var L=0;L<this.asn1Array.length;L++){var cd=this.asn1Array[L];cc+=cd.getEncodedHex();}this.hV=cc;return this.hV;};};aJ.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERSet=function(z){KJUR.asn1.DERSet.superclass.constructor.call(this,z);
this.hT="31";this.getFreshValueHex=function(){var L=new Array();for(var cc=0;cc<this.asn1Array.length;cc++){var cd=this.asn1Array[cc];L.push(cd.getEncodedHex());}L.sort();this.hV=L.join("");return this.hV;};};aJ.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERTaggedObject=function(z){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);
this.hT="a0";this.hV="";this.isExplicit=true;this.asn1Object=null;this.setASN1Object=function(L,cc,cd){this.hT=cc;this.isExplicit=L;this.asn1Object=cd;if(this.isExplicit){this.hV=this.asn1Object.getEncodedHex();this.hTLV=null;this.isModified=true;}else{this.hV=null;this.hTLV=cd.getEncodedHex();this.hTLV=this.hTLV.replace(/^../,cc);
this.isModified=false;}};this.getFreshValueHex=function(){return this.hV;};if(typeof z!="undefined"){if(typeof z.tag!="undefined"){this.hT=z.tag;}if(typeof z.explicit!="undefined"){this.isExplicit=z.explicit;}if(typeof z.obj!="undefined"){this.asn1Object=z.obj;this.setASN1Object(this.isExplicit,this.hT,this.asn1Object);
}}};aJ.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object);(function(L){var z={},cc;z.decode=function(cd){var cf;if(cc===L){var cg="0123456789ABCDEF",ck=" \f\n\r\t\u00A0\u2028\u2029";cc=[];for(cf=0;cf<16;++cf){cc[cg.charAt(cf)]=cf;}cg=cg.toLowerCase();for(cf=10;cf<16;++cf){cc[cg.charAt(cf)]=cf;}for(cf=0;
cf<ck.length;++cf){cc[ck.charAt(cf)]=-1;}}var ce=[],ch=0,cj=0;for(cf=0;cf<cd.length;++cf){var ci=cd.charAt(cf);if(ci=="="){break;}ci=cc[ci];if(ci==-1){continue;}if(ci===L){throw"Illegal character at offset "+cf;}ch|=ci;if(++cj>=2){ce[ce.length]=ch;ch=0;cj=0;}else{ch<<=4;}}if(cj){throw"Hex encoding incomplete: 4 bits missing";
}return ce;};window.Hex=z;})();(function(L){var z={},cc;z.decode=function(cd){var cg;if(cc===L){var cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ck="= \f\n\r\t\u00A0\u2028\u2029";cc=[];for(cg=0;cg<64;++cg){cc[cf.charAt(cg)]=cg;}for(cg=0;cg<ck.length;++cg){cc[ck.charAt(cg)]=-1;
}}var ce=[];var ch=0,cj=0;for(cg=0;cg<cd.length;++cg){var ci=cd.charAt(cg);if(ci=="="){break;}ci=cc[ci];if(ci==-1){continue;}if(ci===L){throw"Illegal character at offset "+cg;}ch|=ci;if(++cj>=4){ce[ce.length]=(ch>>16);ce[ce.length]=(ch>>8)&255;ce[ce.length]=ch&255;ch=0;cj=0;}else{ch<<=6;}}switch(cj){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";
case 2:ce[ce.length]=(ch>>10);break;case 3:ce[ce.length]=(ch>>16);ce[ce.length]=(ch>>8)&255;break;}return ce;};z.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/;z.unarmor=function(ce){var cd=z.re.exec(ce);if(cd){if(cd[1]){ce=cd[1];}else{if(cd[2]){ce=cd[2];
}else{throw"RegExp out of sync";}}}return z.decode(ce);};window._Base64=z;})();(function(cf){var L=100,z="\u2026",cc={tag:function(ch,ci){var cg=document.createElement(ch);cg.className=ci;return cg;},text:function(cg){return document.createTextNode(cg);}};function ce(cg,ch){if(cg instanceof ce){this.enc=cg.enc;
this.pos=cg.pos;}else{this.enc=cg;this.pos=ch;}}ce.prototype.get=function(cg){if(cg===cf){cg=this.pos++;}if(cg>=this.enc.length){throw"Requesting byte offset "+cg+" on a stream of length "+this.enc.length;}return this.enc[cg];};ce.prototype.hexDigits="0123456789ABCDEF";ce.prototype.hexByte=function(cg){return this.hexDigits.charAt((cg>>4)&15)+this.hexDigits.charAt(cg&15);
};ce.prototype.hexDump=function(ck,cg,ch){var cj="";for(var ci=ck;ci<cg;++ci){cj+=this.hexByte(this.get(ci));if(ch!==true){switch(ci&15){case 7:cj+="  ";break;case 15:cj+="\n";break;default:cj+=" ";}}}return cj;};ce.prototype.parseStringISO=function(cj,cg){var ci="";for(var ch=cj;ch<cg;++ch){ci+=String.fromCharCode(this.get(ch));
}return ci;};ce.prototype.parseStringUTF=function(ck,cg){var ci="";for(var ch=ck;ch<cg;){var cj=this.get(ch++);if(cj<128){ci+=String.fromCharCode(cj);}else{if((cj>191)&&(cj<224)){ci+=String.fromCharCode(((cj&31)<<6)|(this.get(ch++)&63));}else{ci+=String.fromCharCode(((cj&15)<<12)|((this.get(ch++)&63)<<6)|(this.get(ch++)&63));
}}}return ci;};ce.prototype.parseStringBMP=function(cl,ch){var ck="";for(var cj=cl;cj<ch;cj+=2){var cg=this.get(cj);var ci=this.get(cj+1);ck+=String.fromCharCode((cg<<8)+ci);}return ck;};ce.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
ce.prototype.parseTime=function(cj,ch){var ci=this.parseStringISO(cj,ch),cg=this.reTime.exec(ci);if(!cg){return"Unrecognized time: "+ci;}ci=cg[1]+"-"+cg[2]+"-"+cg[3]+" "+cg[4];if(cg[5]){ci+=":"+cg[5];if(cg[6]){ci+=":"+cg[6];if(cg[7]){ci+="."+cg[7];}}}if(cg[8]){ci+=" UTC";if(cg[8]!="Z"){ci+=cg[8];if(cg[9]){ci+=":"+cg[9];
}}}return ci;};ce.prototype.parseInteger=function(cl,ch){var cg=ch-cl;if(cg>4){cg<<=3;var cj=this.get(cl);if(cj===0){cg-=8;}else{while(cj<128){cj<<=1;--cg;}}return"("+cg+" bit)";}var ck=0;for(var ci=cl;ci<ch;++ci){ck=(ck<<8)|this.get(ci);}return ck;};ce.prototype.parseBitString=function(cg,ch){var cl=this.get(cg),cj=((ch-cg-1)<<3)-cl,co="("+cj+" bit)";
if(cj<=20){var cn=cl;co+=" ";for(var ck=ch-1;ck>cg;--ck){var cm=this.get(ck);for(var ci=cn;ci<8;++ci){co+=(cm>>ci)&1?"1":"0";}cn=0;}}return co;};ce.prototype.parseOctetString=function(ck,ch){var cg=ch-ck,cj="("+cg+" byte) ";if(cg>L){ch=ck+L;}for(var ci=ck;ci<ch;++ci){cj+=this.hexByte(this.get(ci));}if(cg>L){cj+=z;
}return cj;};ce.prototype.parseOID=function(cn,ch){var ck="",cm=0,cl=0;for(var cj=cn;cj<ch;++cj){var ci=this.get(cj);cm=(cm<<7)|(ci&127);cl+=7;if(!(ci&128)){if(ck===""){var cg=cm<80?cm<40?0:1:2;ck=cg+"."+(cm-cg*40);}else{ck+="."+((cl>=31)?"bigint":cm);}cm=cl=0;}}return ck;};function cd(cj,ck,ci,cg,ch){this.stream=cj;
this.header=ck;this.length=ci;this.tag=cg;this.sub=ch;}cd.prototype.typeName=function(){if(this.tag===cf){return"unknown";}var ci=this.tag>>6,cg=(this.tag>>5)&1,ch=this.tag&31;switch(ci){case 0:switch(ch){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";
case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";
case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+ch.toString(16);
}case 1:return"Application_"+ch.toString(16);case 2:return"["+ch+"]";case 3:return"Private_"+ch.toString(16);}};cd.prototype.reSeemsASCII=/^[ -~]+$/;cd.prototype.content=function(){if(this.tag===cf){return null;}var ck=this.tag>>6,ch=this.tag&31,cj=this.posContent(),cg=Math.abs(this.length);if(ck!==0){if(this.sub!==null){return"("+this.sub.length+" elem)";
}var ci=this.stream.parseStringISO(cj,cj+Math.min(cg,L));if(this.reSeemsASCII.test(ci)){return ci.substring(0,2*L)+((ci.length>2*L)?z:"");}else{return this.stream.parseOctetString(cj,cj+cg);}}switch(ch){case 1:return(this.stream.get(cj)===0)?"false":"true";case 2:return this.stream.parseInteger(cj,cj+cg);
case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(cj,cj+cg);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(cj,cj+cg);case 6:return this.stream.parseOID(cj,cj+cg);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(cj,cj+cg);
case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(cj,cj+cg);case 30:return this.stream.parseStringBMP(cj,cj+cg);case 23:case 24:return this.stream.parseTime(cj,cj+cg);}return null;};cd.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+((this.sub===null)?"null":this.sub.length)+"]";
};cd.prototype.print=function(ch){if(ch===cf){ch="";}document.writeln(ch+this);if(this.sub!==null){ch+="  ";for(var ci=0,cg=this.sub.length;ci<cg;++ci){this.sub[ci].print(ch);}}};cd.prototype.toPrettyString=function(ch){if(ch===cf){ch="";}var cj=ch+this.typeName()+" @"+this.stream.pos;if(this.length>=0){cj+="+";
}cj+=this.length;if(this.tag&32){cj+=" (constructed)";}else{if(((this.tag==3)||(this.tag==4))&&(this.sub!==null)){cj+=" (encapsulates)";}}cj+="\n";if(this.sub!==null){ch+="  ";for(var ci=0,cg=this.sub.length;ci<cg;++ci){cj+=this.sub[ci].toPrettyString(ch);}}return cj;};cd.prototype.toDOM=function(){var ch=cc.tag("div","node");
ch.asn1=this;var cn=cc.tag("div","head");var cp=this.typeName().replace(/_/g," ");cn.innerHTML=cp;var cl=this.content();if(cl!==null){cl=String(cl).replace(/</g,"&lt;");var ck=cc.tag("span","preview");ck.appendChild(cc.text(cl));cn.appendChild(ck);}ch.appendChild(cn);this.node=ch;this.head=cn;var co=cc.tag("div","value");
cp="Offset: "+this.stream.pos+"<br/>";cp+="Length: "+this.header+"+";if(this.length>=0){cp+=this.length;}else{cp+=(-this.length)+" (undefined)";}if(this.tag&32){cp+="<br/>(constructed)";}else{if(((this.tag==3)||(this.tag==4))&&(this.sub!==null)){cp+="<br/>(encapsulates)";}}if(cl!==null){cp+="<br/>Value:<br/><b>"+cl+"</b>";
if((typeof oids==="object")&&(this.tag==6)){var ci=oids[cl];if(ci){if(ci.d){cp+="<br/>"+ci.d;}if(ci.c){cp+="<br/>"+ci.c;}if(ci.w){cp+="<br/>(warning!)";}}}}co.innerHTML=cp;ch.appendChild(co);var cg=cc.tag("div","sub");if(this.sub!==null){for(var cj=0,cm=this.sub.length;cj<cm;++cj){cg.appendChild(this.sub[cj].toDOM());
}}ch.appendChild(cg);cn.onclick=function(){ch.className=(ch.className=="node collapsed")?"node":"node collapsed";};return ch;};cd.prototype.posStart=function(){return this.stream.pos;};cd.prototype.posContent=function(){return this.stream.pos+this.header;};cd.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length);
};cd.prototype.fakeHover=function(cg){this.node.className+=" hover";if(cg){this.head.className+=" hover";}};cd.prototype.fakeOut=function(ch){var cg=/ ?hover/;this.node.className=this.node.className.replace(cg,"");if(ch){this.head.className=this.head.className.replace(cg,"");}};cd.prototype.toHexDOM_sub=function(cj,ci,ck,cl,cg){if(cl>=cg){return;
}var ch=cc.tag("span",ci);ch.appendChild(cc.text(ck.hexDump(cl,cg)));cj.appendChild(ch);};cd.prototype.toHexDOM=function(ch){var ck=cc.tag("span","hex");if(ch===cf){ch=ck;}this.head.hexNode=ck;this.head.onmouseover=function(){this.hexNode.className="hexCurrent";};this.head.onmouseout=function(){this.hexNode.className="hex";
};ck.asn1=this;ck.onmouseover=function(){var cm=!ch.selected;if(cm){ch.selected=this.asn1;this.className="hexCurrent";}this.asn1.fakeHover(cm);};ck.onmouseout=function(){var cm=(ch.selected==this.asn1);this.asn1.fakeOut(cm);if(cm){ch.selected=null;this.className="hex";}};this.toHexDOM_sub(ck,"tag",this.stream,this.posStart(),this.posStart()+1);
this.toHexDOM_sub(ck,(this.length>=0)?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent());if(this.sub===null){ck.appendChild(cc.text(this.stream.hexDump(this.posContent(),this.posEnd())));}else{if(this.sub.length>0){var cl=this.sub[0];var cj=this.sub[this.sub.length-1];this.toHexDOM_sub(ck,"intro",this.stream,this.posContent(),cl.posStart());
for(var ci=0,cg=this.sub.length;ci<cg;++ci){ck.appendChild(this.sub[ci].toHexDOM(ch));}this.toHexDOM_sub(ck,"outro",this.stream,cj.posEnd(),this.posEnd());}}return ck;};cd.prototype.toHexString=function(cg){return this.stream.hexDump(this.posStart(),this.posEnd(),true);};cd.decodeLength=function(cj){var ch=cj.get(),cg=ch&127;
if(cg==ch){return cg;}if(cg>3){throw"Length over 24 bits not supported at position "+(cj.pos-1);}if(cg===0){return -1;}ch=0;for(var ci=0;ci<cg;++ci){ch=(ch<<8)|cj.get();}return ch;};cd.hasContent=function(ch,cg,cm){if(ch&32){return true;}if((ch<3)||(ch>4)){return false;}var cl=new ce(cm);if(ch==3){cl.get();
}var ck=cl.get();if((ck>>6)&1){return false;}try{var cj=cd.decodeLength(cl);return((cl.pos-cm.pos)+cj==cg);}catch(ci){return false;}};cd.decode=function(cn){if(!(cn instanceof ce)){cn=new ce(cn,0);}var cm=new ce(cn),cp=cn.get(),ck=cd.decodeLength(cn),cj=cn.pos-cm.pos,cg=null;if(cd.hasContent(cp,ck,cn)){var ch=cn.pos;
if(cp==3){cn.get();}cg=[];if(ck>=0){var ci=ch+ck;while(cn.pos<ci){cg[cg.length]=cd.decode(cn);}if(cn.pos!=ci){throw"Content size is not correct for container starting at offset "+ch;}}else{try{for(;;){var co=cd.decode(cn);if(co.tag===0){break;}cg[cg.length]=co;}ck=ch-cn.pos;}catch(cl){throw"Exception while decoding undefined length content: "+cl;
}}}else{cn.pos+=ck;}return new cd(cm,cj,ck,cp,cg);};cd.test=function(){var cl=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}];for(var ci=0,cg=cl.length;ci<cg;++ci){var ck=0,cj=new ce(cl[ci].value,0),ch=cd.decodeLength(cj);if(ch!=cl[ci].expected){document.write("In test["+ci+"] expected "+cl[ci].expected+" got "+ch+"\n");
}}};window.ASN1=cd;})();ASN1.prototype.getHexStringValue=function(){var z=this.toHexString();var cc=this.header*2;var L=this.length*2;return z.substr(cc,L);};R.prototype.parseKey=function(ci){try{var cn=0;var cd=0;var z=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/;var cm=z.test(ci)?Hex.decode(ci):_Base64.unarmor(ci);
var ce=ASN1.decode(cm);if(ce.sub.length===3){ce=ce.sub[2].sub[0];}if(ce.sub.length===9){cn=ce.sub[1].getHexStringValue();this.n=O(cn,16);cd=ce.sub[2].getHexStringValue();this.e=parseInt(cd,16);var L=ce.sub[3].getHexStringValue();this.d=O(L,16);var ch=ce.sub[4].getHexStringValue();this.p=O(ch,16);var cg=ce.sub[5].getHexStringValue();
this.q=O(cg,16);var ck=ce.sub[6].getHexStringValue();this.dmp1=O(ck,16);var cj=ce.sub[7].getHexStringValue();this.dmq1=O(cj,16);var cc=ce.sub[8].getHexStringValue();this.coeff=O(cc,16);}else{if(ce.sub.length===2){var co=ce.sub[1];var cf=co.sub[0];cn=cf.sub[0].getHexStringValue();this.n=O(cn,16);cd=cf.sub[1].getHexStringValue();
this.e=parseInt(cd,16);}else{return false;}}return true;}catch(cl){return false;}};R.prototype.getPrivateBaseKey=function(){var L={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]};
var z=new KJUR.asn1.DERSequence(L);return z.getEncodedHex();};R.prototype.getPrivateBaseKeyB64=function(){return av(this.getPrivateBaseKey());};R.prototype.getPublicBaseKey=function(){var cc={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull()]};var z=new KJUR.asn1.DERSequence(cc);
cc={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var ce=new KJUR.asn1.DERSequence(cc);cc={hex:"00"+ce.getEncodedHex()};var cd=new KJUR.asn1.DERBitString(cc);cc={array:[z,cd]};var L=new KJUR.asn1.DERSequence(cc);return L.getEncodedHex();};R.prototype.getPublicBaseKeyB64=function(){return av(this.getPublicBaseKey());
};R.prototype.wordwrap=function(cc,z){z=z||64;if(!cc){return cc;}var L="(.{1,"+z+"})( +|$\n?)|(.{1,"+z+"})";return cc.match(RegExp(L,"g")).join("\n");};R.prototype.getPrivateKey=function(){var z="-----BEGIN RSA PRIVATE KEY-----\n";z+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n";z+="-----END RSA PRIVATE KEY-----";
return z;};R.prototype.getPublicKey=function(){var z="-----BEGIN PUBLIC KEY-----\n";z+=this.wordwrap(this.getPublicBaseKeyB64())+"\n";z+="-----END PUBLIC KEY-----";return z;};R.prototype.hasPublicKeyProperty=function(z){z=z||{};return(z.hasOwnProperty("n")&&z.hasOwnProperty("e"));};R.prototype.hasPrivateKeyProperty=function(z){z=z||{};
return(z.hasOwnProperty("n")&&z.hasOwnProperty("e")&&z.hasOwnProperty("d")&&z.hasOwnProperty("p")&&z.hasOwnProperty("q")&&z.hasOwnProperty("dmp1")&&z.hasOwnProperty("dmq1")&&z.hasOwnProperty("coeff"));};R.prototype.parsePropertiesFrom=function(z){this.n=z.n;this.e=z.e;if(z.hasOwnProperty("d")){this.d=z.d;
this.p=z.p;this.q=z.q;this.dmp1=z.dmp1;this.dmq1=z.dmq1;this.coeff=z.coeff;}};var bN=function(z){R.call(this);if(z){if(typeof z==="string"){this.parseKey(z);}else{if(this.hasPrivateKeyProperty(z)||this.hasPublicKeyProperty(z)){this.parsePropertiesFrom(z);}}}};bN.prototype=new R();bN.prototype.constructor=bN;
var bj=function(z){z=z||{};this.default_key_size=parseInt(z.default_key_size)||1024;this.default_public_exponent=z.default_public_exponent||"010001";this.log=z.log||false;this.key=null;};bj.prototype.setKey=function(z){if(this.log&&this.key){console.warn("A key was already set, overriding existing.");
}this.key=new bN(z);};bj.prototype.setPrivateKey=function(z){this.setKey(z);};bj.prototype.setPublicKey=function(z){this.setKey(z);};bj.prototype.decrypt=function(z){try{return this.getKey().decrypt(bc(z));}catch(L){return false;}};bj.prototype.encrypt=function(z){try{return av(this.getKey().encrypt(z));
}catch(L){return false;}};bj.prototype.getKey=function(z){if(!this.key){this.key=new bN();if(z&&{}.toString.call(z)==="[object Function]"){this.key.generateAsync(this.default_key_size,this.default_public_exponent,z);return;}this.key.generate(this.default_key_size,this.default_public_exponent);}return this.key;
};bj.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey();};bj.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64();};bj.prototype.getPublicKey=function(){return this.getKey().getPublicKey();};bj.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64();
};bj.version="2.3.0";aG.JSEncrypt=bj;})(m);(function(p,o){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=o;}else{if(typeof define==="function"&&define.amd){define(o);}else{p.JSEncrypt=o;}}}(this,m.JSEncrypt));var d=function(){function p(){this.mode=1;this.isPadding=true;this.sk=new Array(32);
}function o(){this.SM4_ENCRYPT=1;this.SM4_DECRYPT=0;var r=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72];
var u=[2746333894,1453994832,1736282519,2993693404];var q=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];
this.GET_ULONG_BE=function(w,x){return(w[x]&255)<<24|((w[x+1]&255)<<16)|((w[x+2]&255)<<8)|(w[x+3]&255)&4294967295;};this.PUT_ULONG_BE=function(C,w,z){var B=(255&(C>>24));var A=(255&(C>>16));var y=(255&(C>>8));var x=(255&(C));w[z]=B>128?B-256:B;w[z+1]=A>128?A-256:A;w[z+2]=y>128?y-256:y;w[z+3]=x>128?x-256:x;
};this.SHL=function(w,y){return(w&4294967295)<<y;};this.ROTL=function(w,A){var z=this.SHL(w,A);var y=w>>(32-A);return this.SHL(w,A)|w>>(32-A);};this.sm4Lt=function(y){var z=0;var A=0;var x=new Array(4);var w=new Array(4);this.PUT_ULONG_BE(y,x,0);w[0]=this.sm4Sbox(x[0]);w[1]=this.sm4Sbox(x[1]);w[2]=this.sm4Sbox(x[2]);
w[3]=this.sm4Sbox(x[3]);z=this.GET_ULONG_BE(w,0);A=z^this.ROTL(z,2)^this.ROTL(z,10)^this.ROTL(z,18)^this.ROTL(z,24);return A;};this.sm4F=function(z,y,x,w,A){return z^this.sm4Lt(y^x^w^A);};this.sm4CalciRK=function(y){var z=0;var A=0;var x=new Array(4);var w=new Array(4);this.PUT_ULONG_BE(y,x,0);w[0]=this.sm4Sbox(x[0]);
w[1]=this.sm4Sbox(x[1]);w[2]=this.sm4Sbox(x[2]);w[3]=this.sm4Sbox(x[3]);z=this.GET_ULONG_BE(w,0);A=z^this.ROTL(z,13)^this.ROTL(z,23);return A;};this.sm4Sbox=function(y){var w=y&255;var x=r[w];return x>128?x-256:x;};this.sm4_setkey_enc=function(w,x){if(w==null){alert("ctx is null!");return false;}if(x==null||x.length!=16){alert("key error!");
return false;}w.mode=this.SM4_ENCRYPT;this.sm4_setkey(w.sk,x);};this.sm4_setkey_dec=function(w,y){if(w==null){throw new Exception("ctx is null!");}if(y==null||y.length!=16){throw new Exception("key error!");}var x=0;w.mode=this.SM4_DECRYPT;this.sm4_setkey(w.sk,y);for(x=0;x<16;x++){SWAP(w.sk,x);}};SWAP=function(w,y){var x=w[y];
w[y]=w[(31-y)];w[(31-y)]=x;};this.sm4_setkey=function(y,A){var w=new Array(4);var x=new Array(36);var z=0;w[0]=this.GET_ULONG_BE(A,0);w[1]=this.GET_ULONG_BE(A,4);w[2]=this.GET_ULONG_BE(A,8);w[3]=this.GET_ULONG_BE(A,12);x[0]=w[0]^u[0];x[1]=w[1]^u[1];x[2]=w[2]^u[2];x[3]=w[3]^u[3];for(var z=0;z<32;z++){x[(z+4)]=(x[z]^this.sm4CalciRK(x[(z+1)]^x[(z+2)]^x[(z+3)]^q[z]));
y[z]=x[(z+4)];}};this.padding=function(w,A){if(w==null){return null;}var x=null;if(A==this.SM4_ENCRYPT){var z=parseInt(16-w.length%16);x=w.slice(0);if(x.set){if(Array.from){x=Array.from(x);}else{x=[].slice.call(x);}}for(var y=0;y<z;y++){x[w.length+y]=z;}}else{var z=w[w.length-1];x=w.slice(0,w.length-z);
}return x;};this.sm4_one_round=function(w,y,x){var z=0;var A=new Array(36);A[0]=this.GET_ULONG_BE(y,0);A[1]=this.GET_ULONG_BE(y,4);A[2]=this.GET_ULONG_BE(y,8);A[3]=this.GET_ULONG_BE(y,12);while(z<32){A[(z+4)]=this.sm4F(A[z],A[(z+1)],A[(z+2)],A[(z+3)],w[z]);z++;}this.PUT_ULONG_BE(A[35],x,0);this.PUT_ULONG_BE(A[34],x,4);
this.PUT_ULONG_BE(A[33],x,8);this.PUT_ULONG_BE(A[32],x,12);};this.sm4_crypt_ecb=function(w,y){if(y==null){alert("input is null!");}if((w.isPadding)&&(w.mode==this.SM4_ENCRYPT)){y=this.padding(y,this.SM4_ENCRYPT);}var B=0;var C=y.length;var D=new Array();for(;C>0;C-=16){var A=new Array(16);var z=y.slice(B*16,(16*(B+1)));
this.sm4_one_round(w.sk,z,A);Array.prototype.push.apply(D,A);B++;}var x=D;if(w.isPadding&&w.mode==this.SM4_DECRYPT){x=this.padding(x,this.SM4_DECRYPT);}for(var B=0;B<x.length;B++){if(x[B]<0){x[B]=x[B]+256;}}return x;};this.sm4_crypt_cbc=function(H,y,D){if(y==null||y.length!=16){alert("iv error!");}if(D==null){alert("input is null!");
}if(H.isPadding&&H.mode==this.SM4_ENCRYPT){D=this.padding(D,this.SM4_ENCRYPT);}var B=0;var w=D.length;var F=new Array();if(H.mode==this.SM4_ENCRYPT){var z=0;for(;w>0;w-=16){var A=new Array(16);var I=new Array(16);var C=D.slice(z*16,(16*(z+1)));for(B=0;B<16;B++){A[B]=(C[B]^y[B]);}this.sm4_one_round(H.sk,A,I);
y=I.slice(0,16);Array.prototype.push.apply(F,I);z++;}}else{var G=[];var z=0;for(;w>0;w-=16){var A=new Array(16);var I=new Array(16);var C=D.slice(z*16,(16*(z+1)));G=C.slice(0,16);this.sm4_one_round(H.sk,C,A);for(B=0;B<16;B++){I[B]=(A[B]^y[B]);}y=G.slice(0,16);Array.prototype.push.apply(F,I);z++;}}var x=F;
if(H.isPadding&&H.mode==this.SM4_DECRYPT){x=this.padding(x,this.SM4_DECRYPT);}for(var B=0;B<x.length;B++){if(x[B]<0){x[B]=x[B]+256;}}return x;};}this.secretKey="";this.iv="";this.encryptData_CBC=function(x,y,A){try{var w=new o();var r=new p();r.isPadding=true;r.mode=w.SM4_ENCRYPT;var u=y==null?g.stringToByte(this.secretKey):g.stringToByte(y);
var q=A==null?g.stringToByte(this.iv):g.stringToByte(A);w.sm4_setkey_enc(r,u);return w.sm4_crypt_cbc(r,q,x);}catch(z){console.error(z);return null;}};this.decryptData_CBC=function(x,y,A){try{var w=new o();var r=new p();r.isPadding=true;r.mode=o.SM4_DECRYPT;var u=y==null?g.stringToByte(this.secretKey):g.stringToByte(y);
var q=A==null?g.stringToByte(this.iv):g.stringToByte(A);w.sm4_setkey_dec(r,u);return g.byteToString(w.sm4_crypt_cbc(r,q,x));}catch(z){console.error(z);return null;}};};var h=function(){this.sm3DigestBytes=function(H,J){var H=H.slice();var F=y(H,J);var G=new Array(8);G[0]=1937774191;G[1]=1226093241;G[2]=388252375;
G[3]=3666478592;G[4]=2842636476;G[5]=372324522;G[6]=3817729613;G[7]=2969243214;for(var I=0;I<F;I++){G=r(G,H,I);}return B(G,"");};this.sm3Digest=function(F){return this.sm3DigestBytes(g.stringToByte(F),F.length);};function B(I,G){var H=Array(8).join("0");for(var F=0;F<I.length;F++){I[F]=(H+(I[F]>>>0).toString(16)).slice(-8);
}return I.join(G);}function p(G){var H=new Array(G.length>>2);for(var F=0;F<G.length*8;F+=8){H[F>>5]|=(G.charCodeAt(F/8)&255)<<(24-F%32);}return H;}function y(F,J){F[J>>2]|=128<<(24-J%4*8);var G=((J+8)>>6)+1;var I=G*16;for(var H=(J>>2)+1;H<I;H++){F[H]=0;}F[I-1]=J*8;return G;}function C(F){return F^q(F,9)^q(F,17);
}function A(F){return F^q(F,15)^q(F,23);}function q(F,G){return(F<<G)|(F>>>(32-G));}function r(I,G,O){var H=new Array(68);var F=new Array(64);for(var N=0;N<68;N++){if(N<16){H[N]=G[O*16+N];}else{H[N]=A(H[N-16]^H[N-9]^q(H[N-3],15))^q(H[N-13],7)^H[N-6];}}for(var N=0;N<64;N++){F[N]=H[N]^H[N+4];}var W=I[0];
var V=I[1];var U=I[2];var T=I[3];var S=I[4];var R=I[5];var Q=I[6];var P=I[7];var M;var L;var K;var J;for(var N=0;N<64;N++){M=q(z(q(W,12),S,q(D(N),N)),7);L=M^q(W,12);K=z(o(W,V,U,N),T,L,F[N]);J=z(x(S,R,Q,N),P,M,H[N]);T=U;U=q(V,9);V=W;W=K;P=Q;Q=q(R,19);R=S;S=C(J);}I[0]^=W;I[1]^=V;I[2]^=U;I[3]^=T;I[4]^=S;
I[5]^=R;I[6]^=Q;I[7]^=P;return I;}function D(F){if(0<=F&&F<16){return 2043430169;}else{if(F<64){return 2055708042;}}}function o(F,I,H,G){if(0<=G&&G<16){return F^I^H;}else{if(G<64){return(F&I)|(F&H)|(I&H);}}}function x(F,I,H,G){if(0<=G&&G<16){return F^I^H;}else{if(G<64){return(F&I)|(~F&H);}}}function w(F,I){var H=(F&65535)+(I&65535);
var G=(F>>16)+(I>>16)+(H>>16);return(G<<16)|(H&65535);}function z(){var G=0;for(var F=0;F<arguments.length;F++){G=w(G,arguments[F]);}return G;}function u(H){var G="";var I=-1;var F,J;while(++I<H.length){F=H.charCodeAt(I);J=I+1<H.length?H.charCodeAt(I+1):0;if(55296<=F&&F<=56319&&56320<=J&&J<=57343){F=65536+((F&1023)<<10)+(J&1023);
I++;}if(F<=127){G+=String.fromCharCode(F);}else{if(F<=2047){G+=String.fromCharCode(192|((F>>>6)&31),128|(F&63));}else{if(F<=65535){G+=String.fromCharCode(224|((F>>>12)&15),128|((F>>>6)&63),128|(F&63));}else{if(F<=2097151){G+=String.fromCharCode(240|((F>>>18)&7),128|((F>>>12)&63),128|((F>>>6)&63),128|(F&63));
}}}}}return G;}};var l=function(){var u=[37,207,18,138,196,157,152,145,24,195,36,22,25,43,212,30,140,210,132,206,58,40,134,133,35,29,54,136,130,242,17,109,148,80,158,129,64,28,23,228,139,236,233,219,71,232,143,205,239,103,252,38,217,73,231,67,226,96,151,144,159,105,62,104,0,9,147,72,241,88,131,255,61,249,74,251,243,150,155,97,63,240,87,12,19,238,141,50,41,198,111,94,146,214,83,34,31,204,222,154,33,253,13,137,59,16,69,52,199,156,66,128,135,101,254,153,39,201,149,68,102,142,183,106,165,98,235,177,225,78,250,194,229,84,3,163,234,47,77,99,76,100,179,244,44,92,162,181,49,224,193,14,51,190,107,20,182,127,166,245,186,108,167,188,21,191,45,174,227,176,200,42,246,1,15,230,237,89,248,95,192,197,86,32,7,164,187,90,124,75,93,203,184,85,46,209,65,91,2,112,8,60,122,5,218,213,173,208,4,220,221,79,171,27,11,117,6,211,10,215,56,223,82,216,180,185,70,119,202,26,120,116,247,170,189,178,175,48,161,113,169,168,172,114,160,125,55,57,123,115,118,121,126,110,53,81];
var q=[];var o=function(w,z){if(z==null){return -1;}var x=w.length;for(var y=0;y<x;y++){if(w[y]==z){return y;}}return -1;};var r=function(w,x){if(w.indexOf){return w.indexOf(x);}return o(w,x);};for(var p=0;p<256;p++){q[p]=r(u,p);}this.encode=function(x,A){var w=x.length;for(var y=0;y<w;y++){var z=x[y];
if(z<0){z=256+z;}if(A>0){z+=A;if(z>255){z-=255;}}x[y]=u[z];}};this.decode=function(x,A){var w=x.length;for(var y=0;y<w;y++){var z=x[y];if(z<0){z=256+z;}if(A>0){z=q[z];z-=A;if(z<0){z=255+z;}x[y]=z;}else{x[y]=q[z];}}};this.encode2=function(x,w){if(x<0){x=256+x;}if(w>0){x+=w;if(x>255){x-=255;}}return u[x];
};this.decode2=function(x,w){if(x<0){x=256+x;}if(w>0){var x=q[x];x-=w;if(x<0){x=255+x;}return x;}else{return q[x];}};};var j=function(){var r=new h();var o=new d();var p=new JSEncrypt();var q=new JSEncrypt();this.byteEncoder=new l();this.random=function(){var u=Math.random().toString(16).substr(8);while(u.length<8){u+="0";
}return u;};this.sm3=function(u){return r.sm3Digest(u);};this.sm3DigestBytes=function(u,w){return r.sm3DigestBytes(u,w);};this.setSM4Key=function(w,u){o.secretKey=w;o.iv=u;};this.sm4Encrypt=function(x,w,u){return o.encryptData_CBC(x,w,u);};this.sm4RandomEnc=function(x){var w=this.random()+this.random();
var u=this.random()+this.random();return[w,u,this.sm4Encrypt(x,w,u)];};this.sm4Decrypt=function(x,w,u){return o.decryptData_CBC(x,w,u);};this.setRSAPublicKey=function(u){p.setPublicKey(u);};this.setRSAPrivateKey=function(u){q.setPrivateKey(u);};this.RSAEncrypt=function(u){return p.encrypt(u);};this.RSADecrypt=function(u){return q.decrypt(u);
};};n.SMTool=j;n._stringUtils=g;})(window);var sm4Encoder=new function(){var h=50*1024;var d=true;this.smTool=new SMTool();this.smTool.setRSAPublicKey("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCxQzz278nTZP6l4urQMlacEiJxcgeGjWKzo658/+lrlIl+3whGpI3M43je9W4L9JmL07z1shSWycBfjt6N/8v1sxx4ry4cX2NYp0cJtGpIuTDGO79VXDpIsggJ3/SJHUhGdCFK/H6THqDt61s2Oos5sQvAfBckTjWw56iiv5on1QIDAQAB");
var g=window.ArrayBuffer?false:true;this.encode=function(n,L){try{if(n==null||n.length==0||n==" "){return;}var r=d?pako.deflate(_stringUtils.stringToByte(n)):_stringUtils.stringToByte(n);n=null;var C=r.length;var G=Math.floor(C>h?C/h:0);var K;var J;var o="2";var D=0;if(G>0){var q=[];var y=[];D=Math.floor(Math.random()*255);
for(var H=0;H<C;H+=G){var m=r[H];q.push(m);for(var B=1;B<G;B++){var w=B+H;if(w>=C){break;}y.push(this.smTool.byteEncoder.encode2(r[w],D));}}K=this.smTool.sm4RandomEnc(q);J=y;o+="1";}else{K=this.smTool.sm4RandomEnc(r);o+="0";}o+=(d?"1":"0")+(g?"1":"0");r=null;var p=K[2].length;var A=K[2];var l=this.smTool.sm3DigestBytes(A,p);
var z=[l,K[0],K[1],p,D,G].join(",");z=this.smTool.RSAEncrypt(z);var u=_stringUtils.base64js.toByteArray(z);if(J){if(!g){var F=new ArrayBuffer(J.length+A.length+u.length);var j=new Uint8Array(F);j.set(J);j.set(A,J.length);j.set(u,J.length+J.length);F.length=F.byteLength;return[o,F];}Array.prototype.push.apply(J,A);
Array.prototype.push.apply(J,u);return[o,_stringUtils.base64js.fromByteArray(J)];}else{if(!g){var F=new ArrayBuffer(A.length+u.length);var j=new Uint8Array(F);j.set(A);j.set(u,A.length);F.length=F.byteLength;return[o,F];}Array.prototype.push.apply(A,u);return[o,_stringUtils.base64js.fromByteArray(A)];
}}catch(I){if(console&&console.log){console.log(I);}}};};if(!Function.prototype.bind){Function.prototype.bind=function(d){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var l=Array.prototype.slice.call(arguments,1),j=this,g=function(){},h=function(){return j.apply(this instanceof g&&d?this:d,l.concat(Array.prototype.slice.call(arguments)));
};g.prototype=this.prototype;h.prototype=new g();return h;};}(function(m){function h(n,q){q=q||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var o="";for(var p=0;p<n;p++){var r=Math.floor(Math.random()*q.length);o+=q.substring(r,r+1);}return o;}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-~".split("");
function j(n,p){var o=null;if(p){o=new Date().getTime();}var u=1369;var q=n.length-1;if(typeof n=="string"){for(;q>-1;q--){u+=(u<<5)+n.charCodeAt(q);}}else{for(;q>-1;q--){u+=(u<<5)+n[q];}}var r=u&2147483647;var w="";do{w+=l[r&63];}while(r>>=6);if(p){console.log(n.length+"\t:\t"+(new Date().getTime()-o));
}return w;}function d(q){if(q==null||q.length==0){return null;}data=[h(5),q,h(5)].join("");var p=Math.floor(data.length*0.25);var o=Math.floor(data.length*0.75);var r=j(data);while(r.length<6){r+="_";}var n=[data.substring(0,p),r,data.substring(p,o),h(3),data.substring(o)].join("");return n;}function g(w){if(w==null||w.length==0){return null;
}if(w.length<20){throw new Error("");}var n=w.length-9;var r=Math.floor(n*0.25);var p=Math.floor(n*0.75);var q=w.substring(r,r+6);var x=[];x.push(w.substring(0,r));x.push(w.substring(r+6,p+6));x.push(w.substring(p+9));var u=x.join("");x.length=0;var o=j(u);while(o.length<6){o=o+"_";}if(q!=o){throw new Error(",");
}u=u.substring(5);u=u.substring(0,u.length-5);return u;}if(!m.hashcode){m.hashcode=j;}if(!m.randomString){m.randomString=h;}if(!m.encbase64data){m.encbase64data=d;}if(!m.decbase64data){m.decbase64data=g;}})(window);new function(){try{var h=navigator.userAgent.toLowerCase();if((((h.indexOf("msie")!=-1)||h.indexOf("rv:")!=-1)&&(h.indexOf("opera")==-1)&&(h.indexOf("webtv")==-1))){var d=navigator.appVersion.match(/MSIE (\d+\.\d+)/,"");
if(d!=null&&d.length&&d.length>1){___i8=d[1]==8;___i9=d[1]==9;}}}catch(g){}}();!function(d){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=d();}else{if("function"==typeof define&&define.amd){define([],d);}else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=d();
}}}(function(){return function d(m,g,o){function l(r,q){if(!g[r]){if(!m[r]){var n="function"==typeof require&&require;if(!q&&n){return n(r,!0);}if(h){return h(r,!0);}var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u;}var p=g[r]={exports:{}};m[r][0].call(p.exports,function(x){var w=m[r][1][x];
return l(w||x);},p,p.exports,d,m,g,o);}return g[r].exports;}for(var h="function"==typeof require&&require,j=0;j<o.length;j++){l(o[j]);}return l;}({1:[function(j,o,g){function p(n,q){return Object.prototype.hasOwnProperty.call(n,q);}var m="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;
g.assign=function(q){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var n=w.shift();if(n){if("object"!=typeof n){throw new TypeError(n+"must be non-object");}for(var u in n){p(n,u)&&(q[u]=n[u]);}}}return q;},g.shrinkBuf=function(n,q){return n.length===q?n:n.subarray?n.subarray(0,q):(n.length=q,n);
};var h={arraySet:function(w,y,q,z,x){if(y.subarray&&w.subarray){w.set(y.subarray(q,q+z),x);}else{for(var u=0;u<z;u++){w[x+u]=y[q+u];}}},flattenChunks:function(w){var z,q,A,y,u,x;for(A=0,z=0,q=w.length;z<q;z++){A+=w[z].length;}for(x=new Uint8Array(A),y=0,z=0,q=w.length;z<q;z++){u=w[z],x.set(u,y),y+=u.length;
}return x;}},l={arraySet:function(w,y,q,z,x){for(var u=0;u<z;u++){w[x+u]=y[q+u];}},flattenChunks:function(n){return[].concat.apply([],n);}};g.setTyped=function(n){n?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,h)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,l));},g.setTyped(m);
},{}],2:[function(w,q,u){function j(l,r){if(r<65537&&(l.subarray&&x||!l.subarray&&o)){return String.fromCharCode.apply(null,g.shrinkBuf(l,r));}for(var h="",y=0;y<r;y++){h+=String.fromCharCode(l[y]);}return h;}var g=w("./common"),o=!0,x=!0;try{String.fromCharCode.apply(null,[0]);}catch(w){o=!1;}try{String.fromCharCode.apply(null,new Uint8Array(1));
}catch(w){x=!1;}for(var p=new g.Buf8(256),m=0;m<256;m++){p[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;}p[254]=p[254]=1,u.string2buf=function(A){var D,y,F,z,C,B=A.length,r=0;for(z=0;z<B;z++){55296==(64512&(y=A.charCodeAt(z)))&&z+1<B&&56320==(64512&(F=A.charCodeAt(z+1)))&&(y=65536+(y-55296<<10)+(F-56320),z++),r+=y<128?1:y<2048?2:y<65536?3:4;
}for(D=new g.Buf8(r),C=0,z=0;C<r;z++){55296==(64512&(y=A.charCodeAt(z)))&&z+1<B&&56320==(64512&(F=A.charCodeAt(z+1)))&&(y=65536+(y-55296<<10)+(F-56320),z++),y<128?D[C++]=y:y<2048?(D[C++]=192|y>>>6,D[C++]=128|63&y):y<65536?(D[C++]=224|y>>>12,D[C++]=128|y>>>6&63,D[C++]=128|63&y):(D[C++]=240|y>>>18,D[C++]=128|y>>>12&63,D[C++]=128|y>>>6&63,D[C++]=128|63&y);
}return D;},u.buf2binstring=function(h){return j(h,h.length);},u.binstring2buf=function(l){for(var r=new g.Buf8(l.length),h=0,y=r.length;h<y;h++){r[h]=l.charCodeAt(h);}return r;},u.buf2string=function(z,C){var n,B,y,A,h=C||z.length,D=new Array(2*h);for(B=0,n=0;n<h;){if((y=z[n++])<128){D[B++]=y;}else{if((A=p[y])>4){D[B++]=65533,n+=A-1;
}else{for(y&=2===A?31:3===A?15:7;A>1&&n<h;){y=y<<6|63&z[n++],A--;}A>1?D[B++]=65533:y<65536?D[B++]=y:(y-=65536,D[B++]=55296|y>>10&1023,D[B++]=56320|1023&y);}}}return j(D,B);},u.utf8border=function(l,n){var h;for((n=n||l.length)>l.length&&(n=l.length),h=n-1;h>=0&&128==(192&l[h]);){h--;}return h<0?n:0===h?n:h+p[l[h]]>n?h:n;
};},{"./common":1}],3:[function(h,j,g){j.exports=function(o,u,l,w){for(var q=65535&o|0,m=o>>>16&65535|0,p=0;0!==l;){l-=p=l>2000?2000:l;do{m=m+(q=q+u[w++]|0)|0;}while(--p);q%=65521,m%=65521;}return q|m<<16|0;};},{}],4:[function(h,j,g){var l=function(){for(var o,p=[],m=0;m<256;m++){o=m;for(var q=0;q<8;
q++){o=1&o?3988292384^o>>>1:o>>>1;}p[m]=o;}return p;}();j.exports=function(o,w,m,u){var n=l,q=u+m;o^=-1;for(var p=u;p<q;p++){o=o>>>8^n[255&(o^w[p])];}return -1^o;};},{}],5:[function(aW,bf,bj){function a4(g,h){return g.msg=ai[h],h;}function aY(g){return(g<<1)-(g>4?9:0);}function ba(g){for(var h=g.length;
--h>=0;){g[h]=0;}}function aX(h){var j=h.state,g=j.pending;g>h.avail_out&&(g=h.avail_out),0!==g&&(aR.arraySet(h.output,j.pending_buf,j.pending_out,g,h.next_out),h.next_out+=g,j.pending_out+=g,h.total_out+=g,h.avail_out-=g,j.pending-=g,0===j.pending&&(j.pending_out=0));}function bb(g,h){aF._tr_flush_block(g,g.block_start>=0?g.block_start:-1,g.strstart-g.block_start,h),g.block_start=g.strstart,aX(g.strm);
}function a6(g,h){g.pending_buf[g.pending++]=h;}function a2(g,h){g.pending_buf[g.pending++]=h>>>8&255,g.pending_buf[g.pending++]=255&h;}function bk(h,l,g,m){var j=h.avail_in;return j>m&&(j=m),0===j?0:(h.avail_in-=j,aR.arraySet(l,h.input,h.next_in,j,g),1===h.state.wrap?h.adler=aG(h.adler,l,j,g):2===h.state.wrap&&(h.adler=aE(h.adler,l,j,g)),h.next_in+=j,h.total_in+=j,j);
}function bg(F,y){var B,m,g=F.max_chain_length,q=F.strstart,G=F.prev_length,w=F.nice_match,p=F.strstart>F.w_size-a8?F.strstart-(F.w_size-a8):0,j=F.window,C=F.w_mask,z=F.prev,D=F.strstart+ah,x=j[q+G-1],A=j[q+G];F.prev_length>=F.good_match&&(g>>=2),w>F.lookahead&&(w=F.lookahead);do{if(B=y,j[B+G]===A&&j[B+G-1]===x&&j[B]===j[q]&&j[++B]===j[q+1]){q+=2,B++;
do{}while(j[++q]===j[++B]&&j[++q]===j[++B]&&j[++q]===j[++B]&&j[++q]===j[++B]&&j[++q]===j[++B]&&j[++q]===j[++B]&&j[++q]===j[++B]&&j[++q]===j[++B]&&q<D);if(m=ah-(D-q),q=D-ah,m>G){if(F.match_start=y,G=m,m>=w){break;}x=j[q+G-1],A=j[q+G];}}}while((y=z[y&C])>p&&0!=--g);return G<=F.lookahead?G:F.lookahead;}function aU(j){var o,g,p,m,h,l=j.w_size;
do{if(m=j.window_size-j.lookahead-j.strstart,j.strstart>=l+(l-a8)){aR.arraySet(j.window,j.window,l,l,0),j.match_start-=l,j.strstart-=l,j.block_start-=l,o=g=j.hash_size;do{p=j.head[--o],j.head[o]=p>=l?p-l:0;}while(--g);o=g=l;do{p=j.prev[--o],j.prev[o]=p>=l?p-l:0;}while(--g);m+=l;}if(0===j.strm.avail_in){break;
}if(g=bk(j.strm,j.window,j.strstart+j.lookahead,m),j.lookahead+=g,j.lookahead+j.insert>=a0){for(h=j.strstart-j.insert,j.ins_h=j.window[h],j.ins_h=(j.ins_h<<j.hash_shift^j.window[h+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[h+a0-1])&j.hash_mask,j.prev[h&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=h,h++,j.insert--,!(j.lookahead+j.insert<a0));
){}}}while(j.lookahead<a8&&0!==j.strm.avail_in);}function be(h,j){for(var g,l;;){if(h.lookahead<a8){if(aU(h),h.lookahead<a8&&j===a9){return aN;}if(0===h.lookahead){break;}}if(g=0,h.lookahead>=a0&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+a0-1])&h.hash_mask,g=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),0!==g&&h.strstart-g<=h.w_size-a8&&(h.match_length=bg(h,g)),h.match_length>=a0){if(l=aF._tr_tally(h,h.strstart-h.match_start,h.match_length-a0),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=a0){h.match_length--;
do{h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+a0-1])&h.hash_mask,g=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart;}while(0!=--h.match_length);h.strstart++;}else{h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;
}}else{l=aF._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;}if(l&&(bb(h,!1),0===h.strm.avail_out)){return aN;}}return h.insert=h.strstart<a0-1?h.strstart:a0-1,j===aD?(bb(h,!0),0===h.strm.avail_out?aH:aw):h.last_lit&&(bb(h,!1),0===h.strm.avail_out)?aN:aI;}function bh(h,l){for(var g,m,j;
;){if(h.lookahead<a8){if(aU(h),h.lookahead<a8&&l===a9){return aN;}if(0===h.lookahead){break;}}if(g=0,h.lookahead>=a0&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+a0-1])&h.hash_mask,g=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=a0-1,0!==g&&h.prev_length<h.max_lazy_match&&h.strstart-g<=h.w_size-a8&&(h.match_length=bg(h,g),h.match_length<=5&&(h.strategy===ay||h.match_length===a0&&h.strstart-h.match_start>4096)&&(h.match_length=a0-1)),h.prev_length>=a0&&h.match_length<=h.prev_length){j=h.strstart+h.lookahead-a0,m=aF._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-a0),h.lookahead-=h.prev_length-1,h.prev_length-=2;
do{++h.strstart<=j&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+a0-1])&h.hash_mask,g=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart);}while(0!=--h.prev_length);if(h.match_available=0,h.match_length=a0-1,h.strstart++,m&&(bb(h,!1),0===h.strm.avail_out)){return aN;}}else{if(h.match_available){if((m=aF._tr_tally(h,0,h.window[h.strstart-1]))&&bb(h,!1),h.strstart++,h.lookahead--,0===h.strm.avail_out){return aN;
}}else{h.match_available=1,h.strstart++,h.lookahead--;}}}return h.match_available&&(m=aF._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<a0-1?h.strstart:a0-1,l===aD?(bb(h,!0),0===h.strm.avail_out?aH:aw):h.last_lit&&(bb(h,!1),0===h.strm.avail_out)?aN:aI;}function a1(j,o){for(var g,p,m,h,l=j.window;
;){if(j.lookahead<=ah){if(aU(j),j.lookahead<=ah&&o===a9){return aN;}if(0===j.lookahead){break;}}if(j.match_length=0,j.lookahead>=a0&&j.strstart>0&&(m=j.strstart-1,(p=l[m])===l[++m]&&p===l[++m]&&p===l[++m])){h=j.strstart+ah;do{}while(p===l[++m]&&p===l[++m]&&p===l[++m]&&p===l[++m]&&p===l[++m]&&p===l[++m]&&p===l[++m]&&p===l[++m]&&m<h);
j.match_length=ah-(h-m),j.match_length>j.lookahead&&(j.match_length=j.lookahead);}if(j.match_length>=a0?(g=aF._tr_tally(j,1,j.match_length-a0),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(g=aF._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),g&&(bb(j,!1),0===j.strm.avail_out)){return aN;
}}return j.insert=0,o===aD?(bb(j,!0),0===j.strm.avail_out?aH:aw):j.last_lit&&(bb(j,!1),0===j.strm.avail_out)?aN:aI;}function bc(h,j){for(var g;;){if(0===h.lookahead&&(aU(h),0===h.lookahead)){if(j===a9){return aN;}break;}if(h.match_length=0,g=aF._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,g&&(bb(h,!1),0===h.strm.avail_out)){return aN;
}}return h.insert=0,j===aD?(bb(h,!0),0===h.strm.avail_out?aH:aw):h.last_lit&&(bb(h,!1),0===h.strm.avail_out)?aN:aI;}function a5(h,l,g,m,j){this.good_length=h,this.max_lazy=l,this.nice_length=g,this.max_chain=m,this.func=j;}function bi(g){g.window_size=2*g.w_size,ba(g.head),g.max_lazy_match=aP[g.level].max_lazy,g.good_match=aP[g.level].good_length,g.nice_match=aP[g.level].nice_length,g.max_chain_length=aP[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=a0-1,g.match_available=0,g.ins_h=0;
}function aS(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=av,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new aR.Buf16(2*aO),this.dyn_dtree=new aR.Buf16(2*(2*ab+1)),this.bl_tree=new aR.Buf16(2*(2*aa+1)),ba(this.dyn_ltree),ba(this.dyn_dtree),ba(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new aR.Buf16(bd+1),this.heap=new aR.Buf16(2*ac+1),ba(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new aR.Buf16(2*ac+1),ba(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0;
}function aT(g){var h;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=aA,h=g.state,h.pending=0,h.pending_out=0,h.wrap<0&&(h.wrap=-h.wrap),h.status=h.wrap?aJ:aV,g.adler=2===h.wrap?0:1,h.last_flush=a9,aF._tr_init(h),ao):a4(g,ag);}function aQ(g){var h=aT(g);return h===ao&&bi(g.state),h;}function a7(n,u,j,q,m,p){if(!n){return ag;
}var o=1;if(u===aj&&(u=6),q<0?(o=0,q=-q):q>15&&(o=2,q-=16),m<1||m>al||j!==av||q<8||q>15||u<0||u>9||p<0||p>aq){return a4(n,ag);}8===q&&(q=9);var g=new aS;return n.state=g,g.strm=n,g.wrap=o,g.gzhead=null,g.w_bits=q,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=m+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+a0-1)/a0),g.window=new aR.Buf8(2*g.w_size),g.head=new aR.Buf16(g.hash_size),g.prev=new aR.Buf16(g.w_size),g.lit_bufsize=1<<m+6,g.pending_buf_size=4*g.lit_bufsize,g.pending_buf=new aR.Buf8(g.pending_buf_size),g.d_buf=1*g.lit_bufsize,g.l_buf=3*g.lit_bufsize,g.level=u,g.strategy=p,g.method=j,aQ(n);
}var aP,aR=aW("../utils/common"),aF=aW("./trees"),aG=aW("./adler32"),aE=aW("./crc32"),ai=aW("./messages"),a9=0,aC=1,af=3,aD=4,ax=5,ao=0,aZ=1,ag=-2,ar=-3,ap=-5,aj=-1,ay=1,aB=2,au=3,aq=4,am=0,aA=2,av=8,al=9,ae=15,ad=8,ac=286,ab=30,aa=19,aO=2*ac+1,bd=15,a0=3,ah=258,a8=ah+a0+1,aM=32,aJ=42,az=69,a3=73,aK=91,aL=103,aV=113,ak=666,aN=1,aI=2,aH=3,aw=4,an=3;
aP=[new a5(0,0,0,0,function(h,j){var g=65535;for(g>h.pending_buf_size-5&&(g=h.pending_buf_size-5);;){if(h.lookahead<=1){if(aU(h),0===h.lookahead&&j===a9){return aN;}if(0===h.lookahead){break;}}h.strstart+=h.lookahead,h.lookahead=0;var l=h.block_start+g;if((0===h.strstart||h.strstart>=l)&&(h.lookahead=h.strstart-l,h.strstart=l,bb(h,!1),0===h.strm.avail_out)){return aN;
}if(h.strstart-h.block_start>=h.w_size-a8&&(bb(h,!1),0===h.strm.avail_out)){return aN;}}return h.insert=0,j===aD?(bb(h,!0),0===h.strm.avail_out?aH:aw):(h.strstart>h.block_start&&(bb(h,!1),h.strm.avail_out),aN);}),new a5(4,4,8,4,be),new a5(4,5,16,8,be),new a5(4,6,32,32,be),new a5(4,4,16,16,bh),new a5(8,16,32,32,bh),new a5(8,16,128,128,bh),new a5(8,32,128,256,bh),new a5(32,128,258,1024,bh),new a5(32,258,258,4096,bh)],bj.deflateInit=function(g,h){return a7(g,h,av,ae,ad,am);
},bj.deflateInit2=a7,bj.deflateReset=aQ,bj.deflateResetKeep=aT,bj.deflateSetHeader=function(g,h){return g&&g.state?2!==g.state.wrap?ag:(g.state.gzhead=h,ao):ag;},bj.deflate=function(m,p){var g,n,l,q;if(!m||!m.state||p>ax||p<0){return m?a4(m,ag):ag;}if(n=m.state,!m.output||!m.input&&0!==m.avail_in||n.status===ak&&p!==aD){return a4(m,0===m.avail_out?ap:ag);
}if(n.strm=m,g=n.last_flush,n.last_flush=p,n.status===aJ){if(2===n.wrap){m.adler=0,a6(n,31),a6(n,139),a6(n,8),n.gzhead?(a6(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),a6(n,255&n.gzhead.time),a6(n,n.gzhead.time>>8&255),a6(n,n.gzhead.time>>16&255),a6(n,n.gzhead.time>>24&255),a6(n,9===n.level?2:n.strategy>=aB||n.level<2?4:0),a6(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(a6(n,255&n.gzhead.extra.length),a6(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(m.adler=aE(m.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=az):(a6(n,0),a6(n,0),a6(n,0),a6(n,0),a6(n,0),a6(n,9===n.level?2:n.strategy>=aB||n.level<2?4:0),a6(n,an),n.status=aV);
}else{var j=av+(n.w_bits-8<<4)<<8;j|=(n.strategy>=aB||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(j|=aM),j+=31-j%31,n.status=aV,a2(n,j),0!==n.strstart&&(a2(n,m.adler>>>16),a2(n,65535&m.adler)),m.adler=1;}}if(n.status===az){if(n.gzhead.extra){for(l=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>l&&(m.adler=aE(m.adler,n.pending_buf,n.pending-l,l)),aX(m),l=n.pending,n.pending!==n.pending_buf_size));
){a6(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;}n.gzhead.hcrc&&n.pending>l&&(m.adler=aE(m.adler,n.pending_buf,n.pending-l,l)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=a3);}else{n.status=a3;}}if(n.status===a3){if(n.gzhead.name){l=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>l&&(m.adler=aE(m.adler,n.pending_buf,n.pending-l,l)),aX(m),l=n.pending,n.pending===n.pending_buf_size)){q=1;
break;}q=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,a6(n,q);}while(0!==q);n.gzhead.hcrc&&n.pending>l&&(m.adler=aE(m.adler,n.pending_buf,n.pending-l,l)),0===q&&(n.gzindex=0,n.status=aK);}else{n.status=aK;}}if(n.status===aK){if(n.gzhead.comment){l=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>l&&(m.adler=aE(m.adler,n.pending_buf,n.pending-l,l)),aX(m),l=n.pending,n.pending===n.pending_buf_size)){q=1;
break;}q=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,a6(n,q);}while(0!==q);n.gzhead.hcrc&&n.pending>l&&(m.adler=aE(m.adler,n.pending_buf,n.pending-l,l)),0===q&&(n.status=aL);}else{n.status=aL;}}if(n.status===aL&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&aX(m),n.pending+2<=n.pending_buf_size&&(a6(n,255&m.adler),a6(n,m.adler>>8&255),m.adler=0,n.status=aV)):n.status=aV),0!==n.pending){if(aX(m),0===m.avail_out){return n.last_flush=-1,ao;
}}else{if(0===m.avail_in&&aY(p)<=aY(g)&&p!==aD){return a4(m,ap);}}if(n.status===ak&&0!==m.avail_in){return a4(m,ap);}if(0!==m.avail_in||0!==n.lookahead||p!==a9&&n.status!==ak){var o=n.strategy===aB?bc(n,p):n.strategy===au?a1(n,p):aP[n.level].func(n,p);if(o!==aH&&o!==aw||(n.status=ak),o===aN||o===aH){return 0===m.avail_out&&(n.last_flush=-1),ao;
}if(o===aI&&(p===aC?aF._tr_align(n):p!==ax&&(aF._tr_stored_block(n,0,0,!1),p===af&&(ba(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),aX(m),0===m.avail_out)){return n.last_flush=-1,ao;}}return p!==aD?ao:n.wrap<=0?aZ:(2===n.wrap?(a6(n,255&m.adler),a6(n,m.adler>>8&255),a6(n,m.adler>>16&255),a6(n,m.adler>>24&255),a6(n,255&m.total_in),a6(n,m.total_in>>8&255),a6(n,m.total_in>>16&255),a6(n,m.total_in>>24&255)):(a2(n,m.adler>>>16),a2(n,65535&m.adler)),aX(m),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?ao:aZ);
},bj.deflateEnd=function(g){var h;return g&&g.state?(h=g.state.status)!==aJ&&h!==az&&h!==a3&&h!==aK&&h!==aL&&h!==aV&&h!==ak?a4(g,ag):(g.state=null,h===aV?a4(g,ar):ao):ag;},bj.deflateSetDictionary=function(z,u){var x,m,g,A,q,p,j,y,w=u.length;if(!z||!z.state){return ag;}if(x=z.state,2===(A=x.wrap)||1===A&&x.status!==aJ||x.lookahead){return ag;
}for(1===A&&(z.adler=aG(z.adler,u,w,0)),x.wrap=0,w>=x.w_size&&(0===A&&(ba(x.head),x.strstart=0,x.block_start=0,x.insert=0),y=new aR.Buf8(x.w_size),aR.arraySet(y,u,w-x.w_size,x.w_size,0),u=y,w=x.w_size),q=z.avail_in,p=z.next_in,j=z.input,z.avail_in=w,z.next_in=0,z.input=u,aU(x);x.lookahead>=a0;){m=x.strstart,g=x.lookahead-(a0-1);
do{x.ins_h=(x.ins_h<<x.hash_shift^x.window[m+a0-1])&x.hash_mask,x.prev[m&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=m,m++;}while(--g);x.strstart=m,x.lookahead=a0-1,aU(x);}return x.strstart+=x.lookahead,x.block_start=x.strstart,x.insert=x.lookahead,x.lookahead=0,x.match_length=x.prev_length=a0-1,x.match_available=0,z.next_in=p,z.input=j,z.avail_in=q,x.wrap=A,ao;
},bj.deflateInfo="pako deflate (from Nodeca project)";},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(h,j,g){j.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],7:[function(aO,a7,bb){function aW(g){for(var h=g.length;--h>=0;){g[h]=0;}}function aQ(h,l,g,m,j){this.static_tree=h,this.extra_bits=l,this.extra_base=g,this.elems=m,this.max_length=j,this.has_stree=h&&h.length;}function a2(g,h){this.dyn_tree=g,this.max_code=0,this.stat_desc=h;}function aP(g){return g<256?aS[g]:aS[256+(g>>>7)];
}function a3(g,h){g.pending_buf[g.pending++]=255&h,g.pending_buf[g.pending++]=h>>>8&255;}function aY(h,j,g){h.bi_valid>ao-g?(h.bi_buf|=j<<h.bi_valid&65535,a3(h,h.bi_buf),h.bi_buf=j>>ao-h.bi_valid,h.bi_valid+=g-ao):(h.bi_buf|=j<<h.bi_valid&65535,h.bi_valid+=g);}function aU(h,j,g){aY(h,g[2*j],g[2*j+1]);
}function bc(h,j){var g=0;do{g|=1&h,h>>>=1,g<<=1;}while(--j>0);return g>>>1;}function a8(g){16===g.bi_valid?(a3(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):g.bi_valid>=8&&(g.pending_buf[g.pending++]=255&g.bi_buf,g.bi_buf>>=8,g.bi_valid-=8);}function aN(H,A){var D,q,g,x,I,y,w=A.dyn_tree,m=A.max_code,F=A.stat_desc.static_tree,B=A.stat_desc.has_stree,G=A.stat_desc.extra_bits,z=A.stat_desc.extra_base,C=A.stat_desc.max_length,j=0;
for(x=0;x<=aq;x++){H.bl_count[x]=0;}for(w[2*H.heap[H.heap_max]+1]=0,D=H.heap_max+1;D<ay;D++){(x=w[2*w[2*(q=H.heap[D])+1]+1]+1)>C&&(x=C,j++),w[2*q+1]=x,q>m||(H.bl_count[x]++,I=0,q>=z&&(I=G[q-z]),y=w[2*q],H.opt_len+=y*(x+I),B&&(H.static_len+=y*(F[2*q+1]+I)));}if(0!==j){do{for(x=C-1;0===H.bl_count[x];){x--;
}H.bl_count[x]--,H.bl_count[x+1]+=2,H.bl_count[C]--,j-=2;}while(j>0);for(x=C;0!==x;x--){for(q=H.bl_count[x];0!==q;){(g=H.heap[--D])>m||(w[2*g+1]!==x&&(H.opt_len+=(x-w[2*g+1])*w[2*g],w[2*g+1]=x),q--);}}}}function a6(l,q,g){var u,p,j=new Array(aq+1),o=0;for(u=1;u<=aq;u++){j[u]=o=o+g[u-1]<<1;}for(p=0;p<=q;
p++){var m=l[2*p+1];0!==m&&(l[2*p]=bc(j[m]++,m));}}function a9(){var j,m,g,o,h,l=new Array(aq+1);for(g=0,o=0;o<ag-1;o++){for(a0[o]=g,j=0;j<1<<ad[o];j++){ah[g++]=o;}}for(ah[g-1]=o,h=0,o=0;o<16;o++){for(aG[o]=h,j=0;j<1<<ac[o];j++){aS[h++]=o;}}for(h>>=7;o<aj;o++){for(aG[o]=h<<7,j=0;j<1<<ac[o]-7;j++){aS[256+h++]=o;
}}for(m=0;m<=aq;m++){l[m]=0;}for(j=0;j<=143;){aH[2*j+1]=8,j++,l[8]++;}for(;j<=255;){aH[2*j+1]=9,j++,l[9]++;}for(;j<=279;){aH[2*j+1]=7,j++,l[7]++;}for(;j<=287;){aH[2*j+1]=8,j++,l[8]++;}for(a6(aH,an+1,l),j=0;j<aj;j++){a5[2*j+1]=5,a5[2*j]=bc(j,5);}aE=new aQ(aH,ad,ap+1,an,aq),aw=new aQ(a5,ac,0,aj,aq),aV=new aQ(new Array(0),ab,0,av,al);
}function aT(g){var h;for(h=0;h<an;h++){g.dyn_ltree[2*h]=0;}for(h=0;h<aj;h++){g.dyn_dtree[2*h]=0;}for(h=0;h<av;h++){g.bl_tree[2*h]=0;}g.dyn_ltree[2*ax]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0;}function a4(g){g.bi_valid>8?a3(g,g.bi_buf):g.bi_valid>0&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0;
}function aX(h,j,g,l){a4(h),l&&(a3(h,g),a3(h,~g)),ai.arraySet(h.pending_buf,h.window,j,g,h.pending),h.pending+=g;}function ba(j,m,g,o){var l=2*m,h=2*g;return j[l]<j[h]||j[l]===j[h]&&o[m]<=o[g];}function aL(h,l,g){for(var m=h.heap[g],j=g<<1;j<=h.heap_len&&(j<h.heap_len&&ba(l,h.heap[j+1],h.heap[j],h.depth)&&j++,!ba(l,m,h.heap[j],h.depth));
){h.heap[g]=h.heap[j],g=j,j<<=1;}h.heap[g]=m;}function aM(m,q,g){var u,p,l,o,j=0;if(0!==m.last_lit){do{u=m.pending_buf[m.d_buf+2*j]<<8|m.pending_buf[m.d_buf+2*j+1],p=m.pending_buf[m.l_buf+j],j++,0===u?aU(m,p,q):(aU(m,(l=ah[p])+ap+1,q),0!==(o=ad[l])&&aY(m,p-=a0[l],o),aU(m,l=aP(--u),g),0!==(o=ac[l])&&aY(m,u-=aG[l],o));
}while(j<m.last_lit);}aU(m,ax,q);}function aJ(y,w){var x,m,g,q=w.dyn_tree,z=w.stat_desc.static_tree,u=w.stat_desc.has_stree,p=w.stat_desc.elems,j=-1;for(y.heap_len=0,y.heap_max=ay,x=0;x<p;x++){0!==q[2*x]?(y.heap[++y.heap_len]=j=x,y.depth[x]=0):q[2*x+1]=0;}for(;y.heap_len<2;){q[2*(g=y.heap[++y.heap_len]=j<2?++j:0)]=1,y.depth[g]=0,y.opt_len--,u&&(y.static_len-=z[2*g+1]);
}for(w.max_code=j,x=y.heap_len>>1;x>=1;x--){aL(y,q,x);}g=p;do{x=y.heap[1],y.heap[1]=y.heap[y.heap_len--],aL(y,q,1),m=y.heap[1],y.heap[--y.heap_max]=x,y.heap[--y.heap_max]=m,q[2*g]=q[2*x]+q[2*m],y.depth[g]=(y.depth[x]>=y.depth[m]?y.depth[x]:y.depth[m])+1,q[2*x+1]=q[2*m+1]=g,y.heap[1]=g++,aL(y,q,1);}while(y.heap_len>=2);
y.heap[--y.heap_max]=y.heap[1],aN(y,w),a6(q,j,y.bl_count);}function aZ(y,w,x){var m,g,q=-1,z=w[1],u=0,p=7,j=4;for(0===z&&(p=138,j=3),w[2*(x+1)+1]=65535,m=0;m<=x;m++){g=z,z=w[2*(m+1)+1],++u<p&&g===z||(u<j?y.bl_tree[2*g]+=u:0!==g?(g!==q&&y.bl_tree[2*g]++,y.bl_tree[2*ar]++):u<=10?y.bl_tree[2*ak]++:y.bl_tree[2*ae]++,u=0,q=g,0===z?(p=138,j=3):g===z?(p=6,j=3):(p=7,j=4));
}}function aI(w,o,q){var j,g,l=-1,x=o[1],m=0,u=7,p=4;for(0===x&&(u=138,p=3),j=0;j<=q;j++){if(g=x,x=o[2*(j+1)+1],!(++m<u&&g===x)){if(m<p){do{aU(w,g,w.bl_tree);}while(0!=--m);}else{0!==g?(g!==l&&(aU(w,g,w.bl_tree),m--),aU(w,ar,w.bl_tree),aY(w,m-3,2)):(m<=10?(aU(w,ak,w.bl_tree),aY(w,m-3,3)):(aU(w,ae,w.bl_tree),aY(w,m-11,7)));
}m=0,l=g,0===x?(u=138,p=3):g===x?(u=6,p=3):(u=7,p=4);}}}function aK(g){var h;for(aZ(g,g.dyn_ltree,g.l_desc.max_code),aZ(g,g.dyn_dtree,g.d_desc.max_code),aJ(g,g.bl_desc),h=av-1;h>=3&&0===g.bl_tree[2*aa[h]+1];h--){}return g.opt_len+=3*(h+1)+5+5+4,h;}function aC(h,l,g,m){var j;for(aY(h,l-257,5),aY(h,g-1,5),aY(h,m-4,4),j=0;
j<m;j++){aY(h,h.bl_tree[2*aa[j]+1],3);}aI(h,h.dyn_ltree,l-1),aI(h,h.dyn_dtree,g-1);}function aD(h){var j,g=4093624447;for(j=0;j<=31;j++,g>>>=1){if(1&g&&0!==h.dyn_ltree[2*j]){return az;}}if(0!==h.dyn_ltree[18]||0!==h.dyn_ltree[20]||0!==h.dyn_ltree[26]){return af;}for(j=32;j<ap;j++){if(0!==h.dyn_ltree[2*j]){return af;
}}return az;}function aB(h,j,g,l){aY(h,(au<<1)+(l?1:0),3),aX(h,j,g,!0);}var ai=aO("../utils/common"),a1=4,az=0,af=1,aA=2,au=0,am=1,aR=2,ag=29,ap=256,an=ap+1+ag,aj=30,av=19,ay=2*an+1,aq=15,ao=16,al=7,ax=256,ar=16,ak=17,ae=18,ad=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ac=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ab=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],aa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],aH=new Array(2*(an+2));
aW(aH);var a5=new Array(2*aj);aW(a5);var aS=new Array(512);aW(aS);var ah=new Array(256);aW(ah);var a0=new Array(ag);aW(a0);var aG=new Array(aj);aW(aG);var aE,aw,aV,aF=!1;bb._tr_init=function(g){aF||(a9(),aF=!0),g.l_desc=new a2(g.dyn_ltree,aE),g.d_desc=new a2(g.dyn_dtree,aw),g.bl_desc=new a2(g.bl_tree,aV),g.bi_buf=0,g.bi_valid=0,aT(g);
},bb._tr_stored_block=aB,bb._tr_flush_block=function(j,o,g,p){var m,h,l=0;j.level>0?(j.strm.data_type===aA&&(j.strm.data_type=aD(j)),aJ(j,j.l_desc),aJ(j,j.d_desc),l=aK(j),m=j.opt_len+3+7>>>3,(h=j.static_len+3+7>>>3)<=m&&(m=h)):m=h=g+5,g+4<=m&&-1!==o?aB(j,o,g,p):j.strategy===a1||h===m?(aY(j,(am<<1)+(p?1:0),3),aM(j,aH,a5)):(aY(j,(aR<<1)+(p?1:0),3),aC(j,j.l_desc.max_code+1,j.d_desc.max_code+1,l+1),aM(j,j.dyn_ltree,j.dyn_dtree)),aT(j),p&&a4(j);
},bb._tr_tally=function(h,j,g){return h.pending_buf[h.d_buf+2*h.last_lit]=j>>>8&255,h.pending_buf[h.d_buf+2*h.last_lit+1]=255&j,h.pending_buf[h.l_buf+h.last_lit]=255&g,h.last_lit++,0===j?h.dyn_ltree[2*g]++:(h.matches++,j--,h.dyn_ltree[2*(ah[g]+ap+1)]++,h.dyn_dtree[2*aP(j)]++),h.last_lit===h.lit_bufsize-1;
},bb._tr_align=function(g){aY(g,am<<1,3),aU(g,ax,aH),a8(g);};},{"../utils/common":1}],8:[function(h,j,g){j.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0;
};},{}],"/lib/deflate.js":[function(F,y,B){function m(l){if(!(this instanceof m)){return new m(l);}this.options=G.assign({level:D,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},l||{});var o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;
var h=q.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(h!==z){throw new Error(p[h]);}if(o.header&&q.deflateSetHeader(this.strm,o.header),o.dictionary){var n;if(n="string"==typeof o.dictionary?w.string2buf(o.dictionary):"[object ArrayBuffer]"===C.call(o.dictionary)?new Uint8Array(o.dictionary):o.dictionary,(h=q.deflateSetDictionary(this.strm,n))!==z){throw new Error(p[h]);
}this._dict_set=!0;}}function g(l,n){var h=new m(n);if(h.push(l,!0),h.err){throw h.msg||p[h.err];}return h.result;}var q=F("./zlib/deflate"),G=F("./utils/common"),w=F("./utils/strings"),p=F("./zlib/messages"),j=F("./zlib/zstream"),C=Object.prototype.toString,z=0,D=-1,x=0,A=8;m.prototype.push=function(u,I){var o,J,H=this.strm,h=this.options.chunkSize;
if(this.ended){return !1;}J=I===~~I?I:!0===I?4:0,"string"==typeof u?H.input=w.string2buf(u):"[object ArrayBuffer]"===C.call(u)?H.input=new Uint8Array(u):H.input=u,H.next_in=0,H.avail_in=H.input.length;do{if(0===H.avail_out&&(H.output=new G.Buf8(h),H.next_out=0,H.avail_out=h),1!==(o=q.deflate(H,J))&&o!==z){return this.onEnd(o),this.ended=!0,!1;
}0!==H.avail_out&&(0!==H.avail_in||4!==J&&2!==J)||("string"===this.options.to?this.onData(w.buf2binstring(G.shrinkBuf(H.output,H.next_out))):this.onData(G.shrinkBuf(H.output,H.next_out)));}while((H.avail_in>0||0===H.avail_out)&&1!==o);return 4===J?(o=q.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===z):2!==J||(this.onEnd(z),H.avail_out=0,!0);
},m.prototype.onData=function(h){this.chunks.push(h);},m.prototype.onEnd=function(h){h===z&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=G.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg;},B.Deflate=m,B.deflate=g,B.deflateRaw=function(h,l){return l=l||{},l.raw=!0,g(h,l);
},B.gzip=function(h,l){return l=l||{},l.gzip=!0,g(h,l);};},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js");});(function(g,h){var d=function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function j(u){if(/([^\u0000-\u00ff])/.test(u)){throw new Error("INVALID_CHARACTER_ERR");
}var r=0,w,p,q,o=[];while(r<u.length){p=u.charCodeAt(r);q=r%3;switch(q){case 0:o.push(n.charAt(p>>2));break;case 1:o.push(n.charAt((w&3)<<4|(p>>4)));break;case 2:o.push(n.charAt((w&15)<<2|(p>>6)));o.push(n.charAt(p&63));break;}w=p;r++;}if(q==0){o.push(n.charAt((w&3)<<4));o.push("==");}else{if(q==1){o.push(n.charAt((w&15)<<2));
o.push("=");}}return o.join("");}function m(r){r=r.replace(/\s|=/g,"");var w,u,q,p=0,o=[];while(p<r.length){w=n.indexOf(r.charAt(p));q=p%4;switch(q){case 0:break;case 1:o.push(String.fromCharCode(u<<2|w>>4));break;case 2:o.push(String.fromCharCode((u&15)<<4|w>>2));break;case 3:o.push(String.fromCharCode((u&3)<<6|w));
break;}u=w;p++;}return o.join("");}var l={btoa:j,atob:m,encode:j,decode:m};return l;}();if(!g.Base64_3){g.Base64_3=d;}if(!g.btoa){g.btoa=d.btoa;}if(!g.atob){g.atob=d.atob;}})(window);function base64encode(d){return btoa(d);}function base64decode(d){return atob(d);}var __s__1="\u006c\u006f\u0063\u0061\u0074\u0069\u006f\u006e";
var __s__2="\u0075\u0072\u006c";var __s__3=window[__s__1];var __s__5="\u0068\u0072\u0065\u0066";var _safeprop={s_e:eval,s_wd:"\u0077\u0069\u006e\u0064\u006f\u0077",s_l:"\u006c\u006f\u0063\u0061\u0074\u0069\u006f\u006e",s_h:"\u0068\u0072\u0065\u0066",s_d:"\u0064\u006f\u0063\u0075\u006d\u0065\u006e\u0074",s_dih:"\u0069\u006e\u006e\u0065\u0072\u0048\u0054\u004d\u004c",s_dit:"\u0069\u006e\u006e\u0065\u0072\u0054\u0065\u0078\u0074",s_w:"\u0077\u0072\u0069\u0074\u0065",getWin:function(){return this.s_e("("+this.s_wd+")");
},getDoc:function(){return this.getWin()[this.s_d];},write:function(d){this.getDoc()[this.s_w](d);},getHref:function(){return this.getWin()[this.s_l][this.s_h];},setHref:function(d){this.getWin()[this.s_l][this.s_h]=d;},setHtml:function(d,g){try{d[this.s_dih]=g;}finally{d=null;}},setText:function(d,g){try{d[this.s_dit]=g;
}finally{d=null;}},random:function(){return this.s_e("(\u004d\u0061\u0074\u0068['\u0072\u0061\u006e\u0064\u006f\u006d']())");}};function _web_gu(d,j){if(j==null){return d;}var n="\u0070\u0061\u0067\u0065";var h=d.lastIndexOf("?")>-1?d.substring(d.lastIndexOf("?")):"";var m=h.indexOf(n+"=");if(h==""){d+="?"+n+"="+j;
}else{if(m==-1){d+="&"+n+"="+j;}else{var l=h.substring(1).split("&");for(var g=0;g<l.length;g++){if(l[g].indexOf(n+"=")==0){l[g]=n+"="+j;break;}}d=d.substring(0,d.lastIndexOf("?"))+"?"+l.join("&");}}return d;}function _webela_o(d){window.open(_web_gu(__s__3[__s__5],d));}function _webela_g(d){__s__3[__s__5]=_web_gu(__s__3[__s__5],d);
}var _docstr="document";var _ckstr="\u0063\u006f\u006f\u006b\u0069\u0065";function gcook(){var g=window[_docstr];var d=g[_ckstr];return d;}function scook(d){var g=window[_docstr];g[_ckstr]=d;}String.prototype.replaceall=function(j,d){if(j==null){return this;}if(d==null){d="";}if(j.length==1&&j=="\\"){j="\\\\";
}try{return this.replace(new RegExp(j,"gm"),d);}catch(h){if(j==null){return this;}if(d==null){d="";}var g=this;str="";while(g.indexOf(j)!=-1){k=g.indexOf(j);g=g.replace(j,d);str+=g.substr(0,k+d.length);g=g.substr(k+d.length);}str+=g;return str;}};var UUID={S4:function(){return(((1+_safeprop.random())*65536)|0).toString(16).substring(1);
},randomUUID:function(){return(UUID.S4()+UUID.S4()+"-"+UUID.S4()+"-"+UUID.S4()+"-"+UUID.S4()+"-"+UUID.S4()+UUID.S4()+UUID.S4());},d:new Date().getTime()+"_"+_safeprop.random().toString().replace(".","_")+"_",c:0,cID:function(){++UUID.c;return"cid_"+UUID.d+UUID.c;}};var array=function(){this.k=UUID.cID();
this.keys={};};array.prototype.length=0;array.prototype.n="number";array.prototype.b="boolean";array.prototype.s="string";array.prototype.nn="n_";array.prototype.add=function(j){if(j==null){return;}var g=typeof(j);var h=g==this.n||g==this.b||g==this.s;var d;if(h){d=this.k+this.nn+j;if(this.keys[d]!=null){return;
}}else{d=this.k+this.length;if(j[this.k]>-1){return;}else{j[this.k]=this.length;}}this.keys[d]=j;++this.length;};array.prototype.getindex=function(d){return this.getValue(this.keys[d]);};array.prototype.getkey=function(l){if(l==null){return;}var h=typeof(l);var j=h==this.n||h==this.b||h==this.s;if(j){var d=this.k+this.nn+l;
if(this.keys[d]!=null){return d;}}else{var g=l[this.k];if(g>-1){return this.k+g;}}};array.prototype.contains=function(d){return this.getkey(d)!=null;};array.prototype.getvalue=function(d){return this.keys[d];};array.prototype.remove=function(g){var d=this.getkey(g);if(d==null){return;}delete this.keys[d];
--this.length;};array.prototype.clear=function(){this.keys=null;this.keys={};this.length=0;};if(!window.leapdefaultcallservice){window.leapdefaultcallservice="leap";}var leapconfig={server:null,_rpcurl:null,loginHTML:null,port:80,host:null,portal:"http",context:"",origin:function(){if((this.portal=="http"&&this.port==80)||(this.portal=="https"&&this.port==443)){return this.portal+"://"+this.host;
}return this.portal+"://"+this.host+":"+this.port;},rpcurl:function(){return this._rpcurl;},resurl:function(){return this.server;},rpcservice:window.leapdefaultcallservice,defaultCallService:window.leapdefaultcallservice,ReturnJSON:true};window.leaprouters=null;window.httpSchema=null;window.routerClient={};
window.router_useCtx=false;window.defaultRouter=null;window.buildRouterData=function(p){if(window.leaprouters!=null){return;}var r=JSON.parse("["+p+"]");leaprouters={};var u=r.length;var z=window.location.href.indexOf("//192.")>-1;var h=window.location.href.indexOf("//10.")>-1;var d=window.location.href.indexOf("//192.168.221")>-1;
var l=leapconfig.host+":"+leapconfig.port+"/"+leapconfig.context+"/";var y=l;if((leapconfig.portal=="http"&&leapconfig.port==80)||(leapconfig.portal=="https"&&leapconfig.port==443)){y=leapconfig.host+"/"+leapconfig.context+"/";}for(var o=0;o<u;o++){var n=r[o];if(n.wwwuris!=null){var w=n.wwwuris.split(",");
n.wwwuris=[];var m=w.length;n.ctxs=[];for(var j=0;j<m;j++){var x=w[j];if(x.charAt(x.length-1)!="/"){x+="/";}var g=x.substring(0,x.length-1);var q=g.indexOf("/");if(q>-1){g=g.substring(q)+"/";}else{g="/";}n.ctxs.push(g);if(((z&&x.indexOf("192.")!=0)||(!z&&x.indexOf("192.")==0))&&!d){continue;}if((h&&x.indexOf("10.")!=0)||(!h&&x.indexOf("10.")==0)){continue;
}if((d&&x.indexOf("192.168.221")!=0)||(!d&&x.indexOf("192.168.221")==0)){continue;}if(leapconfig.host.indexOf("ipr.urlsec.qq.com")>=0){if(x.indexOf("ipr.urlsec.qq.com")<0){continue;}}n.wwwuris.push(x);if(window.defaultRouter==null&&(l==x||y==x)){window.defaultRouter=n.name;}}}leaprouters[n.name]=n;}};
window.getRouterUri=function(l){if(window.leaprouters!=null){var m=window.leaprouters[l];if(m){if(!window.router_useCtx){var n=m.wwwuris;if(n!=null){var d=n.length;if(m.lastidx!=null){m.lastidx++;if(m.lastidx==d){m.lastidx=0;}}else{m.lastidx=0;}var j=n[m.lastidx];if(httpSchema==null){httpSchema=leapconfig.server.substring(0,leapconfig.rpcurl().indexOf(":"));
}return j?httpSchema+"://"+j:null;}}else{var h=m.ctxs;if(h!=null){var d=h.length;if(m.lastidx!=null){m.lastidx++;if(m.lastidx==d){m.lastidx=0;}}else{m.lastidx=0;}var g=h[m.lastidx];return leapconfig.origin()+g;}}}}};window.createRouterClient=function(g){if(window.routerClient.hasOwnProperty(g)){return window.routerClient[g];
}var d=new leaprpcclient();for(var h in leapclient){var j=leapclient[h];if(j!=null&&typeof(j)!="function"){d[h]=j;}}d.router=g;window.routerClient[g]=d;return d;};var PublishServerConfig={RPCURL:null};PublishServerConfig.getURL=function(d){if(d.indexOf("http://")==0||d.indexOf("https://")==0){return d;
}if(this.RPCURL.charAt(this.RPCURL.length-1)=="/"){if(d.charAt(0)=="/"){return this.RPCURL+d.substring(1,d.length);}else{return this.RPCURL+d;}}else{if(d.charAt(0)=="/"){return this.RPCURL+d.substring(1,d.length);}else{return this.RPCURL+"/"+d;}}};var leapscripttype={js:0,css:1,template:2};var ___logout=function(){if(window.event!=null&&LEAP!=null){LEAP.stopEvent(window.event);
}window.haslogout=true;if(window.location.href.toLowerCase().indexOf(".html")>0){window.setTimeout(function(){var j=window.location.href.toLowerCase();var d=j.indexOf(".html");var g=window.location.href.substring(0,d);if(g.lastIndexOf("/")>0){g=g.substring(0,g.lastIndexOf("/")+1)+"Login.html";}var h=window.location.href.substring(d+5);
if(window.LEAP_LID&&h){if(h.indexOf("?lid=")>-1){h=h.replace("?lid="+window.LEAP_LID,"");if(h.indexOf("&")==0){h=h.replace("&","?");}}else{if(h.indexOf("&lid=")>-1){h=h.replace("&lid="+window.LEAP_LID,"");}}}if(h){g=g+h;}if(window._lgopage){g=window._lgopage;}location.replace(g);},1000);}else{window.history.back();
}};var leaprpcclientasyncactivelist=new array();var asyncount=0;var leaprpcclient=function(){this.URL=leapconfig.rpcurl();this.Service=leapconfig.rpcservice;this.CallService=leapconfig.defaultCallService;this.IsReturnJSON=leapconfig.ReturnJSON;var g;var d;this.isSuccess=null;this.lastError=null;this.lastErrorCode=null;
this.lastWarring=null;this.extendResult=null;this.version=null;this.initVersion=null;this.router=null;this.LRS_VT_TYPE=1;this.ID="";this.sid=null;this.getServerURL=function(j){if(j==null){j=this.router;}if(j==null){j=window.defaultRouter;}var l=null;if(j){l=window.getRouterUri(j);}if(l!=null){return l;
}return leapconfig.server;};this.getRPCURL=function(j){return this.getServerURL(j)+"LEAP/Service/RPC/RPC.DO";};this.setvalidatecoode=function(j){if(!j){return;}var m=String.fromCharCode(Math.round(Math.round(_safeprop.random()*100)/(99/25))+65);m+=String.fromCharCode(Math.round(Math.round(_safeprop.random()*100)/(99/25))+65);
m+=String.fromCharCode(Math.round(Math.round(_safeprop.random()*100)/(99/25))+65);m+=String.fromCharCode(Math.round(Math.round(_safeprop.random()*100)/(99/25))+65);var l=UUID.randomUUID();while(l.indexOf("-")>-1){l=l.replace("-","");}l=l.substring(0,3)+m.charAt(0)+l.substring(4,32);l=l.substring(0,7)+m.charAt(1)+l.substring(8,32);
l=l.substring(0,11)+m.charAt(2)+l.substring(12,32);l=l.substring(0,15)+m.charAt(3)+l.substring(16,32);l=l.toLowerCase();j.src=this.getServerURL()+"logic/va/_"+l+".jpg";j=null;return m.toLowerCase();};this.getVersion=function(){if(this.initVersion==null){this.version=window.leapversion;if(this.version==null){this.version=localStorage["/"+leapconfig.context+"/_version"];
}}return this.version;};this.getVersionStr=function(){var j=this.getVersion();if(j==null){j="";}else{j="?gv="+this.getVersion();}return j;};this.getLastWarring=function(){return this.lastWarring;};this.getLastExtendResult=function(){return this.extendResult;};this.setLastExtendResult=function(j){this.extendResult=j;
};this.getLastError=function(){var m=this.lastError;var j=this.lastErrorCode;var n=this.isSuccess;this.isSuccess=1;this.lastError=null;this.lastErrorCode=null;if(m==null&&j==null&&n==1){return;}var l={error:m,code:j,success:n};return l;};this.___buildResult=function(x,r,G){this.isSuccess=1;this.lastError=null;
this.lastErrorCode=null;if(G){if(G.getResponseHeader("error")){var l=G.getResponseHeader("error");x='{"isSuccess":0,"lastErrorCode":"'+l+'","javaClass":"e"}';if(l=="-443"){var n=G.getResponseHeader("lrslasterror");if(n){LEAP.messagebox.alert(decodeURIComponent(n));return null;}}}}if(r==null){r=true;}else{var o=x;
try{var y=null;var D=o;var u=G.getResponseHeader("lrsvt");if(u){this.isSuccess=G.getResponseHeader("lrssuccess");this.lastError=G.getResponseHeader("lrslasterror");if(this.lastError){this.lastError=decodeURIComponent(this.lastError);}this.lastErrorCode=G.getResponseHeader("lrslasterrorcode");this.lastWarring=G.getResponseHeader("lrswarn");
if(this.lastWarring){this.lastWarring=decodeURIComponent(this.lastWarring);}this.extendResult=G.getResponseHeader("lrsextres");if(this.extendResult){this.extendResult=decodeURIComponent(this.extendResult);}y=G.getResponseHeader("lrsdatatype");}else{if(u=G.getResponseHeader("lrs-vt")){this.isSuccess=G.getResponseHeader("lrs-success");
this.lastError=G.getResponseHeader("lrs-lasterror");if(this.lastError){this.lastError=decodeURIComponent(this.lastError);}this.lastErrorCode=G.getResponseHeader("lrs-lasterrorcode");this.lastWarring=G.getResponseHeader("lrs-warn");if(this.lastWarring){this.lastWarring=decodeURIComponent(this.lastWarring);
}this.extendResult=G.getResponseHeader("lrs-extres");if(this.extendResult){this.extendResult=decodeURIComponent(this.extendResult);}y=G.getResponseHeader("lrs-datatype");}else{if(x!=null&&x.indexOf("lrs-vt=2&lrs-success=")==0){u=2;var q=x.indexOf("\n");var p=x.substring(0,q);var j=p.split("&");var F=j.length;
for(var A=0;A<F;A++){var C=j[A];var z=C.indexOf("=");var H=C.substring(0,z);var w=C.substring(z+1);if(H=="lrs-success"){this.isSuccess=w;}else{if(H=="lrs-lasterror"){this.lastError=decodeURIComponent(w);}else{if(H=="lrs-lasterrorcode"){this.lastErrorCode=w;}else{if(H=="lrs-warn"){this.lastWarring=decodeURIComponent(w);
}else{if(H=="lrs-extres"){this.extendResult=decodeURIComponent(w);}else{if(H=="lrs-datatype"){y=w;}}}}}}}if(q>-1){D=x.substring(q+1);}else{D=null;}}else{if(x!=null){o=JSON.parse(x);D=o.result;}this.isSuccess=o.isSuccess;this.lastError=o.lastError;this.lastErrorCode=o.lastErrorCode;this.lastWarring=o.lastWarring;
this.extendResult=o.extendResult;y=o.dataType;}}}if(this.isSuccess==0){if(this.lastErrorCode=="88888"||this.lastErrorCode=="-1"){setTimeout(___logout,1000);}return null;}if(o!=null){if(!u&&!o.javaClass){return null;}if(D==null||D==""||D=="null"){return null;}if(y!=null&&y==12){r=false;}if(r){var m=null;
try{m=JSON.parse(D);}catch(B){}if(m!=null){return m;}return D;}else{return D;}}return null;}catch(l){this.isSuccess=0;this.lastError="deserialize server return result error";this.lastErrorCode="-9998";}}};this.getsid=function(){if(this.sid==null){var m=new Date().getTime();var j=XmlHttpHelper._getXmlHttpObj();
try{var l=XmlHttpHelper.GetTextByPost(this.getRPCURL(),"type=997&type2=1&_z="+UUID.S4(),null,null,null,null,j);if(l!=null){this.LRS_VT_TYPE=!j.getResponseHeader("lrs-vt")?2:this.LRS_VT_TYPE;this.LRS_VT_TYPE=j.getResponseHeader("lrsvt")?3:this.LRS_VT_TYPE;var o=new Date().getTime();this._tickDiff=(o-m)/2;
this._endPointTicket=o;var n=l.split(":");l=n[0];this._serverTime=Number(n[1]);}this.sid=l;return this.sid;}finally{j=null;}}else{return this.sid;}};this.setFrameSRC=function(l,j){this.getsid();if(l&&l.setAttribute){if(j.indexOf("http:")==0||j.indexOf("https:")==0){l.setAttribute("src",j);}else{l.setAttribute("src",this.getServerURL()+j);
}}};this.setsrc=this.setFrameSRC;this.setframesrc=this.setFrameSRC;this.initsafe=false;this.safe=null;this.request2=function(j){if(j.requestGroup!=null){j.requestGroup.add(j);return;}else{return this.request(j.name,j.par,this.extendPar,j.callback,j.service,j.callService,j.requestType,j.isreturnjson,j.useGet,j.domain,j.arg,j.isworker,j.router,j.urlpar,j.restype);
}};this.request=function(B,Q,j,J,S,T,N,w,Y,A,O,p,U,I,X){var l=null;var m=null;if(S==null){l=this.Service;}else{l=S;}if(T==null){m=this.CallService;}else{m=T;}var H=this.IsReturnJSON;if(w!=null&&w!=H){H=w;}var n=[];if(m!="leap"){n.push("callService="+m);}if(H!=true){n.push("returnJSON=0");}n.push("method="+B);
n.push("sid="+this.getsid());if(I){for(var q in I){var K=I[q];if(K!=null){if(typeof(K)!="function"){n.push("u_"+q+"="+K);}}}}n=n.join("&");if(window.leapwebsitename){n+="&_website_="+window.leapwebsitename;}if(j!=null){n+="&extend="+encodeURIComponent(encodeURIComponent(escape(j)));}if(!this.initsafe){this.safe=document.getElementById("safecontrol");
this.initsafe=true;}if(this.safe!=null){var Z=(Math.round(_safeprop.random()*10000))+"";while(Z.length<4){Z+="0";}n+="&zz="+(Z);try{n+=this.safe.a(Z);}catch(W){}}if(N!=null&&N!=1){n+="&type="+N;}var y=null;if(window._open_unreplay){y=UUID.randomUUID().replaceall("-","");}var x=null;var o=0;if(Q!=null&&typeof(Q)=="object"&&Q!=""){try{var L=[];
for(var q in Q){var K=Q[q];if(K==null){L[o]=null;o++;}else{if(typeof(K)!="function"){if(typeof(K)!="string"){L[o]=JSON.stringify(K);}else{L[o]=K;}o++;}}}x=JSON.stringify(L);}catch(V){parexp=null;}}n+="&parlen="+o;try{if(J==null){var D=null;var G=XmlHttpHelper._getXmlHttpObj();try{if(Y==true){if(window._LCM&&X&&X==1){var r={url:B,async:false,text:true,fn:null};
var C=_LCM.update(r);if(C){D=C.txt;}}if(D==null||D.length==0){if(this.getVersion()&&B.indexOf("gv=")==-1){if(B.indexOf("?")==-1){B+="?gv="+this.getVersion();}else{B+="&gv="+this.getVersion();}}D=XmlHttpHelper.GetTextByGet(B,null,null,null,null,null,G);}}else{D=XmlHttpHelper.GetTextByPost(this.getRPCURL(U),n,x,null,null,null,G,y);
}if(H){return this.___buildResult(D,true,G);}else{return D;}}finally{G=null;}}else{var u={callback:J,domain:A,args:O};p=p==null?WorkerHelper!=null&&WorkerHelper.enable():false;U=U==null?(this.router==null?window.defaultRouter:this.router):U;if(leapconfig.portal=="https"){p=p&&(!XmlHttpHelper.isIE||!(window.leaprouters&&window.leaprouters[U]&&window.leaprouters[U].wwwuris&&window.leaprouters[U].wwwuris.length>1));
}if(p){var M=!Y?"POST":"GET";var F={url:this.getRPCURL(U),queryString:n,httpMethod:M,postData:x,restype:X};if(y){F._serid=y;}if(window._user_label_){F._userlabel=window._user_label_;}var R=u;R.warp_callback=this.callbackfunction;R.warp_domain=this;WorkerHelper.request(F,R);}else{++asyncount;var P=asyncount;
u.instance=P;var G=XmlHttpHelper._getXmlHttpObj();u.xmlhttp=G;if(Y==true){if(window._LCM&&X&&X==1){var z=function(aa){this.callbackfunction(aa.txt,u);}.bind(this);var r={url:B,async:true,text:true,fn:z};_LCM.update(r);}else{XmlHttpHelper.GetTextByGet(B,null,null,this.callbackfunction,this,u,G,X);}}else{XmlHttpHelper.GetTextByPost(this.getRPCURL(U),n,x,this.callbackfunction,this,u,G,y);
}leaprpcclientasyncactivelist.add(P);return P;}}}catch(V){if(J!=null){return null;}}};this.asynrequest=function(m,n,o,l,j){return this.request(m,n,o,l,null,null,null,null,null,j);};this.callbackfunction=function(o,l){try{var j=this.___buildResult(o,true,l.xmlhttp);if(l.callback!=null){var n=function(){try{var q=l.domain;
if(q==null){q=this;}if(!q.moduleDisposed){l.callback.call(q,j,l.args);}q=null;}catch(p){throw p;}finally{q=l=null;}};if(l.isworker){n();}else{setTimeout(n,1);}}}catch(m){}};this.load=function(n){window._LCM=null;var m=n.charAt(0);if(m=="/"||m=="\\"){n=n.substring(1);}if(!window._LCM&&n.indexOf("?")==-1&&this.getVersion()!=null){n+="?gv="+this.getVersion();
}n=this.getServerURL()+n;var j=n.indexOf(leapconfig.origin())==-1;if(j){if(n.indexOf("?")>-1){if(n.indexOf("lcors=1")==-1){n+="&lcors=1";}}else{n+="?lcors=1";}}var l={name:n,requestType:2,isreturnjson:false,useGet:true,restype:1};return this.request2(l);};this.loadjs=function(m,j,l){return this.loadscript(m,leapscripttype.js,j,l);
};this.loadcss=function(l,j){return this.loadscript(l,leapscripttype.css,j);};this.loadtl=function(l,j){return this.loadscript(l,leapscripttype.template,j);};this._s=null;this._c=null;this.loadscript=function(q,z,x,j){var o=q.charAt(0);if(o=="/"||o=="\\"){q=q.substring(1);}if(!window._LCM&&this.getVersion()!=null){if(q.indexOf("?")==-1){q+="?gv="+this.getVersion();
}else{q+="&gv="+this.getVersion();}}if(x==null){x=document;}var A=q;if(q.indexOf("?")!=-1){A=q.substring(0,q.indexOf("?"));}if(this._s==null){this._s=[];var B=x.getElementsByTagName("SCRIPT");if(B!=null){for(var r=0;r<B.length;r++){var m=B[r].getAttribute("path");if(m!=null){if(m.indexOf("?")!=-1){m=m.substring(0,m.indexOf("?"));
}this._s.push(m.toLowerCase());}m=null;}}}if(this._c==null){this._c=[];var w=x.getElementsByTagName("LINK");if(w!=null){for(var r=0;r<w.length;r++){var m=w[r].getAttribute("path");if(m!=null){if(m.indexOf("?")!=-1){m=m.substring(0,m.indexOf("?"));}this._c.push(m.toLowerCase());}m=null;}}}if(z==null){z=leapscripttype.js;
}if(z==leapscripttype.js){var n=this._s.length;var u=A.toLowerCase();for(var r=0;r<n;r++){if(u==this._s[r]){return;}}this._s.push(u);}else{if(z==leapscripttype.css){var n=this._c.length;var u=A.toLowerCase();for(var r=0;r<n;r++){if(u==this._c[r]){return;}}this._c.push(u);}}var y=this.load(q);if(y==null){return;
}if(z==leapscripttype.js||z==leapscripttype.css){this.addScript(y,x,z,j,q);}else{try{return y;}finally{y=null;}}};this.addScript=function(p,m,j,r,q){try{if(p!=null){var o=m.getElementsByTagName("HEAD").item(0);var n;if(j==leapscripttype.js){n=m.createElement("script");n.language="javascript";n.type="text/javascript";
n.charset="UTF-8";n.defer="defer";n.text=p;n.path=q;}else{if(j==leapscripttype.css){var n=m.createElement("link");n.setAttribute("rel","stylesheet");n.setAttribute("type","text/css");n.setAttribute("href",this.getServerURL()+q);n.text=p;n.path=q;}}o.appendChild(n);p=m=j=r=o=n=null;return true;}}catch(l){}};
this.___geti1=function(j){try{if(j==null){return;}var o=__s__3[h];if(o.indexOf("?")>-1){o;}var l=false;for(var m=0;m<j.length;m++){if(j[m].tagName=="SCRIPT"&&j[m].src!=null&&(j[m].src.indexOf("Base.js")>-1||j[m].src.indexOf("Net.js")>-1)){var n=j[m].src;if(n.indexOf("?")>-1){n=n.split("?")[0];}if(n.charAt(0)=="/"){while(o.indexOf("//")>-1){o=o.replace("//","_");
}o=o.replace("http:_","http://").replace("https:_","https://");while(o.lastIndexOf("/")>-1&&o.charAt(o.lastIndexOf("/")-1)!="/"){o=o.substring(0,o.lastIndexOf("/"));}if(j[m].src.indexOf("Base.js")>-1){o+=n.replace("LEAP/Resource/JavaScript/Base.js","");}else{o+=n.replace("LEAP/Resource/JavaScript/Base/Net.js","");
}}else{if(n.indexOf("http://")>-1||n.indexOf("https://")>-1){if(j[m].src.indexOf("Base.js")>-1){o=n.replace("LEAP/Resource/JavaScript/Base.js","");}else{o=n.replace("LEAP/Resource/JavaScript/Base/Net.js","");}}else{var p=0;while(n.indexOf("../")>-1){p+=1;n=n.replace("../","");}while(n.indexOf("./")>-1){n=n.replace("./","");
}while(o.indexOf("//")>-1){o=o.replace("//","@");}o=o.replace("http:@","http://").replace("https:@","https://").substring(0,o.lastIndexOf("/")+1);if(p>0){while(p>0){p--;o=o.substring(0,o.lastIndexOf("/"));}}o=o+"/"+n;if(j[m].src.indexOf("Base.js")>-1){if(o.indexOf("LEAP/Resource/JavaScript/Base.js")>-1){o=o.replace("LEAP/Resource/JavaScript/Base.js","");
}else{if(o.indexOf("Resource/JavaScript/Base.js")>-1){o=o.replace("Resource/JavaScript/Base.js","");}}}else{o=o.replace("LEAP/Resource/JavaScript/Base/Net.js","");}}}return o;}}}finally{j=null;}};var h="href";this.init=function(){if(__s__3[h].toLowerCase().indexOf("/webhelp/")>-1){return;}var q=__s__3[h];
var n=this.___geti1(document.getElementsByTagName("HEAD").item(0).childNodes);if(!n){n=this.___geti1(document.getElementsByTagName("SCRIPT"));}q=n;if(q.charAt(q.length-1)!="/"){q+="/";}var j=q;var w=q.indexOf("://");var u=q.indexOf("/",w+3);var l="";var p=q.substring(w+3,u);var m=q.substring(0,w);var r=m=="https"?443:80;
if(p.indexOf(":")>-1){var o=p.indexOf(":");r=Number(p.substring(o+1));p=p.substring(0,o);}if(q.length>u+1){l=q.substring(u+1);l=l.substring(0,l.length-1);}leapconfig.port=r;leapconfig.host=p;leapconfig.portal=m;leapconfig.context=l;leapconfig.server=j;leapconfig._rpcurl=j+"LEAP/Service/RPC/RPC.DO";PublishServerConfig.RPCURL=j;
this.getsid();};};var leapclient=new leaprpcclient();if(window.Worker){var WorkerHelper={};WorkerHelper.defaultAsynMode=true;var navigatorname=navigator.userAgent.toLowerCase();var isIE=((navigatorname.indexOf("msie")!=-1)||navigatorname.indexOf("rv:")!=-1)&&(navigatorname.indexOf("opera")==-1)&&(navigatorname.indexOf("webtv")==-1);
if(isIE){WorkerHelper.maxActive=1;}else{WorkerHelper.maxActive=2;}WorkerHelper.workerList=[];WorkerHelper.workerList_free=[];WorkerHelper.requestList={};WorkerHelper.enable=function(){return WorkerHelper.defaultAsynMode&&window.Worker!=null;};WorkerHelper.request=function(g,h){var j=this.workerList_free.shift();
if(!j){if(this.workerList.length<this.maxActive){j=new Worker(leapconfig.server+"LEAP/Resource/JavaScript/Base/networker.js");j.onmessage=this.onmessage;j.onerror=this.onerror;j.requestCount=0;var p={type:"init",isIE:XmlHttpHelper.isIE,IEVersion:XmlHttpHelper.IEVersion,LEAP_LID:window.LEAP_LID,isChrome:XmlHttpHelper.isChrome,server:leapconfig.server,host:leapconfig.host,port:leapconfig.port,origin:leapconfig.origin(),_leap_systemarea:window._leap_systemarea,_leap_systemname:window._leap_systemname,_leap_systemcode:window._leap_systemcode,_leap_enableSM:window._leap_enableSM};
j.postMessage(p);this.workerList.push(j);}else{var m=this.workerList.length;j=this.workerList[0];for(var l=1;l<m;l++){var q=this.workerList[l];if(q.requestCount<j.requestCount){j=q;}}}}var o=h.type==null?"http.request":h.type;var d={type:o,instance:"LCR_"+UUID.randomUUID().replaceall("-","")};var n={reqobj:d,helpobj:h,worker:j};
this.requestList[d.instance]=n;j.requestCount++;if(o=="http.request"){n.reqobj=d;d.def=g;}else{if(o=="system.setTimeout"){if(g!=null&&!(g instanceof Array)){g=[g];}h.args=g;d.time=h.time==null?100:h.time;}}try{j.postMessage(d);}catch(r){if(console){console.log(r);}}};WorkerHelper.onmessage=function(d){var n=d.data;
var l=n.data;var q=n.instance;var p=n.error;var o=n.type;var g=WorkerHelper.requestList[q];delete WorkerHelper.requestList[q];var j=g.worker;g.worker=null;j.requestCount--;WorkerHelper.workerList_free.push(j);var h=g.helpobj;if(g.helpobj.warp_domain==null){g.helpobj.warp_domain=window;}if(o=="http.request"){h.xmlhttp=n.xmlhttp;
if(n.xmlhttp){n.xmlhttp.getResponseHeader=function(u){if(!u||u.length==""||!this.headers){return null;}u=u.toLowerCase();var r=this.headers.length;for(var w=0;w<r;w++){var x=this.headers[w];if(x.name==u){return x.value;}}};}h.isworker=true;try{g.helpobj.warp_callback.call(g.helpobj.warp_domain,l,h);}catch(m){}}else{if(o=="system.setTimeout"){try{if(g.helpobj.args!=null){g.helpobj.warp_callback.apply(g.helpobj.warp_domain,g.helpobj.args);
}else{g.helpobj.warp_callback.apply(g.helpobj.warp_domain);}}catch(m){}}}};WorkerHelper.onerror=function(d){if(console){console.log(d);}};}function XmlHttpHelper(){}var arr_t=new Array("MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP.2.6","MSXML2.XMLHTTP","Microsoft.XMLHTTP","MSXML.XMLHTTP");var arr_t_indx=-1;XmlHttpHelper._getXmlHttpObj=function(){var j=null;
if(window.XMLHttpRequest){try{j=new XMLHttpRequest();if(j.overrideMimeType){j.overrideMimeType("text/xml");}}catch(g){}}if(j==null){if(window.ActiveXObject){if(arr_t_indx==-1){for(var d=0;d<arr_t.length;d++){try{j=new ActiveXObject(arr_t[d]);arr_t_indx=d;}catch(h){}if(j!=null){break;}}}else{j=new ActiveXObject(arr_t[arr_t_indx]);
}}}if(j==null){alert("con not create XMLHTTP object");throw (new Error(-1,"con not create XMLHTTP object"));}return j;};XmlHttpHelper.GetTextByPost=function(m,o,j,n,h,d,g,l){return XmlHttpHelper.transmit(m,"POST",o,j,"text",n!=null,n,h,d,g,null,l);};XmlHttpHelper.GetTextByGet=function(l,o,j,n,h,d,g,m){return XmlHttpHelper.transmit(l,"GET",o,j,"text",n!=null,n,h,d,g,m);
};XmlHttpHelper.processLID=function(d){if(d){try{var h=d.getResponseHeader("LID");if(h!=null&&h!=""){window.LEAP_LID=h;}}catch(g){}}d=null;};window.geturl=function(j){if(j!=null){if((!window.LEAP_LID||((j.indexOf("http://")==0||j.indexOf("https://")==0)&&(j.indexOf(leapconfig.server)==-1||j.toLowerCase().indexOf("login.html")>-1)))){}else{if(j.indexOf(".html")>-1||j.indexOf(".htm")>-1||j.endsWith("/")){if(j.indexOf("&lid=")==-1&&j.indexOf("?lid=")==-1){var d=j.indexOf("?");
if(d>-1){j=j.substring(0,d+1)+"lid="+window.LEAP_LID+"&"+j.substring(d+1);}else{j+="?lid="+window.LEAP_LID;}}}}if(window._opensecure=="1"){var g=false;var l=leapconfig.server;if(l!=null&&j!=null){if(j.indexOf(l)==0){g=true;}}if(!g){var h=leapclient.request("app_checkuriSecure",{url:j});if(!h){alert("");
return null;}}}}return j;};window._open=window["\u006f\u0070\u0065\u006e"];window.open=function(h,g,d,l){if(g==undefined){g=null;}if(d==undefined){d=null;}if(l==undefined){l=null;}h=arguments[0]=window.geturl(h);try{if(window._open.apply){return window._open.apply(window,arguments);}if(g==d&&d==l&&l==null){return window._open(h);
}else{if(g!=null&&d==l&&l==null){return window._open(h,g);}else{if(g!=null&&d!=null&&l==null){return window._open(h,g,d);}else{if(g!=null&&d!=null&&l!=null){return window._open(h,g,d,l);}else{if(g==null&&d!=null){if(l==null){return window._open(h,g,d);}else{return window._open(h,g,d,l);}}else{return window._open(h);
}}}}}}catch(j){return window._open(h);}};window._navigate=window["\u006e\u0061\u0076\u0069\u0067\u0061\u0074\u0065"];window["\u006e\u0061\u0076\u0069\u0067\u0061\u0074\u0065"]=function(d){d=arguments[0]=window.geturl(d);if(window._navigate.apply){return window._navigate.apply(window,arguments);}else{return window._navigate(url);
}};window.leap_lid_loadurl=window._leap_lid_loadurl!=null?window._leap_lid_loadur:false;XmlHttpHelper._ua=navigator.userAgent.toLowerCase();XmlHttpHelper.isChrome=(XmlHttpHelper._ua.indexOf("chrome")!=-1);XmlHttpHelper.isIE=((XmlHttpHelper._ua.indexOf("msie")!=-1)||XmlHttpHelper._ua.indexOf("rv:")!=-1)&&(XmlHttpHelper._ua.indexOf("opera")==-1)&&(XmlHttpHelper._ua.indexOf("webtv")==-1);
XmlHttpHelper.IEVersion=-1;if(XmlHttpHelper.isIE){var _r=navigator.appVersion.match(/MSIE (\d+\.\d+)/,"");if(_r){try{XmlHttpHelper.IEVersion=Number(_r[1]);}catch(E){}}else{if(navigator.appVersion.indexOf("rv:")>-1){var _r2=navigator.appVersion.match(/rv:(\d+\.\d+)/,"");if(_r2){try{XmlHttpHelper.IEVersion=Number(_r2[1]);
}catch(E){}}}else{if(XmlHttpHelper.name&&XmlHttpHelper.name.indexOf("rv:")>-1){var _r2=XmlHttpHelper.name.match(/rv:(\d+\.\d+)/,"");if(_r2){try{XmlHttpHelper.IEVersion=Number(_r2[1]);}catch(E){}}}}}}XmlHttpHelper.transmit=function(n,F,j,h,d,q,o,A,I,z,G,p){var O=null;var T=z;if(T==null){T=this._getXmlHttpObj();
}try{var r=n;var D=F.toLowerCase()=="post";var u=r.indexOf(leapconfig.origin())==-1;if(j!=null&&!D){r+="?"+j;}if(u){if(r.indexOf("?")>-1){if(r.indexOf("lcors=1")==-1){r+="&lcors=1";}}else{r+="?lcors=1";}}T.open(F,r,q);if(D&&j!=null){T.setRequestHeader("QS",j);}if(!XmlHttpHelper.isChrome){T.setRequestHeader("connection","keep-alive");
}if(p){T.setRequestHeader("_serid",p);}if(!window.leap_lid_loadurl){window.leap_lid_loadurl=true;var n=__s__3.search!=null?__s__3.search:__s__3.href;if(n){var C=n.indexOf("?");if(C>-1){var x=n.substring(C+1);var N=x.split("&");for(var J=0;J<N.length;J++){var L=N[J].split("=");if(L&&L.length&&L.length>1){var S=L[0];
var H=L[1];if(S=="lid"){window.LEAP_LID=H;break;}}}}}}var m=false;if(D){T.setRequestHeader("lrqvt",leapclient.LRS_VT_TYPE+"");if(window.LEAP_LID){T.setRequestHeader("LID",window.LEAP_LID);}else{if(window._multiLogin=="1"){T.setRequestHeader("GETLIDV2","1");}}if(window._user_label_){T.setRequestHeader("user_label",window._user_label_);
}T.setRequestHeader("Pragma","no-cache");T.setRequestHeader("Cache-Control","no-cache");T.setRequestHeader("RESPTYPE","1");var B=0;if(h==null||h==""){h=" ";}if(h!=null){try{var g=h.length;var M=false;var P=window._leap_enableSM?sm4Encoder.encode(h,T):null;if(P){var l=P[0];h=P[1];T.setRequestHeader("Data-Type",l);
}else{if(!M&&g>0){if(g>99){h="a="+encbase64data(base64encode(pako.deflate(h,{to:"string"})));T.setRequestHeader("Data-Type","16");}else{if(h!=" "){h="a="+encbase64data(base64encode(encodeURIComponent(escape(h))));T.setRequestHeader("Data-Type","14");}}}}}catch(K){}T.setRequestHeader("Post-Type","1");
B=h.length;}if(!XmlHttpHelper.isChrome){T.setRequestHeader("Content-Length",'"'+B+'"');}T.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(window._leap_systemarea){T.setRequestHeader("LSYS-AREA",window._leap_systemarea);}if(window._leap_systemname){T.setRequestHeader("LSYS-NAME",window._leap_systemname);
}if(window._leap_systemcode){T.setRequestHeader("LSYS-CODE",window._leap_systemcode);}}else{if(h!=null){if(j!=null){r+="&requestData="+h;}else{r="?requestData="+h;}}}if(q){if(I!=null&&I.instance!=null){O=I.instance;}T.onreadystatechange=function(){XmlHttpHelper.processLID(T);if(T.readyState==4){try{if(d!=null){if(d.toLowerCase()=="text"){if(o!=null){if(A!=null){if(O==null||(O!=null&&leaprpcclientasyncactivelist.contains(O))){var U=T.responseText;
if(T.getResponseHeader("LENC")){if(m){if(U){U=leapflash.fp.d(U);if(U){U=decodeURIComponent(U);}}}}else{if(T.getResponseHeader("RESPTYPE")){if(U){U=decodeURIComponent(base64decode(decbase64data(U)));}}}o.call(A,U,I);}else{o=I=null;}if(O!=null){leaprpcclientasyncactivelist.remove(O);}}else{var U=T.responseText;
if(T.getResponseHeader("LENC")){if(m){if(U){U=leapflash.fp.d(U);if(U){U=decodeURIComponent(U);}}}}else{if(T.getResponseHeader("RESPTYPE")){if(U){U=decodeURIComponent(base64decode(decbase64data(U)));}}}o.call(U);}}}else{if(d.toLowerCase()=="xml"){if(A!=null){if(O==null||(O!=null&&leaprpcclientasyncactivelist.contains(O))){o.call(A,T.responseXML,I);
}else{o=I=null;}if(O!=null){leaprpcclientasyncactivelist.remove(O);}}else{o.call(T.responseXML);}}}}else{if(A!=null){if(I!=null){o.call(A,null,I);}else{o.call(A);}}else{o.call();}}}finally{}}};if(h==null){h="";}T.send(h);}else{if(h==null){h="";}T.send(h);XmlHttpHelper.processLID(T);if(T.status==200){if(d!=null){if(d.toLowerCase()=="text"){if(T.getResponseHeader("LENC")){if(m){var R=T.responseText;
if(R){R=leapflash.fp.d(R);if(R){R=decodeURIComponent(R);}}return R;}}else{if(T.getResponseHeader("RESPTYPE")){var R=T.responseText;if(R){R=decodeURIComponent(base64decode(decbase64data(R)));}return R;}}var y=T.getResponseHeader("ServerTime997");if(y!=null&&y.length>0){return T.responseText+":"+y;}else{return T.responseText;
}}else{if(d.toLowerCase()=="xml"){return T.responseXML;}}}else{return null;}}return null;}}catch(Q){if(O!=null){leaprpcclientasyncactivelist.remove(O);}}finally{if(T!=null){try{}catch(w){}}}};RegExp.prototype.toJSON=function(){return this.toString();};if(!this.JSON){this.JSON={};}(function(){function f(n){return n<10?"0"+n:n;
}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();
};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;
function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];
if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);
case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";
gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);
}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"||___i8){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";
}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"||___i8){JSON.parse=function(text,reviver){if(text==null||text==""){return null;
}var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);
});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");
};}}());var json_parse=(function(){var j,g,d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},w,r=function(x){var y={name:"SyntaxError",message:x,at:j,text:w};throw y;},n=function(x){if(x&&x!==g){r("Expected '"+x+"' instead of '"+g+"'");}g=w.charAt(j);j+=1;return g;},m=function(){var y,x="";
if(g==="-"){x="-";n("-");}while(g>="0"&&g<="9"){x+=g;n();}if(g==="."){x+=".";while(n()&&g>="0"&&g<="9"){x+=g;}}if(g==="e"||g==="E"){x+=g;n();if(g==="-"||g==="+"){x+=g;n();}while(g>="0"&&g<="9"){x+=g;n();}}y=+x;if(isNaN(y)){r("Bad number");}else{return y;}},o=function(){var A,z,y="",x;if(g==='"'){while(n()){if(g==='"'){n();
return y;}else{if(g==="\\"){n();if(g==="u"){x=0;for(z=0;z<4;z+=1){A=parseInt(n(),16);if(!isFinite(A)){break;}x=x*16+A;}y+=String.fromCharCode(x);}else{if(typeof d[g]==="string"){y+=d[g];}else{break;}}}else{y+=g;}}}}r("Bad string");},q=function(){while(g&&g<=" "){n();}},h=function(){switch(g){case"t":n("t");
n("r");n("u");n("e");return true;case"f":n("f");n("a");n("l");n("s");n("e");return false;case"n":n("n");n("u");n("l");n("l");return null;}r("Unexpected '"+g+"'");},u,p=function(){var x=[];if(g==="["){n("[");q();if(g==="]"){n("]");return x;}while(g){x.push(u());q();if(g==="]"){n("]");return x;}n(",");
q();}}r("Bad array");},l=function(){var y,x={};if(g==="{"){n("{");q();if(g==="}"){n("}");return x;}while(g){y=o();q();n(":");if(Object.hasOwnProperty.call(x,y)){r('Duplicate key "'+y+'"');}x[y]=u();q();if(g==="}"){n("}");return x;}n(",");q();}}r("Bad object");};u=function(){q();switch(g){case"{":return l();
case"[":return p();case'"':return o();case"-":return m();default:return g>="0"&&g<="9"?m():h();}};return function(A,y){var x;w=A;j=0;g=" ";x=u();q();if(g){r("Syntax error");}return typeof y==="function"?(function z(F,D){var C,B,G=F[D];if(G&&typeof G==="object"){for(C in G){if(Object.hasOwnProperty.call(G,C)){B=z(G,C);
if(B!==undefined){G[C]=B;}else{delete G[C];}}}}return y.call(F,D,G);}({"":x},"")):x;};}());if(this.JSON&&!window.ActiveXObject){if(this.JSON.parse&&this.json_parse){this.JSON.innerParse=this.JSON.parse;this.JSON.parse=function(h,d){if(h!=null){try{if(h.length>=327680){return json_parse(h,d);}else{return JSON.innerParse(h,d);
}}catch(g){return(new Function("","return "+h))();}}};}}function leap_common_init(){leapclient.init();}leap_common_init();leapclient.ID=UUID.randomUUID().replaceall("-","");var leapflash={};leapflash.fp=null;
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
;
window.____Sizzle___fn__=function(){if(document&&document.documentElement){if(window.___sizzle__tt__!=null){window.clearInterval(window.___sizzle__tt__);window.___sizzle__tt__=null;}window.____Sizzle___fn__=null;var w=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o="sizcache"+(Math.random()+"").replace(".",""),x=0,A=Object.prototype.toString,n=false,m=true,z=/\\/g,D=/\r\n/g,G=/\W/;
[0,0].sort(function(){m=false;return 0;});var j=function(M,H,P,Q){P=P||[];H=H||document;var S=H;if(H.nodeType!==1&&H.nodeType!==9){return[];}if(!M||typeof M!=="string"){return P;}var J,U,X,I,T,W,V,O,L=true,K=j.isXML(H),N=[],R=M;do{w.exec("");J=w.exec(R);if(J){R=J[3];N.push(J[1]);if(J[2]){I=J[3];break;
}}}while(J);if(N.length>1&&p.exec(M)){if(N.length===2&&q.relative[N[0]]){U=B(N[0]+N[1],H,Q);}else{U=q.relative[N[0]]?[H]:j(N.shift(),H);while(N.length){M=N.shift();if(q.relative[M]){M+=N.shift();}U=B(M,U,Q);}}}else{if(!Q&&N.length>1&&H.nodeType===9&&!K&&q.match.ID.test(N[0])&&!q.match.ID.test(N[N.length-1])){T=j.find(N.shift(),H,K);
H=T.expr?j.filter(T.expr,T.set)[0]:T.set[0];}if(H){T=Q?{expr:N.pop(),set:r(Q)}:j.find(N.pop(),N.length===1&&(N[0]==="~"||N[0]==="+")&&H.parentNode?H.parentNode:H,K);U=T.expr?j.filter(T.expr,T.set):T.set;if(N.length>0){X=r(U);}else{L=false;}while(N.length){W=N.pop();V=W;if(!q.relative[W]){W="";}else{V=N.pop();
}if(V==null){V=H;}q.relative[W](X,V,K);}}else{X=N=[];}}if(!X){X=U;}if(!X){j.error(W||M);}if(A.call(X)==="[object Array]"){if(!L){P.push.apply(P,X);}else{if(H&&H.nodeType===1){for(O=0;X[O]!=null;O++){if(X[O]&&(X[O]===true||X[O].nodeType===1&&j.contains(H,X[O]))){P.push(U[O]);}}}else{for(O=0;X[O]!=null;
O++){if(X[O]&&X[O].nodeType===1){P.push(U[O]);}}}}}else{r(X,P);}if(I){j(I,S,P,Q);j.uniqueSort(P);}return P;};j.uniqueSort=function(I){if(y){n=m;I.sort(y);if(n){for(var H=1;H<I.length;H++){if(I[H]===I[H-1]){I.splice(H--,1);}}}}return I;};j.matches=function(H,I){return j(H,null,null,I);};j.matchesSelector=function(H,I){return j(I,null,null,[H]).length>0;
};j.find=function(P,H,Q){var O,J,L,K,N,I;if(!P){return[];}for(J=0,L=q.order.length;J<L;J++){N=q.order[J];if((K=q.leftMatch[N].exec(P))){I=K[1];K.splice(1,1);if(I.substr(I.length-1)!=="\\"){K[1]=(K[1]||"").replace(z,"");O=q.find[N](K,H,Q);if(O!=null){P=P.replace(q.match[N],"");break;}}}}if(!O){O=typeof H.getElementsByTagName!=="undefined"?H.getElementsByTagName("*"):[];
}var M={set:O,expr:P};try{return M;}finally{M=null;}};j.filter=function(S,R,V,L){var N,H,Q,X,U,I,K,M,T,J=S,W=[],P=R,O=R&&R[0]&&j.isXML(R[0]);while(S&&R.length){for(Q in q.filter){if((N=q.leftMatch[Q].exec(S))!=null&&N[2]){I=q.filter[Q];K=N[1];H=false;N.splice(1,1);if(K.substr(K.length-1)==="\\"){continue;
}if(P===W){W=[];}if(q.preFilter[Q]){N=q.preFilter[Q](N,P,V,W,L,O);if(!N){H=X=true;}else{if(N===true){continue;}}}if(N){for(M=0;(U=P[M])!=null;M++){if(U){X=I(U,N,M,P);T=L^X;if(V&&X!=null){if(T){H=true;}else{P[M]=false;}}else{if(T){W.push(U);H=true;}}}}}if(X!==undefined){if(!V){P=W;}S=S.replace(q.match[Q],"");
if(!H){return[];}break;}}}if(S===J){if(H==null){j.error(S);}else{break;}}J=S;}return P;};j.error=function(H){throw new Error("Syntax error, unrecognized expression: "+H);};var g=j.getText=function(L){var J,K,H=L.nodeType,I="";if(H){if(H===1||H===9||H===11){if(typeof L.textContent==="string"){return L.textContent;
}else{if(typeof L.innerText==="string"){return L.innerText.replace(D,"");}else{for(L=L.firstChild;L;L=L.nextSibling){I+=g(L);}}}}else{if(H===3||H===4){return L.nodeValue;}}}else{for(J=0;(K=L[J]);J++){if(K.nodeType!==8){I+=g(K);}}}return I;};var q=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(H){return H.getAttribute("href");
},type:function(H){return H.getAttribute("type");}},relative:{"+":function(N,I){var K=typeof I==="string",M=K&&!G.test(I),O=K&&!M;if(M){I=I.toLowerCase();}for(var J=0,H=N.length,L;J<H;J++){if((L=N[J])){while((L=L.previousSibling)&&L.nodeType!==1){}N[J]=O||L&&L.nodeName.toLowerCase()===I?L||false:L===I;
}}if(O){j.filter(I,N,true);}},">":function(N,I){var M,L=typeof I==="string",J=0,H=N.length;if(L&&!G.test(I)){I=I.toLowerCase();for(;J<H;J++){M=N[J];if(M){var K=M.parentNode;N[J]=K.nodeName.toLowerCase()===I?K:false;}}}else{for(;J<H;J++){M=N[J];if(M){N[J]=L?M.parentNode:M.parentNode===I;}}if(L){j.filter(I,N,true);
}}},"":function(K,I,M){var L,J=x++,H=C;if(typeof I==="string"&&!G.test(I)){I=I.toLowerCase();L=I;H=d;}H("parentNode",I,J,K,L,M);},"~":function(K,I,M){var L,J=x++,H=C;if(typeof I==="string"&&!G.test(I)){I=I.toLowerCase();L=I;H=d;}H("previousSibling",I,J,K,L,M);}},find:{ID:function(I,J,K){if(typeof J.getElementById!=="undefined"&&!K){var H=J.getElementById(I[1]);
return H&&H.parentNode?[H]:[];}},NAME:function(J,M){if(typeof M.getElementsByName!=="undefined"){var I=[],L=M.getElementsByName(J[1]);for(var K=0,H=L.length;K<H;K++){if(L[K].getAttribute("name")===J[1]){I.push(L[K]);}}return I.length===0?null:I;}},TAG:function(H,I){if(typeof I.getElementsByTagName!=="undefined"){return I.getElementsByTagName(H[1]);
}}},preFilter:{CLASS:function(K,I,J,H,N,O){K=" "+K[1].replace(z,"")+" ";if(O){return K;}for(var L=0,M;(M=I[L])!=null;L++){if(M){if(N^(M.className&&(" "+M.className+" ").replace(/[\t\n\r]/g," ").indexOf(K)>=0)){if(!J){H.push(M);}}else{if(J){I[L]=false;}}}}return false;},ID:function(H){return H[1].replace(z,"");
},TAG:function(I,H){return I[1].replace(z,"").toLowerCase();},CHILD:function(H){if(H[1]==="nth"){if(!H[2]){j.error(H[0]);}H[2]=H[2].replace(/^\+|\s*/g,"");var I=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(H[2]==="even"&&"2n"||H[2]==="odd"&&"2n+1"||!/\D/.test(H[2])&&"0n+"+H[2]||H[2]);H[2]=(I[1]+(I[2]||1))-0;H[3]=I[3]-0;
}else{if(H[2]){j.error(H[0]);}}H[0]=x++;return H;},ATTR:function(L,I,J,H,M,N){var K=L[1]=L[1].replace(z,"");if(!N&&q.attrMap[K]){L[1]=q.attrMap[K];}L[4]=(L[4]||L[5]||"").replace(z,"");if(L[2]==="~="){L[4]=" "+L[4]+" ";}return L;},PSEUDO:function(L,I,J,H,M){if(L[1]==="not"){if((w.exec(L[3])||"").length>1||/^\w/.test(L[3])){L[3]=j(L[3],null,null,I);
}else{var K=j.filter(L[3],I,J,true^M);if(!J){H.push.apply(H,K);}return false;}}else{if(q.match.POS.test(L[0])||q.match.CHILD.test(L[0])){return true;}}return L;},POS:function(H){H.unshift(true);return H;}},filters:{enabled:function(H){return H.disabled===false&&H.type!=="hidden";},visible:function(H){return H.getBoundingClientRect().height>0&&H.type!=="hidden";
},disabled:function(H){return H.disabled===true;},checked:function(H){return H.checked===true;},selected:function(H){if(H.parentNode){H.parentNode.selectedIndex;}return H.selected===true;},parent:function(H){return !!H.firstChild;},empty:function(H){return !H.firstChild;},has:function(J,I,H){return !!j(H[3],J).length;
},header:function(H){return(/h\d/i).test(H.nodeName);},text:function(J){var H=J.getAttribute("type"),I=J.type;return J.nodeName.toLowerCase()==="input"&&"text"===I&&(H===I||H===null);},radio:function(H){return H.nodeName.toLowerCase()==="input"&&"radio"===H.type;},checkbox:function(H){return H.nodeName.toLowerCase()==="input"&&"checkbox"===H.type;
},file:function(H){return H.nodeName.toLowerCase()==="input"&&"file"===H.type;},password:function(H){return H.nodeName.toLowerCase()==="input"&&"password"===H.type;},submit:function(I){var H=I.nodeName.toLowerCase();return(H==="input"||H==="button")&&"submit"===I.type;},image:function(H){return H.nodeName.toLowerCase()==="input"&&"image"===H.type;
},reset:function(I){var H=I.nodeName.toLowerCase();return(H==="input"||H==="button")&&"reset"===I.type;},button:function(I){var H=I.nodeName.toLowerCase();return H==="input"&&"button"===I.type||H==="button";},input:function(H){return(/input|select|textarea|button/i).test(H.nodeName);},focus:function(H){return H===H.ownerDocument.activeElement;
}},setFilters:{first:function(I,H){return H===0;},last:function(J,I,H,K){return I===K.length-1;},even:function(I,H){return H%2===0;},odd:function(I,H){return H%2===1;},lt:function(J,I,H){return I<H[3]-0;},gt:function(J,I,H){return I>H[3]-0;},nth:function(J,I,H){return H[3]-0===I;},eq:function(J,I,H){return H[3]-0===I;
}},filter:{PSEUDO:function(J,O,N,P){var H=O[1],I=q.filters[H];if(I){return I(J,N,O,P);}else{if(H==="contains"){return(J.textContent||J.innerText||g([J])||"").indexOf(O[3])>=0;}else{if(H==="not"){var K=O[3];for(var M=0,L=K.length;M<L;M++){if(K[M]===J){return false;}}return true;}else{j.error(H);}}}},CHILD:function(J,L){var K,R,N,Q,H,M,P,O=L[1],I=J;
switch(O){case"only":case"first":while((I=I.previousSibling)){if(I.nodeType===1){return false;}}if(O==="first"){return true;}I=J;case"last":while((I=I.nextSibling)){if(I.nodeType===1){return false;}}return true;case"nth":K=L[2];R=L[3];if(K===1&&R===0){return true;}N=L[0];Q=J.parentNode;if(Q&&(Q[o]!==N||!J.nodeIndex)){M=0;
for(I=Q.firstChild;I;I=I.nextSibling){if(I.nodeType===1){I.nodeIndex=++M;}}Q[o]=N;}P=J.nodeIndex-R;if(K===0){return P===0;}else{return(P%K===0&&P/K>=0);}}},ID:function(I,H){return I.nodeType===1&&I.getAttribute("id")===H;},TAG:function(I,H){return(H==="*"&&I.nodeType===1)||!!I.nodeName&&I.nodeName.toLowerCase()===H;
},CLASS:function(I,H){return(" "+(I.className||I.getAttribute("class"))+" ").indexOf(H)>-1;},ATTR:function(N,K){var J=K[1];var H=null;var O=null;try{H=j.attr?j.attr(N,J):q.attrHandle[J]?q.attrHandle[J](N):N[J]!=null?N[J]:N.getAttribute(J);}catch(M){}finally{O=H+"";}var L=K[2],I=K[4];return H==null?L==="!=":!L&&j.attr?H!=null:L==="="?O===I:L==="*="?O.indexOf(I)>=0:L==="~="?(" "+O+" ").indexOf(I)>=0:!I?O&&H!==false:L==="!="?O!==I:L==="^="?O.indexOf(I)===0:L==="$="?O.substr(O.length-I.length)===I:L==="|="?O===I||O.substr(0,I.length+1)===I+"-":false;
},POS:function(L,I,J,M){var H=I[2],K=q.setFilters[H];if(K){return K(L,J,I,M);}}}};var p=q.match.POS,h=function(I,H){return"\\"+(H-0+1);};for(var l in q.match){q.match[l]=new RegExp(q.match[l].source+(/(?![^\[]*\])(?![^\(]*\))/.source));q.leftMatch[l]=new RegExp(/(^(?:.|\r|\n)*?)/.source+q.match[l].source.replace(/\\(\d+)/g,h));
}q.match.globalPOS=p;var r=function(I,H){I=Array.prototype.slice.call(I,0);if(H){H.push.apply(H,I);return H;}return I;};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType;}catch(F){r=function(L,K){var J=0,I=K||[];if(A.call(L)==="[object Array]"){Array.prototype.push.apply(I,L);
}else{if(typeof L.length==="number"){for(var H=L.length;J<H;J++){I.push(L[J]);}}else{for(;L[J];J++){I.push(L[J]);}}}return I;};}var y,u;if(document.documentElement.compareDocumentPosition){y=function(I,H){if(I===H){n=true;return 0;}if(!I.compareDocumentPosition||!H.compareDocumentPosition){return I.compareDocumentPosition?-1:1;
}return I.compareDocumentPosition(H)&4?-1:1;};}else{y=function(P,O){if(P===O){n=true;return 0;}else{if(P.sourceIndex&&O.sourceIndex){return P.sourceIndex-O.sourceIndex;}}var M,I,J=[],H=[],L=P.parentNode,N=O.parentNode,Q=L;if(L===N){return u(P,O);}else{if(!L){return -1;}else{if(!N){return 1;}}}while(Q){J.unshift(Q);
Q=Q.parentNode;}Q=N;while(Q){H.unshift(Q);Q=Q.parentNode;}M=J.length;I=H.length;for(var K=0;K<M&&K<I;K++){if(J[K]!==H[K]){return u(J[K],H[K]);}}return K===M?u(P,H[K],-1):u(J[K],O,1);};u=function(I,H,J){if(I===H){return J;}var K=I.nextSibling;while(K){if(K===H){return -1;}K=K.nextSibling;}return 1;};}(function(){var I=document.createElement("div"),J="script"+(new Date()).getTime(),H=document.documentElement;
I.innerHTML="<a name='"+J+"'/>";H.insertBefore(I,H.firstChild);if(document.getElementById(J)){q.find.ID=function(L,M,N){if(typeof M.getElementById!=="undefined"&&!N){var K=M.getElementById(L[1]);return K?K.id===L[1]||typeof K.getAttributeNode!=="undefined"&&K.getAttributeNode("id").nodeValue===L[1]?[K]:undefined:[];
}};q.filter.ID=function(M,K){var L=typeof M.getAttributeNode!=="undefined"&&M.getAttributeNode("id");return M.nodeType===1&&L&&L.nodeValue===K;};}H.removeChild(I);H=I=null;})();(function(){var H=document.createElement("div");H.appendChild(document.createComment(""));if(H.getElementsByTagName("*").length>0){q.find.TAG=function(I,M){var L=M.getElementsByTagName(I[1]);
if(I[1]==="*"){var K=[];for(var J=0;L[J];J++){if(L[J].nodeType===1){K.push(L[J]);}}L=K;}return L;};}H.innerHTML="<a href='#'></a>";if(H.firstChild&&typeof H.firstChild.getAttribute!=="undefined"&&H.firstChild.getAttribute("href")!=="#"){q.attrHandle.href=function(I){return I.getAttribute("href",2);};
}H=null;})();if(document.querySelectorAll){(function(){var H=j,K=document.createElement("div"),J="__sizzle__";K.innerHTML="<p class='TEST'></p>";if(K.querySelectorAll&&K.querySelectorAll(".TEST").length===0){return;}j=function(V,M,Q,U){M=M||document;if(!U&&!j.isXML(M)){var T=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(V);
if(T&&(M.nodeType===1||M.nodeType===9)){if(T[1]){return r(M.getElementsByTagName(V),Q);}else{if(T[2]&&q.find.CLASS&&M.getElementsByClassName){return r(M.getElementsByClassName(T[2]),Q);}}}if(M.nodeType===9){if(V==="body"&&M.body){return r([M.body],Q);}else{if(T&&T[3]){var P=M.getElementById(T[3]);if(P&&P.parentNode){if(P.id===T[3]){return r([P],Q);
}}else{return r([],Q);}}}try{return r(M.querySelectorAll(V),Q);}catch(R){}}else{if(M.nodeType===1&&M.nodeName.toLowerCase()!=="object"){var N=M,O=M.getAttribute("id"),L=O||J,X=M.parentNode,W=/^\s*[+~]/.test(V);if(!O){M.setAttribute("id",L);}else{L=L.replace(/'/g,"\\$&");}if(W&&X){M=M.parentNode;}try{if(!W||X){return r(M.querySelectorAll("[id='"+L+"'] "+V),Q);
}}catch(S){}finally{if(!O){N.removeAttribute("id");}}}}}return H(V,M,Q,U);};for(var I in H){j[I]=H[I];}K=null;})();}(function(){var H=document.documentElement,J=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.msMatchesSelector;if(J){var L=!J.call(document.createElement("div"),"div"),I=false;
try{J.call(document.documentElement,"[test!='']:sizzle");}catch(K){I=true;}j.matchesSelector=function(N,P){P=P.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!j.isXML(N)){try{if(I||!q.match.PSEUDO.test(P)&&!/!=/.test(P)){var M=J.call(N,P);if(M||!L||N.document&&N.document.nodeType!==11){return M;}}}catch(O){}}return j(P,null,null,[N]).length>0;
};}})();(function(){var H=document.createElement("div");H.innerHTML="<div class='test e'></div><div class='test'></div>";if(!H.getElementsByClassName||H.getElementsByClassName("e").length===0){return;}H.lastChild.className="e";if(H.getElementsByClassName("e").length===1){return;}q.order.splice(1,0,"CLASS");
q.find.CLASS=function(I,J,K){if(typeof J.getElementsByClassName!=="undefined"&&!K){return J.getElementsByClassName(I[1]);}};H=null;})();function d(I,N,M,Q,O,P){for(var K=0,J=Q.length;K<J;K++){var H=Q[K];if(H){var L=false;H=H[I];while(H){if(H[o]===M){L=Q[H.sizset];break;}if(H.nodeType===1&&!P){H[o]=M;
H.sizset=K;}if(H.nodeName.toLowerCase()===N){L=H;break;}H=H[I];}Q[K]=L;}}}function C(I,N,M,Q,O,P){for(var K=0,J=Q.length;K<J;K++){var H=Q[K];if(H){var L=false;H=H[I];while(H){if(H[o]===M){L=Q[H.sizset];break;}if(H.nodeType===1){if(!P){H[o]=M;H.sizset=K;}if(typeof N!=="string"){if(H===N){L=true;break;
}}else{if(j.filter(N,[H]).length>0){L=H;break;}}}H=H[I];}Q[K]=L;}}}if(document.documentElement.contains){j.contains=function(I,H){return I!==H&&(I.contains?I.contains(H):true);};}else{if(document.documentElement.compareDocumentPosition){j.contains=function(I,H){return !!(I.compareDocumentPosition(H)&16);
};}else{j.contains=function(){return false;};}}j.isXML=function(H){var I=(H?H.ownerDocument||H:0).documentElement;return I?I.nodeName!=="HTML":false;};var B=function(J,H,N){var M,O=[],L="",P=H.nodeType?[H]:H;while((M=q.match.PSEUDO.exec(J))){L+=M[0];J=J.replace(q.match.PSEUDO,"");}J=q.relative[J]?J+"*":J;
for(var K=0,I=P.length;K<I;K++){j(J,P[K],O,N);}return j.filter(L,O);};window.Sizzle=j;}};if(document&&document.documentElement){window.____Sizzle___fn__();}else{window.___sizzle__tt__=window.setInterval(window.____Sizzle___fn__,1);}var LEAP=new Object();LEAP.Activex={};LEAP.Activex.getFiles=function(){return"LCAPTUDP.exe,LNET.ocx,LCAPT.ocx,LDSM.exe,LUPL.exe,LDocViewer.exe";
};var ismobie=false;var isdebug=true;var islogdebug=false;Object.isEmpty=function(h){if(h==null){return true;}var d=0;for(var g in h){d++;}h=null;return d==0;};var ___rslt=navigator.appVersion.match(/MSIE (\d+\.\d+)/,"");LEAP.isIE6=(___rslt!=null&&Number(___rslt[1])>=5.5&&Number(___rslt[1])<7);function enableAlphaImages(l){if(LEAP.isIE6){if(l==null){l=LEAP.getElements("img[_trans_=1][_settrans_!=1]");
}if(l!=null){for(var g=0;g<l.length;g++){var d=l[g];if(d&&d.getAttribute("_trans_")=="1"&&d.src.match(/\.png$/i)!=null&&d.getAttribute("_settrans_")==null){var j=d.src;var h=d.offsetWidth>0;if(h){d.style.width=d.width+"px";d.style.height=d.height+"px";}d.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+j+"', sizingMethod='crop')";
d.src=leapconfig.server+"LEAP/Resource/SystemTemplate/pixel.gif";d.setAttribute("_settrans_","1");}}}}l=null;}LEAP.transImages=function(d){if(LEAP.isIE6){if(d&&typeof d=="string"){d=LEAP.getElement(d);}enableAlphaImages(LEAP.getElements("img[_trans_=1]"),d);}};LEAP.asynTransImages=function(d,g){if(LEAP.isIE6){if(g==null){g=100;
}if(d&&d.tagName){d=d.tagName+"[ctid="+LEAP.ctid(d)+"]:first";}LEAP.asyn(LEAP.transImages,null,g,d);}};LEAP.clone=function(h,g){if(h&&h.clone!=null){return h.clone();}if(g==null){g={};}for(var d in h){g[d]=h[d];}return g;};LEAP.getURL=function(d){if(d==null){return leapconfig.server;}if(d.charAt(0)=="/"){return leapconfig.server+d.substr(1);
}else{return leapconfig.server+d;}};LEAP.isIE=null;(function(){if(document.all){LEAP.isIE=true;}else{LEAP.isIE=false;}})();LEAP.getAbsolutePos=function(g){var h=g.getBoundingClientRect();var d={x:h.left,y:h.top};if(LEAPBrowser.isIE){d.x=d.x-2;d.y=d.y-2;}return d;};LEAP.stopEvent=function(d){g=d?d:window.event;
if(LEAP.isIE){g.keyCode=0;g.cancelBubble=true;g.returnValue=false;try{g.preventDefault();}catch(g){}try{g.stopPropagation();}catch(g){}}else{g.preventDefault();g.stopPropagation();}};LEAP.changeZoom=function(l){if(window.pagesizeconfig!=null){if(l==null){var p=window.pagesizeconfig;l=p[0];}if(l!=null){if(typeof(l)=="string"){l=JSON.parse(l);
}var m=document.getElementsByTagName("base")[0];var n=m?m:document.getElementsByTagName("head")[0];var q=document.querySelector("[_pagejssize='1']");if(q==null){var g=document.createElement("script");g.setAttribute("_sys","1");g.setAttribute("_pagejssize","1");g.type="text/javascript";g.charset="utf-8";
g.setAttribute("path",l.jspath);var d=null;if(l.jspath.indexOf("http:")==-1||l.jspath.indexOf("https:")==-1){d=leapconfig.server+l.jspath;}g.src=d+"?random="+UUID.S4();if(m){n.insertBefore(g,m);}else{n.appendChild(g);}}else{var d=null;if(l.jspath.indexOf("http:")==-1||l.jspath.indexOf("https:")==-1){d=leapconfig.server+l.jspath;
}q.src=d+"?random="+UUID.S4();}var r=document.querySelector("[_pagecsssize='1']");if(r==null){var g=document.createElement("link");g.setAttribute("_sys","1");g.setAttribute("_pagecsssize","1");g.setAttribute("rel","stylesheet");g.type="text/css";g.setAttribute("path",l.csspath);var d=null;if(l.csspath.indexOf("http:")==-1||l.csspath.indexOf("https:")==-1){d=leapconfig.server+l.csspath;
}g.href=d+"?random="+UUID.S4();if(m){n.insertBefore(g,m);}else{n.appendChild(g);}}else{var d=null;if(l.csspath.indexOf("http:")==-1||l.csspath.indexOf("https:")==-1){d=leapconfig.server+l.csspath;}r.href=d+"?random="+UUID.S4();}if(window.localStorage){if(LEAP.userInfo){var j=LEAP.userInfo.userid;var o=window._indexid;
var h=j;if(o!=null){h=h+"_"+o;}localStorage["_zoomPagesize"+h]=JSON.stringify(l);}}}}else{var u=LEAP.tonum(l)/10;document.body.style.zoom=u;if(window.localStorage){if(LEAP.userInfo){var j=LEAP.userInfo.userid;var o=window._indexid;var h=j;if(o!=null){h=h+"_"+o;}localStorage["_zoomsize"+h]=u;}}}};LEAP.getUserZoomSize=function(){if(LEAP.userInfo){var g=LEAP.userInfo.userid;
var h=window._indexid;var d=g;if(h!=null){d=d+"_"+h;}if(window.pagesizeconfig!=null){if(localStorage["_zoomPagesize"+d]!=null){return localStorage["_zoomPagesize"+d];}else{return null;}}else{if(localStorage["_zoomsize"+d]!=null){return LEAP.tonum(localStorage["_zoomsize"+d])*10;}else{return 10;}}}if(window.pagesizeconfig!=null){return null;
}else{return 10;}};if(!LEAP.isIE){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent;});HTMLElement.prototype.__defineSetter__("innerText",function(d){this.textContent=d;});Event.prototype.__defineGetter__("offsetX",function(){var g=this.target;var d=LEAP.getAbsolutePos(g).x;
g=null;return this.clientX-d;});Event.prototype.__defineGetter__("offsetY",function(){var d=this.target;var g=LEAP.getAbsolutePos(d).y;d=null;return this.clientY-g;});Event.prototype.__defineGetter__("srcElement",function(){return this.target;});}LEAP.selector=Sizzle;var DateFormat=function(g){var j=function(l){l=l.replace(/yyyy/g,g.getFullYear());
l=l.replace(/yy/g,g.getFullYear().toString().slice(2));l=l.replace(/mm/g,(g.getMonth()+1)<10?"0"+(g.getMonth()+1):g.getMonth()+1);l=l.replace(/dd/g,g.getDate()<10?"0"+g.getDate():g.getDate());l=l.replace(/wk/g,g.getDay()<10?"0"+g.getDay():g.getDay());l=l.replace(/hh/g,g.getHours()<10?"0"+g.getHours():g.getHours());
l=l.replace(/mi/g,g.getMinutes()<10?"0"+g.getMinutes():g.getMinutes());l=l.replace(/ss/g,g.getSeconds()<10?"0"+g.getSeconds():g.getSeconds());l=l.replace(/ms/g,g.getMilliseconds()<10?"0"+g.getMilliseconds():g.getMilliseconds());return l;};var d=function(){};var h=function(){return g.toLocaleString();
};g=new Date(g);if(!g||g=="NaN"){g=new Date();}this.format=j;this.valueOf=d;this.toString=h;};function StringBuffer(d){this._strings_=[];if(d!=null){this._strings_[0]=d;}}StringBuffer.prototype.append=function(d){if(d==null){return this;}this._strings_.push(d);return this;};StringBuffer.prototype.clear=function(){this._strings_.clear();
return this;};StringBuffer.prototype.toString=function(d){if(d==null){d="";}return this._strings_.join(d);};Number.prototype.substr=function(h,d){var g=String(this);return g.substr(h,d);};Number.prototype.substring=function(h,d){var g=String(this);return g.substring(h,d);};String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"");
};String.prototype.replace2=function(g,d){if(d==null){d="";}return this.replace(g,d);};String.prototype.Trim2=function(){return this.replace(/(^[\s\u3000]*)|([\s\u3000]*$)/g,"");};String.prototype.getLength=function(){var d=this.match(/[^\x00-\xff]/ig);return this.length+(d==null?0:d.length);};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"");
};String.isEmpty2=function(d){if(d==null){return true;}if(typeof d=="string"){return d.Trim().length==0;}d=d.toString();return d.Trim().length==0;};String.isEmpty=function(h){if(h==null){return true;}var d=0;if(h.charAt){d=h.length;if(d==0){return true;}for(var g=0;g<d;g++){if(h.charAt(g)!=" "){return false;
}}return true;}return false;};String.getString=function(g,d){if(String.isEmpty(g)){return d;}else{return g;}return null;};String.prototype.isEmpty=function(){return this.Trim().length==0;};String.prototype.startWith=function(d){if(!String.isEmpty(d)){return this.indexOf(d)==0;}return false;};String.prototype.endWith=function(j){if(!String.isEmpty(j)){var d=j.length;
var g=this.length;if(d>g){return false;}for(var h=0;h<d;h++){if(j.charAt(h)!=this.charAt(g-d+h)){return false;}}return true;}return false;};String.prototype.indexof=function(d){return this.indexOf(d);};String.prototype.startsWith=String.prototype.startWith;String.prototype.endsWith=String.prototype.endWith;
Array.prototype.contains=function(d){return this.indexof(d)>-1;};Array.prototype.add=function(d){this[this.length]=d;};Array.prototype.addall=function(h){if(h==null){return;}var d=h.length;if(d!=null&&d>0){for(var g=0;g<d;g++){this[this.length]=h[g];}}};Array.concat=function(m,h){if(m!=null&&h!=null){var j=[];
var d=m.length;if(d!=null&&d>0){for(var n=0;n<d;n++){j[n]=m[n];}}var g=h.length;if(g!=null&&g>0){for(var n=0;n<g;n++){j[d+n]=h[n];}}return j;}else{if(m!=null){return m;}else{return h;}}};Array.prototype.insert=function(m,j){if(j==undefined||isNaN(j)){j=0;}var d=this.length;var h=new Object();var g=this.slice(0,j).concat(h).concat(this.slice(j,d));
g[j]=m;try{return g;}finally{m=null;}};Array.prototype.insertBefore=function(h,g){var d=this.indexof(g);if(d==-1){return this.concat(g);}return this.insert(h,d);};Array.prototype.replace=function(g,d){this[g]=d;};Array.prototype.clear=function(){this.length=0;};Array.prototype.indexof=function(h){if(h==null){return -1;
}var d=this.length;for(var g=0;g<d;g++){if(this[g]==h){return g;}}return -1;};if(!Array.prototype.hasOwnProperty("indexOf")){Array.prototype.indexOf=Array.prototype.indexof;}Array.prototype.removeindex=function(d){if(isNaN(d)||d>this.length){return false;}this.splice(d,1);};Array.prototype.remove=function(g){var d=this.indexof(g);
if(d>-1){this.removeindex(d);}};var hashtable=function(){this.keys={};};hashtable._k_="key";hashtable.prototype.contains=function(d){if(this.count==0){return false;}if(d!=null&&!(typeof d=="string"&&d.startsWith(hashtable._k_))){d="key_"+d;}return this.keys.hasOwnProperty(d);};hashtable.prototype.count=0;
hashtable.prototype.size=function(){return this.count;};hashtable.prototype.getkey=function(d){if(d.startWith(hashtable._k_+"_")){return d.substring(4);}};hashtable.prototype.add=function(d,g){if(d!=null&&!(typeof d=="string"&&d.startsWith(hashtable._k_))){d="key_"+d;}if(this.contains(d)){return this;
}this.keys[d]=g;this.count++;return this;};hashtable.prototype.getvalue=function(d){if(d!=null&&!(typeof d=="string"&&d.startsWith(hashtable._k_))){d="key_"+d;}return this.keys[d];};hashtable.prototype.replace=function(g,d){if(g!=null&&!(typeof g=="string"&&g.startsWith(hashtable._k_))){g="key_"+g;}if(this.contains(g)){this.keys[g]=d;
}return this;};hashtable.prototype.remove=function(d){if(d!=null&&!(typeof d=="string"&&d.startsWith(hashtable._k_))){d="key_"+d;}if(!this.contains(d)){return false;}try{this.count=this.count-1;this.keys[d]=null;}finally{delete this.keys[d];}return this;};hashtable.prototype.saferemove=function(d){if(d!=null&&!(typeof d=="string"&&d.startsWith(hashtable._k_))){d="key_"+d;
}delete this.keys[d];this.count--;return this;};hashtable.prototype.clear=function(){this.keys=null;this.keys={};this.count=0;};hashtable.prototype.clone=function(){var h=this.keys;var g=new hashtable();for(var d in h){g.add(d,this.getvalue(d));}return g;};var commfields={instance:"instance",ggc:"___global_GC_Flage",gcfs:"[_GC=",gcfe:"]",gcf:"_GCA",gco:new hashtable(),string:"string",idpre:"#",value:"value",ct:"ct",cttype:"cttype",ht:"ht",ctf:"ctf",ctg:"ctg",tpof:"tpof",tag:"tagName",bindfiled:"bindfiled_",bl:"&nbsp",vv:"@v",vn:"@n",vid:"@i",bt:"bt",md:"md",_value:"_value",c:1,tpo:"<a ctf='table_tpo' style='font-size:12px' href='javascript:void(0)' tpof='@v'>@n</a>",tpos:"|",tpos2:":",rsccv:"___codevalue___",sncel:"<input class='LC_form-input' ctf='table_chk' type='checkbox' name='i' id='i1'><span></span><i>@sn</i>",pge:"@pageNum<font style='color: #001693;font-weight: bold;text-align:center;width:8px;'>/</font>@pageCount @count",rsc:"com.longrise.LEAP.Base.Objects.ResultSet",addflag:"<DIV class='lgimgselbtn lgimg_delete'  ctf='table_deleterow' title=''></DIV>"};
var UIEventManager=new Object();UIEventManager.o="on";UIEventManager.u="_uuid";UIEventManager._e="___events";UIEventManager._s=new hashtable();UIEventManager._s.add("touchstart","1");UIEventManager._s.add("touchmove","1");UIEventManager._s.add("touchend","1");UIEventManager._s.add("message","1");UIEventManager.addEvent=function(n,r,u,p,l,w){if(u==null){return;
}if(!w){w=50;}var g=null;var A=p;var h=UIEventManager.o;try{if(n&&n.hasOwnProperty&&n.hasOwnProperty("setAttribute")){n.setAttribute("__iuem","1");}if(!n.events){n.events=[];}g=n.events[r];if(!g){g=n.events[r]=[];if(n[h+r]){g[0]=n[h+r];}}var d=g.length;var j=false;if(g&&d>0){for(var m=d-1;m>-1;m--){var x=g[m];
var q=x[3];if(q<w){if(m<d-1){g=g.insert([u,l,A,w],m+1);}else{g.add([u,l,A,w]);}j=true;break;}}}if(!j){g=g.insert([u,l,A,w],0);}n.events[r]=g;if(n[h+r]&&n[h+r]!=UIEventManager.handleEvent){var z=n[h+r];n.events[r]=g.insert([z,n,null]);n[h+r]=null;}if(!n[h+r]){if(UIEventManager._s.contains(r)&&n.addEventListener){n.addEventListener(r,UIEventManager.handleEvent);
}n[h+r]=UIEventManager.handleEvent;var o=[r];n[UIEventManager._e]=o;o=null;}else{var y=n[UIEventManager._e];if(y&&!y.contains(r)){y.add(r);}y=null;}}finally{g=null;n=null;A=null;}};UIEventManager.removeEvent=function(m,n,g){var o=m.___events;var p=UIEventManager.o;if(n==null){if(m.events&&o){var d=o.length;
for(var j=0;j<d;j++){var n=o[j];m.events[n].clear();m[p+n]=null;if(UIEventManager._s.contains(n)){m.removeEventListener(n,UIEventManager.handleEvent);}}o.clear();}}else{if(m.events&&m.events[n]){if(g!=null){var h=m.events[n];for(j=h.length-1;j>-1;j--){if(h[j][0]==g){h.removeindex(j);}}if(h.length==0){h.clear();
o.remove(n);m[p+n]=null;if(UIEventManager._s.contains(n)){m.removeEventListener(n,UIEventManager.handleEvent);}}h=null;}else{m.events[n].clear();o.remove(n);m[p+n]=null;if(UIEventManager._s.contains(n)){m.removeEventListener(n,UIEventManager.handleEvent);}}}}m=null;};UIEventManager.handleEvent=function(g){var h=true;
g=g||window.event;if(g==null&&this.document.parentWindow!=window){g=this.document.parentWindow.event;}if(g==null||g.type==null||g.srcElement==null||g.srcElement.disabled||g.srcElement.tagName==null){if(g==null){return;}if(g.type!=null&&(g.type=="load"||g.type=="unload")){}else{return;}}if(g&&g.type=="click"&&g.srcElement.hasAttribute("clklimit")){var d=g.srcElement;
var n=new Date().getTime();var j=d.getAttribute("lcktime");if(j){j=j*1;}var w=false;if(j&&(n-j)<500){w=true;}else{d.setAttribute("lcktime",n);}if(w&&LEAP.messagebox&&LEAP.messagebox.toast){LEAP.messagebox.toast("");return;}}if(g.srcElement!=null&&g.srcElement.tagName=="APPLET"){return;}if(this.events==null){return;
}var o=this.events[g.type];if(o==null){return;}var m=o.length;if(m==null||m==0){return;}for(var r=m-1;r>-1;r--){var l=null;try{l=o[r];}catch(A){}if(l==null){continue;}var q=l[1];var x=l[2];var y=l[0];try{if(y==null){continue;}var z={e:g,caller:this,arg:x,type:g.type};if(q==null){q=this;}var u=y.call(q,z);
if(u!=null){if(u==false){break;}if(u.breakEvent==true){return false;}}}catch(p){LEAP.showError(p);}finally{y=null;if(z!=null){z.caller=z.e=z.arg=null;}q=x=z=null;}}o=null;return h;};DelegateUIEventManager=new Object();DelegateUIEventManager.a=new array();DelegateUIEventManager.b=new hashtable();DelegateUIEventManager.c=new array();
DelegateUIEventManager.d=new array();DelegateUIEventManager.init=function(){DelegateUIEventManager.c.add("click");DelegateUIEventManager.c.add("dblclick");DelegateUIEventManager.c.add("keydown");DelegateUIEventManager.c.add("keypress");DelegateUIEventManager.c.add("keyup");DelegateUIEventManager.c.add("mousemove");
DelegateUIEventManager.c.add("touchstart");DelegateUIEventManager.c.add("touchmove");DelegateUIEventManager.c.add("touchend");DelegateUIEventManager.c.add("touchclick");DelegateUIEventManager.d.add("touchclick");}();DelegateUIEventManager.u="_uuid";DelegateUIEventManager.e="___devents";DelegateUIEventManager.addEvent=function(m,p,q,n,j,r){var w=m[DelegateUIEventManager.e];
if(w==null){w=m[DelegateUIEventManager.e]=new hashtable();}if(!r){r=50;}var x=w.getvalue(p);if(x==null){x=[];w.add(p,x);}var g={arg:n,domain:j,fn:q,priority:r};var d=x.length;var h=false;if(x&&d>0){for(var l=d-1;l>-1;l--){var u=x[l];var o=u.priority;if(o<r){if(l<d-1){x=x.insert(g,l+1);}else{x.add(g);
}h=true;break;}}}if(!h){x=x.insert(g,0);}w.replace(p,x);if(!DelegateUIEventManager.a.contains(p)){if(!DelegateUIEventManager.d.contains(p)){UIEventManager.addEvent(document.body,p,DelegateUIEventManager.handleEvent);}DelegateUIEventManager.a.add(p);}g=w=x=q=n=m=p=j=null;};DelegateUIEventManager.removeEvent=function(j,m,g){if(j!=null){if(m==null&&g==null){j[DelegateUIEventManager.e]=null;
j.removeAttribute(DelegateUIEventManager.e);}else{if(m!=null&&g!=null){var p=j[DelegateUIEventManager.e];if(p==null){return;}var n=p.getvalue(m);if(n!=null){var d=n.length;for(var h=d-1;h>-1;h--){var o=n[h];if(o.fn==g){n.remove(o);}}}p=n=null;}else{if(m==null&&g!=null){}else{if(m!=null&&g==null){var p=j[DelegateUIEventManager.e];
if(p!=null){p.remove(m);}}}}}}};DelegateUIEventManager.handleEvent=function(d){var o=d.e;var m=o.target||o.srcElement;var p=o.type;if(d.type){p=d.type;}var r=m[DelegateUIEventManager.e];if(r==null){return;}var u=r.getvalue(p);if(u!=null){var g=u.length;for(var n=g-1;n>-1;n--){var q=null;try{q=u[n];}catch(o){}if(q==null){continue;
}var w={caller:m,e:o,arg:q.arg,type:p};var j=q.domain;if(j==null){j=m;}try{if(q.fn.call(j,w)==false){break;}}catch(h){LEAP.showError(h);}finally{q=w=j=null;}}}r=u=m=o=d=null;};ElementEventManager=new Object();ElementEventManager.a=new hashtable();ElementEventManager.e="__eevents";ElementEventManager.addManagedEventType=function(h,g){if(ElementEventManager.a.contains(h)){ElementEventManager.a.getvalue(h).add(g);
}else{var d=new array();d.add(g);ElementEventManager.a.add(h,d);}};ElementEventManager.addEvent=function(m,p,q,n,j,r){if(m==null||p==null||q==null){return;}if(!r){r=50;}var w=m[ElementEventManager.e];if(w==null){w=m[ElementEventManager.e]=new hashtable();}var x=w.getvalue(p);if(x==null){x=[];w.add(p,x);
}var g={arg:n,domain:j,fn:q,priority:r};var d=x.length;var h=false;if(x&&d>0){for(var l=d-1;l>-1;l--){var u=x[l];var o=u.priority;if(o<r){if(l<d-1){x=x.insert(g,l+1);}else{x.add(g);}h=true;break;}}}if(!h){x=x.insert(g,0);}w.replace(p,x);g=w=x=q=n=m=p=j=null;};ElementEventManager.removeEvent=function(m,n,g){if(m!=null){if(n==null&&g==null){m[ElementEventManager.e]=null;
m.removeAttribute(ElementEventManager.e);}else{if(n!=null&&g!=null){var o=m[ElementEventManager.e];if(o&&o.contains(n)){var h=o.getvalue(n);if(h!=null){var d=h.length;for(var j=d-1;j>-1;j--){if(h[j].fn==g){h.remove(h[j]);}}if(h.length==0){o.remove(n);}if(o.count==0){m[ElementEventManager.e]=null;m.removeAttribute(ElementEventManager.e);
}h=null;}}o=null;}else{if(n==null&&g!=null){}else{if(n!=null&&g==null){var o=m[ElementEventManager.e];if(o!=null){o.remove(n);}o=null;}}}}m=g=n=null;}};ElementEventManager.handleEvent=function(m,o,u){var p=m[ElementEventManager.e];if(p==null){return;}var r=p.getvalue(o);if(r!=null){var g=r.length;for(var n=g-1;
n>-1;n--){var q=null;try{q=r[n];}catch(w){}if(q==null){continue;}var d={caller:m,arg:q.arg,arg2:u,type:o};var j=q.domain;if(j==null){j=m;}try{if(q.fn.call(j,d)==false){break;}}catch(h){LEAP.showError(h);}finally{q=d=j=null;}}}p=r=m=u=null;};LEAP.getElement=function(d,l,j,g){var h=null;try{if(l!=null&&typeof(l)==commfields.string){l=LEAP.getElement(l);
}h=LEAP.selector(d,l,j,g);if(h.length>0){return h[0];}}catch(m){}finally{h=null;}};LEAP.getElements=function(d,l,j,g){var h=null;try{if(l!=null&&typeof(l)==commfields.string){l=LEAP.getElement(l);}h=LEAP.selector(d,l,j,g);if(h!=null&&h.length==0){return null;}return h;}catch(m){}finally{h=null;}};LEAP.addEvent=function(d,u,w,r,m,y,x){if(typeof(d)==commfields.string){d=LEAP.getElements(d);
}if(d==null||u==null||w==null){return;}if(u!=null){u=u.Trim();}if(y==null){y=false;}var p=y!=true&&DelegateUIEventManager.c.contains(u);var h=null;if(p){h=DelegateUIEventManager;}else{h=UIEventManager;}if(d instanceof Array){var j=d.length;for(var o=0;o<j;o++){var n=d[o];if(!LEAP.isIE&&n!=null&&(u=="keydown"||u=="keyup")&&n==document.body){n=document;
}var q=n.getAttribute(commfields.ct);if(q==null||q.trim().length==0){q=n.getAttribute(commfields.ht);}if(q==null||q.trim().length==0){q=n.getAttribute(commfields.cttype);}var g=q!=null&&ElementEventManager.a.contains(q)&&ElementEventManager.a.getvalue(q).contains(u);if(g){ElementEventManager.addEvent(n,u,w,r,m,x);
}else{h.addEvent(n,u,w,r,m,x);}n=null;}}else{var q=null;if(d.getAttribute!=null){q=d.getAttribute(commfields.ct);if(q==null||q.trim().length==0){q=d.getAttribute(commfields.ht);}if(q==null||q.trim().length==0){q=d.getAttribute(commfields.cttype);}}var g=q!=null&&ElementEventManager.a.contains(q)&&ElementEventManager.a.getvalue(q).contains(u);
if(!LEAP.isIE&&d!=null&&(u=="keydown"||u=="keyup")&&d==document.body){d=document;}if(g){ElementEventManager.addEvent(d,u,w,r,m,x);}else{h.addEvent(d,u,w,r,m,x);}}d=u=w=r=m=null;};LEAP.removeEvent=function(d,q,r,u){if(typeof(d)==commfields.string){d=LEAP.getElements(d);}if(d==null||q==null||r==null){return;
}if(q!=null){q=q.Trim();}if(u==null){u=false;}var n=u!=true&&DelegateUIEventManager.c.contains(q);var h=null;if(n){h=DelegateUIEventManager;}else{h=UIEventManager;}if(d instanceof Array){var j=d.length;for(var o=0;o<j;o++){var m=d[o];var p=m.getAttribute(commfields.ct);if(p==null||p.trim().length==0){p=m.getAttribute(commfields.cttype);
}var g=p!=null&&ElementEventManager.a.contains(p)&&ElementEventManager.a.getvalue(p).contains(q);if(g){ElementEventManager.removeEvent(m,q,r);}else{h.removeEvent(m,q,r);}m=null;}}else{var p=null;if(d.getAttribute!=null){p=d.getAttribute(commfields.ct);if(p==null||p.trim().length==0){p=d.getAttribute(commfields.cttype);
}}var g=p!=null&&ElementEventManager.a.contains(p)&&ElementEventManager.a.getvalue(p).contains(q);if(g){ElementEventManager.removeEvent(d,q,r);}else{h.removeEvent(d,q,r);}}d=q=r=null;};LEAP.setGCFlag=function(g,d){if(g._GC!=null){return;}if(d==null){d="___global_GC_Flage";}g._GC=d;};LEAP.getGCFlag=function(d){return d.getAttribute("_GC");
};LEAP.setGCAttribute=function(g,d,j){if(g==null){return;}LEAP.setGCFlag(g);g[d]=j;var h=g._GCA;if(h==null){h=g._GCA=new array();h.add(d);}else{if(!h.contains(d)){h.add(d);}}h=j=d=g=null;};LEAP.getGCAttribute=function(g,d){if(g!=null){return g[d];}};LEAP.removeGCAttribute=function(g,d){if(g!=null&&d!=null){g[d]=null;
g.removeAttribute(d);g[commfields.gcf].remove(d);}};LEAP.createGCObject=function(d){if(d==null){d=commfields.ggc;}var g=commfields.gco.getvalue(d);if(g==null){g=new Object();commfields.gco.add(d,g);}return g;};LEAP.getGCObject=function(d){if(d==null){d=commfields.ggc;}return commfields.gco.getvalue(d);
};LEAP.setAttribute=function(m,n,g){if(typeof(m)==commfields.string){m=LEAP.getElements(m);}if(m==null){return;}var j=m instanceof Array;if(j){if(m.length>0){var d=m.length;for(var h=0;h<d;h++){m[h][n]=g;m[h].setAttribute(n,g);}}}else{m[n]=g;}m=null;};LEAP.removeAttribute=function(h,j){if(typeof(h)==commfields.string){h=LEAP.getElements(h);
}if(h==null){return;}if(!(h instanceof Array)){h=[h];}var d=h.length;for(var g=0;g<d;g++){h[g].removeAttribute(j);}};LEAP.getAttribute=function(h,g){if(h==null){return;}var d=h[g];if(d==null){return h.getAttribute(g);}return d;};LEAP._stylearr1=["width","height","top","left","right","bottom","margginLeft","margginRight","margginTop","margginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom"];
LEAP.setStyle=function(d,g,o){if(d==null||g==null){return;}if(typeof(d)==commfields.string){d=LEAP.getElements(d);}if(d==null){return;}if(o==true||d instanceof Array){}else{d=[d];}var h=d.length;for(var n=0;n<h;n++){var p=d[n];for(var j in g){var r=g[j];if(typeof r!="function"){try{if(LEAP._stylearr1.contains(j.toString().toLowerCase())){if(!String.isEmpty(r)){var m=r.toString().toLowerCase().trim();
if(!m.endsWith("%")&&!m.endsWith("px")&&m!="0"){r+="px";}}}if(p.style[j]!=r){p.style[j]=r;}}catch(p){try{p.style[j]=g[j];}catch(q){}}}}p=null;}d=null;};LEAP.GCCollect=function(o){var p=o==null||o==commfields.ggc;if(p&&o==null){o=commfields.ggc;}var h=LEAP.getElements(commfields.gcfs+o+commfields.gcfe);
if(h!=null&&h.length>0){var d=h.length;for(var j=0;j<d;j++){var q=h[j];var n=q.getAttribute(commfields.gcf);if(n!=null){for(var g in n.keys){var m=n.getvalue(g);q[m]=null;m=null;}q[commfields.gcf]=null;n=null;}UIEventManager.removeEvent(q);DelegateUIEventManager.removeEvent(q);q=null;}}if(!p){if(commfields.gco.contains(o)){commfields.gco.remove(o);
}}else{commfields.gco.clear();}};LEAP.request=function(g,h,d,u,o,m,n,j,q,r,l,w,p){if(p==null){p=window.leapclient;}return p.request(g,h,d,u,o,m,n,j,q,r,l,w);};LEAP.request2=function(g,d){if(d==null){d=window.leapclient;}return d.request2(g);};LEAP.asynrequest=function(h,m,n,g,d,l,j){if(j==null){j=window.leapclient;
}return j.request(h,m,n,g,null,null,null,null,null,d,l);};LEAP._check=function(g,d){if(g==null||d==null){return;}if(typeof(g)==commfields.string){g=LEAP.getElement(g);}if(g==null||g.getAttribute("ct")!=d){return;}try{return g;}finally{g=null;}};LEAP._match=function(j,m,n,o,g){if(n==null){n=commfields.ct;
}var p=null;try{if(j.getAttribute(n)==m||j[n]==m){return j;}if(o==null){o=19;}p=j.parentNode;var d=-1;for(var l=0;l<o;l++){d++;if(p==null){return;}if(p.tagName=="BODY"){return;}if(p.getAttribute(n)==m||p[n]==m){if(g==true){return d;}return p;}p=p.parentNode;if(p==null){return;}}}catch(h){}finally{p=j=null;
}};LEAP.formatdate=function(d,h){if(h==null){if(d==null){return;}if(typeof(d)=="string"&&d.indexOf(":")>0){h=0;}else{h=1;}}if(d==null){return null;}var g="yyyy-mm-dd hh:mi:ss";if(h==1){g="yyyy-mm-dd";}else{if(h==2){g="yyyy-mm-dd hh:mi:ss.ms";}else{if(h==3){g="yyyy-mm-dd hh:mi";}}}if(d instanceof Date){return new DateFormat(d).format(g);
}else{return new DateFormat(LEAP.tonum(d)).format(g);}};LEAP._checkIdCard=function(g){if(g==null||(g.trim().length!=15&&g.trim().length!=18)){return false;}var h=0;if(g.length==15){g=LEAP._convertCard(g);}if(!/^\d{17}(\d|x)$/i.test(g)){return false;}g=g.replace(/x$/i,"a");for(var d=17;d>=0;d--){h+=(Math.pow(2,d)%11)*parseInt(g.charAt(17-d),11);
}if(h%11!=1){return false;}return true;};LEAP.toBirthday=function(g){if(!LEAP._checkIdCard(g)){LEAP.messagebox.alert("");return null;}if(g.length==15){g=LEAP._convertCard(g);}var h=g.substr(6,4)+"-"+Number(g.substr(10,2))+"-"+Number(g.substr(12,2));var j=g.substr(6,4)+"-"+g.substr(10,2)+"-"+g.substr(12,2);
var l=new Date(h.replace(/-/g,"/"));if(h!=(l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate())){LEAP.messagebox.alert("");return null;}return j;};LEAP._convertCard=function(CardNum){CardNum=CardNum.substr(0,6)+"19"+CardNum.substr(6,15);var lastNumber;var getNum=eval(CardNum.charAt(0)*7+CardNum.charAt(1)*9+CardNum.charAt(2)*10+CardNum.charAt(3)*5+CardNum.charAt(4)*8+CardNum.charAt(5)*4+CardNum.charAt(6)*2+CardNum.charAt(7)*1+CardNum.charAt(8)*6+CardNum.charAt(9)*3+CardNum.charAt(10)*7+CardNum.charAt(11)*9+CardNum.charAt(12)*10+CardNum.charAt(13)*5+CardNum.charAt(14)*8+CardNum.charAt(15)*4+CardNum.charAt(16)*2);
getNum=getNum%11;switch(getNum){case 0:lastNumber="1";break;case 1:lastNumber="0";break;case 2:lastNumber="X";break;case 3:lastNumber="9";break;case 4:lastNumber="8";break;case 5:lastNumber="7";break;case 6:lastNumber="6";break;case 7:lastNumber="5";break;case 8:lastNumber="4";break;case 9:lastNumber="3";
break;case 10:lastNumber="2";break;}return CardNum+lastNumber;};LEAP.toDate=function(j){if(j==null){return;}var h=null;var d=j.indexOf(".");if(d>-1){h=j.substring(d+1)*1;j=j.substring(0,d);}var g=new Date(Date.parse(j.replace(/-/g,"/")));if(h!=null){g.setMilliseconds(h);}return g;};LEAP.getLoadedModule=function(d){return GlobalModuleManager.getModule(d);
};LEAP.getStyle=function(g,d){return g.currentStyle?g.currentStyle[d]:getComputedStyle(g,false)[d];};LEAP.setIndexModule=function(g){if(g!=null){var d=g.name;window.onpopstate=function(p){if(g!=null){var n=null;var q=PageObjectModel.___allObjects;for(key in q.keys){if(n!=null){break;}var h=PageObjectModel.___allObjects.getvalue(key);
if(h!=null){var l=h.___forms;if(l!=null){for(var m=0;m<l.length;m++){var o=LEAP.getElement(l[m]);if(o!=null){var j=LEAP.getStyle(o,"display");if(j=="block"){n=l[m];break;}}}}}}if(n!=null){LEAP.form.hide(n);n=null;}}if(window.history&&window.history.pushState){window.history.pushState(d,null,window.location.href);
}};if(window.history&&window.history.pushState){window.history.pushState(d,null,window.location.href);}}};LEAP.parsedatestr=function(d,g){if(g==null){g=0;}if(d==null){return null;}if(d!=null&&d.javaClass!=null&&(d.javaClass=="java.util.Date"||d.javaClass=="java.sql.Timestamp")){return LEAP.formatdate(d.time,g);
}return d;};LEAP.tonum=function(g){if(g==null||g==undefined||isNaN(g)){g=0;}var d=Number(g);if(isNaN(d)){return 0;}return d;};LEAP.parsenum=function(g){if(g==null||g==undefined||isNaN(g)){return null;}var d=Number(g);if(isNaN(d)){return null;}return d;};LEAP.isArray=function(d){if(d==null){return false;
}return Object.prototype.toString.apply(d)=="[object Array]";};LEAP.convertResult=function(m){if(m){if(m.type==2){if(m==null||m.result==null||m.result.length==0){return null;}var d=new Array();var h=m.result.length;var x=m.codeValues!=null;for(var q=0;q<h;q++){var r=new Object();var w=m.result[q];if(!w){continue;
}var u=m.metaData.length;for(var o=0;o<u;o++){var n=m.metaData[o].name;var p=m.metaData[o].type;var y=w[o];if(x){var g=m.codeValues[q];if(g!=null){_cv=g[o];if(_cv!=null){r[commfields.rsccv+n]=_cv;}}}if(p==-5||p==-6||p==-7||p==4||p==5||p==6||p==7||p==8){if(String.isEmpty(y)){y=null;}else{y=LEAP.tonum(y);
}}r[n]=y;}d.add(r);}return d;}else{if(m.type==3){return m.result;}else{if(m.type==1){if(m==null||m.result==null||m.result.length==0){return null;}var d=new Array();var h=m.result.length;var x=m.codeValues!=null;if(x){for(var q=0;q<h;q++){var r=m.result[q];var w=m.result[q];if(!w){continue;}var u=m.metaData.length;
for(var o=0;o<u;o++){var n=m.metaData[o].name;var p=m.metaData[o].type;var y=w[n];if(x){var g=m.codeValues[q];if(g!=null){_cv=g[o];if(_cv!=null){r[commfields.rsccv+n]=_cv;}}}if(p==-5||p==-6||p==-7||p==4||p==5||p==6||p==7||p==8){if(String.isEmpty(y)){y=null;}else{y=LEAP.tonum(y);}}r[n]=y;}d.add(r);}return d;
}else{return m.result;}}}}}if(m!=null&&m.result!=null){return m.result;}return m;};var ChangeResult=function(){};ChangeResult.prototype.javaClass="com.longrise.LEAP.Base.Objects.ChangeResult";ChangeResult.prototype.addparameter=function(h,d,g){if(this.metaData==null){this.metaData=[];this.result=[];this.source=[];
}this.metaData.push(h);this.result.push(d);this.source.push(g);};ChangeResult.prototype.add=function(h,g,d){return this.addparameter(name,g,d);};var QueryParameters=function(){};QueryParameters.prototype.javaClass="com.longrise.LEAP.Base.Objects.QueryParameter";QueryParameters.prototype.setGroup=function(d){if(String.isEmpty(d)){this.group=null;
}else{d+="";d=d.Trim().toLowerCase();this.group=d;}};var SearchParameters=function(){};SearchParameters.prototype.javaClass="com.longrise.LEAP.Base.Objects.SearchParameters";var JavaDate=function(){};JavaDate.prototype.javaClass="java.util.Date";SearchParameters.prototype.setExtendQuery=function(d){if(d!=null){this.extendQuery=d;
}};SearchParameters.prototype.setPrefixParameter=function(d){if(d!=null){this.prefixParameter=d;}};SearchParameters.prototype.addParameter=function(g,l,d,h){if(this.parameters==null){this.parameters=[];}var j=new QueryParameters();j.name=g;j.value=l;if(d!=null){j.flag=d;}if(h!=null){j.type=h;}this.parameters.push(j);
return j;};SearchParameters.prototype.getParameter=function(g){if(this.parameters==null){return;}var d=this.parameters.length;for(var h=d-1;h>-1;h--){var j=this.parameters[h];if(j.name==g){return j;}}};SearchParameters.prototype.get=function(d){return this.getParameter(d);};SearchParameters.prototype.add=function(g,j,d,h){return this.addParameter(g,j,d,h);
};SearchParameters.prototype.setGroupLogic=function(h,g){if(h==null){return;}h+="";h=h.toLowerCase().Trim();if(g=="or"||g=="2"||g==2){g=2;}else{g=1;}if(this.groups==null){this.groups=[];}if(this.groups.length>0){var d=this.groups.length;for(var j=0;j<d;j++){if(this.groups[j].name==h){return;}}}this.groups.add({name:h,logic:g});
};SearchParameters.prototype.removeParameter=function(g){if(this.parameters==null){return;}var d=this.parameters.length;for(var h=d-1;h>-1;h--){var j=this.parameters[h];if(j.name==g){this.parameters.remove(j);}}};SearchParameters.prototype.addField=function(d){if(this.fields==null){this.fields=[];}if(d!=null){if(!this.fields.contains(d)){this.fields.push(d);
}}};SearchParameters.prototype.setOrder=function(d){this.order=d;};SearchParameters.prototype.getOrder=function(){return this.order;};SearchParameters.prototype.setPageModule=function(d){this.pageModule=d;};SearchParameters.prototype.getPageModule=function(){return this.pageModule;};SearchParameters.prototype.setDsname=function(d){this.dsname=d;
};SearchParameters.prototype.getDsname=function(){return this.dsname;};SearchParameters.prototype.setDsConfig=function(d){this.dsConfig=d;};SearchParameters.prototype.getDsConfig=function(){return this.dsConfig;};SearchParameters.prototype.setDesFields=function(d){this.desFields=d;};SearchParameters.prototype.getDesFields=function(){return this.desFields;
};SearchParameters.prototype.setCloseDes=function(d){this.closeDes=d;};SearchParameters.prototype.getCloseDes=function(d){return this.closeDes;};SearchParameters.prototype.setName=function(d){this.name=d;};SearchParameters.prototype.clone=function(){var j=new SearchParameters();j.name=this.name;j.order=this.order;
j.pageModule=this.pageModule;if(this.parameters!=null&&this.parameters.length>0){var d=this.parameters.length;for(var g=0;g<d;g++){var h=this.parameters[g];j.addParameter(h.name,h.value,h.flag,h.type);}}if(this.fields!=null&&this.fields.length>0){var d=this.fields.length;for(var g=0;g<d;g++){var h=this.fields[g];
j.addField(h);}}if(this.groups!=null&&this.groups.length>0){var d=this.groups.length;for(var g=0;g<d;g++){var h=this.groups[g];j.setGroupLogic(h.name,h.logic);}}return j;};var SearchBuilder=function(d){this.parameter=new SearchParameters();this.parameter.name=d;this.name=d;};SearchBuilder.prototype.setPageModule=function(d){this.parameter.setPageModule(d);
};SearchBuilder.prototype.getPageModule=function(){return this.parameter.getPageModule();};SearchBuilder.prototype.setDsConfig=function(d){this.parameter.setDsConfig(d);};SearchBuilder.prototype.getDsConfig=function(){return this.parameter.getDsConfig();};SearchBuilder.prototype.setDsname=function(d){this.parameter.setDsname(d);
};SearchBuilder.prototype.getDsname=function(){return this.parameter.getDsname();};SearchBuilder.prototype.setDesFields=function(d){this.parameter.setDesFields(d);};SearchBuilder.prototype.getDesFields=function(){return this.parameter.getDesFields();};SearchBuilder.prototype.setCloseDes=function(d){this.parameter.setCloseDes(d);
};SearchBuilder.prototype.getCloseDes=function(){return this.parameter.getCloseDes();};SearchBuilder.prototype.getOrder=function(){return this.parameter.getOrder();};SearchBuilder.prototype.par=function(g,l,d,m,j){if(d==null){d=11;}var h=this.parameter.add(g,l,d,j);h.setGroup(m);return this;};SearchBuilder.prototype.par2=function(g,n,o,p,l){var h=null;
if(String.isEmpty(o)){h=11;}else{var j=o.trim().toLowerCase();h=1;var d=j;var m=j.indexOf(" ");if(m>-1){var q=j.substring(0,m);if(q=="or"){h=2;d=j.substring(m);}else{if(q=="and"){d=j.substring(m);}else{d=j;}}}d=d.trim();h+="";if(d=="="){h+="1";}else{if(d=="like %v%"){h+="2";}else{if(d=="like %v"){h+="3";
}else{if(d==">"){h+=4;}else{if(d=="<"){h+=5;}else{if(d==">="){h+=6;}else{if(d=="<="){h+=7;}else{if(d=="<>"){h+=8;}else{if(d=="like v%"){h+=9;}else{if(d=="not like %v"){h+=10;}else{if(d=="not like %v%"){h+=11;}else{if(d=="not like v%"){h+=12;}else{if(d=="is null"){h+=13;}else{if(d=="is not null"){h+=14;
}else{if(d=="in"){h+=15;}else{if(d=="not in"){h+=16;}else{if(d=="@>"){h+="20";}else{if(d=="@<"){h+="21";}else{if(d=="&&"){h+="22";}else{h+="2";}}}}}}}}}}}}}}}}}}}}return this.par(g,n,h,p,l);};SearchBuilder.prototype.setGroupLogic=function(g,d){this.parameter.setGroupLogic(g,d);return this;};SearchBuilder.prototype.setGroupLogic2=function(h,g){var d=1;
if(g==null||g.trim().toLowerCase()!="or"){d=1;}else{d=2;}return this.parameter.setGroupLogic(h,d);};SearchBuilder.prototype.order=function(d){this.parameter.setOrder(d);return this;};SearchBuilder.prototype.fields=function(){if(arguments.length>0){var g=arguments.length;for(var m=0;m<g;m++){if(arguments[m]!=null){if(arguments[m] instanceof Array){var d=arguments[m];
var n=d.length;for(var h=0;h<n;h++){if(d[h]!=null){this.parameter.addField(d[h]);}}}else{this.parameter.addField(arguments[m]);}}}}return this;};SearchBuilder.prototype.getParameter=function(d){return this.parameter.getParameter(d);};SearchBuilder.prototype.parval=function(d){var g=this.parameter.getParameter(d);
if(g!=null){return g.value;}return null;};SearchBuilder.prototype.removeParameter=function(d){this.parameter.removeParameter(d);};SearchBuilder.prototype.toJSON=function(d){if(this.autoControlArea!=null){this.parameter.autoControlArea=this.autoControlArea;}if(this.prefixParameter!=null){this.parameter.prefixParameter=this.prefixParameter;
}if(this.pageNum!=null){this.parameter.pageNum=this.pageNum;}if(this.pageSize!=null){this.parameter.pageSize=this.pageSize;}if(this.name!=null){this.parameter.name=this.name;}if(this.getCodeValue!=null){this.parameter.getCodeValue=this.getCodeValue;}if(this.distinct!=null){this.parameter.distinct=this.distinct;
}if(this.toCount!=null){this.parameter.toCount=this.toCount;}if(this.toResult!=null){this.parameter.toResult=this.toResult;}if(this.fillCNMetaData!=null){this.parameter.fillCNMetaData=this.fillCNMetaData;}if(this.returnCodeValue!=null){this.parameter.returnCodeValue=this.returnCodeValue;}if(this.fillCodeValue!=null){this.parameter.fillCodeValue=this.fillCodeValue;
}if(this.name2!=null){this.parameter.name2=this.name2;}if(this.pageCount!=null){this.parameter.pageCount=this.pageCount;}if(this.extendQuery!=null){this.parameter.extendQuery=this.extendQuery;}if(this.codetypes!=null){this.parameter.codetypes=this.codetypes;}if(this.isgis!=null){this.parameter.isgis=this.isgis;
}if(this.pageModule!=null){this.parameter.pageModule=this.pageModule;}if(this.desFields!=null){this.parameter.desFields=this.desFields;}if(this.closeDes!=null){this.parameter.closeDes=this.closeDes;}this.parameter.gisFilter=this.gisFilter;this.parameter.javaClass="com.longrise.LEAP.BLL.Cache.SearchBuilder";
return this.parameter;};SearchBuilder.prototype.addField=function(d){this.parameter.addField(d);};SearchBuilder.prototype.setOrder=function(d){this.parameter.setOrder(d);};SearchBuilder.prototype.setPrefixParameter=function(d){this.parameter.setPrefixParameter(d);};SearchBuilder.prototype.search=function(j,d,h){if(this.moduleInstance!=null){var g=LEAP.getLoadedModule(this.moduleInstance);
if(g!=null){if(h==null){h="beanSearch";}try{return g.asynrequest(h,{par:this},j,d);}finally{g=null;}}}};SearchBuilder.prototype.setExtendQuery=function(d){this.parameter.setExtendQuery(d);};SearchBuilder.prototype.add=function(g,j,d,h){return this.parameter.addParameter(g,j,d,h);};SearchBuilder.prototype.addParameter=function(g,j,d,h){return this.parameter.addParameter(g,j,d,h);
};var DataResult=function(){};DataResult.prototype.javaClass="com.longrise.LEAP.Base.Objects.DataResult";DataResult.prototype.addparameter=function(d,g){if(this.metaData==null){this.metaData=[];this.result=[];}this.metaData.push(d);this.result.push(g);};DataResult.prototype.addParameter=function(d,g){return this.addparameter(d,g);
};DataResult.prototype.add=function(d,g){return this.addparameter(d,g);};DataResult.prototype.setParameter=function(g,h){if(this.metaData.contains(g)){var d=this.metaData.indexof(g);this.result[d]=h;}else{this.add(g,h);}};LEAP._p=function(str){if(str==null){return;}var l=str.indexOf("<!--@");if(l>-1){var e=str.substr(l+5,str.indexOf("-->",l)-l-5);
var o=null;try{var ex="({"+e.replaceall(" =","=").replaceall("= ","=").replaceall("=",":").Trim().replaceall("\r\n"," ").replaceall("\n"," ").replaceall("  "," ").replaceall(" ",",")+"})";var o=eval(ex);if(o!=null&&ex!=null){var idx=ex.indexOf("module:");if(idx>-1){var idx2=ex.indexOf(",");if(idx2<0){idx2=ex.length-2;
}var n=ex.substring(idx+7,idx2);o.___moduleName=n;}}}catch(err){}}return o;};LEAP._m=new hashtable();LEAP.buildModuleDef=function(d){if(d==null){return;}if(d.type=="static"){}else{if(d.type="instance"){}}};LEAP.getLastError=function(){var d=leapclient.getLastError();if(d!=null&&d.error!=null){return d;
}return null;};var ___maus=new hashtable();var __haspa=false;var __haspr=false;LEAP.___asynGetModuleAuthoritysCallBack=function(g,d){if(g!=null){for(var l=0;l<g.length;l++){var j=new Date().getTime();if(!___maus.contains(g[l].name)){LEAP.fillModuleAuthoritys(g[l].name,g[l],j);}}}var h=d.name;var m=d.callback;
if(m!=null){try{if(d.arg==null){m.call(d.domain);}else{m.call(d.domain,d.arg);}}finally{data=m=null;}}};LEAP.asynFillModuleAuthoritys=function(n,o,d,p){if(n==null){return null;}var l=[];for(var h=0;h<n.length;h++){if(!___maus.contains(n[h])){l.push(n[h]);}}if(d==null){d=window;}if(l.length==0){LEAP.asyn(o,d,10,p);
return;}var m=!__haspa;var j=!__haspr;var g=LEAP.request2({name:"app_batchGetLogicModuleOperations",par:{n:n,g:m,r:j},callback:LEAP.___asynGetModuleAuthoritysCallBack,arg:{name:name,callback:o,domain:d,arg:p,names:l,now:new Date().getTime()},router:"leap"});};LEAP.fillModuleAuthoritys=function(g,h,d){if(h==null){h={};
h.url="";}else{if(h.userinfo!=null){LEAP.userInfo=h.userinfo;if(h.userinfo.usecontext!=null){window.router_useCtx=h.userinfo.usecontext;}LEAP.getUserInfo(d);}if(h.routers!=null){__haspr=true;window.buildRouterData(h.routers);}}___maus.add(g,h);return h;};LEAP.getModuleAuthoritys=function(j){if(j==null){return null;
}j=j.Trim();if(___maus.contains(j)){return ___maus.getvalue(j);}var g=!__haspa;var d=!__haspr;var h=new Date().getTime();var l=LEAP.request2({name:"app_getLogicModuleOperations",par:{n:j,g:g,r:d},router:"leap"});return LEAP.fillModuleAuthoritys(j,l,h);};LEAP.resourceversion_task=function(){try{if(LEAP._m&&LEAP._m.size()>0){var j=[];
for(var d in LEAP._m.keys){var g=LEAP._m.getvalue(d);if(g&&g._md.name){j.push(g._md.name);}}if(j.length>0&&window.haslogout==null){LEAP.request2({name:"app_getModuleVersions",par:{moduleNames:j},callback:LEAP.resourceversion_task_callbak,router:"leap"});}}}catch(h){}};LEAP.resourceversion_task_callbak=function(h){try{if(h&&h.length){var j=LEAP.clone(LEAP._m.keys);
for(var g=0;g<h.length;g++){var n=h[g];if(n&&n.name&&n.verno){for(var d in j){var l=LEAP._m.getvalue(d);if(l&&l._md&&l._md.name){if(l._md.name==n.name){if(l._md.verno!=n.verno){LEAP._m.remove(d);___maus.getvalue(n.name).verno=n.verno;}break;}}}}}}}catch(m){}};window.setInterval(LEAP.resourceversion_task,1000*60*5);
var __fp="LEAP/Resource/HTML/Control/form.html";var __fp2="LEAP/Resource/HTML/Control/form2.html";var __fp3="LEAP/Resource/HTML/Control/form3.html";var __fp4="LEAP/Resource/HTML/Control/form4.html";var __als1=["Province","City","County","Street","Community","Team"];var __als11=["province","city","county","street","community","team"];
var __als6=["","","","","",""];var __als2=[2,4,6,9,12,15];var __als3=18;var __als4="<font style='float:left;line-height:24px;margin-left:@splitWidth;'>@name</font><div ds='@ds' defaultvalue='@default' instance='@instance' readonly='@readonly' ut='@group_@areaname' style='width:@itemWidth;float:left;' group='@group' code='@code' size='@size' deep='@deep' count='@count' class='select' ct='select' search='10'  md='@md' bt='select'><div class='lg_p_lr_right select_drop' ctf='select_drop'></div><div class='lg_p_lr_fill search_fill'><div class='lg_p_lr_fill_c search_fill_c' ><input name='button' type=button class='selectbtn ellipsis' ctf='selectbtn' /></div></div><div class='select_items' ctf='select_items'><div><a value='' href='javascript:void(0)' ctf='select_item'>&nbsp</a></div><!--values--></div></div>";
var __als5="<div><a value='@value' href='javascript:void(0)' ctf='select_item'>@text</a></div>";LEAP.userInfo=null;LEAP.areaString=null;LEAP.areaStrings=new hashtable();LEAP._cpf=null;LEAP._ckp=false;LEAP.getUserInfo=function(g){LEAP.processArea(g);if(LEAP._cpf==null&&LEAP.userInfo!=null){var o=false;
if(LEAP._mustChange){o=LEAP._mustChange();}var l=LEAP.userInfo.forcechangepwd;var j=window._s14;if((l==null||l!=1)&&!o&&LEAP._ckp===false){o=LEAP._checkpwdExp();LEAP._ckp=true;}if(((l!=null&&l==1)||o)&&LEAP.form){if(j=="1"||o){var d=LEAP._UDModule();if(d){if(LEAP._udpf==null){window.__udfm=d;LEAP.asyn(LEAP._openUDM,null,3000);
}}else{LEAP.asyn(LEAP._pCPF,null,3000);}}}}if(LEAP.userInfo&&LEAP.userInfo.extendinfo&&typeof(LEAP.userInfo.extendinfo)=="string"){try{LEAP.userInfo.extendinfo=JSON.parse(LEAP.userInfo.extendinfo);}catch(m){}}if(LEAP.userInfo){if(LEAP.userInfo.detail){window._user_label_=LEAP.userInfo.detail.userlabel;
}if(!window._user_label_&&LEAP.userInfo.positionid){var n=LEAP.userInfo.positions;if(n&&n.length>0){for(var h=0;h<n.length;h++){if(n[h].id==LEAP.userInfo.positionid){window._user_label_=n[h].posLabel;break;}}}}}return LEAP.userInfo;};LEAP._pCPF=function(){if(LEAP._cpf==null&&LEAP.userInfo!=null){if(LEAP.form){LEAP._showMask();
LEAP._processinggifdiv.style.display="none";var d={name:"changePass",title:"",width:"390",height:"420",formtype:"3"};LEAP._cpf=LEAP.form.create3(d);if(LEAP._cpf.module.dyncUserDefine){LEAP._cpf.module.dyncUserDefine(LEAP._cpf.form);}if(LEAP._cpf.module.hideOperButton){LEAP._cpf.module.hideOperButton(LEAP._cpf.form);
}if(LEAP._cpf.module.forceChange){if(!window.__unforcePass){LEAP._cpf.module.forceChange(true);}}LEAP._cpf.module.setData();LEAP.addEvent(LEAP._cpf.form,"formHided",LEAP._cpfFH);}}};LEAP._cpfFH=function(){var d=LEAP.request2({name:"app_isForceChangePWD",router:"leap"});if(!d){d=LEAP._checkpwdExp();}if(d){LEAP.form.show(LEAP._cpf.form);
}else{if(LEAP.userInfo){LEAP.userInfo.forcechangepwd=null;}LEAP._cpf.module.dispose();LEAP.form.close(LEAP._cpf.form);LEAP.hideMask();}};LEAP._UDModule=function(){var def=null;if(!window._userdefine){return null;}var defStr=window._userdefine;if(defStr.indexOf("{")<0||defStr.indexOf("}")<0){return null;
}var defJson=null;try{defJson=eval("(["+defStr+"])");if(!defJson||defJson.length==0){return null;}for(var i=0;i<defJson.length;i++){var mname=defJson[i].modulename;if(!mname){continue;}var title=defJson[i].title;var maxsize=window._s12;def={name:mname,title:title};if(maxsize=="1"){def.maxsize=true;}break;
}}catch(e){}return def;};LEAP._openUDM=function(){var d=window.__udfm;if(!d||!d.name||LEAP._udpf!=null){return;}LEAP._processinggifdiv.style.display="none";var g={name:d.name,title:d.title,formtype:"3"};if(LEAP._udpf==null){LEAP._udpf=LEAP.form.create3(g);}if(LEAP._udpf&&d.maxsize){LEAP.form.maxSize(LEAP._udpf.form);
}};LEAP._checkpwdExp=function(){var o=window._s14;var h=window._c13;if(o!="1"||!h){return false;}var m=window._leap_systemname;var p=window._leap_systemarea;if(!m||!p){return false;}var r=false;if(window.document){var q=window.document;if(!q[LEAP.safeString.getCK()]){return false;}var g=p+"_"+m+"_"+encodeURIComponent(LEAP.userInfo.userflag);
var n=new String(q[LEAP.safeString.getCK()]);if(!n||n.indexOf(g)<0){r=true;}else{var j=g+"="+h;if(n.indexOf(j)<0){r=true;}}if(r){r=LEAP.request("app_checkChangePassword");}if(r===false){var l=new Date();l.setTime(l.getTime()+2*3600000);q[LEAP.safeString.getCK()]=g+"="+h+";expires="+l.toGMTString();}return r;
}};LEAP.getServerTime=function(){return new Date(LEAP.getServerTimeTicket());};LEAP.getServerTimeTicket=function(){return leapclient._serverTime+leapclient._tickDiff+(new Date().getTime()-leapclient._endPointTicket);};LEAP.getServerTimeFormat=function(d){if(d==null){d=0;}return LEAP.formatdate(LEAP.getServerTime(),d);
};LEAP.__setuitimefn=function(){if(!LEAP.userInfo.getTimeTicket){LEAP.userInfo.getTimeTicket=function(){return LEAP.getServerTimeTicket();};LEAP.userInfo.getTime=function(){return LEAP.getServerTime();};LEAP.userInfo.getTimeFormart=function(d){return LEAP.getServerTimeFormat(d);};}};LEAP.processArea=function(){if(__haspa==false){__haspa=true;
if(LEAP.userInfo==null||LEAP.userInfo.userflag==null){LEAP.userInfo=LEAP.request2({name:"app_getUserInfo",router:"leap"});}if(LEAP.userInfo&&LEAP.userInfo.areacnnames){__als6=LEAP.userInfo.areacnnames;}if(window._userdefinedareas!=null){__als6=window._userdefinedareas;}if(LEAP.userInfo&&LEAP.userInfo.userflag){LEAP.__setuitimefn();
if(LEAP.userInfo==null||LEAP.userInfo.userflag==null){return;}var p=LEAP.userInfo;if(p!=null&&LEAP.areaString==null&&p.areavalues!=null&&p.areaLevel<6){if(p.areaLevel!=null&&p.areaLevel<__als1.length){var o=__als1[p.areaLevel];if(p.areavalues&&p.areavalues.length){var d=[];var n={};for(var q=0;q<p.areavalues.length;
q++){var r=p.areavalues[q];if(n["k_"+r.codeid]){continue;}n["k_"+r.codeid]=1;d.push(r);}p.areavalues=d;}LEAP.addCodeType(o,p.areavalues,LEAP.getrealarea(p.areaid));var w="";var u=1;for(var m=p.areaLevel;m<__als6.length;m++){var y="";if(m==p.areaLevel){var x="";for(var l=0;l<p.areavalues.length;l++){x+=__als5.replace("@value",p.areavalues[l].codeid).replace("@text",p.areavalues[l].codevalue);
}y=__als4.replace("<!--values-->",x).replace("@name",__als6[m]).replace("@default",LEAP.userInfo.areaid);}else{y=__als4.replace("@name",__als6[m]).replace("defaultvalue='@default'","");}y=y.replace("@itemWidth","@"+__als1[m]+"itemWidth");w+=y.replace("@code",__als1[m]).replace("@areaname",__als1[m]).replace("@size",__als2[m]).replace("@deep",m+1).replace("@count",__als3);
LEAP.areaStrings.add(__als1[m],w);u++;}LEAP.areaString=w;}else{LEAP.areaString=p.areaCNName;}}else{if(p!=null&&LEAP.areaString==null&&p.areavalues==null&&p.areaLevel==6){var h=LEAP.getrealarea(p.areaid);var g=p.areaLevel-1;var x=__als5.replace("@value",h).replace("@text",p.areaCNName);var y=__als4.replace("<!--values-->",x).replace("@name",__als6[g]).replace("@default",p.areaid);
var w=y.replace("@code",__als1[g]).replace("@areaname",__als1[g]).replace("@size",__als2[g]).replace("@deep",g+1).replace("@count",__als3);LEAP.areaString=w;}}}}};LEAP.bindControl=function(m,g){if(m==null||g==null){return;}var j=null;if(g.instance){j=g.instance;}else{if(g.getAttribute){j=g.getAttribute("instance");
}}if(j==null){return null;}if(typeof m=="string"){j=g.instance;m=m.replaceall("@instance",j);m=m.replaceall(" ht=",' instance="'+j+'" ht=');m=m.replaceall(" ct=",' instance="'+j+'" ct=');m=m.replaceall(" ctg=",' instance="'+j+'" ctg=');m=m.replaceall(" ut=",' instance="'+j+'" ut=');m=m.replaceall(" st=",' instance="'+j+'" st=');
m=m.replaceall(" module=",' instance="'+j+'" module=');m=m.replaceall(" panel=",' instance="'+j+'" panel=');m=m.replaceall("\tht=",' instance="'+j+'" ht=');m=m.replaceall("\tct=",' instance="'+j+'" ct=');m=m.replaceall("\tctg=",' instance="'+j+'" ctg=');m=m.replaceall("\tut=",' instance="'+j+'" ut=');
m=m.replaceall("\tst=",' instance="'+j+'" st=');m=m.replaceall("\tmodule=",' instance="'+j+'" module=');m=m.replaceall("\tpanel=",' instance="'+j+'" panel=');m=m.replaceall("\nht=",' instance="'+j+'" ht=');m=m.replaceall("\nct=",' instance="'+j+'" ct=');m=m.replaceall("\nctg=",' instance="'+j+'" ctg=');
m=m.replaceall("\nut=",' instance="'+j+'" ut=');m=m.replaceall("\nst=",' instance="'+j+'" st=');m=m.replaceall("\nmodule=",' instance="'+j+'" module=');m=m.replaceall("\npanel=",' instance="'+j+'" panel=');}else{if(m instanceof Array){var d=m.length;for(var h=0;h<d;h++){m[h].setAttribute("instance",j);
}}else{m.setAttribute("instance",j);}}try{return m;}finally{m=null;}};LEAP.deniedModule=function(g,j,h,l){if(j!=null){j.innerHTML="";j.innerHTML="";}};LEAP.getModule=function(O,u,o,H,K,q){var z=null;if(K==null){if(O==null||!(O==__fp||O==__fp2||O==__fp3||O==__fp4)){if(O==null){if(H!=null){O=H.___moduleName;
}}if(O==null){return;}var x=LEAP.getModuleAuthoritys(O);if(x==null||x.operations==null||x.operations.length==0){LEAP.deniedModule(O,u,o,H);return;}z=x.url;}if(O==__fp){z=__fp;}if(O==__fp2){z=__fp2;}if(O==__fp3){z=__fp3;}if(O==__fp4){z=__fp4;}if(H==null&&z==null){return;}var g=H!=null;if(H!=null&&H.type==null){H.type="instance";
}if(z!=null&&typeof(u)==commfields.string){u=LEAP.getElement(u);}if((z==null||z=="")&&u!=null){if(u!=null){u.innerHTML="";u.innerHTML="["+O+"],,!";}else{var J=LEAP.getElements("[ut=System_AreaControl]");if(J!=null){for(var D=0;D<J.length;D++){J[D].innerHTML="";}}}return;}if(q!=null&&q!=""&&z!=null&&z!=""){var z=z.Trim();
var C=q.Trim();var L=z.substring(z.lastIndexOf("."));L=z.substring(0,z.lastIndexOf("."))+"_"+C+L;z=L;}}if(H==null){if(z!=null&&z.Trim()!=""&&LEAP._m.contains(z)){H=LEAP._m.getvalue(z);}else{var N=null;if(K!=null){N=K;}else{N=leapclient.load(z);}if(N==null){return;}if(z==__fp3){N=N.replaceall("@server",leapconfig.server);
}if(z==__fp4){N=N.replaceall("@server",leapconfig.server);}var F=N.indexOf("</head>");var A=null;if(F>1){var G=N.indexOf("<head>");A=N.substr(G,F-G);var n=[];var r=[];var m=A.split("\n");var B=m.length;for(var D=0;D<B;D++){var w=m[D];var o=-1;if(w.toLowerCase().indexOf("<script")>-1&&w.indexOf(" path")>-1){o=1;
}else{if(w.toLowerCase().indexOf("<link")>-1&&w.indexOf(" path")>-1){o=2;}}if(o!=-1){w=w.replaceall(" ","");var I=w.indexOf("path=");var y=w.substr(I+5,1);var h=w.substr(I+6);h=h.substr(0,h.indexOf(y));if(o==1){n.push(h);}else{if(o==2){r.push(h);}}}}for(var D=0;D<n.length;D++){leapclient.loadjs(n[D]);
}for(var D=0;D<r.length;D++){leapclient.loadcss(r[D]);}}var j=N.indexOf("</head>");var M=N;if(j>0){M=N.substr(j+8);}var H=LEAP._p(A);if(H==null){H={};}if(H.type==null){H.type="instance";}H.source=M;if(z!=null&&z.Trim()!=""){LEAP._m.add(z,H);}}}if(H.type=="instance"){if(H.module!=null&&typeof(H.module)=="function"){var G=new H.module();
H=LEAP.clone(H,G);}else{H=LEAP.clone(H);}}else{if(H.___hasmoduleinit!=true){var G=H.module;H.module=null;LEAP.clone(H,G);if(G!=null){H=G;}}}var p=UUID.cID();H.instance=p;if(H.type=="instance"||(H.type=="static"&&H.___hasmoduleinit!=true)){}if(H.type=="static"){H.___hasmoduleinit=true;LEAP._m.replace(z,H);
}H.___def=x;try{return H;}finally{u=H=null;}};LEAP._customControls=new hashtable();LEAP.customCT=function(d){return LEAP._customControls.getvalue(d);};LEAP.newCustomControl=function(d){var g=d;if(g.onLoad==null){g.onLoad=customControl.onLoad;}else{g._onLoad=g.onLoad;g.onLoad=customControl.onLoad;}if(g.setValue==null){g.setValue=customControl.setValue;
}else{g._setValue=g.setValue;g.setValue=customControl.setValue;}if(g.getValue==null){g.getValue=customControl.getValue;}else{g._getValue=g.getValue;g.getValue=customControl.getValue;}if(g.uiProcess==null){g.uiProcess=customControl.uiProcess;}else{g._uiProcess=g.uiProcess;g.uiProcess=customControl.uiProcess;
}g.handleEvent=customControl.handleEvent;g.addManagedEventType=customControl.addManagedEventType;g.addEvent=customControl.addEvent;g.removeEvent=customControl.removeEvent;g.instance=customControl.instance;g.ctElement=customControl.ctElement;g.ctType=customControl.ctType;g.getCTModule=customControl.getCTModule;
return g;};LEAP.newPageObjectInstance=function(m,l,g,o,j,h){var p=l;p.addEvent=pageObject.addEvent;p.removeEvent=pageObject.removeEvent;p.getElements=pageObject.getElements;p.getElement=pageObject.getElement;if(p.setPageData==null&&typeof(p.setPageData)!="function"){p.setPageData=pageObject.setPageData;
}p.getPageData=pageObject.getPageData;p.convertChangeResult=LEAP.convertChangeResult;p.regEvent=pageObject.regEvent;p.fireEvent=pageObject.fireEvent;p.getControl=pageObject.getControl;p.getMD=pageObject.getMD;p.getUT=pageObject.getUT;p.getQueryParameter=pageObject.getQueryParameter;p.getCreateParameter=pageObject.getCreateParameter;
p.clearPageData=pageObject.clearPageData;p.getUpdateParameter=pageObject.getUpdateParameter;p.deleteResult=pageObject.deleteResult;p.hideForm=pageObject.hideForm;p.showForm=pageObject.showForm;p.getValue=pageObject.getValue;p.setValue=pageObject.setValue;p.validateUI=pageObject.validateUI;p.request=pageObject.request;
p.getLastExtendResult=pageObject.getLastExtendResult;p.clearValidateUI=pageObject.clearValidateUI;p.getLastError=pageObject.getLastError;p.setLastExtendResult=pageObject.setLastExtendResult;p.getLastError=pageObject.getLastError;p.unRegEvent=pageObject.unRegEvent;p.addShortKeyEvent=pageObject.addShortKeyEvent;
p.asynrequest=pageObject.asynrequest;p.innerPageLoad=pageObject.innerPageLoad;p.name=m;p.loadModule=pageObject.loadModule;p.loadModule2=pageObject.loadModule2;p.loadForm=pageObject.loadForm;p.loadForm3=pageObject.loadForm3;p.loadForm2=pageObject.loadForm2;p.loadWFForm=pageObject.loadWFForm;p.getST=pageObject.getST;
p.st=pageObject.st;p.ut=pageObject.ut;p.md=pageObject.md;p.loadNoneUIModule=pageObject.loadNoneUIModule;p.getParentModule=pageObject.getParentModule;p.bindData=pageObject.bindData;p._isPageObject=pageObject._isPageObject;p.innerAsynRefreshPage=pageObject.innerAsynRefreshPage;p.innerBuildQuery=pageObject.innerBuildQuery;
p.innerRefreshPage=pageObject.innerRefreshPage;p.innerSearch=pageObject.innerSearch;p.innerReset=pageObject.innerReset;p.innerMorePars=pageObject.innerMorePars;p.searchMore=pageObject.searchMore;if(p.viewPageLoad!=null){p._viewPageLoad_=p.viewPageLoad;}p.viewPageLoad=pageObject.innerViewPageLoad;if(p.insertPageLoad!=null){p._insertPageLoad_=p.insertPageLoad;
}p.insertPageLoad=pageObject.innerInsertPageLoad;if(p.searchPageLoad!=null){p._searchPageLoad_=p.searchPageLoad;}p.searchPageLoad=pageObject.innerSearchPageLoad;if(p.modifyPageLoad!=null){p._modifyPageLoad_=p.modifyPageLoad;}p.modifyPageLoad=pageObject.innerModifyPageLoad;for(var n in pageObjectExtend){p[n]=pageObjectExtend[n];
}if(p.setPageDataByPK==null){p.setPageDataByPK=pageObject.setPageDataByPK;}if(p.setPageDataByPK2==null){p.setPageDataByPK2=pageObject.setPageDataByPK2;}if(p.dispose==null){p.dispose=pageObject.dispose;}else{p.innerDispose=p.dispose;p.dispose=pageObject.dispose;}if(p.pageLoad==null){p.pageLoad=pageObject.pageLoad;
}else{p._pageLoad=p.pageLoad;p.pageLoad=pageObject.pageLoad;}p.parentElement=g;if(o){p.pom=o.___pageObjectModel;p.___parentModule=o.___parentModule;p.moduleParameter=o;p.parentPageModule=o.___parentModule;o.___pageObjectModel=null;o.___parentModule=null;}if(j==null||j!=false){if(p.pageLoad!=null){p.pageLoad.call(p);
}}if(!p.instance){p.instance=UUID.cID();}if(!h){PageObjectModel.___allObjects.add(p.instance,p);}return p;};LEAP.debuger=function(){var h=new StringBuffer();var g=0;var j=null;var d=0;this.start=function(l){if(!islogdebug){return;}var m=new Date();j=m.getTime();g++;if(l==null){l=g;}h.append("[").append(l).append("]. ").append(m.getYear()).append("-").append(m.getMonth()+1).append("-").append(m.getDate()).append(" ").append(m.getHours()).append(":").append(m.getMinutes()).append(".").append(m.getMilliseconds()).append("\n");
};this.end=function(){if(!islogdebug){return;}var l=new Date();var m=l.getTime();var n=m-j;d+=n;j=m;h.append("[").append(name).append("]. ").append(l.getYear()).append("-").append(l.getMonth()+1).append("-").append(l.getDate()).append(" ").append(l.getHours()).append(":").append(l.getMinutes()).append(".").append(l.getMilliseconds()).append("\n");
h.append(":").append(n).append("ms\n\n");};this.getinfo=function(){if(!islogdebug){return;}h.append(":").append(d).append("ms\n\n");return h.toString();};};LEAP.__SimpleModuleMouseOver=function(d){var g=d.e.srcElement;if(g.getAttribute("simplemodue")==1){g.style.filter="alpha(opacity = 100)";g.style.opacity="1";
}};LEAP.__SimpleModuleSetIMGH=function(j,d){var l=LEAP.getElement("DIV[ctid="+j+"]");var h=document.createElement("DIV");h.style.position="absolute";h.style.top="15px";h.style.height="68px";h.style.width="18px";h.style.top=l.offsetHeight/2-34;h.style.lef="-18px";h.style.cursor="pointer";h.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/GIS/ModuleSplit/shrink_btn01.gif)";
h.style.zIndex="999";h.style.filter="alpha(opacity = 30)";h.style.opacity="0.3";l.appendChild(h);var g=LEAP.getLoadedModule(d);g.addEvent(h,"click",g.hideForm);l=h=null;};LEAP.__SimpleModuleMouseOut=function(d){var h=d.e.srcElement;if(h.getAttribute("simplemodue")==1){h.style.filter="alpha(opacity = 50)";
h.style.opacity="0.5";}var g=LEAP.getLoadedModule(h.moduleInstance);if(g){if(g.simpleFormCloseMode&&g.simpleFormCloseMode==1){g.dispose();}}};LEAP.loadSimpleModule=function(j){var d=document.createElement("div");document.body.appendChild(d);d.mid="div";d.style.position="absolute";d.style.left="0px";d.style.top="0px";
d.style.zIndex="99999";d.style.display="none";var n=document.createElement("div");n.mid="div2";n.style.position="relative";d.appendChild(n);try{var h=j.width;var p=j.height;var m=j.isuseper;if(h==null){h=500;}if(p==null){p="auto";}if(typeof(h)=="string"&&h.indexOf("%")>-1){if(m){h=h;}else{h=document.body.clientWidth*("0."+h.replace("%",""));
}}else{h=h+"px";}if(typeof(p)=="string"&&p.indexOf("%")>-1){if(m){p=p;}else{p=document.body.clientHeight*("0."+p.replace("%",""));}}else{p=p+"px";}if(h){d.style.width=h;}if(p){d.style.height=p;}if(d.style.height=="auto"){d.style.height="325px";p=325;}n.style.width="100%";j.parent=d;var l=LEAP.loadModule2(j);
if(l){l.simpleForm=d;d.moduleInstance=l.instance;d.setAttribute("simplemodue","1");LEAP.addEvent(d,"mouseenter",LEAP.__SimpleModuleMouseOver,null,null,true);LEAP.addEvent(d,"mouseleave",LEAP.__SimpleModuleMouseOut,null,null,true);var o=document.createElement("IMG");o.style.position="absolute";o.style.right="15px";
o.style.top="10px";o.style.cursor="pointer";o.src=leapconfig.server+"LEAP/Resource/images/itemstyle/form/sclose.gif";o.style.zIndex="999";d.appendChild(o);if(j.autodispose){l.addEvent(o,"click",l.dispose);}else{l.addEvent(o,"click",l.hideForm);}LEAP.form.z+=10;var g="simpleformcon_"+LEAP.form.z;d.setAttribute("id",g);
if(j.autoposition==null){j.autoposition=true;}LEAP.asyn(LEAP.__setsfl,null,100,g,h,p,j);return l;}else{LEAP.removeElement(d,false);}}finally{n=d=null;}};LEAP.__setsfl=function(n,h,g,j){if(typeof(h)=="string"&&h.indexOf("px")>-1){h=h.replace("px","")*1;}if(typeof(g)=="string"&&g.indexOf("px")>-1){g=g.replace("px","")*1;
}var m=document.getElementById(n);var d=j.x;var l=j.y;if(d==null){d=(document.body.clientWidth-h)/2;}if(l==null){l=(document.body.clientHeight-g)/2;}if(d<0){d=20;}if(l<0){l=40;}m.style.zIndex=LEAP.form.z++;if(j.autoposition){m.style.left=d+"px",m.style.top=l+"px";}m.style.display="block";m=null;};LEAP.loadModule2=function(d){var g=d.path;
if(g==null){g=d.name;}return LEAP.loadModule(g,d.parent,d.type,d.d,d.htmlsource,d.distributeFlag,d.moduleParameter,d.moduleLoadArg,d.pageMode,d.callback,d.domain,d.authority,d.enablewatermark,d.router);};LEAP.systemLog={};LEAP.systemLog.logRes=function(d){};LEAP.loadModule=function(name,parent,type,d,htmlsource,distributeFlag,moduleParameter,moduleLoadArg,pageMode,callback,domain,authority,showmark,mrouter){try{var path=null;
var icon=null;var _md=null;var leapclient=window.leapclient;var customFN=null;if(moduleLoadArg!=null&&moduleLoadArg.par!=null&&moduleLoadArg.par.pageMode!=null){pageMode=moduleLoadArg.par.pageMode;}var dbger=new LEAP.debuger();try{dbger.start("");if(htmlsource==null){if(name==null||!(name==__fp||name==__fp2||name==__fp3||name==__fp4)){if(name==null){if(d!=null){name=d.___moduleName;
}}if(name==null){return;}_md=LEAP.getModuleAuthoritys(name);if(_md==null||_md.operations==null||_md.operations.length==0){LEAP.deniedModule(name,parent,type,d);return;}path=_md.url;icon=_md.icon;}if(name==__fp){path=__fp;}if(name==__fp2){path=__fp2;}if(name==__fp3){path=__fp3;}if(name==__fp4){path=__fp4;
}if(d==null&&path==null){return;}var autoload=d!=null;if(d!=null&&d.type==null){d.type="instance";}if(path!=null&&typeof(parent)==commfields.string){parent=LEAP.getElement(parent);}if((path==null||path=="")&&parent!=null){if(parent!=null){parent.innerHTML="";parent.innerHTML="["+name+"],,!";
}else{var areacons=LEAP.getElements("[ut=System_AreaControl]");if(areacons!=null){for(var i=0;i<areacons.length;i++){areacons[i].innerHTML="";}}}return;}if(distributeFlag!=null&&distributeFlag!=""&&path!=null&&path!=""){var path=path.Trim();var fileFlag=distributeFlag.Trim();var fileName=path.substring(path.lastIndexOf("."));
fileName=path.substring(0,path.lastIndexOf("."))+"_"+fileFlag+fileName;path=fileName;}}dbger.end();var _router=null;if(mrouter){leapclient=window.createRouterClient(mrouter);_router=mrouter;}else{if(_md!=null&&_md.router){leapclient=window.createRouterClient(_md.router);_router=_md.router;}else{if(moduleParameter&&moduleParameter.___parentModule){var _pmodule=moduleParameter.___parentModule;
if(_pmodule&&_pmodule.leapclient){leapclient=_pmodule.leapclient;_router=leapclient.router;}}}}if(_router){if(!LEAP.Router){LEAP.Router={};}LEAP.Router.lastRouter=_router;}dbger.start("//");if(d==null){if(path!=null&&path.Trim()!=""&&LEAP._m.contains(path)){d=LEAP._m.getvalue(path);}if(d==null){var res=null;
var pathurl=path;if(_md!=null&&_md.verno){if(pathurl.indexOf("?")>-1){pathurl+="&rv="+_md.verno;}else{pathurl+="?rv="+_md.verno;}}if(htmlsource!=null){res=htmlsource;}else{res=leapclient.load(pathurl);}if(res==null){return;}if(path==__fp3){res=res.replaceall("@server",leapclient.getServerURL());}if(path==__fp4){res=res.replaceall("@server",leapclient.getServerURL());
}if(res.indexof("@serveruirl@")>-1){res=res.replaceall("@serveruirl@",leapclient.getServerURL());}var hed=res.indexOf("</head>");var hedstr=null;var jsres=null;if(path!=null){jsres=path.replace(".html",".js");}if(hed>1){var _t=res.indexOf("<head>");hedstr=res.substr(_t,hed-_t);var scripts=[];var styles=[];
var lines=hedstr.split("\n");var l=lines.length;for(var i=0;i<l;i++){var line=lines[i];var type=-1;if(line.toLowerCase().indexOf("<script")>-1&&line.indexOf(" path")>-1){type=1;}else{if(line.toLowerCase().indexOf("<link")>-1&&line.indexOf(" path")>-1){type=2;}}if(type!=-1){line=line.replaceall(" ","");
var pi=line.indexOf("path=");var s=line.substr(pi+5,1);var sc=line.substr(pi+6);sc=sc.substr(0,sc.indexOf(s));if(sc==jsres){if(_md.verno){var comFile=jsres;if(jsres.indexOf("?")!=-1){comFile=jsres.substring(0,jsres.indexOf("?"));}if(leapclient&&leapclient._s){leapclient._s.remove(comFile.toLowerCase());
}if(sc.indexOf("?")>-1){sc+="&rv="+_md.verno;}else{sc+="?rv="+_md.verno;}}}if(type==1){scripts.push(sc);}else{if(type==2){styles.push(sc);}}}}for(var i=0;i<scripts.length;i++){leapclient.loadjs(scripts[i]);}for(var i=0;i<styles.length;i++){LEAP.asyn(leapclient.loadcss,leapclient,i*10+10,styles[i]);}}var hidx=res.indexOf("</head>");
var ret=res;if(hidx>0){ret=res.substr(hidx+8);}var d=LEAP._p(hedstr);if(d==null){d={};}if(d.type==null){d.type="instance";}d.source=ret;d._md=_md;if(path!=null&&path.Trim()!=""){LEAP._m.add(path,d);}}}dbger.end();if(null!=_md&&_md.refjs!=null){var text=leapclient.load(_md.refjs);if(text){customFN=eval(text);
}}d.leapclient=leapclient;d.router=_router;d.server=leapclient.getServerURL();dbger.start("1");if(d.type=="instance"){if(d.module!=null&&typeof(d.module)=="function"){var _t=new d.module();d=LEAP.clone(d,_t);}else{d=LEAP.clone(d);}}else{if(d.___hasmoduleinit!=true){var _t=d.module;d.module=null;
LEAP.clone(d,_t);if(_t!=null){d=_t;}}}dbger.end();var uid=UUID.cID();d.instance=uid;d.pageModuleIcon=icon;dbger.start("2");if(d.type!="static"&&d.source!=null){var now=new Date().getTime();d.source=d.source.replaceall("@instance",uid);d.source=d.source.replaceall(" ht=",' instance="'+uid+'" ht=');
d.source=d.source.replaceall(" ct=",' instance="'+uid+'" ct=');d.source=d.source.replaceall(" ctg=",' instance="'+uid+'" ctg=');d.source=d.source.replaceall(" ut=",' instance="'+uid+'" ut=');d.source=d.source.replaceall(" st=",' instance="'+uid+'" st=');d.source=d.source.replaceall(" module=",' instance="'+uid+'" module=');
d.source=d.source.replaceall(" panel=",' instance="'+uid+'" panel=');d.source=d.source.replaceall("\tht=",' instance="'+uid+'" ht=');d.source=d.source.replaceall("\tct=",' instance="'+uid+'" ct=');d.source=d.source.replaceall("\tctg=",' instance="'+uid+'" ctg=');d.source=d.source.replaceall("\tut=",' instance="'+uid+'" ut=');
d.source=d.source.replaceall("\tst=",' instance="'+uid+'" st=');d.source=d.source.replaceall("\tmodule=",' instance="'+uid+'" module=');d.source=d.source.replaceall("\tpanel=",' instance="'+uid+'" panel=');d.source=d.source.replaceall("\nht=",' instance="'+uid+'" ht=');d.source=d.source.replaceall("\nct=",' instance="'+uid+'" ct=');
d.source=d.source.replaceall("\nctg=",' instance="'+uid+'" ctg=');d.source=d.source.replaceall("\nut=",' instance="'+uid+'" ut=');d.source=d.source.replaceall("\nst=",' instance="'+uid+'" st=');d.source=d.source.replaceall("\nmodule=",' instance="'+uid+'" module=');d.source=d.source.replaceall("\npanel=",' instance="'+uid+'" panel=');
uid=null;}else{var ts=LEAP.getElements("[module][modulecn],[ct]:not([instance]),[ht]:not([instance]),[ut]:not([instance]),[st]:not([instance]),[ctg]:not([instance]),[panel]:not([instance])");if(ts!=null&&ts.length>0){var l=ts.length;for(var i=0;i<l;i++){var t=ts[i];t.setAttribute("instance",uid);}}}dbger.end();
dbger.start("3");if(d.type=="instance"||(d.type=="static"&&d.___hasmoduleinit!=true)){LEAP.newPageObjectInstance(name,d,parent,moduleParameter,false,true);if(customFN){var custom=new customFN();d=LEAP.clone(d,custom);for(var fnName in d){var fn=d[fnName];if(fn&&typeof(fn)=="function"){var fnCustom=custom[fnName+"_patch"];
if(fnCustom){d["__tmpfn_"+fnName]=fn;var fnModule=fn;var fn1=function(fn,cusfn){return function(){fn.apply(this,arguments);cusfn.apply(this,arguments);};};d[fnName]=fn1(fn,fnCustom);}}}}}if(d.type=="static"){d.___hasmoduleinit=true;LEAP._m.replace(path,d);}dbger.end();d.___def=_md;if(parent!=null){dbger.start("");
parent.innerHTML=d.source;dbger.end();autoload=true;}if(autoload){if(d.pageLoad!=null){var dynaCodes=null;var areacons=null;var moduleElement=null;var btn_search=null;var btn_submit=null;var defels=[];var tables=[];dbger.start("");var __cacheUT=new hashtable();var __cacheMD=new hashtable();var __cacheST=new hashtable();
d.__cacheUT=__cacheUT;d.__cacheMD=__cacheMD;d.__cacheST=__cacheST;var panels=[];d.___initBTMDS=[];var ______binds=[];d.______binds=______binds;var hasprocessedall=false;if(parent==null){parent=document.body;}var _allcontrols=[];d._allcontrols=_allcontrols;if(parent!=null){var els=null;if(parent.all){els=parent.all;
hasprocessedall=true;}else{els=parent.getElementsByTagName("*");}if(els!=null){var l=els.length;for(var i=0;i<l;i++){var cur=els[i];if(cur.tagName=="APPLET"){continue;}var st=cur.getAttribute("st");var ut=cur.getAttribute("ut");var md=cur.getAttribute("md");if(moduleElement==null&&cur.getAttribute("module")!=null){moduleElement=cur;
}if(st!=null){if(!__cacheST.contains(st)){__cacheST.add(st,cur);}}if(ut!=null){if(!__cacheUT.contains(st)){__cacheUT.add(ut,cur);}if(ut=="System_AreaControl"){if(areacons==null){areacons=[];}areacons.add(cur);}else{if(btn_search==null&&ut=="btn_search"){btn_search=cur;}else{if(btn_submit==null&&ut=="submit"){btn_submit=cur;
}}}}if(md!=null){if(!__cacheMD.contains(st)){__cacheMD.add(md,cur);}if((cur.getAttribute("ht")!=null||cur.getAttribute("ct")!=null)&&cur.getAttribute("bt")!=null){d.___initBTMDS.add(cur);}}var dc=cur.getAttribute("dynacode");var code=cur.getAttribute("code");if(dc==1&&code!=null){if(dynaCodes==null){dynaCodes=[];
}dynaCodes.add(cur);}if(code!=null){var _lrouter=cur.getAttribute("router");if(!_lrouter){cur.setAttribute("router",_router);}}if(cur.getAttribute("defaultvalueexp")!=null){defels.add(cur);}if(cur.getAttribute("bindevents")!=null){______binds.add(cur);}if(cur.getAttribute("panel")!=null||cur.getAttribute("al")!=null){panels.add(cur);
}var ct=cur.getAttribute("ct");if(ct!=null){_allcontrols.push(cur);if(ct=="table"){tables.add(cur);}}else{if(cur.getAttribute("ctf")==null&&(cur.tagName=="INPUT"||cur.tagName=="TEXTAREA")){_allcontrols.push(cur);}}if(md!=null&&(cur.tagName=="INPUT"||cur.tagName=="TEXTAREA")){var check=cur.hasAttribute("check");
if(!check){cur.setAttribute("check","");}}cur=null;}}}_allcontrols=null;______binds=null;d.moduleElement=moduleElement;d.___btnSubmit=btn_submit;dbger.end();dbger.start("1");if(LEAP.areaString==null){LEAP.processArea();}dbger.end();dbger.start("2");if(LEAP.areaString!=null){if(areacons!=null){for(var i=0;
i<areacons.length;i++){var group=areacons[i].getAttribute("group");var md=areacons[i].getAttribute("md");var iw=areacons[i].getAttribute("itemWidth");var sw=areacons[i].getAttribute("splitWidth");var rl=areacons[i].getAttribute("readonly");var ds=areacons[i].getAttribute("ds");var ll=areacons[i].getAttribute("lastLevel");
var proiw=areacons[i].getAttribute("l1width");var cityiw=areacons[i].getAttribute("l2width");var countyiw=areacons[i].getAttribute("l3width");var streetiw=areacons[i].getAttribute("l4width");var commuiw=areacons[i].getAttribute("l5width");var teamiw=areacons[i].getAttribute("l6width");areacons[i].setAttribute("_cansel_","1");
areacons[i].removeAttribute("value");areacons[i].setAttribute("bt","text");if(group==null||group.Trim()==""){group="area";}if(md==null||md.Trim()==""){md="areaid";}if(iw==null){iw="80px";}if(sw==null||sw.Trim()==""){sw="10px";}if(rl==null){rl="0";}if(proiw==null){proiw=iw;}if(cityiw==null){cityiw=iw;
}if(countyiw==null){countyiw=iw;}if(streetiw==null){streetiw=iw;}if(commuiw==null){commuiw=iw;}if(teamiw==null){teamiw=iw;}var __str=null;if(ll==null||ll.Trim()==""){__str=LEAP.areaString;}else{__str=LEAP.areaStrings.getvalue(ll);}if(__str==null){areacons[i].setAttribute("_cansel_","0");areacons[i].setAttribute("value",LEAP.getUserInfo().areaid);
areacons[i].innerHTML=LEAP.getUserInfo().areaCNName;continue;}if(ds==null||ds==""){__str=__str.replaceall("ds='@ds'","");}else{__str=__str.replaceall("@ds",ds);}__str=__str.replaceall("@instance",d.instance).replaceall("@readonly",rl).replaceall("@md",md).replaceall("@group",group).replaceall("@splitWidth",sw);
__str=__str.replace("@ProvinceitemWidth",proiw).replace("@CityitemWidth",cityiw).replace("@CountyitemWidth",countyiw).replace("@StreetitemWidth",streetiw).replace("@CommunityitemWidth",commuiw).replace("@TeamitemWidth",teamiw);areacons[i].innerHTML=__str;var l=areacons[i].children.length;for(var k=0;
k<l;k++){var cur=areacons[i].children[k];var ct=cur.getAttribute("ct");if(ct!=null&&ct=="select"){d._allcontrols.push(cur);}cur=null;}}}areacons=null;}else{if(areacons!=null){for(var i=0;i<areacons.length;i++){areacons[i].innerHTML="";}}}dbger.end();dbger.start("");var sels=LEAP.getElements(".select",parent);
if(sels&&sels.length){LEAP.setStyle(sels,{zIndex:"98"},true);}dbger.end();dbger.start("");var PageControls=LEAP.getElements("[cttype][ctpath]",parent);if(PageControls!=null){for(var i=0;i<PageControls.length;i++){var PageControl=PageControls[i];var ctpath=PageControl.getAttribute("ctpath");var cttype=PageControl.getAttribute(commfields.cttype);
if(!String.isEmpty(ctpath)&&!String.isEmpty(cttype)){if(!LEAP.customCT(cttype)){leapclient.loadjs(ctpath);var obj=eval("({custom:"+cttype+"})");if(obj){var custom=new obj.custom;custom=LEAP.newCustomControl(custom);custom.ctType=cttype;LEAP._customControls.add(cttype,custom);}}var ctobj=LEAP.customCT(cttype);
if(ctobj.onLoad){ctobj.onLoad.call(ctobj,PageControl);}}}}dbger.end();dbger.start("");try{d.processDefaultValues.call(d,defels);}catch(e){LEAP.messagebox.alert(":"+e.message);}dbger.end();dbger.start("");PageObjectModel.___allObjects.add(d.instance,d);dbger.end();dbger.start("1");
if(!pageMode){if(moduleElement){var mt=moduleElement.getAttribute("moduletype");if(mt&&mt=="search"){pageMode="search";}}if(!pageMode){if(btn_search){pageMode="search";btn_search=null;}else{if(btn_submit){pageMode="insert";btn_submit=null;}}}}d.pageMode=pageMode;d.authority=authority;if(moduleLoadArg&&moduleLoadArg.resource&&moduleLoadArg.resource.datasourcename){d.__search_ds__=moduleLoadArg.resource.datasourcename;
}dbger.start("");LEAP.processModuleAuthority(d,parent,d.authority,panels,tables);d.___alpanels=panels;panels=tables=null;dbger.end();if(moduleLoadArg==null){moduleLoadArg={};}else{moduleLoadArg={arg:moduleLoadArg};}var _par=null;if(_md!=null){if(!String.isEmpty(_md.parameter)){try{_par=eval("({"+_md.parameter+"})");
}catch(e){}if(_par==null){_par=_md.parameter;}}}moduleLoadArg.moduleArg=_par;dbger.end();dbger.start("");if(!hasprocessedall){dynaCodes=LEAP.getElements("div[dynacode=1][ht][code],div[dynacode=1][ct][code],th[code][dynacode=1],td[code][dynacode=1]",parent);}if(dynaCodes!=null&&dynaCodes.length>0){var dcs=null;
var toReqCodes=[];var _dl=dynaCodes.length;for(var i=0;i<_dl;i++){var _dc=dynaCodes[i];var _hdc=_dc.getAttribute("dynacode");if(_hdc=="1"){if(dcs==null){dcs=[];}dcs.add(_dc);}toReqCodes.add(_dc.getAttribute("code"));_dc=null;}if(leapclient.router){LEAP.bathCacheCodes(toReqCodes,leapclient.router);}else{LEAP.bathCacheCodes(toReqCodes);
}dynaCodes=null;if(dcs!=null){for(var ii=0;ii<dcs.length;ii++){var _dc=dcs[ii];var ct=_dc.getAttribute("ct");var _router=_dc.getAttribute("router");if(_router==null){_router=(leapclient==null)?null:leapclient.router;}if(ct!=null){if(ct==LEAP.checkbox.d||ct==LEAP.radio.d||ct==LEAP.select.d){if(ct==LEAP.checkbox.d){LEAP.checkbox.removeItems(_dc);
var cvs=LEAP.getCodeValue(_dc.getAttribute("code"),null,_router);if(cvs){var l=cvs.length;for(var i=0;i<l;i++){LEAP.checkbox.addItem(_dc,cvs[i].codevalue,cvs[i].codeid);}}}else{if(ct==LEAP.radio.d){LEAP.radio.removeItems(_dc);var cvs=LEAP.getCodeValue(_dc.getAttribute("code"),null,_router);if(cvs){var l=cvs.length;
for(var i=0;i<l;i++){LEAP.radio.addItem(_dc,cvs[i].codevalue,cvs[i].codeid);}}}else{if(ct==LEAP.select.d){LEAP.select.clearItem(_dc);var cvs=LEAP.getCodeValue(_dc.getAttribute("code"),null,_router);if(cvs){var l=cvs.length;for(var i=0;i<l;i++){LEAP.select.addItem(_dc,cvs[i].codeid,cvs[i].codevalue);}}}}}}else{if(ct==LEAP.select2.d||ct==LEAP.checkbox2.d){if(ct==LEAP.select2.d){var cvs=LEAP.getCodeValue(_dc.getAttribute("code"),null,_router);
var valueStr="";if(cvs){var l=cvs.length;var values=[];for(var i=0;i<l;i++){if(!cvs[i]){continue;}values.add({codeid:cvs[i].codeid,codevalue:cvs[i].codevalue});}if(values.length>0){valueStr=JSON.stringify(values);}}_dc.setAttribute("values",valueStr);}else{if(ct==LEAP.checkbox2.d){LEAP.checkbox2.clearItems(_dc);
var cvs=LEAP.getCodeValue(_dc.getAttribute("code"),null,_router);if(cvs){var l=cvs.length;for(var i=0;i<l;i++){LEAP.checkbox2.addItem(_dc,cvs[i].codevalue,cvs[i].codeid,false,cvs[i]);}}}}}}}}}}dbger.end();dbger.start("2");var mainscorllboxs=LEAP.getElements("[lscroll]",d.moduleElement);if(mainscorllboxs!=null){for(var i=0;
i<mainscorllboxs.length;i++){var mainscorllbox=mainscorllboxs[i];var lscroll=mainscorllbox.getAttribute("lscroll");if(lscroll){lscroll=JSON.parse(lscroll);var contentbox=mainscorllbox.children[0];var sdef={};sdef.boxel=mainscorllbox;sdef.contentel=contentbox;if(lscroll.width){sdef.width=lscroll.width;
}if(lscroll.width){sdef.color=lscroll.color;}if(scrollbar!=null){new scrollbar(sdef);}}}}if(LEAP.messagepush){if(d.msgtype!=null){LEAP.messagepush.addEvent(d.msgcallback,d,d.msgtype);}}if(moduleLoadArg==null){d.pageLoad.call(d);}else{d.pageLoad.call(d,moduleLoadArg);}dbger.end();dbger.start("3");
if(d){try{pageMode=d.pageMode;if(pageMode){d.pageMode=pageMode;if(pageMode=="search"&&d.searchPageLoad){d.searchPageLoad();}else{if(pageMode=="insert"&&d.insertPageLoad){d.insertPageLoad();}else{if(pageMode=="modify"&&d.modifyPageLoad){d.modifyPageLoad();}else{if(pageMode=="view"&&d.viewPageLoad){d.viewPageLoad();
}}}}if(pageMode=="view"){var sb=btn_submit;if(sb!=null){sb.style.display="none";sb=null;}}else{if(pageMode=="insert"||pageMode=="modify"){var sb=btn_submit;if(sb!=null){sb.style.display="";sb=null;}}}d._rebuildMdAttr(pageMode);d._hideButton(pageMode);}d._hideExpressElement();}catch(err){LEAP.showError(err);
}}dbger.end();}}}finally{}try{return d;}finally{dbger.start("");if(d.afterPageLoad){try{if(moduleLoadArg==null){d.afterPageLoad.call(d);}else{d.afterPageLoad.call(d,moduleLoadArg);}}catch(err){LEAP.showError(err);}}if(window._showmark!="0"){if(showmark!=false&&showmark!="false"&&showmark!="0"){LEAP.showWaterMark(d,true);
}}moduleLoadArg=parent=d=null;dbger.end();if(islogdebug){LEAP.messagebox.alert(dbger.getinfo());}}}catch(err){LEAP.showError(err);return null;}};LEAP.showWaterMark=function(l,j){if(!l||!l.moduleElement){return;}if(l.hasshowmark==j){return;}if(l.pageMode=="insert"){}var o=LEAP.getWaterMark();if(!o){return;
}var g=leapconfig.server+o;var d=l.moduleElement.getAttribute("enablewatermark");if(d!="0"&&d!="false"&&d!=false){l.moduleElement.style["background-image"]="url('"+g+"')";}var p=LEAP.getElements("[ct=table],[ct=eachlist],[ct=tree],[ct=quick]",l.moduleElement);if(p){for(var m=0;m<p.length;m++){p[m].style["background-image"]="url('"+g+"')";
}}var n=LEAP.getElements("[enablewatermark]",l.moduleElement);if(n!=null){for(var m=0;m<n.length;m++){var h=n[m].getAttribute("enablewatermark");if(h=="true"||h=="1"){n[m].style["background-image"]="url('"+g+"')";}else{if(h=="false"||h=="0"){if(LEAP.isIE){n[m].style.removeAttribute("background-image");
}else{delete n[m].style["background-image"];}}}}}p=n=g=null;l.hasshowmark=j;};LEAP.getWaterMark=function(){if(!LEAP.userInfo){return null;}var h=LEAP.userInfo.userid;if(!h){return null;}var g=LEAP.getServerTime();if(!g){return;}var l=g.getDate();var n=l;var d=window._markstyle;if(d){if(d=="2"){n=n+"/"+g.getHours();
}else{if(d=="3"){n=n+"/"+g.getHours()+"/"+g.getMinutes();}}}var j="imageview/mark/user/"+n+"/"+h+".png";if(window._markwidth){j+="?w="+window._markwidth+"";}if(window._markheight){var m="&";if(j.indexOf("?")<0){m="?";}j+=(m+"h="+window._markheight+"");}if(window._marksize){var m="&";if(j.indexOf("?")<0){m="?";
}j+=(m+"s="+window._marksize+"");}return j;};LEAP.processModuleAuthority=function(ad,u,n,x,Y,U){if(ad==null||ad.___def==null){return;}var z=n;if(z==null||!z.length||z.length==0){z=null;}var H=ad.___def.operations;var o=ad.___def.status;var O=new StringBuffer("[instance="+ad.instance+"][al]");O.append(",[instance="+ad.instance+"][panel]");
if(x==null&&H!=null){x=LEAP.getElements(O.toString(),u);}if(H!=null&&x!=null){var ac=[];var y=[];var h=[];for(var aa=0;aa<x.length;aa++){if(!x[aa]||!(x[aa].getAttribute)){continue;}var r=x[aa].getAttribute("al");var D=x[aa].getAttribute("skip");if(r&&D=="1"&&H.contains(r)){ac.add(r);y.add(H.indexof(r));
H.remove(r);}h.add(r);}for(var aa=0;aa<H.length;aa++){if(H[aa]=="system.all"){continue;}if(!h.contains(H[aa])){ac.add(H[aa]);y.add(o[aa]);}}if(ac.length>0){ad.___def.skipopers=ac;ad.___def.skipstats=y;}}if(H==null||H.length==0){H=["system.all"];o=[0];ad.___def.operations=H;ad.___def.status=o;}var J=H.indexof("system.all");
var p=J>-1;var m=o[J];var I=null;var Q=0;if(z!=null){Q=z.length;}var q=new array();var ab=new array();var g=false;var P=false;var V=false;var F=new array();if(p){if(z!=null){for(var aa=0;aa<Q;aa++){var K=z[aa].status;if(K==-1){ab.add(z[aa].name);}else{if(K==0){F.add(z[aa].name);}else{if(K==110){q.add(z[aa].name);
}else{if(K==120){ab.add(z[aa].name);}}}}}}if(m==110){g=true;}else{if(m==120){P=true;}else{if(m==0){V=true;}}}}else{P=true;var X=H.length;for(var aa=0;aa<X;aa++){var A=H[aa];var K=o[aa];if(K==-1){ab.add(A);}else{if(K==0){F.add(A);}else{if(K==110){q.add(A);}else{if(K==120){ab.add(A);}}}}}if(F.length>0||q.length>0){P=true;
}if(z!=null){for(var aa=0;aa<Q;aa++){var K=z[aa].status;var A=z[aa].name;if(K==0){if(F.contains(A)){F.remove(A);}else{if(ab.contains(A)||q.contains(A)){continue;}}F.add(A);}else{if(K==110){if(F.contains(A)){F.remove(A);}if(q.contains(A)||ab.contains(A)){continue;}else{q.add(A);}}else{if(K==120){if(F.contains(A)){F.remove(A);
}if(q.contains(A)){q.contains(A);}ab.add(A);}}}}}}if(V&&ab.length==0&&q.length==0){}else{if(F.length>0||q.length>0||ab.length>0){if(x==null||x.length==0){I=LEAP.getElements(O.toString(),u);}else{I=x;}if(I!=null){var X=I.length;for(var aa=0;aa<X;aa++){var af=I[aa];var A=af.getAttribute("al");if(String.isEmpty(A)){A=af.getAttribute("panel");
}if(String.isEmpty(A)){continue;}if(F.contains(A)){LEAP.setOPAreaStatus(af,0,U);}else{if(q.contains(A)){LEAP.setOPAreaStatus(af,110,U);}else{if(ab.contains(A)){LEAP.setOPAreaStatus(af,120,U);}else{if(V){LEAP.setOPAreaStatus(af,0,U);}else{if(P){LEAP.setOPAreaStatus(af,120,U);}else{if(g){LEAP.setOPAreaStatus(af,110,U);
}}}}}}}}}}if(H!=null){if(!(p&&m==0)){if(Y==null){Y=LEAP.getElements("div[ct=table][instance="+ad.instance+"]",u);}if(Y!=null){var S=ad.___def.operations;var X=Y.length;for(var aa=0;aa<X;aa++){var G=LEAP.getElements("th[ctf=table_header][tpo!=null][tpoal!=null]",Y[aa]);if(G!=null){var N=G.length;for(var Z=0;
Z<N;Z++){var W=G[Z].getAttribute("tpo");var R=G[Z].getAttribute("tpoal");if(W!=null&&W.Trim()!=""&&R!=null&&R.Trim()!=""){var M=W.split("|");var w=R.split("|");if(w.length<M.length){var T=w.length;w.length=M.length;for(var ae=T;ae<M.length;ae++){w[ae]="";}}var C=[];for(jj=0;jj<M.length;jj++){var O=M[jj];
var B=w[jj];if(B==null||B.Trim()==""){continue;}if(S.contains(B)){C.add(O);}}var L=C.join("|");if(L!=M){G[Z].setAttribute("tpo",L);}G[Z].removeAttribute("tpoal");}}}G=null;}}Y=null;}}};LEAP.buildOperation=function(g,p){if(g==null||g.___def==null){return;}var r=LEAP.getElements("[instance="+g.instance+"][openal=1]",p);
if(!r){return;}var d=g.___def.skipopers;var h=g.___def.skipstats;var o=new array();if(d!=null){for(var m=0;m<d.length;m++){if(h[m]==0){o.add(d[m]);}}}for(var m=0;m<r.length;m++){var q=LEAP.getElements("[al]",r[m]);if(!q){return;}for(var j=0;j<q.length;j++){var l=110;var n=q[j].getAttribute("al");if(n&&o.contains(n)){l=0;
}LEAP.setOPAreaStatus(q[j],l,false);q[j].setAttribute("canclick",l==0);}}};LEAP.setReadonly=function(j,h,d){var g=j.getAttribute("ct");if(g==null){g=j.getAttribute("ht");}if(h!=null&&(h==true||h=="1")){if(j.getAttribute("ct")==null){j.setAttribute("readOnly","true");}else{if(g=="simplecheck"){j.setAttribute("disabled","true");
}else{if(LEAP[g]&&LEAP[g].setReadOnly){LEAP[g].setReadOnly(j,true);}else{j.setAttribute("readonly","1");}}}}else{if(j.getAttribute("ct")==null){j.removeAttribute("readOnly");}else{if(g=="simplecheck"){j.removeAttribute("disabled");}else{if(LEAP[g]&&LEAP[g].setReadOnly){LEAP[g].setReadOnly(j,h);}else{j.removeAttribute("readonly");
}}}}j=null;};LEAP.setRangeReadonly=function(g,j){if(g==null){return;}var h=LEAP.getElements("[ct],[ht]",g);if(h!=null){for(var d=0;d<h.length;d++){LEAP.setReadonly(h[d],j);}}else{LEAP.setReadonly(g,j);}};LEAP.setOPAreaStatusStep2=function(n,m,d,j){var g=n.getAttribute("___srstatus");var l=n.getAttribute("ct");
if(l==null){l=n.getAttribute("ht");}if(l==null){l=n.tagName;}if(g==null){if(n.getAttribute("ct")==null){g=n.getAttribute("readOnly");if(g==null){g=false;}}else{if(l=="simplecheck"){g=n.getAttribute("disabled");}else{g=n.getAttribute("readonly");if(g==null){g=0;}}}n.setAttribute("___srstatus",g);}n.setAttribute("___isoparea","1");
n.setAttribute("___isoparea_status",d);if(d==120){return;}var h=false;if(g!=null&&(g==1||g==true)){h=true;}if(m){LEAP.setReadonly(n,m);}else{if(n.getAttribute("ct")==null){if(g=="false"){n.removeAttribute("readOnly");}else{n.setAttribute("readOnly",g);}}else{if(l=="simplecheck"){n.removeAttribute("disabled");
}else{if(LEAP[l]&&LEAP[l].setReadOnly){if(g=="true"){g=true;}else{g=false;}LEAP[l].setReadOnly(n,g);}else{if(g=="0"){n.removeAttribute("readonly");}else{n.setAttribute("readonly",g);}}}}}n=null;};LEAP.setOPAreaStatus=function(q,j,h,g){var x=q.getAttribute(commfields.instance);var p=false;var w=null;if(q.all){p=true;
w=q.all;}else{w=LEAP.getElements("[ct][instance="+x+"],[ht][instance="+x+"]",q);}if(h){q.setAttribute("_sys_opstatus_s_display",q.style.display);q.setAttribute("_sys_opstatus_s_code",q.getAttribute("_sys_opareastatus"));}q.setAttribute("_sys_isoparea","1");if(j==110){var r=q;LEAP.setOPAreaStatusStep2(r,true,"110");
q.setAttribute("_sys_opareastatus","110");if(w!=null){var d=w.length;for(var m=0;m<d;m++){var r=w[m];if(p){var n=r.getAttribute("ct");var u=r.getAttribute("ht");var o=r.getAttribute("instance");if(o!=null&&(n!=null||u!=null)&&o==x){}else{continue;}}if(h){r.setAttribute("_sys_opstatus_s_display",r.style.display);
r.setAttribute("_sys_opstatus_s_code",r.getAttribute("_sys_opareastatus"));}LEAP.setOPAreaStatusStep2(r,true,"110",h);r.setAttribute("_sys_opareastatus","110");r=null;}w!=null;}}else{if(j==120){q.style.display="none";q.setAttribute("_sys_opareastatus","120",h);if(g){LEAP.setOPAreaStatusStep2(q,false,"0");
}if(w!=null){var d=w.length;for(var m=0;m<d;m++){var r=w[m];if(p){var n=r.getAttribute("ct");var u=r.getAttribute("ht");var o=r.getAttribute("instance");if(o!=null&&(n!=null||u!=null)&&o==x){}else{continue;}}if(h){r.setAttribute("_sys_opstatus_s_display",r.style.display);r.setAttribute("_sys_opstatus_s_code",r.getAttribute("_sys_opareastatus"));
}r.setAttribute("_sys_opareastatus","120",h);if(g){LEAP.setOPAreaStatusStep2(r,false,"0");}r=null;}w!=null;}}else{if(j==0){q.style.display="";q.setAttribute("_sys_opareastatus","0",h);if(g){LEAP.setOPAreaStatusStep2(q,false,"0");}if(w!=null){var d=w.length;for(var m=0;m<d;m++){var r=w[m];if(p){var n=r.getAttribute("ct");
var u=r.getAttribute("ht");var o=r.getAttribute("instance");if(o!=null&&(n!=null||u!=null)&&o==x){}else{continue;}}if(h){r.setAttribute("_sys_opstatus_s_display",r.style.display);r.setAttribute("_sys_opstatus_s_code",r.getAttribute("_sys_opareastatus"));}r.setAttribute("_sys_opareastatus","0",h);if(g){LEAP.setOPAreaStatusStep2(r,false,"0");
}r=null;}w!=null;}}}}q=null;};LEAP.removeElement=function(j,h){if(j==null){return;}if(LEAP._gb==null){LEAP._gb=document.createElement("div");LEAP._gb.style.display="none";document.body.appendChild(LEAP._gb);}if(h!=true&&!(j instanceof Array)){j=[j];}var d=j.length;for(var g=d-1;g>-1;g--){LEAP._gb.appendChild(j[g]);
}LEAP._gb.innerHTML="";j=null;};LEAP.disableF11=false;LEAP._isFullScreen=false;if(__s__3.href.indexOf("_f=1")>-1){LEAP._isFullScreen=true;}LEAP.shortKeyService=function(A){var d=A.e.srcElement;var x=A.e.type;var n=-1;if(LEAP.isIE){n=A.e.keyCode;}else{n=A.e.which;}try{if(LEAP.disableF11&&n==122){LEAP.stopEvent(A.e);
return;}if(LEAP._isFullScreen&&A.e.altKey){LEAP.stopEvent(A.e);return;}if(n==113||n==118||n==119||n==120||n==13||n==27||((A.e.ctrlKey||A.e.altKey)&&(n==67||n==71||n==75||n==77||n==79||n==80||n==83||n==84||n==81||n==87||n==69||n==65||n==83||n==88))){if(d.tagName!="BODY"){var z=d;var r=null;for(var q=0;
q<20;q++){if(z==null||z.tagName=="BODY"||!z.getAttribute){break;}shortKeys=z.getAttribute("shortkey")||z.shortkey;var w=false;if(shortKeys!=null){var h=shortKeys.length;for(var p=0;p<h;p++){var y=shortKeys[p];r=y.keycode;var u=r.indexOf("ctrl+")==0;var B=r.indexOf("alt+")==0;if(u){r=r.substring(5);}else{if(B){r=r.substring(4);
}}if(r!=null&&r!=""&&r.Trim()!=""&&r==n.toString()){if(u==A.e.ctrlKey||B==A.e.altKey){var o=y.domain;if(o==null){o=z;}var g={caller:d,e:A.e,arg:y.arg,ut:d.getAttribute("ut")};try{y.fn.call(o,g);}catch(m){LEAP.showError(m);}finally{y=g=o=null;LEAP.stopEvent(A.e);return false;}w=true;break;}}}}if(w==true){break;
}shortKeys=null;z=z.parentNode;}z=null;}}if(n==8){if(d.tagName!="INPUT"&&d.tagName!="TEXTAREA"&&d.getAttribute("CONTENTEDITABLE")!="true"&&!d.hasAttribute("canbak")){LEAP.stopEvent(A.e);return false;}else{if((d.tagName=="INPUT"||d.tagName=="TEXTAREA")&&d.readOnly){LEAP.stopEvent(A.e);return false;}}}if(A.e.ctrlKey&&n==87){LEAP.stopEvent(A.e);
}}finally{A=null;}};LEAP.addShortKeyEvent=function(d,j,g,h,l){try{if(d!=null&&j!=null&&g!=null){if(j.shortkey==null){j.shortkey=[{keycode:d.toString(),fn:g,arg:h,domain:l}];}else{j.shortkey.add({keycode:d.toString(),fn:g,arg:h,domain:l});}}}finally{d=j=g=h=l=null;}};LEAP._pl=function(){UIEventManager.removeEvent(window,"load",LEAP._pl);
if(LEAP.isIE){try{document.execCommand("BackgroundImageCache",false,true);}catch(d){}}var g=LEAP._p(LEAP.getElement("head").innerHTML);LEAP.loadModule(null,null,null,g);g=null;LEAP.addEvent(document.body,"keydown",LEAP.systemEventProcesser,null,null,true);LEAP.addEvent(document.body,"click",LEAP.systemEventProcesser,null,null,true);
LEAP.addEvent(document.body,"keydown",LEAP.shortKeyService,null,null,true);LEAP.addEvent(document.body,"touchstart",LEAP._ontouchstart,null,null,true);LEAP.addEvent(document.body,"touchend",LEAP._ontouchend,null,null,true);};LEAP._ontouchstart=function(g){var j=g.e;3.5681192317649e+44;var d=j.targetTouches[0].pageX;
var l=j.targetTouches[0].pageY;var h=new Date().getTime();LEAP._tleo={x:d,y:l,t:h};g=j=null;};LEAP._ontouchend=function(g){try{if(LEAP._tleo){var d=g.e.changedTouches[0].pageX;var j=g.e.changedTouches[0].pageY;var h=new Date().getTime();if((h-LEAP._tleo.t)<150&&Math.abs(d-LEAP._tleo.x)<10&&Math.abs(j-LEAP._tleo.y)<10){DelegateUIEventManager.handleEvent({e:g.e,type:"touchclick"});
LEAP._tleo=null;}}}finally{e=null;}};LEAP.systemEventProcesser=function(o){var d=o.e.srcElement;var n=o.e.type;var g=d.getAttribute("readonly");var l=d.getAttribute("readOnly");var p=d.tagName;if((g!=null&&g=="1")||(l!=null&&l=="true")){var h=false;if(n=="keydown"){var j=null;if(LEAP.isIE){j=o.e.keyCode;
}else{j=o.e.which;}h=(j==9&&(p=="INPUT"||p=="TEXTAREA"));}if(n=="click"&&(p=="INPUT"||p=="TEXTAREA")||h){}else{LEAP.stopEvent(o.e);var m={breakEvent:true};return m;}}o=d=null;};UIEventManager.addEvent(window,"load",LEAP._pl,null,null,40);LEAP.getBindValue=function(binddef,value,data,ct,autoUseCodeCache,module){if(binddef==null){return;
}var ri=value;if(value==null){ri=value="";}else{value=LEAP.parsedatestr(value);}if((String.isEmpty(value))&&(binddef.defaultcode!=null&&binddef.code!=null)){ri=value=binddef.defaultcode;}if(value!=null&&typeof(value)!=""){if(value.toString!=null){value=value.toString();}else{value=value+"";}}var router=binddef.router;
if(!router){if(module&&module.leapclient){router=module.leapclient.router;}}if(value!=""){if(binddef!=null&&binddef.code!=null&&binddef.code.Trim()!=""){if((autoUseCodeCache!=null&&autoUseCodeCache==false)){value=data["data.___codevalue___"+binddef.md];}else{if(value!=null&&value.indexOf(",")>-1){var vs=value.split(",");
var value="";for(var i=0;i<vs.length;i++){var tv=vs[i];if(tv!=null&&tv.Trim()!=""){var tvv=LEAP.getCodeText(binddef.code,tv,null,router);if(tvv!=null&&tvv.Trim()!=""){if(value!=""){value+=",";}value+=tvv;}}}}else{value=LEAP.getCodeText(binddef.code,value,binddef.defaultcode,router);}}}if(value==null){value="";
}else{if(binddef!=null&&binddef.bt=="date"&&value!=""){var _t=value.split(" ");if(_t.length>0){value=_t[0];}}else{if(binddef!=null&&binddef.bt=="datetime"&&value!=""){var _t=value.split(" ");if(_t.length>1){value=_t[0]+" "+_t[1].substring(0,_t[1].lastIndexOf("."));}}else{if(binddef!=null&&binddef.bt=="datetime2"&&value!=""){var _t=value.split(" ");
if(_t.length>1){value=_t[0]+"<br>  "+_t[1].substring(0,_t[1].lastIndexOf("."));}}}}}}try{if(binddef.btfn!=null){if(binddef._btfn==null){try{binddef._btfn=eval("("+binddef.btfn+")");}catch(err){}}if(binddef._btfn!=null){value=binddef._btfn(binddef,value,data,ct);}}if((binddef.btexp!=null&&value!=null&&value!="")||binddef.sncol=="1"){value=binddef.btexp.replaceall(commfields.vv,value).replaceall(commfields.vvn,binddef.txt).replaceall(commfields.vid,ri);
}if(binddef.tpo!=null){if(binddef._tpo!=null){value=binddef._tpo;}else{if(binddef.tpo=="_addrow"){binddef._tpo=value=commfields.addflag;}else{var tpos=binddef.tpo.split(commfields.tpos);var l=tpos.length;var ret="";for(var i=0;i<l;i++){var o=tpos[i];if(String.isEmpty(o.Trim())){continue;}var t=o.split(commfields.tpos2);
var _t=t[0];if(t.length>2){_t="";for(var ii=0;ii<t.length-1;ii++){_t+=t[ii];if(ii<t.length-2){_t+=":";}}}ret+=commfields.tpo.replace(commfields.vn,_t).replace(commfields.vv,t[t.length-1]);if(i!=l-1){ret+=commfields.bl;}}binddef._tpo=value=ret;}}}}catch(err){}binddef=data=ct=null;return value;};LEAP.getBindDef=function(g){if(g._bdef==null){var d={md:g.getAttribute("md"),sncol:g.getAttribute("sncol")=="1",bt:g.getAttribute("bt"),ut:g.getAttribute("ut"),st:g.getAttribute("st"),btexp:g.getAttribute("btexp"),btfn:g.getAttribute("btfn"),urlpath:g.getAttribute("urlpath"),code:g.getAttribute("code"),router:g.getAttribute("router"),pcodes:g.getAttribute("pcodes"),tpo:g.getAttribute("tpo"),defaultcode:g.getAttribute("defaultcode"),enableedit:g.getAttribute("enableedit"),btcontrol:g.getAttribute("btcontrol"),treecol:g.getAttribute("treecol"),indentcol:g.getAttribute("indentcol"),textalign:g.getAttribute("textalign"),check:g.getAttribute("check"),innerHTML:g.innerHTML,_width:g.style.width,_height:g.style.height,_colspan:g.getAttribute("_colspan"),_rowspan:g.getAttribute("_rowspan"),linkcolumn:g.getAttribute("linkcolumn"),formatnumber:g.getAttribute("formatnumber"),colorexp:g.getAttribute("colorexp"),imgexp:g.getAttribute("imgexp"),maxlength:g.getAttribute("maxlength"),menuexp:g.getAttribute("menuexp"),oper:g.getAttribute("oper"),btstyle:g.getAttribute("btstyle"),tipfn:g.getAttribute("tipfn"),tipoffset:g.getAttribute("tipoffset"),btclass:g.getAttribute("btclass"),fcolor:g.getAttribute("fcolor"),bcolor:g.getAttribute("bcolor"),btdis:g.getAttribute("btdis"),checkcol:g.getAttribute("checkcol")=="1"};
g._bdef=d;}else{d=g._bdef;}g=null;return d;};var vhts=new array();vhts.add("INPUT");vhts.add("TEXTAREA");var skipvhts=new array();skipvhts.add("TD");skipvhts.add("TH");LEAP.bindData=function(P,O,r,H,w,q,J,C){if(C==null){C=true;}if(J==null){J=false;}if(P==null){if(J){return;}P={};}if(q==null){var z='[bt][instance="'+O+'"][md]';
if(r!=null){z+=r;}q=LEAP.getElements(z,w);}var N=[];var Q=[];if(q!=null){var F=q.length;for(var I=0;I<F;I++){var A=q[I];var h=A.getAttribute(commfields.ctf);if(h!=null&&C&&h=="dynaedit_edit"){continue;}var K=A.getAttribute(commfields.ct);var g=A.getAttribute(commfields.ctg);var M=A.getAttribute(commfields.cttype);
var p=K==null&&g==null&&M==null;var d=K==null&&g==null&&M!=null;var n=LEAP.getBindDef(A);if(J&&!P.hasOwnProperty(n.md)){continue;}var y=P[n.md];if(y!=null&&typeof(y)!="string"){y=y+"";}if(n.formatnumber==1||n.formatnumber==true){var L=y;var B=L.substring(L.length-1);var x=L!=null&&((L.indexOf(".")>0&&B=="0")||B==".");
while(x){L=L.substring(0,L.length-1);B=L.substring(L.length-1);x=(L.indexOf(".")>0&&B=="0")||B==".";}y=L;}var m=y;if(p){y=LEAP.getBindValue(n,y,P,A,H);var G=A.getAttribute("type");if(G!=null&&A.tagName=="INPUT"&&G.toLowerCase()=="checkbox"){if(y==null){A.checked=false;}if(y==true||y=="true"||y=="1"||y==1){A.checked=true;
}else{A.checked=false;}}else{if(vhts.contains(A.tagName)){A.value=y;A.setAttribute("value",y);var D=A.getAttribute("heightauto");if(D&&D=="1"){if(LEAP.input.setHeight){LEAP.input.setHeight(A);}}var j=A.getAttribute("showSelect");if(j=="1"||j=="true"){if(LEAP.input.loadText){LEAP.input.loadText(A);}}}else{if(skipvhts.contains(A.tagName)){continue;
}else{A.innerText=y;}}}if(n.code!=null&&n.code.Trim()!=""){A.setAttribute("_codevalue",m);}var o=A.getAttribute("ctef");if(o&&LEAP[o]){LEAP[o].onsetValue(A);}}else{if(d){if(M&&LEAP.customCT(M)&&LEAP.customCT(M).setValue){y=LEAP.customCT(M).setValue(A,m);}}else{if(g=="simplecheck"){if(Q.contains(n.md)){continue;
}Q.add(n.md);LEAP.simplecheck.setValue(A,m);}else{if(K=="select"){var u=A.getAttribute("group");if(N.contains(u)){continue;}LEAP.select.setValue(A,m,false);if(u!=null&&u.Trim()!=""){N.push(u);}}else{if(K.indexOf("upload_control_")==0){LEAP.upload.setValue(A,m);}else{if(K.indexOf("photoupload")==0){LEAP.fileupload.setValue(A,m);
}else{if(K.indexOf("rang")==0){LEAP.range.setValue(A,m);}else{if("radio"==K){var u=A.getAttribute("group");if(N.contains(u)){continue;}if(u!=null&&u.Trim()!=""){N.push(u);}if(H!=null&&H==false){LEAP.radio.setValueByText(A,m,false);}else{LEAP.radio.setValue(A,m,false);}}else{if(K=="organselector"){LEAP.organSelector._setValue(A,m);
}else{if(K=="chart"){LEAP.flashchart.setValue(A,m);}else{if(K&&LEAP[K]&&LEAP[K].setValue){y=LEAP[K].setValue(A,m);}}}}}}}}}}}}}};LEAP.convertChangeResult=function(d){if(d==null){return;}var j=new ChangeResult();for(var h in d){if(h!="changeResultName"&&h!="_data"){var n=h;var m=null;var l=null;var g=d[h];
if(g==null){m=l=null;}else{if(g.hashide){continue;}m=g.value;l=g.source;}j.addparameter(n,m,l);}}return j;};LEAP.convertDataResult=function(d){if(d==null){return;}var j=new DataResult();for(var h in d){if(h!="dataResultName"&&h!="_data"){var m=h;var l=null;var g=d[h];if(g==null){l=null;}else{l=g;}if(l==null){continue;
}j.addparameter(m,l);}}return j;};LEAP.converObject=function(d){if(d&&d.metaData&&d.result&&d.result instanceof Array){var g=d.metaData.length;var m=new Object();var j=false;for(var n=0;n<g;n++){var h=d.result[n];if(h){if(!j){j=true;if(typeof(h)!="string"){return d;}}m[d.metaData[n]]=h;}}d=null;return m;
}else{return d;}};LEAP.getValue=function(r,p,h){if(r==null){return;}if(typeof(r)=="string"){r=LEAP.getElement(r,p);}if(r==null){return;}var d=r.getAttribute(commfields.ct);var n=r.getAttribute(commfields.ctg);var u=r.getAttribute(commfields.cttype);var l=d==null&&n==null&&u==null;var o=d==null&&n==null&&u!=null;
var j=LEAP.getBindDef(r);var q=null;if(l){var m=r.getAttribute("type");if(m!=null&&r.tagName=="INPUT"&&m.toLowerCase()=="checkbox"){q=r.checked;if(q==true){q="1";}else{q="0";}}else{if(vhts.contains(r.tagName)){q=r.value;}else{if(skipvhts.contains(r.tagName)){}else{q=r.innerText;}}}}else{if(o){if(u&&LEAP.customCT(u)&&LEAP.customCT(u).getValue){q=LEAP.customCT(u).getValue(r);
}}else{if(d=="areagroup"){q=LEAP.select.getValue(r);}else{if(d=="areagroup"){var g=LEAP.getElement("[ct=select]",r);if(g==null){return;}q=LEAP.select.getValue(g);}else{if(d.indexOf("upload_control_")==0){q=LEAP.upload.getValue(r);}else{if(d.indexOf("photoupload")==0){q=LEAP.upload.getValue(r);}else{if(d=="organselector"){q=LEAP.organSelector._getValue(r);
}else{if(d=="opinion"&&LEAP.opinion){if(h){q=LEAP.opinion.validate(r);}else{q=LEAP.opinion.getValue(r);}}else{if(d=="opinion2"&&LEAP.opinion2){if(h){q=LEAP.opinion2.validate(r);}else{q=LEAP.opinion2.getValue(r);}}else{if(d=="attlist"&&LEAP.attlist){if(h){q=LEAP.attlist.validate(r);}else{q=LEAP.attlist.getValue(r);
}}else{if(d&&LEAP[d]&&LEAP[d].getValue){q=LEAP[d].getValue(r);}}}}}}}}}}}return q;};LEAP.setValue=function(y,x,w){if(y==null){return;}if(typeof(y)=="string"){y=LEAP.getElement(y,w);}if(y==null){return;}var d=y.getAttribute(commfields.ct);var o=y.getAttribute(commfields.ctg);var z=y.getAttribute(commfields.cttype);
var m=d==null&&o==null&&z==null;var p=d==null&&o==null&&z!=null;var l=LEAP.getBindDef(y);if(l&&l.formatnumber==1||l.formatnumber==true&&x!=null){var r=x;var h=r.substring(r.length-1);var j=(r.indexOf(".")>0&&h=="0")||h==".";while(j){r=r.substring(0,r.length-1);h=r.substring(r.length-1);j=(r.indexOf(".")>0&&h=="0")||h==".";
}x=r;}var q=x;x=LEAP.getBindValue(l,x,null,y);if(m){var n=y.getAttribute("type");if(n!=null&&y.tagName=="INPUT"&&n.toLowerCase()=="checkbox"){if(x==null){y.checked=false;}if(x==true||x=="true"||x=="1"||x==1){y.checked=true;}else{y.checked=false;}}else{if(vhts.contains(y.tagName)){y.value=x;}else{if(skipvhts.contains(y.tagName)){}else{y.innerText=x;
}}}var u=y.getAttribute("ctef");if(u&&LEAP[u]){LEAP[u].onsetValue(y);}}else{if(p){if(z&&LEAP.customCT(z)&&LEAP.customCT(z).setValue){x=LEAP.customCT(z).setValue(y,q);}}else{if(d=="areagroup"){var g=LEAP.getElement("[ct=select]",y);if(g==null){return;}LEAP.select.setValue(y,q,false);}else{if(d=="select"){LEAP.select.setValue(y,q,false);
}else{if(d.indexOf("upload_control_")==0){LEAP.upload.setValue(y,q);}else{if("radio"==d){LEAP.radio.setValue(y,q,false);}else{if(d=="organselector"){LEAP.organSelector._setValue(y,q);}else{if(d=="chart"){LEAP.flashchart.setValue(y,q);}else{if(d&&LEAP[d]&&LEAP[d].setValue){x=LEAP[d].setValue(y,q);}}}}}}}}}};
LEAP.getData=function(aa,S,A,O,p,U,ab){if(ab==null){ab=true;}var ac='[bt][instance="'+S+'"][md]';if(A!=null){ac+=A;}if(O==true){ac=ac+"[islwfp!=1]";}var D=null;if(U==null){if(p instanceof Array){D=[];var V=p.length;for(var W=0;W<V;W++){if(p[W]!=null){D.addall(LEAP.getElements(ac,p[W]));}}if(D.length==0){D=null;
}}else{D=LEAP.getElements(ac,p);}}else{D=U;}var H=null;var aa=LEAP.clone(aa);var o=[];var K=null;var X=null;var N=null;var j=null;if(O==true){K={};N={};j={};}var q=null;var h=[];var w={};if(D!=null){var V=D.length;for(var W=0;W<V;W++){var R=D[W];if(R.getAttribute("multipar")){continue;}var G=R.getAttribute(commfields.ctf);
if(G!=null&&ab==true&&G=="dynaedit_edit"){continue;}var B=R.getAttribute(commfields.ct);var T=LEAP.getBindDef(R);var F=R.getAttribute(commfields.ctg);var x=R.getAttribute(commfields.cttype);var J=B==null&&F==null&&x==null;var ad=B==null&&F==null&&x!=null;if(T.md==null){continue;}var Q=null;var C=aa[T.md];
var r=null;var m=null;if(J){var u=R.getAttribute("type");if(u!=null&&R.tagName=="INPUT"&&u.toLowerCase()=="checkbox"){Q=R.checked;if(Q==true){Q="1";}else{Q="0";}}else{if(vhts.contains(R.tagName)){if(R.tagName=="INPUT"){Q=R.value.Trim();}else{Q=R.value;}}else{if(skipvhts.contains(R.tagName)){continue;
}else{Q=R.innerText;}}}if(T.bt=="date"){if(Q!=null&&Q.Trim().indexOf(" ")>-1){Q=Q.Trim().split(" ")[0];}if(C!=null&&C.Trim().indexOf(" ")>-1){C=C.Trim().split(" ")[0];}}if(T.code!=null&&T.code.Trim()!=""){Q=R.getAttribute("_codevalue");}}else{if(ad){if(x&&LEAP.customCT(x)&&LEAP.customCT(x).getValue){Q=LEAP.customCT(x).getValue(R);
}}else{var n=null;if(B=="select2"){n=R.getAttribute("sct");}if(B=="areagroup"||n=="areagroup"){r="areagroup";var z=R.getAttribute("group");if(z!=null&&z.Trim()!=""){if(w[T.md]==null){w[T.md]={};}if(w[T.md].sizes==null){w[T.md].sizes=[];}w[T.md].sizes.add(R.getAttribute("size"));}if(o.contains(z)){continue;
}if(n=="areagroup"){Q=LEAP.select2.getValue(R);}else{Q=LEAP.select.getValue(R);}if(z!=null&&z.Trim()!=""){o.push(z);if(w[T.md]==null){w[T.md]={};}w[T.md].count=R.getAttribute("count");}}else{if(F=="simplecheck"){if(h.contains(T.md)){continue;}r="simplecheck";Q=LEAP.simplecheck.getValue(R);h.add(T.md);
}else{if(B=="select"){r="select";var z=R.getAttribute("group");if(z!=null&&z.Trim()!=""){if(w[T.md]==null){w[T.md]={};}if(w[T.md].sizes==null){w[T.md].sizes=[];}w[T.md].sizes.add(R.getAttribute("size"));}if(o.contains(z)){continue;}Q=LEAP.select.getValue(R);if(z!=null&&z.Trim()!=""){o.push(z);if(w[T.md]==null){w[T.md]={};
}w[T.md].count=R.getAttribute("count");}}else{if(B.indexOf("upload_control_")==0){r="upload";Q=LEAP.upload.getValue(R);}else{if(B.indexOf("photoupload")==0){r="fileupload";Q=LEAP.fileupload.getValue(R);}else{if(B.indexOf("rang")==0){r="rang";Q=LEAP.range.getValue(R);}else{if("radio"==B){var z=R.getAttribute("group");
if(o.contains(z)){continue;}if(z!=null&&z.Trim()!=""){o.push(z);}r="radio";Q=LEAP.radio.getValue(R);}else{if(B=="organselector"){r="organselector";Q=LEAP.organSelector._getValue(R);}else{if(B&&LEAP[B]&&LEAP[B].getValue){contorltype=B;Q=LEAP[B].getValue(R);}else{continue;}}}}}}}}}}}if(Q!=null&&typeof(Q)=="number"){Q=Q+"";
}if(C!=null&&typeof(C)=="number"){C=C+"";}var Z=T.md;if(H!=null){var L=1;while(H[Z]!=null){Z=T.md+"___"+L+"___";L++;}}var d=false;if((String.isEmpty(Q))&&(String.isEmpty(C))){d=true;}if(O||(Q!=C&&!d)){var P=false;if((T.bt=="date"||T.bt=="datetime")){if(T.bt=="date"){if(Q!=null&&Q.indexOf(" ")>-1){Q=Q.Trim().split(" ")[0];
}if(C!=null&&C.indexOf(" ")>-1){C=C.Trim().split(" ")[0];}}if(Z!=T.md){P=false;}else{if(Q==C){P=true;}}}if(!P){if(H==null){H={};}if(C!=null&&typeof(C)!="string"){C=C+"";}if(Q!=null&&typeof(Q)!="string"){Q=Q+"";}var M=R.getAttribute("_hide");M=M!=null&&M==1;H[Z]={source:C,value:Q,controltype:r,hashide:M};
if(M){if(X==null){X=[];}X.add(Z);}aa[Z]=Q;if(O==true){var I=R.getAttribute("search");var Y=I;if(Q!=null&&I!=null&&I.indexOf(",")>-1){var y=I.split(",");var g=(y[0]!=null&&y[0].indexOf("23")>-1);if(Q.indexOf(" ")>-1){Y=g?y[0]:y[1];}else{Y=g?y[1]:y[0];}}K[Z]=LEAP.parsenum(Y);N[Z]=R.getAttribute("searchgroup");
j[Z]=R.getAttribute("skipsearch");}}}if(q==null){q={};}q[Z]=Q;if(m!=null&&w[Z]==null){w[Z]=ext;}}}try{var H={change:H,data:aa,searchtype:K,group:N,skipsearch:j,curData:q,extend:w,hides:X};return H;}finally{H=aa=null;}};LEAP.hasCSS=function(h,d){if(h==null){return;}var g=h.className;h=null;if(g!=null&&g!=""&&(g==d||g.split(" ").contains(d))){return true;
}return false;};LEAP.addCSS=function(m,r,o){if(m==null){return;}if(o!=true&&!(m instanceof Array)){m=[m];}var d=m.length;for(var h=0;h<d;h++){var p=m[h].className;var q=p.split(" ");if(p!=null&&p!=""&&(p==r||q.contains(r))){continue;}var n=q.length;for(var g=n-1;g>-1;g--){if(q[g]==""||q[g]==" "){q.removeindex(g);
}}q.add(r);m[h].className=q.join(" ");}m=null;};LEAP.removeCSS=function(n,u,q){if(n==null){return;}if(q!=true&&!(n instanceof Array)){n=[n];}var g=n.length;for(var m=0;m<g;m++){var r=n[m].className.split(" ");var o=r.length;var d=false;for(var h=0;h<o;h++){if(r[h]==u){r[h]="";d=true;}}if(d){n[m].className=r.join(" ");
}}n=null;};LEAP.bathCacheCodes=function(g,r){if(g!=null&&g.length){var h=g.length;var d=[];for(var m=0;m<h;m++){var u=g[m];if(String.isEmpty(u)){continue;}var q="__codetype_"+u.toLowerCase();var p=commfields.gco.getvalue(q);if(p==null){d.add(u);}}if(d.length>0){var j={name:"app_bathGetCodeValues",par:{codeTypes:d}};
if(r){j.router=r;}var o=LEAP.request2(j);if(o){for(var n=0;n<o.length;n++){var u=o[n].codetype;var w=o[n].values;var q="__codetype_"+u.toLowerCase();p={i:true,r:w};commfields.gco.add(q,p);}}}}};var __colonyname=null;LEAP.setColonyname=function(d){__colonyname=d;};LEAP.getCodeValue=function(r,g,q){if(r==null||r==""){return;
}var p="__codetype_"+r.toLowerCase();if(g){g=String(g);}if(g!=null&&g.Trim()!=""){var n=LEAP.parsenum(g);if(n!=null){p+="__parentcode__"+n;}else{p+="__parentcode__"+g;}}var l=commfields.gco.getvalue(p);if(l==null){var u=null;var j=null;if(__colonyname!=null){if(g==null||g.Trim()==""){j={name:"LDA_getCodeValues2",par:{name:__colonyname,c:r}};
}else{j={name:"LDA_getCodeValuesByParentValue",par:{name:__colonyname,c:r,p:g}};}}else{if(g==null||g.Trim()==""){j={name:"getCodeValues2",par:{c:r}};}else{j={name:"getCodeValuesByParentValue",par:{c:r,p:g}};}}if(q){j.router=q;}if(__als11.indexOf(r.toLowerCase().Trim())>-1){j.router="leap";}u=LEAP.request2(j);
__colonyname=j=null;if(u&&u.length){var d=[];var h={};for(var m=0;m<u.length;m++){var o=u[m];if(h["k_"+o.codeid]){continue;}h["k_"+o.codeid]=1;d.push(o);}u=d;}l={i:true,r:u};commfields.gco.add(p,l);}return l.r;};LEAP.addCodeType=function(g,j,d){if(g==null||g==""){return;}if(d==null||d==""){var n="__codetype_"+g.toLowerCase();
var h=commfields.gco.getvalue(n);if(h==null){h={i:true,r:[]};for(var m=0;m<j.length;m++){if(j[m]){j[m].codetypename=g;h.r.add(j[m]);}}commfields.gco.add(n,h);}}else{var n="__codetype_"+g.toLowerCase();d=String(d);var l=LEAP.parsenum(d);if(l!=null){n+="__parentcode__"+l;}else{n+="__parentcode__"+d;}h={i:true,r:[]};
for(var m=0;m<j.length;m++){j[m].codetypename=g;h.r.add(j[m]);}commfields.gco.add(n,h);}};LEAP.cleanCodeValue=function(d){if(d==null||d==""){return;}var h="__codetype_"+d.toLowerCase();var g=commfields.gco.getvalue(h);if(g!=null){commfields.gco.remove(h);}};LEAP.getCodeText=function(g,o,m,j){if(o!=null){o=String(o);
}if(m!=null){m=String(m);}var h=LEAP.getCodeValue(g,null,j);if(h!=null){if(o==null||o==""){o=m;}var d=h.length;for(var n=0;n<d;n++){var p=LEAP.parsenum(h[n].codeid);if(h[n].codeid==o||(p!=null&&p==o)){return h[n].codevalue;}}}};LEAP.getCodeIDByValue=function(g,n,j){if(n!=null){n=String(n);}if(n==null||n==""){return;
}var h=LEAP.getCodeValue(g,null,j);if(h!=null){var d=h.length;for(var m=0;m<d;m++){if(h[m].codevalue==n){return h[m].codeid;}}}};LEAP.asyn=function(m,j,l){if(!m){return;}if(l==null){l=100;}var d=null;if(arguments==null||arguments.length<4){}else{d=[];for(var g=3;g<arguments.length;g++){d[g-3]=arguments[g];
}}if(WorkerHelper!=null&&WorkerHelper.enable()){WorkerHelper.request(d,{type:"system.setTimeout",time:l,warp_callback:m,warp_domain:j});}else{var h=function(){try{if(m!=null){if(d!=null){m.apply(j,d);}else{m.apply(j);}}}finally{j=d=arguments=m=null;}};setTimeout(h,l);h=null;}};LEAP.asynfoo=function(n,l,m){if(n==null){return;
}if(m==null){m=10;}var g=null;if(arguments==null||arguments.length<4){}else{g=[];for(var h=3;h<arguments.length;h++){g[h-3]=arguments[h];}}var j=function(){try{if(n!=null){if(g!=null){n.apply(l,g);}else{n.apply(l);}}}finally{}};var d=setInterval(j,m);j=null;return d;};LEAP.getSelectedText=function(p){var l=null;
var d=null;var n=null;try{if(LEAP.isIE){n=document.selection.createRange();if(n.text.length>0){l=n.text;}try{n.moveToPoint(window.event.x,window.event.y);}catch(h){}n.moveStart("character",-p.value.length);d=n.text.length;n=null;}else{var m=p.selectionStart;var j=p.selectionEnd;if(m||m=="0"){if(m!=j){l=p.value.substring(m,j);
}}d=m;}if(String.isEmpty(l)){l=null;}}catch(h){}finally{n=p=null;}var g={text:l,idx:d};return g;};LEAP.getRealSyscode=function(d){if(d==null){return null;}if(d!=null&&d.toString().Trim()!=""&&d.toString().indexOf(".")>-1){var g=d.toString();var j=g.substring(0,g.indexOf("."));var h=g.substring(g.indexOf(".")+1);
while(h.length%3!=0){h+="0";}while(h.substring(h.length-3,h.length)=="000"){h=h.substring(0,h.length-3);}if(String.isEmpty(h)){g=j;}else{g=j+"."+h;}return g;}else{return d.toString();}};LEAP.getNextSyscode=function(d){if(d.indexOf(".")>-1){var g=d.substring(d.length-3,d.length);g=(g*1+1)+"";while(g.length<3){g="0"+g;
}return d.substring(0,d.length-3)+g;}else{return d*1+1;}};LEAP.getParentSyscode=function(g){if(g.indexOf(".")>-1){var d=g.substring(0,g.length-3);if(d.charAt(d.length-1)=="."){return d.substring(0,d.length-1);}return d;}};LEAP.checkSyscodeReleation=function(g,j){if(g&&j){var h=LEAP.getRealSyscode(g);
var d=LEAP.getRealSyscode(j);if(h.indexOf(".")==-1){h+=".";}return d.indexOf(h)==0;}return false;};LEAP.webui=new Object();LEAP.webui.refreshWebPart=function(){};var Storage=function(g,n){var j=true;var o=null;var h="leap_localCache";var d=null;var p=function(){return j;};var m=function(){throw new Error("don't support localCache");
};try{o=n.documentElement;o.addBehavior("#default#userdata");o.save(h);}catch(l){j=false;}if(!j){if(g.localStorage&&g.localStorage.getItem){o=g.localStorage;j=true;d={set:function(q,r){return o.setItem(q,r);},get:function(q){return o.getItem(q);},del:function(q){return o.removeItem(q);}};}}else{d={set:function(q,r){o.setAttribute(q,r);
o.save(h);},get:function(q){try{o.load(h);return o.getAttribute(q);}catch(r){}return null;},del:function(q){o.removeAttribute(q);o.save(h);}};}if(!d){d={set:m,get:m,del:m};}d.support=p;return d;}(window,document);var PageObjectModel=function(){this.root=null;this.innerIndex=new hashtable();};PageObjectModel.___allObjects=new hashtable();
PageObjectModel.getObjectByInstance=function(d){return this.___allObjects.getvalue(d);};PageObjectModel.getModule=function(d){return this.___allObjects.getvalue(d);};PageObjectModel.prototype.getParentName=function(d){if(d&&d.parentInstance&&this.innerIndex.contains(d.parentInstance)){return this.innerIndex.getvalue(d.parentInstance).name;
}};PageObjectModel.prototype.__getPath=function(u){var n=[];var p=[];n.add(u.name);n.add(u.instance);var h=null;var q=u;while(true){h=q.name;n.add(h);p.add(q.instance);q=this.innerIndex.getvalue(q.parentInstance);if(q==null){break;}}var o=new StringBuffer();var j=new StringBuffer();var g=n.length;for(var m=g-1;
m>0;m--){o.append(n[m]);j.append(p[m]);}var d={namePath:o.toString("."),instancePath:j.toString(".")};return d;};PageObjectModel.prototype.getRoot=function(){return this.getObjectByInstance(this.root);};PageObjectModel.prototype.addObject=function(l,o){if(o){if(o.dispose&&o.instance&&l&&l.dispose&&l.instance){var n=l.instance;
if(this.innerIndex.contains(n)){return false;}var h=o.instance;if(this.innerIndex.contains(h)){var m=this.innerIndex.getvalue(h);if(m.childs!=null&&m.childs.contains(n)){return false;}var g=l.name;var j=o.name;var p={name:g,instance:n,parentInstance:h,parentName:j,model:l};this.innerIndex.add(n,p);var d=this.__getPath(p);
p.namePath=d.namePath;p.instancePath=d.instancePath;if(m.childs==null){m.childs=new array();}m.childs.add(n);return true;}}}else{if(this.root){return false;}var n=l.instance;if(n){this.root=n;this.innerIndex.add(n,{name:l.name,instance:n,model:l,namePath:l.name,instancePath:n});return true;}}return false;
};PageObjectModel.prototype.getObjectByInstance=function(d){if(d&&this.innerIndex.contains(d)){var g=this.innerIndex.getvalue(d);return g.model;}};PageObjectModel.prototype.removeObject=function(d){if(d.___isDisposing){return;}if(d&&d.dispose&&d.instance){d.___isDisposing=true;var m=d.instance;if(this.innerIndex.contains(m)){var o=this.innerIndex.getvalue(m);
var g=o.parentInstance;if(g&&this.innerIndex.contains(g)){var j=this.innerIndex.getvalue(g);if(j.childs!=null){j.childs.remove(m);}}if(o.childs){var n=o.childs.keys;for(var l in n){var p=o.childs.getvalue(l);if(this.innerIndex.contains(p)){this.removeObject(this.innerIndex.getvalue(p).model);}}}try{if(o&&o.model.dispose){o.model.dispose();
}}catch(h){}this.innerIndex.remove(m);o.model=o=null;return true;}}return false;};PageObjectModel.prototype.getParent=function(g){if(g&&g.dispose&&g.instance){var d=g.instance;if(this.innerIndex.contains(d)){var j=this.innerIndex.getvalue(d);var l=j.parentInstance;if(l&&this.innerIndex.contains(l)){var h=this.innerIndex.getvalue(l);
if(h){return h.model;}}}}};PageObjectModel.prototype.getChilds=function(h){if(h&&h.dispose&&h.instance){var d=h.instance;if(this.innerIndex.contains(d)){var m=this.innerIndex.getvalue(d);if(m.childs){var g=[];var n=m.childs.keys;for(var l in n){var j=m.childs.getvalue(l);if(this.innerIndex.contains(j)){g.add(this.innerIndex.getvalue(j).model);
}}return g;}}}};PageObjectModel.prototype.getChildByName=function(g,n){if(n==null){n=this.getRoot();}if(n&&n.dispose&&n.instance){var d=n.instance;if(this.innerIndex.contains(d)){var l=this.innerIndex.getvalue(d);if(l.childs){var m=l.childs.keys;for(var j in m){var h=l.childs.getvalue(j);if(this.innerIndex.contains(h)){var o=this.innerIndex.getvalue(h);
if(o.name==g){return o.model;}}}}}}};PageObjectModel.prototype.queryObjects=function(n,l){if(n){if(l==null){l=this.getRoot();}if(l&&l.dispose&&l.instance){var d=[];n="."+n+".";var j=this.innerIndex.keys;for(var g in j){var h=this.innerIndex.getvalue(g);var m=h.path;m="."+m+".";if(m.indexOf(n)>-1){d.add(h.model);
}}if(d.length>0){return d;}}}};PageObjectModel.prototype.queryObject=function(o,j){if(o){var m=null;if(j&&j.dispose&&j.instance){m="."+j.instance+".";}o="."+o+".";var h=this.innerIndex.keys;for(var d in h){var g=this.innerIndex.getvalue(d);var l=g.namePath;l="."+l+".";if(l.indexOf(o)>-1){if(m){var n="."+g.instancePath+".";
if(n.indexOf(m)>-1){return g.model;}}else{return g.model;}}}}};LEAP.cleanWordCode=function(h,d){try{if(h){var g=h.innerHTML;if(!String.isEmpty(g)){if(d==null){d=2;}if(d>=1){g=g.replaceall(" FONT-FAMILY: ;","");g=g.replaceall('FONT-FAMILY: "','"');g=g.replaceall("FONT-FAMILY: '","'");g=g.replaceall('"FONT-FAMILY: ;','"');
g=g.replaceall("'FONT-FAMILY: ;","'");g=g.replaceall(" COLOR: black;","");g=g.replaceall(" COLOR: black","");g=g.replaceall('"COLOR: black;','"');g=g.replaceall("'COLOR: black;","'");g=g.replace(/<o:p>\s*<\/o:p>/g,"");g=g.replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;");g=g.replace(/\s*mso-[^:]+:[^;"]+;?/gi,"");
g=g.replace(/\s*MARGIN: 0(?:cm|in) 0(?:cm|in) 0pt\s*;/gi,"");g=g.replace(/\s*MARGIN: 0(?:cm|in) 0(?:cm|in) 0pt\s*"/gi,'"');g=g.replace(/\s*TEXT-INDENT: 0(?:cm|in)\s*;/gi,"");g=g.replace(/\s*TEXT-INDENT: 0(?:cm|in)\s*"/gi,'"');g=g.replace(/\s*TEXT-ALIGN: [^\s;]+;?"/gi,'"');g=g.replace(/\s*PAGE-BREAK-BEFORE: [^\s;]+;?"/gi,'"');
g=g.replace(/\s*FONT-VARIANT: [^\s;]+;?"/gi,'"');g=g.replace(/\s*tab-stops:[^;"]*;?/gi,"");g=g.replace(/\s*tab-stops:[^"]*/gi,"");g=g.replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3");g=g.replace(/<(\w[^>]*)LINE-HEIGHT:\s+\d+%;([^>]*)/gi,"<$1$2");g=g.replace(/<(\w[^>]*)VERTICAL-ALIGN:(\s+[A-Za-z]+)([^>]*)/gi,"<$1$3");
g=g.replace(/<STYLE[^>]*>[\s\S]*?<\/STYLE[^>]*>/gi,"");g=g.replace(/<(?:META|LINK)[^>]*>\s*/gi,"");g=g.replace(/\s*style="\s*"/gi,"");g=g.replace(/<SPAN\s*[^>]*>\s*&nbsp;\s*<\/SPAN>/gi,"&nbsp;");g=g.replace(/<SPAN\s*[^>]*><\/SPAN>/gi,"");g=g.replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3");g=g.replace(/<SPAN\s*>([\s\S]*?)<\/SPAN>/gi,"$1");
g=g.replace(/<\\?\?xml[^>]*>/gi,"");g=g.replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"");g=g.replace(/<\/?\w+:[^>]*>/gi,"");g=g.replace(/<\!--[\s\S]*?-->/g,"");g=g.replace(/<(U|I|STRIKE)>&nbsp;<\/\1>/g,"&nbsp;");g=g.replace(/<H\d>\s*<\/H\d>/gi,"");g=g.replace(/<(\w+)[^>]*\sstyle="[^"]*DISPLAY\s?:\s?none[\s\S]*?<\/\1>/ig,"");
g=g.replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3");g=g.replace(/<(\w[^>]*) onmouseover="([^\"]*)"([^>]*)/gi,"<$1$3");g=g.replace(/<(\w[^>]*) onmouseout="([^\"]*)"([^>]*)/gi,"<$1$3");g=g.replace(/<H1([^>]*)>/gi,'<div$1><b><font size="6">');g=g.replace(/<H2([^>]*)>/gi,'<div$1><b><font size="5">');
g=g.replace(/<H3([^>]*)>/gi,'<div$1><b><font size="4">');g=g.replace(/<H4([^>]*)>/gi,'<div$1><b><font size="3">');g=g.replace(/<H5([^>]*)>/gi,'<div$1><b><font size="2">');g=g.replace(/<H6([^>]*)>/gi,'<div$1><b><font size="1">');g=g.replace(/<\/H\d>/gi,"</font></b></div>");g=g.replace(/<(table)>/gi,"<$1 border=1>");
var j=new RegExp("<SPAN*>([^>]*)</SPAN>","gi");g=g.replace(j,"$1");j=new RegExp("<DIV*>([^>]*)</DIV>","gi");g=g.replace(j,"$1");j=new RegExp('<DIV style="COLOR: black">([^>]*)</DIV>',"gi");g=g.replace(j,"$1");j=new RegExp('<SPAN style="COLOR: black">([^>]*)</SPAN>',"gi");g=g.replace(j,"$1");j=new RegExp('<DIV style="COLOR: black;">([^>]*)</DIV>',"gi");
g=g.replace(j,"$1");j=new RegExp('<SPAN style="COLOR: black;">([^>]*)</SPAN>',"gi");g=g.replace(j,"$1");g=g.replace(/<((?!td|tr)[^\s]*)[^>]*>[\s\u3000]*<\/\1>/gi,"");g=g.replace(/BACKGROUND\-COLOR:([\s]*)transparent/gi,"");g=g.replace(/BACKGROUND\-COLOR:([\s]*)transparent/gi,"");g=g.replace(/style="([\s]*)"/gi,"");
g=g.replace(/style='([\s]*)'/gi,"");g=g.replace(/<TD([\s]*?)>/gi,"<TD>");g=g.replace(/<TR([\s]*?)>/gi,"<TR>");g=g.replace(/style="([\s]+)/gi,'style="');g=g.replace(/style='([\s]+)/gi,"style='");g=g.replace(/<div([^>]*)>/gi,"");g=g.replace(/<\/div>/gi,"");g=g.replace(/<(table)>/gi,"<$1 border=1 cellspacing='0' cellpadding='0' >");
g=g.replace(/<TD([^>]*)>\s*(&nbsp;)+\s*<\/TD>/gi,"<TD $1></TD>");g=g.replace(/<meta(\n|.)*?>/ig,"");g=g.replace(/<!(\n|.)*?>/ig,"");g=g.replace(/<style[^>]*>(\n|.)*?<\/style>/ig,"");g=g.replace(/<script[^>]*>(\n|.)*?<\/script>/ig,"");g=g.replace(/<w:[^>]+>(\n|.)*?<\/w:[^>]+>/ig,"");g=g.replace(/<xml>(\n|.)*?<\/xml>/ig,"");
g=g.replace(/<font[^>]*>(\$\{([\w]*):([\w]*)\})<\/font>/gi,"$1");g=g.replace(/<u[^>]*>(\$\{([\w]*):([\w]*)\})<\/u>/gi,"$1");g=g.replace(/<span[^>]*>(\$\{([\w]*):([\w]*)\})<\/span>/gi,"$1");g=g.replace(/<p[^>]*>(\$\{([\w]*):([\w]*)\})<\/p>/gi,"$1");}if(d>=2){g=g.replace(/\s*face="[^"]*"/gi,"");g=g.replace(/\s*face=[^ >]*/gi,"");
g=g.replace(/<FONT\s*>([\s\S]*?)<\/FONT>/gi,"$1");g=g.replace(/<FONT([^>]*)>/gi,"");g=g.replace(/<\/FONT>/gi,"");g=g.replace(/<span([^>]*)>/gi,"");g=g.replace(/<\/span>/gi,"");g=g.replace(/<p([^>]*)>/gi,"");g=g.replace(/<\/p>/gi,"");}return g;}}}finally{h=null;}};var GlobalModuleManager=new Object();
GlobalModuleManager.getModule=function(d){if(!d){return;}return PageObjectModel.___allObjects.getvalue(d);};LEAP.ctid=function(g){if(g!=null){var d=g.getAttribute("ctid");if(d==null){d=UUID.cID();g.setAttribute("ctid",d);}g=null;return d;}g=null;};LEAP.getrealarea=function(g){if(g==null){return null;
}var h=g+"";var d=h.length;if(d>17&&h.substr(16-1,3)!="000"){return h.substr(1-1,18);}else{if(d>14&&h.substr(13-1,3)!="000"){return h.substr(1-1,15);}else{if(d>11&&h.substr(10-1,3)!="000"){return h.substr(1-1,12);}else{if(d>8&&h.substr(7-1,3)!="000"){return h.substr(1-1,9);}else{if(d>5&&h.substr(5-1,2)!="00"){return h.substr(1-1,6);
}else{if(d>3&&h.substr(3-1,2)!="00"){return h.substr(1-1,4);}else{if(d>1&&h.substr(1-1,2)!="00"){return h.substr(1-1,2);}else{return null;}}}}}}}};LEAP.getarea=function(g,j){if(g==null){return null;}if(j==null){return g;}var h=g+"";var d=h.length;if(d>17&&j==7){return h.substr(1-1,18);}else{if(d>14&&j==6){return h.substr(1-1,15);
}else{if(d>11&&j==5){return h.substr(1-1,12);}else{if(d>8&&j==4){return h.substr(1-1,9);}else{if(d>5&&j==3){return h.substr(1-1,6);}else{if(d>3&&j==2){return h.substr(1-1,4);}else{if(d>1&&j==1){return h.substr(1-1,2);}else{return null;}}}}}}}};LEAP.getarealevel=function(g){if(g==null){return null;}var h=g+"";
var d=h.length;if(d>17&&h.substr(16-1,3)!="000"){return 7;}else{if(d>14&&h.substr(13-1,3)!="000"){return 6;}else{if(d>11&&h.substr(10-1,3)!="000"){return 5;}else{if(d>8&&h.substr(7-1,3)!="000"){return 4;}else{if(d>5&&h.substr(5-1,2)!="00"){return 3;}else{if(d>3&&h.substr(3-1,2)!="00"){return 2;}else{if(d>1&&h.substr(1-1,2)!="00"){return 1;
}else{return null;}}}}}}}};LEAP.getareacodevalue=function(n){var o=LEAP.getarealevel(n);if(o!=null){var j=LEAP.getarea(n,o-1);var m=LEAP.getrealarea(n);var g=null;if(j!=null){g=LEAP.getCodeValue(__als1[o-1],j);}else{g=LEAP.getCodeValue(__als1[o-1]);}if(g!=null){var d=g.length;for(var h=0;h<d;h++){if(g[h].codeid==m){return g[h];
}}return null;}}};LEAP.mergeObject=function(d,h){if(d&&h){for(var g in h){d[g]=h[g];}}};LEAP.formatnumber=function(p,q,d){try{if(p!=null&&!isNaN(p)){if(d==null){d=",";}if(q==null){q=3;}p+="";var o=[];var h=0;if(p.indexOf(".")>-1){p=p.substring(0,p.indexOf("."));}var g=p.length;for(var j=g-1;j>-1;j--){var n=p.charAt(j);
if(h>0&&h%q==0){o=o.insert(d,0);}h++;o=o.insert(n,0);}return o.join("");}else{return"";}}catch(m){}return p;};if(window.applet_studio_AnalysisJavaCode==null){window.applet_studio_AnalysisJavaCode=function(d){return leapclient.request("studio_AnalysisJavaCode",{src:d});};}LEAP.loadIMG=function(j,m,n,l){var h=new Image();
var d=LEAP.ctid(h);var g=null;if(m&&m.tagName){g=LEAP.ctid(m);m.style.display="none";}if(l==null){l=window;}if(n==null){n=function(o){if(o.target){var p=LEAP.getElement("IMG[ctid="+o.target+"]");if(p){if(o.error){p.style.display="none";}else{p.src=o.url;p.style.display="";}}p=null;}};}if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion<11){h.onreadystatechange=function(){var o=arguments[0].srcElement;
if(o.readyState=="complete"||o.readyState=="loaded"){n.apply(l,[{url:j,error:false,target:g,width:o.width,height:o.height}]);o=null;}};}else{h.onload=function(){var o=arguments[0].srcElement;if(o.complete==true){n.apply(l,[{url:j,error:false,target:g,width:o.width,height:o.height}]);o=null;}};}h.onerror=function(){var o=arguments[0].srcElement;
n.apply(l,[{url:j,error:true,target:g,width:null,height:null}]);o=null;};h.src=j;m=null;};LEAP.getWorkVisibleBody=function(){if(document.compatMode&&document.compatMode=="BackCompat"){return document.body;}return document.documentElement;};LEAP.getInnerBodySize=function(){var g=0;var d=0;if((document.body)&&(document.body.clientWidth)){g=document.body.clientWidth;
var h=document.body.offsetWidth;if(g!=h){g=h;}}if((document.body)&&(document.body.clientHeight)){d=document.body.clientHeight;var l=document.body.offsetHeight;if(d!=l){d=l;}}var j={width:g,height:d};return j;};LEAP.getInnerWindowSize=function(){var g=0;var d=0;if(window.innerWidth){g=window.innerWidth;
}else{if((document.body)&&(document.body.clientWidth)){g=document.body.clientWidth;}}if(window.innerHeight){d=window.innerHeight;}else{if((document.body)&&(document.body.clientHeight)){d=document.body.clientHeight;}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){d=document.documentElement.clientHeight;
g=document.documentElement.clientWidth;}var h={width:g,height:d};return h;};LEAP.hexToRgba=function(g,h){var m=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;var l=g.toLowerCase();if(l&&m.test(l)){if(l.length===4){var n="#";for(var j=1;j<4;j+=1){n+=l.slice(j,j+1).concat(l.slice(j,j+1));}l=n;}var d=[];for(var j=1;
j<7;j+=2){d.push(parseInt("0x"+l.slice(j,j+2)));}if(h!=null&&h!=""){return"rgba("+d.join(",")+","+h+")";}else{return"rgb("+d.join(",")+")";}}else{return l;}};LEAP.geturlpars=function(){var o="href";var h=__s__3[o];var q=h.indexof("?");var n=new hashtable();if(q>-1&&q!=h.length-1){var d=h.substring(q+1);
var m=d.split("&");for(var j=0;j<m.length;j++){var l=m[j].split("=");if(l&&l.length&&l.length>1){var g=l[0];var p=l[1];if(!String.isEmpty(p)){p=decodeURIComponent(p);}else{p=null;}n.add(g,p);}}}return n;};LEAP.openResource=function(def,parentModule){if(def){if(def.id){LEAP.systemLog.logRes(def);}if(def.resourcetype==21){var tou=LEAP.request("LAIP_getAppUrl",{url:def.url});
if(tou){try{window.open(tou);}catch(E){}return;}}else{if(def.url&&def.url.indexOf("http://")==0||def.url.indexOf("https")==0||def.url.indexOf("@server")==0){def.url=def.url.replace("@server",leapconfig.server);var url=def.url;LEAP.asyn(function(url){window.open(url);},null,100,url);}else{if(def.url&&def.url.indexOf("fn:")==0){try{var fn=def.url.substring(3);
eval(fn);}catch(e){}}else{if(def.url&&def.url.indexOf("service:")==0){try{var fn=def.url.substring(8);var ret=leapclient.request(fn,{par:def});if(ret){if(ret.indexOf("http://")==0||ret.indexOf("https://")==0){window.open(ret);}else{window.open(leapconfig.server+ret);}}}catch(e){}}else{if(def.url&&(def.resourcetype==11||def.resourcetype==2)){var fn=null;
if(def.indexpagemodulestyle&&def.indexpagemodulestyle==3){fn=function(data,def){if(!data){data=def;}var par={name:"DirIndex",autodispose:true,width:data.width,height:data.height,title:data.showname,moduleLoadArg:data.id};if(def){par.width=def.width;par.height=def.height;}if(parentModule){parentModule.loadForm3(par);
}else{LEAP.form.create3(par);}};}else{if(def.indexpagemodulestyle&&def.indexpagemodulestyle==4){fn=function(data,def){if(!data){data=def;}var url=window.geturl(leapconfig.server+"LEAP/Resource/HTML/trusted/trustedload.html?module=DirIndex&lpid="+data.id+"&text="+encodeURIComponent(data.showname));LEAP.asyn(function(url){window.open(url);
},null,100,url);};}else{if(def.indexpagemodulestyle&&def.indexpagemodulestyle==5){fn=function(data,def){if(!data){data=def;}if(data&&data.syscode){LEAP.asyn(function(url){window.open(url);},null,100,"Index.html?lalid="+data.id);}};}else{fn=function(data,def){if(!data){data=def;}var url=data.url;if(url.indexOf(".html")>-1||url.indexOf(".htm")>-1||url.endsWith("/")){if(url.indexOf("/LEAP/")>0){LEAP.asyn(function(url){window.open(url);
},null,100,leapconfig.server+"LEAP/Service/RPC/RPC.DO?method=systemauth_trustedv2&sid="+leapclient.getsid()+"&p="+encodeURIComponent(url));return;}}if(data&&data.syscode){LEAP.asyn(function(url){window.open(url);},null,100,"Index.html?ltsd="+LEAP.getRealSyscode(data.syscode).replace(".","_"));}};}}}if(def.resourcetype==11){LEAP.request2({name:"app_getResourceData",par:{name:def.url},callback:fn,arg:def,router:"leap"});
}else{if(def.resourcetype==2){fn(def);}}}else{if(def.resourcetype==3||def.resourcetype==4){var modulename=def.resourcetype==4?def.name:def.url;if(def.indexpagemodulestyle&&def.indexpagemodulestyle==3){var par={name:modulename,autodispose:true,width:def.width,height:def.height,title:def.text};if(parentModule){parentModule.loadForm3(par);
}else{LEAP.form.create3(par);}}else{var url=window.geturl(leapconfig.server+"LEAP/Resource/HTML/trusted/trustedload.html?module="+modulename+"&text="+encodeURIComponent(def.text));LEAP.asyn(function(url){window.open(url);},null,100,url);}}}}}}}}};LEAP._tfcache=new hashtable();LEAP.trustedforward=function(n){if(n.refappserver){var l=n._tf_o_url;
if(!l){l=n.url;n._tf_o_url=l;}if(LEAP._tfcache==null){LEAP._tfcache=new hashtable();}var d={server:n.refappserver,type:n.indexpagemodulestyle,restype:n.resourcetype,url:l};var m=null;if(!LEAP._tfcache.contains(d.server)){m=LEAP.request2({name:"systemauth_getappserverinfo",par:{server:d.server},router:"leap"});
LEAP._tfcache.add(d.server,m);}else{m=LEAP._tfcache.getvalue(d.server);}if(!m){return;}var l=d.url;var h=false;if(l.indexOf("@server")>-1){l=l.replace("@server","");h=true;}if(l.indexOf("LEAP/")==0){h=true;}if(!h){l="LEAP/Resource/HTML/trusted/frameload.html?module="+encodeURIComponent(l)+"&text="+encodeURIComponent(n.text);
if(n.customize){l+="&arg="+n.customize;}}var j=LEAP.request({name:"systemauth_jumpto",par:{url:l,sys:m.leapsysname},router:"leap"});if(j){var g=new StringBuffer();if(m.serveruri){if(m.serveruri.indexOf("http")==0){g.append(m.serveruri);}else{g.append(leapconfig.portal).append("://").append(m.serveruri);
}}else{g.append(leapconfig.portal).append("://").append(leapconfig.host);}g.append(":");if(m.serverport){g.append(m.serverport);}else{g.append(leapconfig.port);}g.append("/");if(m.servercontext){g.append(m.servercontext).append("/");}g.append(j);n.value2=n.url=g.toString();}}};LEAP.showGIFNum=function(j,r,h,l,g){try{if(g==null){g="LEAP/Resource/images/gifnum/shadow";
}var q=r+"";var m=new StringBuffer();for(var o=0;o<q.length;o++){var p=q.charAt(o);var d=leapconfig.server+g+"/"+p+".gif";var n=LEAP.getElement("IMG[sn="+o+"]",j);if(!n){n=document.createElement("IMG");n.setAttribute("sn",o+"");j.appendChild(n);}n.src=d;if(l){n.style.height=l;}else{n.style.height="auto";
}if(h){n.style.width=h;}else{n.style.width="auto";}n=null;}}finally{j=null;}};LEAP.showError=function(d){if(d&&isdebug){var g=d.stack;if(g==null){g=d.toString();}if(LEAP.messagebox&&LEAP.messagebox.alert){LEAP.messagebox.alert(g,3);}else{window.alert(g);}throw d;}};LEAP.warpChangedLog=function(d){if(d.hasOwnProperty("__sourceobj__")){return;
}d.__sourceobj__=LEAP.clone(d);d.toJSON=function(){var n=[];var j=new Object();var g={};for(var l in d){j[l]=null;if(l=="__sourceobj__"){continue;}var m=d[l];if(m!=null){if(typeof(m)=="function"){continue;}var h=d.__sourceobj__[l];if(typeof(h)=="function"){continue;}if(m!=h){n.push(l);}}else{if(d.__sourceobj__[l]!=null){n.push(l);
}}g[l]=m;}for(var l in d.__sourceobj__){if(j.hasOwnProperty(l)){continue;}var m=d.__sourceobj__[l];if(m!=null){if(typeof(m)=="function"){continue;}n.push(l);}else{n.push(l);}g[l]=null;}if(n.length>0){g.changedPropertys=n;}return g;};};LEAP.otAdd=function(l,j){var h,g,d;try{h=l.toString().split(".")[1].length;
}catch(n){h=0;}try{g=j.toString().split(".")[1].length;}catch(n){g=0;}d=Math.pow(10,Math.max(h,g));return(LEAP.otMultiply(l,d)+LEAP.otMultiply(j,d))/d;};LEAP.otMultiply=function(o,l){var h=0,r=o.toString(),q=l.toString();try{h+=r.split(".")[1].length;}catch(p){}try{h+=q.split(".")[1].length;}catch(p){}var n=0,j=0,g,d;
try{n=(LEAP.tonum(r.replace(".",""))*LEAP.tonum(q.replace(".",""))).toString().split(".")[1].length;}catch(p){}try{j=Math.pow(10,h).toString().split(".")[1].length;}catch(p){}g=LEAP.tonum((LEAP.tonum(r.replace(".",""))*LEAP.tonum(q.replace(".",""))).toString().replace(".",""));d=LEAP.tonum(Math.pow(10,h).toString().replace(".",""));
return g/d;};LEAP.otDivide=function(j,h){var m=0,l=0,g,d;try{m=j.toString().split(".")[1].length;}catch(n){}try{l=h.toString().split(".")[1].length;}catch(n){}g=LEAP.tonum(j.toString().replace(".",""));d=LEAP.tonum(h.toString().replace(".",""));return LEAP.otMultiply((g/d),Math.pow(10,l-m));};LEAP.otReduce=function(l,j){var h,g,d,p;
try{h=l.toString().split(".")[1].length;}catch(o){h=0;}try{g=j.toString().split(".")[1].length;}catch(o){g=0;}d=Math.pow(10,Math.max(h,g));p=(h>=g)?h:g;return((LEAP.otMultiply(l,d)-LEAP.otMultiply(j,d))/d).toFixed(p);};LEAP.fullScreen=function(){var h=document.documentElement;var d=h.requestFullScreen||h.webkitRequestFullScreen||h.mozRequestFullScreen||h.msRequestFullscreen;
if(d&&typeof d!="undefined"){d.call(h);return;}var g=null;if(typeof window.ActiveXObject!="undefined"){g=new ActiveXObject("WScript.Shell");if(g){g.SendKeys("{F11}");}}};LEAP.existFullScreen=function(){var h=document;var d=h.cancelFullScreen||h.webkitCancelFullScreen||h.mozCancelFullScreen||h.msExitFullscreen;
if(d&&typeof d!="undefined"){d.call(h);return;}var g=null;if(typeof window.ActiveXObject!="undefined"){g=new ActiveXObject("WScript.Shell");if(g){g.SendKeys("{F11}");}}};LEAPLGRS={};LEAPLGRS.idsn=1;LEAPLGRS.es=new hashtable();LEAPLGRS.ph="clientHeight";LEAPLGRS.pw="clientWidth";LEAPLGRS.oph="_rsoheight";
LEAPLGRS.opw="_rsowidth";LEAPLGRS.selector=Sizzle;LEAPLGRS.getElement=function(d,l,j,g){var h=null;try{if(l!=null&&typeof(l)==commfields.string){l=LEAPLGRS.getElement(l);}h=LEAPLGRS.selector(d,l,j,g);if(h.length>0){return h[0];}}catch(m){}finally{h=null;}};LEAPLGRS.getElements=function(d,l,j,g){var h=null;
try{if(l!=null&&typeof(l)==commfields.string){l=LEAPLGRS.getElement(l);}h=LEAPLGRS.selector(d,l,j,g);if(h!=null&&h.length==0){return null;}return h;}catch(m){}finally{h=null;}};LEAPLGRS.asyn=function(m,j,l){if(!m){return;}if(l==null){l=10;}var d=null;if(arguments==null||arguments.length<4){}else{d=[];
for(var g=3;g<arguments.length;g++){d[g-3]=arguments[g];}}var h=function(){try{if(m!=null){if(d!=null){m.apply(j,d);}else{m.apply(j);}}}finally{j=d=arguments=m=null;}};setTimeout(h,l);h=null;};LEAPLGRS.id=function(d){if(!d){return null;}if(d.id){return d.getAttribute("id");}else{var g="LEAPLGRES_ID_"+LEAPLGRS.idsn++;
d.setAttribute("id",g);return g;}};LEAPLGRS.setup=function(h,g){if(!LEAPBrowser.notSupportBindEvent&&!(LEAPBrowser.isIE&&LEAPBrowser.documentMode==8&&LEAPBrowser.cssmode==1)){return;}var d=LEAPLGRS.id(h);h=null;if(!d){return;}LEAPLGRS.asyn(LEAPLGRS._setup,null,800,d,g);};LEAPLGRS._setup=function(g,m,o){var l=document.getElementById(g);
if(!l){return;}if(m=="tb_img"){LEAPLGRS.es.add([g],{fn:LEAPLG.tb,id:g});l.setAttribute(LEAPLGRS.oph,l[LEAPLGRS.ph]);l.setAttribute(LEAPLGRS.opw,l[LEAPLGRS.pw]);var j=LEAPLGRS.getElement("DIV.lg_p2_tb_top",l);if(j){var d=LEAPLGRS.id(j);LEAPLGRS.es.add(d,{fn:LEAPLG.tb_layout,id:d});j.setAttribute(LEAPLGRS.oph,j[LEAPLGRS.ph]);
j.setAttribute(LEAPLGRS.opw,j[LEAPLGRS.pw]);}}else{if(m=="bt_img"){LEAPLGRS.es.add(g,{fn:LEAPLG.bt,id:g});l.setAttribute(LEAPLGRS.oph,l[LEAPLGRS.ph]);l.setAttribute(LEAPLGRS.opw,l[LEAPLGRS.pw]);var h=LEAPLGRS.getElement("DIV.lg_p2_bt_bottom",l);if(h){var n=LEAPLGRS.id(h);LEAPLGRS.es.add(n,{fn:LEAPLG.bt_layout,id:n});
h.setAttribute(LEAPLGRS.oph,h[LEAPLGRS.ph]);h.setAttribute(LEAPLGRS.opw,h[LEAPLGRS.pw]);}}else{if(m=="bct_img"){LEAPLGRS.es.add(g,{fn:LEAPLG.bct,id:g});l.setAttribute(LEAPLGRS.oph,l[LEAPLGRS.ph]);l.setAttribute(LEAPLGRS.opw,l[LEAPLGRS.pw]);var j=LEAPLGRS.getElement("DIV.lg_p2_bct_top",l);if(j){var d=LEAPLGRS.id(j);
LEAPLGRS.es.add(d,{fn:LEAPLG.tb_layout,id:d});j.setAttribute(LEAPLGRS.oph,j[LEAPLGRS.ph]);j.setAttribute(LEAPLGRS.opw,j[LEAPLGRS.pw]);}var h=LEAPLGRS.getElement("DIV.lg_p2_bct_bottom",l);if(h){var n=LEAPLGRS.id(h);LEAPLGRS.es.add(n,{fn:LEAPLG.bt_layout,id:n});h.setAttribute(LEAPLGRS.oph,h[LEAPLGRS.ph]);
h.setAttribute(LEAPLGRS.opw,h[LEAPLGRS.pw]);}}else{if(m=="other"){l.setAttribute(LEAPLGRS.oph,l[LEAPLGRS.ph]);l.setAttribute(LEAPLGRS.opw,l[LEAPLGRS.pw]);LEAPLGRS.es.add(g,{fn:o,id:g});}}}}l=null;};LEAPLGRS.handler=function(){try{for(var u in LEAPLGRS.es.keys){var g=LEAPLGRS.es.getvalue(u);var r=document.getElementById(g.id);
if(r){if(r.currentStyle&&r.currentStyle.visibility=="hidden"){continue;}try{var n=r[LEAPLGRS.ph];var q=r[LEAPLGRS.pw];var x=r.getAttribute("_rsinit");if((n>0&&q>0)&&(!x||n!=r.getAttribute(LEAPLGRS.oph)||q!=r.getAttribute(LEAPLGRS.opw))){if(!x){r.setAttribute("_rsinit","1");}var p=[null,r];r.setAttribute(LEAPLGRS.oph,n);
r.setAttribute(LEAPLGRS.opw,q);try{g.fn.apply(window,p);}finally{p=null;}}}finally{r=null;}}else{LEAPLGRS.es.remove(u);}}if((LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>9)||LEAPBrowser.isWebKit){var d=LEAPLGRS.getElements(".lgsearchcon");if(d){var j=d.length;for(var m=0;m<j;m++){var r=d[m];if(r.style.display=="block"){r.style.display="inline-block";
}r=null;}d=null;}}}catch(o){}window.setTimeout(LEAPLGRS.handler,500);};LEAPLGRS.init=function(){LEAPLGRS.handler();};LEAPLGRS.init();var DateUtil=function(){var l=null;var h=null;var g=1000;var m=60*g;var d=60*m;var j=24*d;this.getKey=function(p,q,o){return["y",p,"m",q,"d",o].join("");};this.getKey2=function(o){o=n(o);
return["y",o.getFullYear(),"m",o.getMonth()+1,"d",o.getDate()].join("");};this.isWorkDay=function(p){p=n(p);var r=this.getKey2(p);var o=LEAP.getUserInfo().workDayCache.workday[r];if(o!=null){if(o==1){return false;}else{if(o==2){return true;}}}var q=p.getDay();if(q==0){q=7;}if(q<6){return true;}return false;
};this.getDays=function(r,u){if(r==null||u==null){return null;}r=n(r);u=n(u);var q=this.compare(r,u);if(q>0){var p=u;u=r;r=p;}else{if(q==0){return[r];}}var w=r;var o=[];while(this.compare(w,u)<1){o.add(new Date(w.getTime()));w.setTime(w.getTime()+j);}if(o.length>0){return o;}return null;};this.getWorkDays=function(r,u){if(r==null||u==null){return null;
}r=n(r);u=n(u);var q=this.compare(r,u);if(q>0){var p=u;u=r;r=p;}else{if(q==0){if(this.isWorkDay(r)){return[r];}}}var w=r;var o=[];while(this.compare(w,u)<1){if(this.isWorkDay(w)){o.add(new Date(w.getTime()));}w.setTime(w.getTime()+j);}if(o.length>0){return o;}return null;};this.addDay=function(p,A,w,q){p=n(p);
if(p==null){p=new Date();}if(w==null){w=false;}if(q==null){q=false;}var u=p.getTime();if(!w&&!q){return new Date(u+A*j);}else{if(w){var z=Math.abs(A);var x=1;if(A<0){x=-1;}var y=new Date();y.setTime(u);for(var r=0;r<z;r++){y.setTime(y.getTime()+(x*j));var o=y.getDay();if(o==0){o=7;}if(o==6||o==7){r--;
}}return y;}else{if(q){var z=Math.abs(A);var x=1;if(A<0){x=-1;}var y=new Date(u);for(var r=0;r<z;r++){y.addDay(x);if(!this.isWorkDay(y)){r--;}}return y;}}}return null;};this.addHour=function(p,z,u){p=n(p);if(p==null){p=new Date();}if(u==null){u=false;}if(onlyWorkDay==null){onlyWorkDay=false;}var r=p.getTime();
if(!u&&!onlyWorkDay){return new Date(r+z*d);}else{if(u){var y=Math.abs(z);var w=1;if(z<0){w=-1;}var x=new Date();x.setTime(r+z*d);for(var q=0;q<y;q++){x.setTime(x.getTime()+(w*j));var o=x.getDay();if(o==0){o=7;}if(o==6||o==7){q--;}}return x;}}return null;};this.buildDate=function(o){o=n(o);return new Date(o.getTime());
};this.sameDay=function(q,r){q=n(q);r=n(r);if(q==null||r==null){return false;}var p=new Date(q.getTime());var o=new Date(r.getTime());p.setMinutes(0);p.setHours(0);p.setSeconds(0);p.setMilliseconds(0);o.setMinutes(0);o.setHours(0);o.setSeconds(0);o.setMilliseconds(0);return this.compare(p,o)==0;};var n=function(o){if(o==null){return null;
}if(typeof o=="string"){o=LEAP.toDate(o);}return o;};this.compare=function(o,p){o=n(o);p=n(p);return o.getTime()-p.getTime();};this.gapDay=function(o,z,x,q){o=n(o);z=n(z);if(x==null){x=false;}if(q==null){q=false;}if(o==null||z==null){return 0;}if(this.sameDay(o,z)){return 0;}if(x==null){x=false;}if(q==null){q=false;
}o=this.buildDate(o);z=this.buildDate(z);o.setMinutes(0);o.setHours(0);o.setSeconds(0);o.setMilliseconds(0);z.setMinutes(0);z.setHours(0);z.setSeconds(0);z.setMilliseconds(0);var A=(o.getTime()-z.getTime())/j;var r=Math.abs(A);var C=o;if(o.getTime()>z.getTime()){C=z;}if(x||q){var y=0;for(var w=0;w<r;
w++){var B=new Date();B.setTime(C.getTime()+(w+1)*j);if(x){var p=B.getDay();if(p==0||p==6){y+=1;}}else{if(q){if(!this.isWorkDay(B)){y+=1;}}}}var u=Math.abs(A)-y;if(u<0){u=1;}if(A<0){A=-u;}else{A=u;}}return A;};this.getDay=function(o){o=n(o);if(o==null){return null;}return o.getDate();};this.getMonth=function(o){o=n(o);
if(o==null){return null;}return o.getMonth()+1;};this.getYear=function(o){o=n(o);if(o==null){return null;}return o.getFullYear();};this.getQuarter=function(o){var p=this.getMonth(o);if(p!=null){return Math.floor((p-1)/3+1);}};this.getWeek=function(o){o=n(o);if(o==null){return null;}var p=o.getDay();if(p==0){p=7;
}return p;};this.getWeekOfMonth=function(p){p=n(p);if(p==null){return null;}var o=p.getDate();var r=new Date(p.getFullYear(),p.getMonth(),1);var q=r.getDay();if(q==0){q=7;}return Math.floor((o+q-2+7)/7);};this.getWeekOfYear=function(p){p=n(p);if(p==null){return null;}var r=new Date(p.getFullYear(),0,1);
var o=new Date(p.getFullYear(),p.getMonth(),p.getDate());var u=(o.getTime()-r.getTime())/(24*60*60*1000);var q=r.getDay();if(q==0){q=7;}return Math.floor((u+1+q-2+7)/7);};this.addMonth=function(p,q){if(q==null){return;}p=n(p);if(p==null){return null;}var o=new Date(p.getFullYear(),p.getMonth()+q,p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds());
return o;};};LEAP.form={};LEAP.form.d="form";LEAP.form.z=100;LEAP.form._ac="#5192C8";LEAP.form._dc="#8ab5e8";LEAP.form.innerMask=false;LEAP.form.enableMin=true;LEAP.form.autoMask=false;LEAP.form._pm=LEAPBrowser&&((LEAPBrowser.documentMode&&LEAPBrowser.documentMode<7)||(LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion==7&&!LEAPBrowser.documentMode))?"absolute":"fixed";
LEAP.form.taskItemStr='<img style="width:18px;height:18px;" onselectstart="return false;" unselectable=on onContextMenu="return false" hidefocus="true" ctf=ltaskbaritem src="@img"><font onselectstart="return false;" unselectable=on onContextMenu="return false" hidefocus="true" ctf=ltaskbaritem style="font-size: 13px;color: #454545;margin-top:3px;cursor:pointer">@text</font><a style="width:100%;height:100%;" href="javascript:" onselectstart="return false;" unselectable=on onContextMenu="return false" hidefocus="true" ctf="ltaskbaritem" targetform="@form" title="@text"></a>';
LEAP.form.cie6='<div class="lgform2" ct="form" ctf="form_setwidth" ctf="form_setheigth" formmode=3 style="position:'+LEAP.form._pm+'"><div class="lgform2_l2"><div class="lgform2_l3" ctf="form_backcolor" ><img src="@serverLEAP/Resource/images/itemstyle/webui/blue/nav_icon2.gif" ctf="form_titleimg" class="lgfomr2_img" onselectstart="return false;" unselectable=on hidefocus="true" onContextMenu="return false"><div class="lgform2_title" ctf="form_title" onselectstart="return false;" unselectable=on hidefocus="true" onContextMenu="return false">Studio </div><div class="lgform2_btns" ctf="form_btns" onselectstart="return false;" unselectable=on hidefocus="true" onContextMenu="return false"></div><div class="lgform2_content" ctf="form_content" onselectstart="" unselectable=false hidefocus="false" onContextMenu=""></div><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/pixel.gif" style="left:2px;top:26px;position:absolute;overflow:auto;width:10px;height:10px;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'@serverLEAP/Resource/SystemTemplate/images/main_zs.png\', sizingMethod=\'crop\')"><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/pixel.gif" style="left:2px;bottom:1px;position:absolute;overflow:auto;width:10px;height:10px;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'@serverLEAP/Resource/SystemTemplate/images2/main_zx.png\', sizingMethod=\'crop\')"><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/pixel.gif" style="top:25px;right:2px;;position:absolute;overflow:auto;width:10px;height:10px;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'@serverLEAP/Resource/SystemTemplate/images2/main_ys.png\', sizingMethod=\'crop\')"><img src="@serverLEAP/Resource/SystemTemplate/pixel.gif" class="lg_form_sj" style="bottom:1px;right:2px;position:absolute;overflow:auto;width:10px;height:10px;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'@serverLEAP/Resource/SystemTemplate/images2/main_yx.png\', sizingMethod=\'crop\')"> </div><img src="@serverLEAP/Resource/images/itemstyle/form/resize.gif" ctf="form_resize" class="lgformresize" hidefocus="true" onselectstart="return false;" unselectable=on onContextMenu="return false" border="0"></div>  <iframe sandbox="allow-same-origin allow-scripts allow-top-navigation allow-forms" src="javascript:false" style="position:absolute; visibility:inherit; top:0px; left:0px; width:100%; height:100%; z-index:-1; filter=\'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)\';"></iframe>  </div>';
LEAP.form.cnie6='<div class="lgform2" ct="form" ctf="form_setwidth" ctf="form_setheigth" formmode=3 style="position:'+LEAP.form._pm+'"><div class="lgform2_l2"><div class="lgform2_l3" ctf="form_backcolor" ><img src="@serverLEAP/Resource/images/itemstyle/webui/blue/nav_icon2.gif" ctf="form_titleimg" class="lgfomr2_img" onselectstart="return false;" unselectable=on hidefocus="true" onContextMenu="return false"><div class="lgform2_title" ctf="form_title" onselectstart="return false;" unselectable=on hidefocus="true" onContextMenu="return false">Studio </div><div class="lgform2_btns" ctf="form_btns" onselectstart="return false;" unselectable=on hidefocus="true" onContextMenu="return false"></div><div class="lgform2_content" ctf="form_content" onselectstart="" unselectable=false hidefocus="false" onContextMenu=""></div><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/images/main_zs.png" style="left:2px;top:26px;position:absolute;overflow:auto;width:10px;height:10px;"><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/images/main_zx.png" style="left:2px;bottom:1px;position:absolute;overflow:auto;width:10px;height:10px;"><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/images/main_ys.png" style="top:25px;right:2px;;position:absolute;overflow:auto;width:10px;height:10px;"><img class="lg_form_sj" src="@serverLEAP/Resource/SystemTemplate/images/main_yx.png" style="bottom:1px;right:2px;position:absolute;overflow:auto;width:10px;height:10px;"> </div><img src="@serverLEAP/Resource/images/itemstyle/form/resize.gif" ctf="form_resize" class="lgformresize" hidefocus="true" onselectstart="return false;" unselectable=on onContextMenu="return false" border="0"></div>  @iframe@  </div>';
LEAP.form.__hideCon=null;LEAP.form.enableResize=true;LEAP.form._addInnerMask=function(d){if(LEAP.form.innerMask==false){return;}if(d==null){return;}d=LEAP._check(d,LEAP.form.d);if(d==null){return;}if(d.getAttribute("ct")=="form"){var g=LEAP.getElement("iframe[ctf=formInnerIframe]",d);if(g!=null){g.parentNode.removeChild(g);
g=null;}g=document.createElement("iframe");g.src="javascript:false";g.style.position="absolute";g.style.visibility="inherit";g.style.top="0px";g.style.left="0px";g.style.width="100%";g.style.height="100%";g.style.zIndex="-1";g.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";
g.ctf="formInnerIframe";d.appendChild(g);g=null;}};LEAP.form.___hide=function(d){if(LEAP.getElement("object[ctf=GIS]:first",d)!=null){if(d.style.top!="-99999px"){d.___top=d.style.top;}if(d.style.left!="-99999px"){d.___left=d.style.left;}d.style.left=d.style.top="-99999px";}else{d.style.display="none";
}d=null;};LEAP.form.___show=function(d){if(LEAP.getElement("object[ctf=GIS]:first",d)!=null){d.style.left=d.___left;d.style.top=d.___top;}else{d.style.display="block";}d=null;};LEAP.form.isHide=function(d){d=LEAP._check(d,LEAP.form.d);if(d==null){return;}var g=d.style.left=="-99999px"||d.style.display=="none"||d.parentElement==LEAP.form.__hideCon;
d=null;return g;};LEAP.form._init=function(){ElementEventManager.addManagedEventType(LEAP.form.d,"formHided");ElementEventManager.addManagedEventType(LEAP.form.d,"formHiding");UIEventManager.removeEvent(window,"load",LEAP.form._init);LEAP.addEvent(document.body,"mousedown",LEAP.form.uiProcess,null,null,true);
LEAP.addEvent(document.body,"click",LEAP.form.uiProcess,null,null,true);LEAP.addEvent(document.body,"dblclick",LEAP.form.uiProcess,null,null,true);if(LEAP._dragDiv==null){LEAP._dragDiv=document.createElement("div");LEAP._dragDiv.className="drag";LEAP._dragDiv.style.position=LEAP.form._pm;document.body.appendChild(LEAP._dragDiv);
}LEAP.form.enableMin=LEAP.form.getTaskBar()!=null;if(LEAP.form.__hideCon==null){var g=document.createElement("div");g.style.position=LEAP.form._pm;g.style.x=-99999;g.style.y=-99999;g.style.overflow="hidden";g.style.width="0px";g.style.height="0px";g.style.lineHeight="0px";g.style.display="block";document.body.appendChild(g);
LEAP.form.__hideCon=g;}if(LEAP._maskdiv==null){LEAP._maskdiv=document.createElement("DIV");LEAP._maskdiv.style.position=LEAP.form._pm;LEAP._maskdiv.style.height="100%";LEAP._maskdiv.style.width="100%";LEAP._maskdiv.style.zIndex="99998";LEAP._maskdiv.style.left="0px";LEAP._maskdiv.style.top="0px";LEAP._maskdiv.style.display="none";
LEAP._maskdiv.style.background="black";LEAP._maskdiv.style.filter="alpha(opacity = 50)";LEAP._maskdiv.style.opacity="0.5";document.body.appendChild(LEAP._maskdiv);var d=document.createElement("iframe");d.src="javascript:false";d.style.position="absolute";d.style.visibility="inherit";d.style.top="0px";
d.style.left="0px";d.style.width="100%";d.style.height="100%";d.style.zIndex="-1";d.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";d.ctf="formInnerIframe";LEAP._maskdiv.appendChild(d);d.contentWindow.document.oncontextmenu=function(){return false;};d=null;}if(LEAP._processinggifdiv==null){LEAP._processinggifdiv=document.createElement("div");
LEAP._processinggifdiv.style.position=LEAP.form._pm;LEAP._processinggifdiv.style.display="none";document.body.appendChild(LEAP._processinggifdiv);LEAP._processinggifdiv.style.height="80px";LEAP._processinggifdiv.style.width="158px";LEAP._processinggif=document.createElement("img");LEAP._processinggif.height=80;
LEAP._processinggif.width=158;LEAP._processinggif.src=PublishServerConfig.getURL("LEAP/Resource/images/itemstyle/form/p.gif");LEAP._processinggifdiv.appendChild(LEAP._processinggif);LEAP._processinggifdiv.style.left=(document.body.clientWidth/2-158/2)+"px";LEAP._processinggifdiv.style.top=(document.body.clientHeight/2-80/2)+"px";
LEAP._processinggifdiv.style.zIndex="99999";LEAP._processinggifdiv.appendChild(LEAP._processinggif);}};LEAP.form.init=function(){if(document!=null&&document.body!=null){LEAP.form._init();}else{UIEventManager.addEvent(window,"load",LEAP.form._init);}}();LEAP._showMask=function(g,d){if(g==null){g=false;
}if(LEAP._maskdiv!=null){LEAP._maskdiv.style.display="block";LEAP._processinggifdiv.style.display="none";LEAP._processinggif.src=PublishServerConfig.getURL("LEAP/Resource/images/itemstyle/form/p.gif");LEAP._processinggifdiv.style.left=(document.body.clientWidth/2-158/2)+"px";LEAP._processinggifdiv.style.top=(document.body.clientHeight/2-80/2)+"px";
if(!g){LEAP.form.z+=10;}if(d){LEAP._maskdiv.style.zIndex=d;}else{LEAP._maskdiv.style.zIndex=LEAP.form.z;}}};LEAP.showMask=function(d){LEAP.form.z+=10;LEAP.asyn(LEAP._showMask,null,null,true,d);};LEAP._hideMask=function(){if(LEAP._maskdiv!=null){LEAP._maskdiv.style.display="none";LEAP._processinggifdiv.style.display="none";
}};LEAP.hideMask=function(){LEAP.asyn(LEAP._hideMask);};LEAP.form.create2=function(B,p,d,w,q,o,m,r,A,z,l,j,n,h,g,u){return LEAP.form.create(B,p,d,w,q,o,m,r,A,z,l,2,null,null,j,null,null,n,h,g,u);};LEAP.form.create3=function(d){var g=d.path;if(g==null){g=d.name;}return LEAP.form.create(g,d.title,d.width,d.height,d.x,d.y,d.autohide,d.hidemsg,d.autodispose,d.distributeFlag,d.initShow,d.showMode,d.icon,d.moduleLoadArg,d.pageMode,d.moduleParameter,d.authority,d.formtype,d.module,d.router);
};LEAP.form.coverTarget=function(j,g){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}var d=g.clientHeight;var h=g.clientWidth;var l=LEAP.getAbsolutePos(g);LEAP.form.setSize(j,h,d);LEAP.form.setLocation(j,l.x,l.y);};LEAP.form.t=null;LEAP.form.create=function(V,M,d,j,S,R,p,B,A,r,I,h,w,u,L,ad,K,z,l,X){if(I==null){I=true;
}if(h==null){h=1;}var C=null;var U=false;if(LEAP.isIE6){C=LEAP.form.cie6;}else{var O=navigator.userAgent;var q=O.indexOf("compatible")>-1&&O.indexOf("MSIE")>-1;var n=O.indexOf("Trident")>-1&&O.indexOf("rv:11.0")>-1;C=LEAP.form.cnie6.replace("@iframe@",'<iframe sandbox="allow-same-origin allow-scripts allow-top-navigation allow-forms" src="javascript:false" style="position:absolute; visibility:inherit; top:0px; left:0px; width:100%; height:100%; z-index:-1; filter=\'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)\';"></iframe>');
if(z){if(z==3){C=C.replace('class="lgform2"','class="lgform2 lc_popform"').replace("Studio ",'<div ctf="form_settitle" class="lgform2_title_text">Studio </div>');}else{if(z==4){I=false;C=C.replace('class="lgform2"','class="lgform2 lc_popform lc_popformani"').replace("Studio ",'<div ctf="form_settitle" class="lgform2_title_text">Studio </div>').replace(' class="lgform2_btns"',' class="lgform2_btns" style="display:none" ');
if(!d){d="34%";}if(l&&l.pageMode&&l.pageMode=="search"){var o=l.getElement(".lgresultpanel");if(o){R=LEAP.getAbsolutePos(o).y;j=o.clientHeight-3;}}}}}else{z=2;}}C=C.replaceall("@server",leapconfig.server);var m=UUID.cID();C=C.replaceall(" ct=",' instance="'+m+'" ct=');C=C.replaceall("\tct=",' instance="'+m+'" ct=');
C=C.replaceall("\nct=",' instance="'+m+'" ct=');var aa=document.createElement("div");document.body.appendChild(aa);if(!I){aa.display="none";}else{}aa.style.position="absolute";aa.style.left="0px";aa.style.top="0px";var Q=m;aa.innerHTML=C;var H=LEAP.getElement("[ct=form]",aa);H.setAttribute("formtype",z);
if(LEAP.form.autoMask){if(!LEAP.form.maskcount.contains(LEAP.ctid(H))){LEAP.form.maskcount.add(LEAP.ctid(H));}LEAP.showMask("100");}var N={form:"[instance="+Q+"]",module:null,showMode:h,show:function(){LEAP.form.show(this.form);},hide:function(x){LEAP.form.hide(this.form,null,null,x);},setContent:function(x){LEAP.form.setContent(this.form,x);
},setContentElement:function(x){LEAP.form.setContentElement(this.form,x);},maxSize:function(){LEAP.form.maxSize(this.form);},setSize:function(y,x){LEAP.form.setSize(this.form,y,x);}};LEAP.setStyle(H,{zIndex:LEAP.form.z++});LEAP.form.___activeForm(H);if(!I){H.display="none";}aa.removeChild(H);LEAP.removeElement(aa);
document.body.appendChild(H);var g=LEAP.getElement("iframe",H);g.src="javascript:void(0)";g.contentWindow.document.write("");try{g.contentWindow.document.clear();}catch(ab){}try{g.contentWindow.close();}catch(ab){}g=null;if(p==false){H.setAttribute("autohide","0");}if(B!=null){H.setAttribute("hidemsg",B);
}var ac=false;if(V!=null){N.module=LEAP.form.setContentModule(H,V,r,u,L,ad,K,null,X);if(N.module.pageLoad!=null){N.module.form=N.form;var P=N.module.___def;if(P!=null){if(!String.isEmpty(P.width)){d=P.width;}if(!String.isEmpty(P.height)){j=P.height;}if(P.ismax!=null){ac=P.ismax==1;}}if(!d&&!j){U=true;
}if(d==null&&N.module.isworkflow&&N.module.pageModuleWidth){if(N.module.pageModuleWidth.indexOf("%")>-1){d=N.module.pageModuleWidth;}else{d=N.module.pageModuleWidth*1;}}else{if(d==null&&!N.module.isworkflow&&N.module.pageModuleWidth){if(N.module.pageModuleWidth.indexOf("%")>-1){d=N.module.pageModuleWidth;
}else{d=N.module.pageModuleWidth*1;}}}if(j==null&&N.module.isworkflow&&N.module.pageModuleHeight){if(N.module.pageModuleHeight.indexOf("%")>-1){j=N.module.pageModuleHeight;}else{j=N.module.pageModuleHeight*1;}}else{if(j==null&&!N.module.isworkflow&&N.module.pageModuleHeight){if(N.module.pageModuleHeight.indexOf("%")>-1){j=N.module.pageModuleHeight;
}else{j=N.module.pageModuleHeight*1;}}}if(M==null&&N.module.moduleCNName){M=N.module.moduleCNName;}}}var W=false;var ae=false;if(d==null){d=800;}if(j==null){j=500;}if(typeof(d)=="string"&&d.indexOf("%")>-1){var T=d.replace("%","")*1/100;d=document.body.clientWidth*T;W=(T==1);}if(typeof(j)=="string"&&j.indexOf("%")>-1){var Y=j.replace("%","")*1/100;
j=document.body.clientHeight*Y;ae=(Y==1);}if(W&&ae){ac=true;}if(typeof(d)=="number"){d=d+"";}if(typeof(j)=="number"){j=j+"";}if(d.toLowerCase().endsWith("px")||d.endsWith("%")){}else{d+="px";}if(j.toLowerCase().endsWith("px")||j.endsWith("%")){}else{j+="px";}LEAP.form.setSize(H,d,j);if(M!=null){LEAP.form.setTitle(H,M);
}if(ac){LEAP.form.maxSize(H);}else{if(S==null||R==null){var J=LEAP.getInnerWindowSize();if(document.body.style.cssText!=null){if(document.body.style.cssText.indexOf("zoom")>-1){J=LEAP.getInnerBodySize();}}var G=J.width;var F=J.height;if(LEAP.isIE&&LEAPBrowser.IEVersion<10&&(LEAPBrowser.documentMode&&LEAPBrowser.documentMode>7)){F-=35;
G-=12;}if(S==null){S=(G-H.clientWidth)/2;}if(R==null){R=(F-H.clientHeight)/2;}}if(S<0){S=20;}if(R<0){R=40;}LEAP.setStyle(H,{position:LEAP.form._pm,left:S+"px",top:R+"px"});}if(w==null&&N.module!=null&&N.module.pageModuleIcon!=null){w=N.module.pageModuleIcon;}if(!String.isEmpty(w)){LEAP.form.setTitleImage(H,w);
}if(A==true){H.module=N.module;}if(h==1&&N!=null){LEAP.form.addTaskBarItem(N.form);}if(!LEAP.form.enableResize){LEAP.getElement("IMG.lgformresize",H).style.display="none";}if(z&&z==4){H.style.display="";H.style.right="3000px";}aa=H=null;if(z&&N&&N.module){N.module._formtype=z;}if(LEAP.form._info&&U&&ac){var Z=LEAP.form._info;
LEAP.form._rebuildForm(N,Z.x,Z.y,Z.w,Z.h);}if(LEAP.form._info&&N.form){var D=LEAP.getElement("[ctf=form_btns]",N.form);if(D){D.className="lgform2_btns lgform2_btns2";}}return N;};LEAP.form.tc=0;LEAP.form._m1=function(){var j=LEAP.getElement("div[ctid="+LEAP.form.t_ctid+"]");if(!j){return;}if(j.style.position!="fixed"){j.style.position="fixed";
}if(j.style.left!="auto"){j.style.left="auto";}var h=j.clientWidth;if(!j){return;}LEAP.form.tc++;var d=25;if(!LEAPBrowser.isIE){d=12;}if(LEAP.form.tc<d){var g=LEAP.form.tc/d;j.style.right=-(h-h/d*LEAP.form.tc)+"px";}else{if(LEAP.form.t!=null){window.clearInterval(LEAP.form.t);LEAP.form.t=null;}LEAP.form.tc=0;
j.style.right="0px";}};LEAP.form.setEnableResize=function(g,d){g=LEAP._check(g,LEAP.form.d);if(!g){return;}if(d==null){d=true;}if(d){LEAP.getElement("IMG.lgformresize",g).style.display="";}else{LEAP.getElement("IMG.lgformresize",g).style.display="none";}g=null;};LEAP.form.setTitleImage=function(d,h){try{if(String.isEmpty(h)){return;
}d=LEAP._check(d,LEAP.form.d);if(d==null){return;}if(LEAP.hasCSS(d,"lgform2")){var g=h;if(g.indexOf("http")!=0){g=leapconfig.server+g;}LEAP.getElement("img[ctf=form_titleimg]:first",d).src=g;}}finally{d=null;}};LEAP.form.getFormTitle=function(d){var g=null;try{d=LEAP._check(d,LEAP.form.d);if(d==null){return;
}if(LEAP.hasCSS(d,"lc_popform")){g=LEAP.getElement("[ctf=form_settitle]",d);return g.innerText;}else{if(LEAP.hasCSS(d,"lgform2")){g=LEAP.getElement("[ctf=form_title]",d);return g.innerText;}else{g=LEAP.getElement("[ctf=form_settitle]",d);g.innerText;}}}finally{d=g=null;}};LEAP.form.addTaskBarItem=function(l){l=LEAP._check(l,LEAP.form.d);
if(l==null){return;}var j=LEAP.form.getTaskBar();if(j!=null){if(LEAP.getElement("a[targetform="+l.getAttribute("instance")+"]",j)==null){var m=document.createElement("span");m.className="ltaskitem";j.appendChild(m);var o=LEAP.form.getFormTitle(l);var d=o.getLength();var g=d*7.5+35;m.style.width=g+"px";
var h=LEAP.getElement("img[ctf=form_titleimg]:first",l).src;var n=LEAP.form.taskItemStr.replaceall("@text",o).replace("@form",l.getAttribute("instance")).replace("@img",h);m.innerHTML=n;LEAP.form.actviveTakItem(l);}}};LEAP.form.setLocation=function(g,d,h){g=LEAP._check(g,LEAP.form.d);if(g==null){return;
}LEAP.setStyle(g,{left:d+"px",top:h+"px"});};LEAP.form.setTitle=function(d,h){d=LEAP._check(d,LEAP.form.d);if(d==null){return;}if(LEAP.hasCSS(d,"lc_popform")){var g=LEAP.getElement("[ctf=form_settitle]",d);g.innerText=h;g=null;}else{if(LEAP.hasCSS(d,"lgform2")){var g=LEAP.getElement("[ctf=form_title]",d);
g.innerText=h;g=null;}else{var g=LEAP.getElement("[ctf=form_settitle]",d);g.innerText=h;g=null;}}};LEAP.form._resetContentSize=function(d){if(d&&LEAPBrowser.documentMode&&LEAPBrowser.documentMode==7){var g=LEAP.getElement("div[ctf=form_content]",d);if(g){LEAP.setStyle(g,{width:d.clientWidth-7,height:d.clientHeight-30},false);
}}d=null;};LEAP.form.coverModule=function(m){if(!m.module){return;}var l=m.module;var j=l.moduleElement.parentElement;var o=document.createElement("div");o.style.height="100%";o.style.widht="100%";o.style.overFlow="auto";o.style.position="relative";j.appendChild(o);l.moduleElement.style.display="none";
if(!m.path&&m.name){m.path=m.name;}var d=LEAP.form.setContentModule(o,m.path,m.distributeFlag,m.moduleLoadArg,m.pageMode,m.moduleParameter,m.authority,true,m.router);var g=document.createElement("img");g.src=leapconfig.server+"LEAP/Resource/images/itemstyle/form/cover_black.png";g.style.position="absolute";
g.style.right="5px";g.style.top="5px";g.style.zIndex="9999";g.style.cursor="pointer";g.style.height=g.style.width="30px";g.setAttribute("ctf","from_cover_btns");o.appendChild(g);g=null;var n=UUID.cID();o.setAttribute("instance",n);o.setAttribute("ct","form_cover");var h={form:"[instance="+n+"]",module:d,showMode:1,show:function(){LEAP.form.show(this.form);
},hide:function(p){LEAP.form.hide(this.form,null,null,p);},setContent:function(p){},setContentElement:function(p){},maxSize:function(){},setSize:function(q,p){}};j=d=l=m=o=null;return h;};LEAP.form.setContentModule=function(h,q,p,n,g,r,j,d,o){if(!d){h=LEAP._check(h,LEAP.form.d);if(h==null){return;}var m=LEAP.getElement("div[ctf=form_content]",h);
LEAP.form._resetContentSize(h);h.setAttribute("form_iscover","1");}else{m=h;}var l=LEAP.loadModule(q,m,null,null,null,p,r,n,g,null,null,j,null,o);h.setAttribute("moduleinstance",l.instance);m=h=null;return l;};LEAP.form.setContent=function(g,d){g=LEAP._check(g,LEAP.form.d);if(g==null){return;}var h=LEAP.getElement("div[ctf=form_content]",g);
LEAP.form._resetContentSize(g);h.innerHTML=d;h=g=null;};LEAP.form.setValue=function(d,g){d=LEAP._check(d,LEAP.form.d);if(d==null){return;}d._value=g;};LEAP.form.getValue=function(d){d=LEAP._check(d,LEAP.form.d);if(d==null){return;}return d._value;};LEAP.form.setContentElement=function(d,h){d=LEAP._check(d,LEAP.form.d);
if(d==null){return;}var g=LEAP.getElement("div[ctf=form_content]",d);LEAP.form._resetContentSize(d);g.innerHTML="";g.appendChild(h);g=d=h=null;};LEAP.form.setSize=function(g,h,d){g=LEAP._check(g,LEAP.form.d);if(g==null){return;}var l=g.getAttribute("formmode");if(l==null){l="0";}if(d!=null){if(typeof(d)=="string"){if(d.indexOf("%")>-1){d=document.body.clientHeight*Number("0."+d.replace("%",""));
}else{if(d.indexOf("px")>-1){d=Number(d.substr(0,d.length-2));}}}if(typeof(d)=="string"){d=d*1;}var j=g.getAttribute("formtype");if(!LEAPBrowser.style_old&&typeof(d)=="number"){if(!(j&&j>3)){d=d-34;}else{d=d-3;}}if(typeof(d)=="number"){d+="px";}if(l=="3"){g.style.height=d;}else{LEAP.setStyle(LEAP.getElements("div[ctf=form_setheigth]",g),{height:d});
}}if(h!=null){if(typeof(h)=="string"){if(h.indexOf("%")>-1){h=document.body.clientWidth*Number("0."+h.replace("%",""));}else{if(h.indexOf("px")>-1){h=Number(h.substr(0,h.length-2));}}}if(typeof(h)=="string"){h=h*1;}if(!LEAPBrowser.style_old&&typeof(h)=="number"){h=h-10;}if(typeof(h)=="number"){h+="px";
}if(l=="3"){g.style.width=h;}else{LEAP.setStyle(g,{width:h});}}LEAP.form._resetContentSize(g);h=d=g=null;};LEAP.form.close=function(g){var d=LEAP._check(g,LEAP.form.d);if(d==null){g=LEAP._check(g,"form_cover");if(g){g.innerHTML="";LEAP.removeElement(g);g=null;}return;}g=d;LEAP.form.maskcount.remove(LEAP.ctid(g));
if(LEAP.form.autoMask&&LEAP.form.maskcount.size()==0){LEAP.hideMask();}LEAP.form.removeTaskItem(g);var h=LEAP.getElement("div[ctf=form_content]",g);h.innerHTML="";LEAP.removeElement(h);g.innerHTML="";g._value=null;LEAP.removeElement(g);d=h=g=null;};LEAP.form.hide=function(g,w,p,o){if(g&&g._isFormObj){g.hide();
return;}if(LEAP.form.t!=null){window.clearInterval(LEAP.form.t);LEAP.form.t=null;}var u=LEAP._check(g,LEAP.form.d);if(u==null){g=LEAP._check(g,"form_cover");if(g){g.style.display="none";var q=LEAP.getLoadedModule(g.getAttribute("moduleinstance"));if(q&&q.getParentModule()){q.getParentModule().moduleElement.style.display="block";
}g=null;}g=null;return;}g=u;LEAP.form.maskcount.remove(LEAP.ctid(g));if(LEAP.form.autoMask&&LEAP.form.maskcount.size()==0){LEAP.hideMask();}if(p==null){p=true;}if(!p){LEAP.form._setCurDeActiveForm(g);}else{LEAP.form.removeTaskItem(g);if(g.module!=null){var d=g.module;g.module=null;d.dispose();d=null;
g=null;return;}if(w==true){var m=true;var B=g.getAttribute("moduleinstance");if(B!=null){var d=LEAP.getLoadedModule(B);if(d!=null){var D=d.pageMode;if(D!=null&&D=="view"){m=false;}d=null;}}if(m&&(g.getAttribute("autohide")=="0"||g.getAttribute("autohide")==0)){var j=g.getAttribute("hidemsg");if(j==null||j==""){j="?";
}if(!window.confirm(j)){g=null;return;}}}}if(o==null||o==true){ElementEventManager.handleEvent(g,"formHiding",{form:"div[instance="+g.getAttribute("instance")+"]",removeTaskItem:p});var B=g.getAttribute("moduleinstance");var d=LEAP.getLoadedModule(B);if(d!=null){if(d.onFormHiding){var C=d.onFormHiding();
if(C!=null&&C==false){return;}}d=null;}}LEAP.form.___hide(g);if(o==null||o==true){ElementEventManager.handleEvent(g,"formHided",{form:"div[instance="+g.getAttribute("instance")+"]",removeTaskItem:p});}var r=LEAP.getElements("div[ct=form]");if(r){var y=r.length;var z=0;var x=-1;for(var A=0;A<y;A++){var h=r[A];
if(LEAP.form.isHide(h)){continue;}var n=h.style.zIndex*1;if(n>z){z=n;x=A;}h=null;}if(x>-1){LEAP.form._setCurActiveForm(r[x]);}r=null;}u=g=null;};LEAP.form.hideChild=function(j){var g=LEAP._check(j,LEAP.form.d);if(g==null){return;}var m=LEAP.getLoadedModule(j.getAttribute("moduleinstance"));if(m&&m.___forms){var d=m.___forms.length;
for(var h=0;h<d;h++){LEAP.form.hide(m.___forms[h]);}}g=j=null;};LEAP.form.maskcount=new hashtable();LEAP.form.setFormType=function(g,h){if(typeof(g)=="string"){g=LEAP.getElement(g);}var d=LEAP._check(g,LEAP.form.d);if(d){d.setAttribute("formtype",h);}g=d=null;};LEAP.form.show=function(j,m,h){if(j&&j._isFormObj){j.show();
return;}var d=LEAP._check(j,LEAP.form.d);if(d==null){j=LEAP._check(j,"form_cover");if(j){j.style.display="block";var l=LEAP.getLoadedModule(j.getAttribute("moduleinstance"));if(l&&l.getParentModule()){l.getParentModule().moduleElement.style.display="none";}j=null;}j=null;return;}j=d;if(LEAP.form.autoMask){if(!LEAP.form.maskcount.contains(LEAP.ctid(j))){LEAP.form.maskcount.add(LEAP.ctid(j));
}LEAP.showMask("100");}LEAP.form.___hide(j);j.style.zIndex=LEAP.form.z++;LEAP.form.addTaskBarItem(j);LEAP.form.___activeForm(j);LEAP.form._addInnerMask(j);LEAP.form.actviveTakItem(j);if(!m){m=j.getAttribute("formtype");}if(!m){m=1;}var g=j.getAttribute("pft");if(h==null){h=true;}if(m==4){if(h){LEAP.form.tc=0;
LEAP.form.t_ctid=LEAP.ctid(j);LEAP.form.t_last=new Date().getTime();if(LEAP.form.t){window.clearInterval(LEAP.form.t);}LEAP.form.t=setInterval(LEAP.form._m1,5);j.style.display="";j.style.right="20000";}else{j.style.right="0";}}LEAP.form.___show(j);j.setAttribute("pft",m);d=j=null;};LEAP.form.uiProcess=function(C){var Y=C.e;
var aa=C.e.type;var p=null;if(aa=="click"){var K=Y.srcElement.getAttribute("ctf");var j=false;if(K&&K.indexOf("select2_")==0){j=true;}if(Y&&Y.srcElement&&Y.srcElement.getAttribute("skipformhide")){j=true;}if(!j){p=LEAP._match(Y.srcElement,"form","ct",30);if(!p){if(LEAP.form.t_last){if(new Date().getTime()-LEAP.form.t_last<200){j=true;
}}if(!j){var l=LEAP.getElements("div[ct=form][formtype=4]");if(l){for(var V=0;V<l.length;V++){var m=l[V];if(m.clientWidth>0){var D=m.getAttribute("formtype");if(D&&D==4){LEAP.form.hide(m);LEAP.form.t_last_ctid=LEAP.ctid(m);LEAP.form.t_last2=new Date().getTime();m=null;}}}l=null;}}}else{if(!j){var o=LEAP.getElement("[ctf=form_content]",p);
var T=null;if(o){var Z=null;try{Z=o.children[0].getAttribute(commfields.instance);if(!Z){var G=LEAP.getElement("DIV:first",o);if(G){Z=G.getAttribute(commfields.instance);}}var g=LEAP.getLoadedModule(Z);if(g){if(g.parentPageModule&&g.parentPageModule.moduleElement){T=LEAP._match(g.parentPageModule.moduleElement,"form","ct",30);
}}}catch(Y){}}var l=LEAP.getElements("div[ct=form][formtype=4]");if(l){for(var V=0;V<l.length;V++){var m=l[V];if(p==m||(T!=null&&T==m)){continue;}if(m.clientWidth>0){var D=m.getAttribute("formtype");if(D&&D==4){LEAP.form.hide(m);LEAP.form.t_last_ctid=LEAP.ctid(m);LEAP.form.t_last2=new Date().getTime();
m=null;}}}l=null;}}}}}if(aa=="mouseup"&&LEAP.form.dragObj!=null){LEAP.removeEvent(document.body,"mousemove",LEAP.form.uiProcess,true);LEAP.removeEvent(document.body,"mouseup",LEAP.form.uiProcess,true);LEAP.stopEvent(Y);LEAP.asyn(LEAP.form._t2,null,30);return false;}else{if(aa=="mouseup"&&LEAP.form.resizing!=null&&LEAP.form.resizing){document.body.style.cursor="";
var F=LEAP.form.resizestart;var S=C.e.clientX-F.x;var Q=C.e.clientY-F.y;if(S<=150){S=150;}if(Q<=60){Q=60;}var U=LEAP.form.resizeform.offsetWidth;var W=LEAP.form.resizeform.offsetHeight;if(S==U&&Q==W){LEAP.stopEvent(Y);return false;}LEAP.form.setSize(LEAP.form.resizeform,S,Q);if(!LEAP.hasCSS(LEAP.form.resizeform,"lgform2")){LEAP.getElement("[ctf=form_btn_size]",LEAP.form.resizeform).setAttribute("mode","normal");
}LEAP.form.resizeform=LEAP.form.resizing=null;LEAP.removeEvent(document.body,"mousemove",LEAP.form.uiProcess,true);LEAP.removeEvent(document.body,"mouseup",LEAP.form.uiProcess,true);LEAP.stopEvent(Y);return false;}}if(aa=="mousemove"&&LEAP.form.dragObj!=null){if(LEAP.form.dragObj==null){return false;
}var u=LEAP.getAbsolutePos(LEAP.form.dragObj);var S=C.e.clientX-LEAP.form.dragObj._offsetX;var Q=C.e.clientY-LEAP.form.dragObj._offsetY;if(S<0){S=0;}if(Q<0){Q=0;}if(S<0||Q<0){LEAP.stopEvent(Y);return false;}if(LEAP.form.dragObj._m=="3"){var U=LEAP.form.dragObj._w;var W=LEAP.form.dragObj._h;var A=document.body.clientWidth;
var J=document.body.clientHeight;var r=LEAP.form.dragObj._sh;if(A>0&&U+S>A){S=A-U;}if(J>0&&W+Q>J){Q=J-W;}if((A>0&&U+S>A)||(J>0&&W+Q>J)){LEAP.stopEvent(Y);return false;}if(r!=null){if(J>0&&W+Q+r>J){Q=J-r-W;}if(J>0&&W+Q+r>J){LEAP.stopEvent(Y);return false;}}}LEAP.setStyle(LEAP._dragDiv,{left:S,top:Q});
LEAP.stopEvent(Y);return false;}if(aa=="mousemove"){if(LEAP.form.resizing!=null&&LEAP.form.resizing){var F=LEAP.form.resizestart;var S=C.e.clientX-F.x;var Q=C.e.clientY-F.y;if(S<=150){S=150;}if(Q<=60){Q=60;}var U=LEAP.form.resizeform.offsetWidth;var W=LEAP.form.resizeform.offsetHeight;if(S==U&&Q==W){return;
}if(Math.abs(S-U)>15||Math.abs(Q-W)>15){LEAP.form.setSize(LEAP.form.resizeform,S,Q);}LEAP.stopEvent(Y);return false;}}var z=C.e.srcElement;var K=z.getAttribute(commfields.ctf);var B=z.getAttribute(commfields.ct);if(aa=="click"&&K=="from_cover_btns"){var X=z.parentElement;if(X.style.display=="none"){LEAP.form.show(X);
}else{LEAP.form.hide(X);}X=null;return;}if(aa=="mousedown"&&K=="form4_resize_resize"){if(z.children[0].className=="tree_folding_oc_open"){LEAP.form.innerResizing=true;LEAP.form.innerResizingSrc=z;LEAP.form.innerResizingMW=LEAP.form.innerResizingSrc.parentElement.parentElement.parentElement.parentElement.offsetWidth;
LEAP.form.innerResizingOW=LEAP.form.innerResizingSrc.parentElement.parentElement.parentElement.offsetWidth;LEAP.form.resizestart={x:C.e.clientX};LEAP.stopEvent(Y);LEAP.addEvent(document.body,"mousemove",LEAP.form.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseup",LEAP.form.uiProcess,null,null,true);
}return false;}else{if(aa=="mousemove"&&LEAP.form.innerResizing!=null&&LEAP.form.innerResizing==true){var F=LEAP.form.resizestart;var S=C.e.clientX-F.x;if(S==0){return false;}var U=LEAP.form.innerResizingOW;var L=U+S;if(L<100){L=100;}if((L+150)>=LEAP.form.innerResizingMW){return false;}LEAP.form.innerResizingSrc.parentElement.parentElement.parentElement.style.width=L+"px";
return false;}else{if(aa=="mouseup"&&LEAP.form.innerResizing!=null&&LEAP.form.innerResizing==true){LEAP.form.innerResizing=null;LEAP.form.innerResizingSrc=null;LEAP.removeEvent(document.body,"mousemove",LEAP.form.uiProcess,true);LEAP.removeEvent(document.body,"mouseup",LEAP.form.uiProcess,true);LEAP.stopEvent(Y);
return false;}else{if(aa=="click"&&K=="form4_resize_hidemenu"){if(z.className=="tree_folding_oc_open"){z.className="tree_folding_oc_close";z.pw=z.parentElement.parentElement.parentElement.parentElement.offsetWidth;z.parentElement.parentElement.parentElement.parentElement.style.width="10px";}else{z.className="tree_folding_oc_open";
z.parentElement.parentElement.parentElement.parentElement.style.width=z.pw;}}}}}var p=null;try{if(aa=="click"&&K!=null&&K=="ltaskbaritem"){if(z.tagName!="A"){z=LEAP.getElement("A:first",z.parentElement);}var N=z.getAttribute("targetform");if(N!=null){var M=LEAP.getElement("div[instance="+N+"]");if(M!=null){var H=z.parentNode;
if(H!=null){if(H.getAttribute("l_isactivetaskitem")==null){LEAP.form.show(M);}else{if(LEAP.form.isHide(M)){LEAP.form.show(M);}else{LEAP.form.hide(M,true,false);}}H=null;}M=null;}}return;}if(B==LEAP.form.d){p=z;}if(p==null&&K!=null&&K.indexOf(LEAP.form.d)==0){p=LEAP._match(z,LEAP.form.d);}if(p==null){return;
}if(aa=="dblclick"){if((K=="form_settitle"&&n!=null&&n=="3")||K=="form_title"){LEAP.form.show(p);var n=p.getAttribute("formmode");if(n!=null&&n=="3"){var I=null;if(LEAP.hasCSS(p,"lgform2")){I=LEAP.getElement("[ctf=form_btns]",p).getAttribute("mode");}else{I=LEAP.getElement("[ctf=form_btn_size]",p).getAttribute("mode");
}if(I=="max"){LEAP.form.restoreSize(p);}else{LEAP.form.maxSize(p);}}else{if(z.className=="iframe_title_max_icon"){LEAP.form.maxSize(p);}else{LEAP.form.restoreSize(p);}}return;}}if(aa=="click"){if(K=="form_btns"){var d=z.getAttribute("hidemax");if(d&&d=="1"){LEAP.form.hide(p,true);LEAP.form.hideChild(p);
return;}var n=p.getAttribute("formmode");var O=p.getAttribute("formtype");var S=Y.offsetX;var Q=Y.offsetY;if(n=="3"&&O>2){if(Q<30){var q=S>20&&S<100;if(q){if(S>55&&S<100){LEAP.form.hide(p,true);LEAP.form.hideChild(p);}else{var P=z.getAttribute("mode");if(P=="max"){LEAP.form.restoreSize(p);}else{LEAP.form.maxSize(p);
}}}}}else{if(Q<15){var q=S>2&&S<81&&S!=21&&S!=53;var aa=1;if(LEAP.hasCSS(p,"lc_popform")){q=S>6&&S<96;aa=2;}if(q){if(LEAP.form.enableMin&&((aa==1&&S<21)||(aa==2&&S<40))){LEAP.form.hide(p,true,false);LEAP.form.hideChild(p);}else{if((aa==1&&((LEAP.form.enableMin&&S<53)||(!LEAP.form.enableMin&&S<21)))||(aa==2&&((LEAP.form.enableMin&&S<66)||(!LEAP.form.enableMin&&S<40)))){LEAP.form.show(p);
var n=p.getAttribute("formmode");if(n!=null&&n=="3"){var I=z.getAttribute("mode");if(I=="max"){LEAP.form.restoreSize(p);}else{LEAP.form.maxSize(p);}}else{if(z.className=="iframe_title_max_icon"){LEAP.form.maxSize(p);}else{LEAP.form.restoreSize(p);}}}else{LEAP.form.hide(p,true);LEAP.form.hideChild(p);
}}}}}return;}else{if(K=="form_btn_close"){LEAP.form.hide(p,true);LEAP.form.hideChild(p);return;}else{if(K=="form_btn_min"){LEAP.form.hide(p,true,false);LEAP.form.hideChild(p);return;}else{if(K=="form_btn_size"){LEAP.form.show(p);var n=p.getAttribute("formmode");if(n!=null&&n=="3"){var I=z.getAttribute("mode");
if(I=="max"){LEAP.form.restoreSize(p);}else{LEAP.form.maxSize(p);}}else{if(z.className=="iframe_title_max_icon"){LEAP.form.maxSize(p);}else{LEAP.form.restoreSize(p);}}return;}}}}}else{if(aa=="mousedown"&&K=="form_title"||K=="form_settitle"){var n=p.getAttribute("formmode");if((K=="form_settitle"&&n!=null&&n=="3")||K=="form_title"){var u=LEAP.getAbsolutePos(p);
LEAP._dragDiv.style.display="block";LEAP.setStyle(LEAP._dragDiv,{width:p.offsetWidth,height:p.offsetHeight,left:u.x,top:u.y});if(n==null){n="0";}LEAP.addEvent(document.body,"mousemove",LEAP.form.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseup",LEAP.form.uiProcess,null,null,true);LEAP.form.dragObj=p;
LEAP.form.dragObj._w=p.offsetWidth;LEAP.form.dragObj._h=p.offsetHeight;LEAP.form.dragObj._m=n;var R=LEAP.form.getTaskBar();if(R!=null){LEAP.form.dragObj._sh=R.clientHeight;R=null;}p._offsetX=C.e.offsetX+35;p._offsetY=C.e.offsetY+9;LEAP.asyn(LEAP.form._t1,null,30,"div[instance="+p.getAttribute("instance")+"]:first");
LEAP.stopEvent(Y);return false;}}else{if(aa=="mousedown"&&K=="form_resize"){LEAP.form.show(p);LEAP.form.resizing=true;LEAP.form.resizeform=p;LEAP.form.resizestart=LEAP.getAbsolutePos(p);LEAP.addEvent(document.body,"mousemove",LEAP.form.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseup",LEAP.form.uiProcess,null,null,true);
document.body.style.cursor="se-resize";LEAP.stopEvent(Y);return false;}else{if(aa=="mousemove"&&K=="form_btns"){var O=p.getAttribute("formtype");var I=p.getAttribute("status");var n=p.getAttribute("formmode");if(n!="3"||O<3){return;}var d=z.getAttribute("hidemax");if(d&&d=="1"){if(I=="2"){return;}z.className="lgform2_btns_hide";
p.setAttribute("status","2");return;}var S=Y.offsetX;var Q=Y.offsetY;if(Q<40){var q=S>10&&S<100;if(q){if(S>55&&S<100){if(I=="1"){return;}z.className="lgform2_btns_hide";p.setAttribute("status","1");}else{if(I=="2"){return;}z.className="lgform2_btns_resize";p.setAttribute("status","2");}}}return;}else{if(aa=="mouseout"&&K=="form_btns"){var n=p.getAttribute("formmode");
var O=p.getAttribute("formtype");if(n!="3"||O<3){return;}z.className="lgform2_btns";p.setAttribute("status","0");return;}}}}}}finally{z=K=B=aa=p=null;}};LEAP.form.___activeForm=function(d){d=LEAP._check(d,LEAP.form.d);if(d==null){return;}LEAP.form._setActiveFormStyle(d);};LEAP.form.___deactiveForm=function(d){d=LEAP._check(d,LEAP.form.d);
if(d==null){return;}LEAP.form._setDeActiveFormStyle(d);};LEAP.form.hideResize=function(g,d){g=LEAP._check(g,LEAP.form.d);if(g==null){return;}var h=LEAP.getElement("[ctf=form_resize]",g);if(d==true){h.style.display="block";}else{h.style.display="none";}};LEAP.form.hideOperResize=function(g){g=LEAP._check(g,LEAP.form.d);
if(g==null){return;}var d=LEAP.getElement("[ctf=form_btns]",g);if(!d){return;}var h=g.getAttribute("formtype");if(h==3){d.style.backgroundPositionX="-80px";d.style.right="-60px";d.setAttribute("hidemax","1");}};LEAP.form.hideOperButton=function(g,d){g=LEAP._check(g,LEAP.form.d);if(g==null){return;}var h=LEAP.getElement("[ctf=form_btns]",g);
if(d==true){h.style.display="block";}else{h.style.display="none";}};LEAP.form.hideAllForm=function(){LEAP.asyn(LEAP.form.__hideAllForm);};LEAP.form._t1=function(d){d=LEAP.getElement(d);LEAP.form._setCurActiveForm(d);d.style.zIndex=LEAP.form.z++;LEAP.form.___show(d);};LEAP.form._t2=function(){var o=LEAP.getAbsolutePos(LEAP._dragDiv);
var d=o.x;var p=o.y;if(d<0){d=0;}if(p<0){p=0;}if(d<0||p<0){return;}if(LEAP.form.dragObj._m=="3"){var j=LEAP.form.dragObj._w;var n=LEAP.form.dragObj._h;var g=document.body.clientWidth;var m=document.body.clientHeight;var l=LEAP.form.dragObj._sh;if(g>0&&j+d>g){d=g-j;}if(m>0&&n+p>m){p=m-n;}if((g>0&&j+d>g)||(m>0&&n+p>m)){return;
}if(l!=null){if(m>0&&n+p+l>m){p=m-l-n;}if(m>0&&n+p+l>m){return;}}}LEAP.form.dragObj.style.display="none";LEAP.form.dragObj.style.left=d+"px";LEAP.form.dragObj.style.top=p+"px";LEAP.form.dragObj.style.display="block";LEAP._dragDiv.style.display="none";LEAP.form.dragObj=null;};LEAP.form._setCurActiveForm=function(g){var h=LEAP.form.getTaskBar();
if(h!=null){var d=g.getAttribute("instance");if(d!=null){var j=LEAP.getElement("a[targetform="+d+"]",h);if(j!=null){LEAP.form._setActiveTIStyle(j);}}h=null;}LEAP.form._setActiveFormStyle(g);};LEAP.form._setCurDeActiveForm=function(g){var h=LEAP.form.getTaskBar();if(h!=null){var d=g.getAttribute("instance");
if(d!=null){var j=LEAP.getElement("a[targetform="+d+"]",h);if(j!=null){LEAP.form._setDeActiveTIStyle(j);}}h=null;}LEAP.form._setDeActiveFormStyle(g);};LEAP.form._setActiveFormStyle=function(d){if(!d){return;}try{var h=d.getAttribute("l_isactiveform");if(h!=null&&h=="1"){return;}var g=LEAP.getElement("div[l_isactiveform=1]:first");
if(g){if(LEAP.hasCSS(g,"lgform2")){LEAP.form.___setDACFORMPROP(g);}else{LEAP.getElement("div[ctf=form_title]:first",g).style.backgroundImage="";}g.removeAttribute("l_isactiveform");g=null;}d.setAttribute("l_isactiveform","1");if(LEAP.hasCSS(d,"lgform2")){LEAP.form.___setACFORMPROP(d);}else{LEAP.getElement("div[ctf=form_title]:first",d).style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/form/f2top.gif)";
}}finally{d=null;}};LEAP.form.themeStyle="";LEAP.form.___setACFORMPROP=function(d){var l=LEAP.getElement("div[ctf=form_btns]:first",d);if(d.getAttribute("formtype")>2){if(l&&d.getAttribute("formtype")==3){var j=l.getAttribute("hidemax");if(j&&j=="1"){return;}l.style.backgroundPositionX="-27px";l.style.right="-8px";
LEAP.addEvent(l,"mousemove",LEAP.form.uiProcess,null,null,true);LEAP.addEvent(l,"mouseout",LEAP.form.uiProcess,null,null,true);}return;}if(LEAP.hasCSS(d,"lc_popform")){if(!LEAP.form.enableMin){l.style.backgroundPositionX="-36px";l.style.right="-36px";}return;}var g=LEAP.getElement("div[ctf=form_backcolor]:first",d);
g.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/form/"+LEAP.form.themeStyle+"back-1.jpg)";g.style.backgroundRepeat="no-repeat";g.style.backgroundColor=LEAP.form._ac;var h="form2_btns.jpg";if(!LEAP.form.enableMin){h=LEAP.form.themeStyle+"NM_form2_btns.jpg";l.style.width="58px";
}l.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/form/"+h+")";l=null;var m=LEAP.getElement("div[st=formcons]:first",d);if(m){m.style.backgroundColor=LEAP.form._ac;m=null;}g=null;d=null;};LEAP.form.___setDACFORMPROP=function(d){if(d.getAttribute("formtype")>2){return;}var g=LEAP.getElement("div[ctf=form_backcolor]:first",d);
g.style.backgroundImage="";g.style.backgroundColor=LEAP.form._dc;var h="form2_btns_2.jpg";var j=LEAP.getElement("div[ctf=form_btns]:first",d);if(!LEAP.form.enableMin){h=LEAP.form.themeStyle+"NM_form2_btns-2.jpg";j.style.width="58px";}j.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/form/"+h+")";
j=null;var l=LEAP.getElement("div[st=formcons]:first",d);if(l){l.style.backgroundColor=LEAP.form._dc;l=null;}g=null;d=null;};LEAP.form._setAllDeActiveForm=function(){var d=LEAP.getElement("div[l_isactiveform=1]:first");if(d){if(LEAP.hasCSS(d,"lgform2")){LEAP.form.___setACFORMPROP(d);}else{LEAP.getElement("div[ctf=form_title]:first",d).style.backgroundImage="";
}d.removeAttribute("l_isactiveform");d=null;}};LEAP.form._setDeActiveFormStyle=function(d){try{var g=d.getAttribute("l_isactiveform");if(g!=null&&g=="1"){if(LEAP.hasCSS(d,"lgform2")){LEAP.form.___setACFORMPROP(d);}else{LEAP.getElement("div[ctf=form_title]:first",d).style.backgroundImage="";}d.removeAttribute("l_isactiveform");
d=null;}}finally{d=null;}};LEAP.form._setActiveTIStyle=function(d){if(d.tagName=="A"){d=d.parentElement;}var h=LEAP.form.getTaskBar();if(h!=null){var l=d.getAttribute("l_isactivetaskitem");if(l!=null&&l=="1"){return;}var g=LEAP.getElement("span[l_isactivetaskitem=1]",h);if(g){var j=LEAP.getElement("a:first",g);
g.removeAttribute("l_isactivetaskitem");g.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/index/id.jpg)";j=null;}var j=LEAP.getElement("a:first",d);d.setAttribute("l_isactivetaskitem","1");d.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/index/ia.jpg)";j=null;
h=null;}};LEAP.form._setDeActiveTIStyle=function(d){if(d.tagName=="A"){d=d.parentElement;}var g=LEAP.form.getTaskBar();if(g!=null){var h=d.getAttribute("l_isactivetaskitem");if(h!=null&&h=="1"){var j=LEAP.getElement("a:first",d);d.removeAttribute("l_isactivetaskitem");d.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/index/id.jpg)";
j=null;}g=null;}d=null;};LEAP.form._setAllDeActiveTI=function(){var g=LEAP.form.getTaskBar();if(g!=null){var d=LEAP.getElement("span[l_isactivetaskitem=1]",g);if(d){var h=LEAP.getElement("a:first",d);d.removeAttribute("l_isactivetaskitem");d.style.backgroundImage="url("+leapconfig.server+"LEAP/Resource/images/index/id.jpg)";
}g=null;}};LEAP.form.__hideAllForm=function(){LEAP.form._setAllDeActiveForm();LEAP.form._setAllDeActiveTI();var d=LEAP.getElements("div[ct=form]");if(d){for(var g=0;g<d.length;g++){LEAP.form.___hide(d[g]);}}d=null;};LEAP.form.getTaskBar=function(){if(LEAP.form.ishastaskbar==null){LEAP.form.ishastaskbar=false;
LEAP.form.taskbar=LEAP.getElement("div[ct=lg_taskbar]");if(LEAP.form.taskbar!=null){LEAP.form.ishastaskbar=true;LEAP.form.taskbarheight=LEAP.form.taskbar.parentElement.parentElement.offsetHeight;}}return LEAP.form.taskbar;};LEAP.form.removeTaskItem=function(h){h=LEAP._check(h,LEAP.form.d);if(h==null){return;
}var g=LEAP.form.getTaskBar();if(g!=null){var d=h.getAttribute("instance");if(d!=null){var j=LEAP.getElement("a[targetform="+d+"]",g);if(j!=null){g.removeChild(j.parentNode);}}g=null;}h=null;};LEAP.form.actviveTakItem=function(g){g=LEAP._check(g,LEAP.form.d);if(g==null){return;}var d=LEAP.form.getTaskBar();
if(d!=null){var h=LEAP.getElement("a[targetform="+g.getAttribute("instance")+"]",d);LEAP.form._setActiveTIStyle(h);d=null;}g=null;};LEAP.form.maxSize=function(m){m=LEAP._check(m,LEAP.form.d);if(m==null){return;}if(!LEAP.hasCSS(LEAP.getElement("[ctf=form_btn_size]",m),"iframe_title_res_icon")){var o=m.getAttribute("formmode");
var j=m.style.left;var p=m.style.top;var d=m.clientWidth;var u=m.clientHeight;m.setAttribute("size_left",j);m.setAttribute("size_top",p);m.setAttribute("size_width",d);if(o==null||o!="3"){m.setAttribute("size_height",u-48);}else{m.setAttribute("size_height",u);}m.style.left="0px";m.style.top="0px";LEAP.form.getTaskBar();
var g=LEAP.getInnerWindowSize();if(document.body.style.cssText!=null){if(document.body.style.cssText.indexOf("zoom")>-1){g=LEAP.getInnerBodySize();}}var r=g.width;var l=g.height;if(LEAP.isIE&&LEAPBrowser.IEVersion<10&&(LEAPBrowser.documentMode&&LEAPBrowser.documentMode>7)){l-=35;r-=12;}if(o==null||o!="3"){LEAP.getElement("[ctf=form_btn_size]",m).className="iframe_title_res_icon";
var n=l-50;if(LEAP.form.ishastaskbar){n=n-LEAP.form.taskbarheight;}LEAP.form.setSize(m,r,n);}else{if(LEAP.hasCSS(m,"lgform2")){LEAP.getElement("[ctf=form_btns]",m).setAttribute("mode","max");}else{LEAP.getElement("[ctf=form_btn_size]",m).setAttribute("mode","max");}var n=l;var q=r;if(LEAP.form.ishastaskbar){l=l-LEAP.form.taskbarheight;
}LEAP.form.setSize(m,r,l);}}LEAP.form._resetContentSize(m);m=null;};LEAP.form.restoreSize=function(d){d=LEAP._check(d,LEAP.form.d);if(d==null){return;}var g=d.getAttribute("formmode");if(g!=null&&g=="3"){if(LEAP.hasCSS(d,"lgform2")){LEAP.getElement("[ctf=form_btns]",d).setAttribute("mode","normal");}else{LEAP.getElement("[ctf=form_btn_size]",d).setAttribute("mode","normal");
}d.style.left=d.getAttribute("size_left");d.style.top=d.getAttribute("size_top");LEAP.form.setSize(d,d.getAttribute("size_width"),d.getAttribute("size_height"));}else{if(!LEAP.hasCSS(LEAP.getElement("[ctf=form_btn_size]",d),"iframe_title_max_icon")){LEAP.getElement("[ctf=form_btn_size]",d).className="iframe_title_max_icon";
d.style.left=d.getAttribute("size_left");d.style.top=d.getAttribute("size_top");LEAP.form.setSize(d,d.getAttribute("size_width"),d.getAttribute("size_height"));}}d=null;};LEAP.form.onselectstart=function(){return false;};LEAP.form.formContent='<div st="formcons" style="width:100%;height:100%;background-color:#5192C8 ;*+padding-left: 0px;*+padding-bottom: 0px;*+padding-top:0px;overflow:hidden;position: relative;"><div ut="cons_main_left" class="lg_p_lr_left" style="width: 205px;"><div style="width: 100%; height: 100%"><div ut="cons_main_spliter" class="lg_p_lr_right" style="width: 9px;cursor: pointer;"><div style="height:200px"></div><img ut="main_resize" src="@urlpreLEAP/Resource/SystemTemplate/images/resize_close.gif" style="left:3px"></div><div class="lg_p_lr_fill"><!-- <img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/tree_zxj.png" style="left:0px;bottom:-1px;position:absolute;overflow:auto;width:10px;height:10px;"><img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/tree_zj.png" style="position:absolute;overflow:auto;width:10px;height:10px;"> --><img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/tree_yj.png" style="right:-1px;;position:absolute;overflow:auto;width:10px;height:10px;"><img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/tree_yxj.png" style="bottom:-1px;right:-1px;position:absolute;overflow:auto;width:10px;height:10px;"> <div class="lg_p_lr_fill_c" style="padding:3px;border:1px solid #CBCCCE;background-color: #F3F3F3;position: relative;*+position:;"><div ut="con_leftworkarea" style="width:;*+width:100%;height:;*+height:100%;border-top: 1px solid #00A8EC;border-bottom: 1px solid #00A8EC;background-color: #72B4E8;overflow: auto;position:absolute;*+position:;top:3px;bottom:9px;left:3px;right:3px;"> <div ut="con_mainTree" style="display: none;width:100%;height:auto;background-color: #F3F3F5;"><div style="height: 13px;background-image: url(@urlpreLEAP/Resource/SystemTemplate/images/tree_contop.png);font-size:1px"></div><UL class="tree" ut="mainTree" ct="tree"></UL><div style="height: 12px;background-image: url(@urlpreLEAP/Resource/SystemTemplate/images/tree_conbottom.png);font-size:1px"></div></div> </div></div></div></div></div><div class="lg_p_lr_fill" style="position: relative;"><div class="lg_p_lr_fill_c" style="*+padding-right:0px;background-color: white;"><table ut="cons_main_bg" style="width:99%;height:99%;border:0;text-align: center;" cellpadding="0" cellspacing="0"><td valign="middle" align="center"><img ut="img_main_bg" src="@urlpreLEAP/Resource/SystemTemplate/images2/wa_bg.jpg" /></td></table><div ut="con_workarea" style="width:100%;height:100%;background-color: white;display:none"></div></div><img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/main_zx.png" style="left:-1px;bottom:-2px;position:absolute;overflow:auto;width:10px;height:10px;"><img class="lg_form_sj" _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/main_zs.png" style="left:-1px;top:-1px;position:absolute;overflow:auto;width:10px;height:10px;"><!-- <img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/main_ys.png" style="top:-1px;right:-2px;;position:absolute;overflow:auto;width:10px;height:10px;"><img _trans_=1 src="@urlpreLEAP/Resource/SystemTemplate/images2/main_yx.png" style="bottom:-2px;right:-2px;position:absolute;overflow:auto;width:10px;height:10px;"> --></div></div>'.replaceall("@urlpre",leapconfig.server);
LEAP.form.createWithDir=function(d){};LEAP.form._setContainer=function(d,l,g,j){LEAP.form._info={x:d,y:l,w:g,h:j};};LEAP.form._rebuildForm=function(j,d,m,g,l){if(!j||!j.form){return;}LEAP.form.setLocation(j.form,d,m);LEAP.form.setSize(j.form,g,l);};LEAP.select={};LEAP.select.a="<a value='@v'href='javascript:void(0)'ctf='select_item'>@n</a>";
LEAP.select.b="@v";LEAP.select.c="@n";LEAP.select.d="select";LEAP.select.dd="areagroup";LEAP.select.init=function(){if(document!=null&&document.body!=null){LEAP.select._init();}else{UIEventManager.addEvent(window,"load",LEAP.select._init);}ElementEventManager.addManagedEventType(LEAP.select.d,"valueChange");
ElementEventManager.addManagedEventType(LEAP.select.dd,"valueChange");};LEAP.select._init=function(){LEAP.addEvent(document.body,"click",LEAP.select.uiProcess,null,null,true);LEAP.addEvent(document.body,"keydown",LEAP.select.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.select._init);
};LEAP.select.getValueLevel=function(j){var m=j;try{j=LEAP._check(j,LEAP.select.d);if(j==null){j=LEAP._check(m,LEAP.select.dd);var p=j.getAttribute("md");if(j==null){return;}else{if(p!=null&&(p=="areaid"||p=="qhareaid")){var q=LEAP.select.getValue(j);if(q==null){return 0;}else{return LEAP.getarealevel(q);
}}else{j=LEAP.getElement("[ct=select][deep]",j);if(j==null){return;}}}}var u=j.getAttribute("group");if(u!=null&&u.Trim()!=""){var w=j.getAttribute("deep");if(w==null||w.toString().Trim()==""){return;}w=LEAP.parsenum(w);if(w==null){return;}var x=j.getAttribute("instance");var o="div[ct=select][group="+u+"]";
if(x!=null&&x.Trim()!=null){o+="[instance='"+x+"']";}var n=LEAP.getElements(o);if(n!=null){var g=n.length;var d=null;for(var h=g-1;h>-1;h--){d=n[h];var r=d.getAttribute(commfields.value);if(r==null||r==""){if(h==0){d=null;break;}else{continue;}}if(d==null){return;}else{return LEAP.parsenum(d.getAttribute("deep"));
}}}}}finally{m=j=null;}};LEAP.select.getValue=function(m){var q=m;try{if(m!=null){var n=m.getAttribute("ct");var y=m.getAttribute("group");if(n=="areagroup"){if(y!=null&&y.Trim()!=""){var p=m.getAttribute("_cansel_");if(p!=null&&p=="0"){return m.getAttribute("value");}}}}m=LEAP._check(m,LEAP.select.d);
if(m==null){m=LEAP._check(q,LEAP.select.dd);if(m==null){return;}else{m=LEAP.getElement("[ct=select][deep]",m);if(m==null){return;}}}if(y!=null&&y.Trim()!=""){var p=m.getAttribute("_cansel_");if(p!=null&&p=="0"){return m.getAttribute("value");return;}var z=m.getAttribute("deep");if(z==null||z.toString().Trim()==""){return;
}z=LEAP.parsenum(z);if(z==null){return;}var A=m.getAttribute("instance");var w="div[ct=select][group="+y+"]";if(A!=null&&A.Trim()!=null){w+="[instance='"+A+"']";}var u=LEAP.getElements(w);if(u!=null){var h=u.length;for(var j=h-1;j>-1;j--){var g=u[j];var x=g.getAttribute(commfields.value);if(x==null||x==""){if(j==0){var d=m.getAttribute("defaultvalue");
if(d!=null&&d.Trim()!=""){return d.Trim();}}else{continue;}}var o=g.getAttribute("count");var r=LEAP.select._fill(o,x);if(r==null||r.toString().Trim()==""){var d=m.getAttribute("defaultvalue");if(d!=null&&d.Trim()!=""){return d.Trim();}}return r;}}}else{var r=m.getAttribute(commfields.value);if(r==null||r.toString().Trim()==""){var d=m.getAttribute("defaultvalue");
if(d!=null&&d.Trim()!=""){return d.Trim();}}return r;}}finally{q=m=null;}};LEAP.select.getSelectedText=function(h){h=LEAP._check(h,LEAP.select.d);if(h==null){return;}var g=LEAP.getElement("[ctf=selectbtn]",h);if(g!=null){var d=g.value;g=null;return d;}g=null;};LEAP.select.setValue=function(j,q,d,n){var m=j;
try{j=LEAP._check(j,LEAP.select.d);if(j==null){j=LEAP._check(m,LEAP.select.dd);if(j==null){return;}else{j=LEAP.getElement("[ct=select][deep]",j);if(j==null){return;}}}if(q!=null){q=q.toString();}var u=j.getAttribute("size");var o=j.getAttribute("count");if(!String.isEmpty(q)&&o!=null&&q.length<o){while(q.length<o){q="0"+q;
}}var w=LEAP.select._sub(u,q);var g=LEAP.select._fill(o,w);var l=LEAP.getElement(".select_items a[value="+w+"]",j);if(l==null){l=LEAP.getElement('.select_items a[value=""]',j);}if(l!=null){var r=j.getAttribute(commfields.value);var h=l.getAttribute(commfields.value);var p=g;if(q==null){p="";}j.setAttribute(commfields.value,p);
LEAP.getElement("[ctf=selectbtn]",j).value=l.innerText;if(n!=false){LEAP.select._setvalue(j,r,q,d);}}else{j.setAttribute(commfields.value,"");LEAP.getElement("[ctf=selectbtn]",j).value="";if(n!=false){LEAP.select._setvalue(j,r,q,d);}}}finally{j=null;m=null;}};LEAP.select.addItem=function(h,j,d){h=LEAP._check(h,LEAP.select.d);
if(h==null){return;}if(j!=null&&j!=NaN){j=j+"";}if(d!=null&&d!=NaN){d=d+"";}var l=LEAP.getElement(".select_items",h);var m=document.createElement("div");l.appendChild(m);if(j==null||j.Trim()==""){j="";}if(d==null||d.Trim()==""){d="&nbsp";}var g=h.getAttribute("size");j=LEAP.select._sub(g,j);m.innerHTML=LEAP.select.a.replace(LEAP.select.b,j).replace(LEAP.select.c,d);
h=l=m=null;};LEAP.select.clearItem=function(d){d=LEAP._check(d,LEAP.select.d);if(d==null){return;}var g=LEAP.getElement(".select_items",d);if(g!=null){g.innerHTML="";}d.setAttribute(commfields.value,"");LEAP.getElement(".selectbtn",d).value="";LEAP.select.addItem(d,"","");g=d=null;};LEAP.select.getItemText=function(h,j){h=LEAP._check(h,LEAP.select.d);
if(h==null){return;}var d=LEAP.getElement(".select_items a[value="+j+"]",h);if(d!=null){var g=d.innerText;d=h=d=null;return g;}h=null;};LEAP.select.removeItem=function(g,h){g=LEAP._check(g,LEAP.select.d);if(g==null){return;}var d=LEAP.getElement(".select_items a[value="+h+"]",g);if(d!=null){d.parentNode.parentNode.removeChild(d.parentNode);
if(g.getAttribute(commfields.value)==h){g.setAttribute(commfields.value,"");LEAP.getElement(".selectbtn",g).value="";}}};LEAP.select.uiProcess=function(q){var w=q.e.srcElement;var d=w.getAttribute("ctf");var n=q.e.type;var g=null;if(n=="keydown"&&d=="selectbtn"&&w.tagName=="INPUT"&&(g=LEAP._match(w,LEAP.select.d))!=null){if(g.getAttribute("readonly")=="1"){return;
}var O=-1;if(LEAP.isIE){O=q.e.keyCode;}else{O=q.e.which;}var K=g.getAttribute("md")=="areaid";if((O>=48&&O<=57)||(O>=96&&O<=105)){var T=-1;if(O<58){T=O-48;}else{if(O<106){T=O-96;}}T+="";var h=new Date();var C=g.getAttribute("___pretime");g.setAttribute("___pretime",h.getTime());var j=g.getAttribute("___prekey");
if(j==null){j="";}if(C!=null&&C!=""){C=C*1;if(h.getTime()-C<300){T=j+T;g.setAttribute("___prekey",T);window.status=T;}else{g.setAttribute("___prekey",""+T);window.status=T;}}else{g.setAttribute("___prekey",""+T);window.status=T;}var I=LEAP.getElements("a[ctf=select_item]",g);var H=g.getAttribute("size");
var V=false;if(H!=null&&H>2){V=true;}var N=I.length;for(var Q=0;Q<N;Q++){var S=I[Q];var L=S.getAttribute("value");var m=null;if(L==null||L==""||L.Trim()==""){continue;}if(V){m=L.substr(L.length-2)*1+"";}var R=L;if(m!=null&&m!=""&&m.Trim()!=""){R=m;}if(R!=null&&R.Trim()!=""){if(R.indexOf(T)==0){LEAP.select.setValue(g,L,true,true);
break;}}S=null;}I=null;}if(O==37||O==38){var L=LEAP.select.getValue(g);var o=LEAP.getElements("a[ctf=select_item]",g);if(o!=null){var N=o.length;if(L==null){if(N>1){LEAP.select.setValue(g,o[1-1].getAttribute("value"),true,true);}else{LEAP.select.setValue(g,o[0].getAttribute("value"),true,true);}}for(var Q=0;
Q<N;Q++){var U=o[Q].getAttribute("value");if((U.Trim()!=""&&K&&L.substring(0,U.length)==U)||(!K&&L==U)){if(Q==0){if(!K){LEAP.select.setValue(g,o[N-1].getAttribute("value"),true,true);}break;}var U=o[Q-1].getAttribute("value");if(U!=null&&U.Trim()==null){U=null;}if((U==null||U.Trim()=="")&&K){}else{LEAP.select.setValue(g,U,true,true);
}}}}LEAP.stopEvent(q.e);return;breakEvent:true;}else{if(O==39||O==40){var L=LEAP.select.getValue(g);var o=LEAP.getElements("a[ctf=select_item]",g);if(o!=null){var N=o.length;if(L==null){if(N>0){LEAP.select.setValue(g,o[1].getAttribute("value"),true,true);}else{if(N==0){LEAP.select.setValue(g,o[0].getAttribute("value"),true,true);
}}}else{var F=false;for(var Q=0;Q<N;Q++){var U=o[Q].getAttribute("value");if((U.Trim()!=""&&K&&L.substring(0,U.length)==U)||(!K&&L==U)){if(Q==N-1){if(!K){LEAP.select.setValue(g,null,true,true);}F=true;break;}var U=o[Q+1].getAttribute("value");if(U!=null&&U.Trim()==null){U=null;}if((U==null||U.Trim()=="")&&K){}else{LEAP.select.setValue(g,U,true,true);
}F=true;}}if(!F){if(N>1){LEAP.select.setValue(g,o[1].getAttribute("value"),true,true);}else{LEAP.select.setValue(g,o[0].getAttribute("value"),true,true);}}}}LEAP.stopEvent(q.e);return;breakEvent:true;}}return;}if(n=="mouseout"){var A,z;if(d=="select_drop"){z=w;A=LEAP.getElement("[ctf=selectbtn]",z.parentNode);
}else{if(d=="selectbtn"){A=w;z=LEAP.getElement("[ctf=select_drop]",A.parentNode.parentNode.parentNode);}else{return;}}LEAP.removeCSS(A,"selectbtnon");LEAP.removeCSS(z,"selectdropon");LEAP.addCSS(z,"selectdropout");w=A=z=null;return;}else{if(n=="mouseover"){var A,z;if(d=="select_drop"){z=w;A=LEAP.getElement("[ctf=selectbtn]",z.parentNode);
}else{if(d=="selectbtn"){A=w;z=LEAP.getElement("[ctf=select_drop]",A.parentNode.parentNode.parentNode);}else{return;}}LEAP.removeCSS(z,"selectdropout");LEAP.addCSS(z,"selectdropon");LEAP.addCSS(A,"selectbtnon");w=A=z=null;return;}}var P=LEAP.getElement(".select_items[_ui_select_on=1]");if(P!=null){LEAP.setAttribute(P,"_ui_select_on",null);
LEAP.setStyle(P,{display:"none"});LEAP.setStyle(P.parentNode,{zIndex:"98"});if(d!=null){if(d=="selectbtn"||d=="select_drop"){if(d=="selectbtn"){if(P.parentNode==w.parentNode.parentNode.parentNode){P=null;return;}}else{if(P.parentNode==w.parentNode){P=null;return;}}}}P=null;}if(d!=null){if(d=="selectbtn"||d=="select_drop"){var M=null;
var g=null;if(d=="select_drop"){g=w.parentNode;}else{g=w.parentNode.parentNode.parentNode;}if(g.getAttribute("readonly")=="1"){return;}M=LEAP.getElement(".select_items",g);A=LEAP.getElement("[ctf=selectbtn]",g);var D=A.offsetLeft;var B=A.offsetTop;LEAP.setStyle(M,{display:"block"});if(g.getAttribute("_table_sel_top")){LEAP.setStyle(M,{display:"block",top:g.getAttribute("_table_sel_top"),left:D});
}else{LEAP.setStyle(M,{display:"block",top:B+22,left:D});}if(!M.parentNode.getAttribute("_inform")){M.parentNode.style.zIndex="99";}M._ui_select_on=1;M=null;}else{if(d=="select_item"){var G=w.parentNode.parentNode.parentNode;var J=G.getAttribute(commfields.value);var p=w.getAttribute(commfields.value);
var u=G.getAttribute("count");J=LEAP.select._fill(u,J);p=LEAP.select._fill(u,p);LEAP.getElement(".selectbtn",G).value=w.innerText;if(p==null){p="";}G.setAttribute(commfields.value,p);w.parentNode.parentNode.style.display="none";LEAP.getElement(".selectbtn",G).focus();LEAP.select._setvalue(G,J,p,true,true);
G=null;}}}w=null;};LEAP.select._sub=function(g,d){if(d==null){return;}if(typeof(g)=="string"&&(d.Trim()==""||d.Trim()=="&nbsp")){return"";}if(g!=null&&(typeof(g)=="number"||g.Trim()!="")){g=LEAP.parsenum(g);if(g!=null&&d.length>g){d=d.substr(0,g);}}return d;};LEAP.select._fill=function(j,g){if(g==null){return;
}if(typeof(j)=="string"&&(g.Trim()==""||g.Trim()=="&nbsp")){return"";}if(j!=null&&(typeof(length)=="number"||(j.Trim()!=""&&g!=null&&g.Trim()!=""))){j=LEAP.parsenum(j);if(j!=null){var d=g.length;for(var h=0;h<j-d;h++){g+="0";}}}return g;};LEAP.select._setvalue=function(B,D,o,S,z){var N,w;var C=B.getAttribute("size");
N=LEAP.select._sub(C,D);w=LEAP.select._sub(C,o);if(S){if(w!=N){ElementEventManager.handleEvent(B,"valueChange",{caller:B,pv:N,lv:w});if(B.getAttribute("_istabledynasize")){var Q=LEAP._match(B,"table");if(Q){Q.setAttribute(LEAP.table.p,w+"");Q[LEAP.table.p]=w*1;LEAP.table.refreshPage(Q);Q=null;}}}}var u=B.getAttribute("group");
if(u!=null&&u.Trim()!=""){var L=B.getAttribute("deep");if(L==null||L.Trim()==""){return;}L=LEAP.parsenum(L);if(L==null){return;}var R=B.getAttribute("instance");var O="";if(R!=null&&R.Trim()!=null){O="[instance='"+R+"']";}if(z){if(w==N){return;}var j="div[ct=select][deep][group="+u+"]";if(L>0){for(var M=1;
M<=L;M++){j+="[deep!="+M+"]";}}var h=LEAP.getElements(j+O);if(h!=null){for(var M=0;M<h.length;M++){LEAP.select.clearItem(h[M]);}if(o!=null&&o.Trim()!=""){var d=h[0].getAttribute("code");var C=B.getAttribute("size");var K=LEAP.getCodeValue(d,LEAP.select._sub(C,o));if(K!=null){for(var M=0;M<K.length;M++){LEAP.select.addItem(h[0],K[M].codeid,K[M].codevalue);
}}}}}else{var j="div[ct=select][deep][group="+u+"]";var h=LEAP.getElements(j+O);if(h!=null){var J=h.length;for(var H=1;H<J;H++){for(var F=0;F<H;F++){var P=h[H];var G=P.getAttribute("size");if(G==null||G.Trim()==""){continue;}var T=h[F];var x=T.getAttribute("size");if(x==null||x.Trim()==""){continue;}G=LEAP.parsenum(G);
x=LEAP.parsenum(x);if(G<x){h[H]=T;h[F]=P;}}}var g=0;for(var M=0;M<J;M++){var I=h[M];if(M!=0){LEAP.select.clearItem(I);LEAP.select.setValue(I,"",false,false);}var d=I.getAttribute("code");var C=I.getAttribute("size");if(C==null||C.Trim()==""){continue;}var p,q;if(M!=0){p=LEAP.select._sub(g,o);if(p==null||p.Trim()==""){continue;
}K=LEAP.getCodeValue(d,p);}if(M!=0&&K!=null){for(var A=0;A<K.length;A++){LEAP.select.addItem(I,K[A].codeid,K[A].codevalue);}}var y=o;if(o!=null){y=LEAP.parsenum(o.substr(g,C-g));}if(y==null||y==0){continue;}LEAP.select.setValue(I,o,false,false);g=C;}}}var U=LEAP._match(B,LEAP.select.dd);if(U!=null){ElementEventManager.handleEvent(U,"valueChange",{caller:U,pv:N,lv:w});
U=null;}}};LEAP.select.init();LEAP.check={};LEAP.check.p="white";LEAP.check.n="#FFDDDD";LEAP.check.i="#FFF7E5";LEAP.check.t="<div style='display: block' class=tip_top><div style=' overflow:auto; width:100%;'><div ctf='tip_content_msg' class='tip_msg'></div><div ctf='tip_content_err' class='tip_err'></div></div></div><div style='display: block' class=tip_bottom></div>";
LEAP.check.sk=[");//","oNfOcUs=","window.location=","window.location","window.open%28","window.open(","onload=","onload%3d",'.html/" ','.htm/" ',"MsgBox(","MsgBox%28","var=",'/">',"/>","<img","%2fimg","%2fscript","<script","script/>","script%3e","xpression%28","xpression(","alert(","alert%28",":alert}","eval(","eval%28","onmouseover=","onmouseover%3d","prompt(","<video","<iframe","iframe/>","<object","object/>","<form","confirm(","<input","input>","onfocus","onblur","onclick","onclick=","onclick%28","onclick(","onfocus=","onblur="];
LEAP.check.skl=LEAP.check.sk.length;LEAP.check._init=function(){ElementEventManager.addManagedEventType("text","valueChange");ElementEventManager.addManagedEventType("textarea","valueChange");ElementEventManager.addManagedEventType("input","valueChange");LEAP.addEvent(document.body,"click",LEAP.check.uiProcess,null,null,true);
LEAP.addEvent(document.body,"keypress",LEAP.check.uiProcess,null,null,true);if(LEAP.isIE){LEAP.addEvent(document.body,"focusin",LEAP.check.uiProcess,null,null,true);LEAP.addEvent(document.body,"focusout",LEAP.check.uiProcess,null,null,true);}else{document.addEventListener("focus",LEAP.check.uiProcess,true);
document.addEventListener("blur",LEAP.check.uiProcess,true);}var g=document.createElement("div");g.className="tip";g.setAttribute("ct","tip");document.body.appendChild(g);g.innerHTML=LEAP.check.t;g=null;};LEAP.check.uiProcess=function(arg){var e=null;var src=null;var k=null;var type=null;if(arg!=null&&arg.e!=null&&arg.e.type!=null){type=arg.e.type;
}try{if(type!=null){src=arg.e.srcElement;e=arg.e;if(LEAP.isIE){e=window.event;k=e.keyCode;}else{k=e.which;}}else{e=arg;src=arg.target;k=e.which;}type=e.type;if(src==null||src.getAttribute==null){return;}var ht=src.getAttribute("ht");var ctef=src.getAttribute("ctef");if(ctef&&LEAP[ctef]){if(type=="focusin"||type=="focus"){LEAP[ctef].onfocus(src);
}else{if(type=="focusout"||type=="blur"){LEAP[ctef].onblur(src);}}}if(ht!=null&&(ht=="text"||ht=="textarea"||ht=="input")&&((src.tagName=="INPUT"&&src.type=="text")||src.tagName=="TEXTAREA")){if(type=="focusin"||type=="focus"){src.setAttribute("pv",src.value);}else{if(type=="focusout"||type=="blur"){var pv=src.getAttribute("pv");
if(pv==null){pv="";}var lv=src.value;var c=src.getAttribute("check");if(c!=null&&lv!=null&&src.tagName=="INPUT"){lv=lv.trim();src.value=lv;}src.setAttribute("pv",lv);if(pv!=lv){ElementEventManager.handleEvent(src,"valueChange",{caller:src,pv:pv,lv:lv});}}}}var f=src.getAttribute("tip");if(f==""){f=null;
}if(f=="null"||f=="NULL"){src.removeAttribute("tip");f=null;}var c=src.getAttribute("check");if(f==null&&c==null){return;}var m=src._chec_error_msg;if(m=="null"||m=="NULL"){m=null;src._chec_error_msg=null;}if((type=="mouseout"||type=="mouseover"||type=="mousemove"||type=="click")&&(f!=null||m!=null)){var tip=LEAP.getElement("[ct=tip]");
var last=tip.last;var ctid=src.getAttribute("ctid");if(type=="mouseover"){if(f==null){f="";}LEAP.getElement("[ctf=tip_content_msg]").innerHTML=f;if(m==null){m="";}LEAP.getElement("[ctf=tip_content_err]").innerHTML=m;LEAP.setStyle(tip,{display:"block",left:e.clientX-23+document.body.scrollLeft,top:e.clientY+2+document.body.scrollTop});
if(ctid==null){ctid=UUID.cID();src.setAttribute("ctid",ctid);}tip.last=ctid;}else{if(type=="mouseout"){if(last==ctid){tip.last=null;tip.style.display="none";}}else{if(type=="mousemove"){if(ctid==last&&tip.style.display=="block"){LEAP.setStyle(tip,{left:e.clientX-23+document.body.scrollLeft,top:e.clientY+2+document.body.scrollTop});
}}}}tip=null;return;}if(type=="click"){return;}var def=src._check_def;if(def==null){def={};try{if(c!=null){try{if(c!=null){var tstart=c.indexOf("exp:");if(c.indexOf("exp:")>-1){var tmp=c.substring(tstart+4);var tli=tmp.lastIndexOf(":");if(tli==-1){if(tmp[0]!="'"&&tmp[0]!='"'){tmp="'"+tmp+"'";}c=c.substring(0,tstart)+"exp:"+tmp;
}else{var tli2=tmp.indexOf(",");if(tli2){var tmp2=tmp.substring(0,tli2);if(tmp2[0]!="'"&&tmp2[0]!='"'){tmp2="'"+tmp2+"'";}c=c.substring(0,tstart)+tmp.substring(tli2+1)+",exp:"+tmp2;}}}}}catch(err){}def.check=eval("({"+c+"})");if(def.check!=null&&def.check.exp!=null&&typeof(def.check.exp)=="string"){def.check.exp=new RegExp(def.check.exp);
}if(def.exp!=null&&typeof(def.exp)=="string"){def.exp=new RegExp(def.exp);}def.warn=src.getAttribute("warn");}}catch(err){}if(f!=null){def.tip=f;}src._check_def=def;}if(def==null){return;}if(src.getAttribute("_rscolor_")==null){var rc=src.style.backgroundColor;if(rc==null||rc==""||rc==LEAP.check.n||rc==LEAP.check.i||rc==LEAP.check.p){rc="";
}src.setAttribute("_rscolor_",rc);}if(def.check!=null&&def.check.maxlen!=null){if(src.maxLength!=def.check.maxlen+""){src.maxLength=def.check.maxlen;}}var id=src.getAttribute("ctid");if(id==null){id=UUID.cID();src.setAttribute("ctid",id);}if(type=="keypress"&&def.check!=null){if(k==8||k==0||k==13||k==35||k==36||k==37||k==38||k==39||k==40){return;
}if(e.ctrlKey&&(k==67||k==99)){return;}if(e.ctrlKey&&(k==86||k==118)){if(def.check.isnumber==true||def.check.enablecn==false){if(!LEAP.isIE){e.preventDefault();}}return;}if(def.check.maxlen!=null){var v=LEAP.getValue(src,null,true);var l=0;if(v!=null){l=(v+"").length;}if(def.check.maxlen<=l){var _t=LEAP.getSelectedText(src);
var word=_t.text;var idx=_t.idx;if(word==null){if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}}if(def.check.isen==true){if(k<65||k>122){if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}if(def.check.isint==true){var v=LEAP.getValue(src,null,true);var _d=LEAP.getSelectedText(src);
if(k==45){var l=0;if(v!=null){l=(v+"").length;}if(l==0){return;}else{if((_d.idx==0&&_d.text==null)||(_d.text!=null&&_d.text.length-_d.idx==0)){if(v.indexOf("-")==-1||(_d.text!=null&&_d.text.indexOf("-")!=-1)){return;}}else{if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}}else{if(k<48||k>57){if(k==48){var v=LEAP.getValue(src,null,true);
var l=0;if(v!=null){l=(v+"").length;}if(l!==0){return;}}if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}}if(def.check.isnumber==true){var v=LEAP.getValue(src,null,true);var _d=LEAP.getSelectedText(src);var _v=v;if(v=="-"){_v="0";}if(k>46&&k<58&&(def.check.precision!=null||def.check.decimalplace!=null)&&v!=""){if(((parseInt(_v)+"").length>=def.check.precision&&_d.text==null&&_d.idx<=def.check.precision)||(def.check.decimalplace!=null&&v.indexOf(".")>0&&_d.text==null&&_d.idx>v.indexOf(".")&&def.check.decimalplace<=(v.length-v.indexOf(".")-1))){if(LEAP.isIE){e.returnValue=false;
}else{e.preventDefault();}return;}}if(k==45){var l=0;if(v!=null){l=(v+"").length;}if(l==0){return;}else{if((_d.idx==0&&_d.text==null)||(_d.text!=null&&_d.text.length-_d.idx==0)){if(v.indexOf("-")==-1||(_d.text!=null&&_d.text.indexOf("-")!=-1)){return;}}else{if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();
}return;}}}if((k<48||k>57||k==48)&&k!=45){if(k==46||k==48){if(k==48){if(v==""||((v.indexOf("0.")==0||v.indexOf("-0.")==0)&&v*1==0)){return;}else{if(v*1==0){if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}}var l=0;if(v!=null){l=(v+"").length;}if(l>0){if(k==46&&def.check.maxlen!=null&&(l+1)==def.check.maxlen){if(LEAP.isIE){e.returnValue=false;
}else{e.preventDefault();}return;}if(k==46&&(v+"").indexOf(".")==-1){return;}else{if(k==48){if(l!==0){return;}}}}}if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}if(def.check.isidcard==true){var v=LEAP.getValue(src,null,true);var l=0;if(v!=null){l=(v+"").length;}if(l>17){if(LEAP.isIE){e.returnValue=false;
}else{e.preventDefault();}return;}if(l<17){if(k<48||k>57){if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}if(l==17){if((k<48||k>57)&&k!=88&&k!=120){if(LEAP.isIE){e.returnValue=false;}else{e.preventDefault();}return;}}}return;}if(f!=null&&def.tip!=null){if(type=="mouseover"){}else{if(type=="mouseout"){}}}if(c!=null&&def.check!=null){if(type=="blur"||type=="focusout"){LEAP.check.setStyle(src,"");
LEAP.check.validate(src,false);}else{if(type=="focus"||type=="focusin"){LEAP.check.setStyle(src,LEAP.check.i);if(def.check.enablecn==false||def.check.isen==true||def.check.isint==true||def.check.isnumber==true){if(src.style.imeMode!="disabled"){src.style.imeMode="disabled";}}}}}def=null;}finally{e=src=arg=null;
}};LEAP.check.getErrorMsg=function(d){if(d==null){return;}if(typeof(d)==commfields.string){d=LEAP.getElement(d);}if(d==null){return;}var g=d._chec_error_msg;d=null;return g;};LEAP.check.setCheck=function(h,d){if(h==null){return;}if(typeof(h)==commfields.string){h=LEAP.getElements(h);}if(h==null){return;
}if(h.length){}else{h=[h];}if(d==null||d=="null"){d="";}LEAP.setAttribute(h,"check",d);for(var g=0;g<h.length;g++){h[g]["_check_def"]=null;h[g]["_chec_error_msg"]=null;}LEAP.check.setStyle(h,"",true);h=null;};LEAP.check.setCheckFunction=function(l,h,j){if(l==null){return;}if(typeof(l)==commfields.string){l=LEAP.getElements(l);
}if(l==null){return;}if(l.length){}else{l=[l];}for(var g=0;g<l.length;g++){l[g]["_check_function"]=h;var d=l[g].getAttribute("check");if(h!=null){if(d==null||d.Trim().length==0){l[g].setAttribute("check","__innercheckfn__");}}else{if(d=="__innercheckfn__"){l[g].setAttribute("check","");l[g].removeAttribute("check");
}}if(h!=null){h._cdomain=j;}l[g]["_chec_error_msg"]=null;}l=null;};LEAP.check.setTip=function(g,d){if(g==null){return;}if(typeof(g)==commfields.string){g=LEAP.getElements(g);}if(g==null){return;}if(g.length){}else{g=[g];}if(d==null||d=="null"){d="";}LEAP.setAttribute(g,"tip",d);g=null;};LEAP.check.setErrorMsg=function(j,g){if(j==null){return;
}if(typeof(j)==commfields.string){j=LEAP.getElements(j);}if(j==null){return;}if(j.length){}else{j=[j];}if(g==""){g=null;}for(var h=0;h<j.length;h++){j[h]["_chec_error_msg"]=g;if(g!=null){LEAP.check.setStyle(j[h],LEAP.check.n);var l=j[h].getAttribute("ctid");if(l==null){l=UUID.cID();j[h].setAttribute("ctid",l);
}}else{var d=j[h].getAttribute("_rscolor_");if(d==null){d=LEAP.check.p;}LEAP.check.setStyle(j[h],d);}}j=null;};LEAP.check.htmlDecode=function(j){if(j.indexOf("&#")>-1){var h=j.substring(0,j.indexOf("&#"));j=j.substring(j.indexOf("&#"),j.length);var g=document.createElement("div");g.innerHTML=j;var d=g.innerText||g.textContent;
g=null;return h+d;}else{return j;}};LEAP.check.validate=function(elements,autoshowerr){if(elements==null){return;}if(typeof(elements)==commfields.string){elements=LEAP.getElements(elements);}if(elements==null){return;}if(elements.length){}else{elements=[elements];}var ret=null;var ll=elements.length;
var groups=[];var mds=[];for(var j=0;j<ll;j++){var src=elements[j];var _hide=src.getAttribute("_hide");if(_hide==1){continue;}var ct=src.getAttribute(commfields.ct);if(src.getAttribute("_rscolor_")==null){var rc=src.style.backgroundColor;if("radio"==ct&&(rc==null||rc=="")){src.setAttribute("_rscolor_",LEAP.check.i);
}else{if(rc==null||rc==""||rc==LEAP.check.n||rc==LEAP.check.i||rc==LEAP.check.p){rc="";}src.setAttribute("_rscolor_",rc);}}var md=src.getAttribute(commfields.md);var ctg=src.getAttribute(commfields.ctg);var group=null;var mdcn=src.getAttribute("mdcn");if(mdcn==null){mdcn="";}if(ct!=null&&md!=null&&ctg=="simplecheck"){if(mds.contains(md)){continue;
}else{mds.add(md);}}if(ct!=null&&(ct=="select"||"radio"==ct||ct=="areagroup")){group=src.getAttribute("group");if(group!=null){if(groups.contains(group)){continue;}else{groups.add(group);}}}var msg="";var tempv=LEAP.getValue(src,null,true);if(tempv!=null){if(tempv.length>4){var esk=src.getAttribute("enableskipwords");
if(esk==null||esk!="1"){var tmpv=tempv.toLowerCase();tmpv=LEAP.check.htmlDecode(tmpv);for(var i=0;i<LEAP.check.skl;i++){if(tmpv.indexOf(LEAP.check.sk[i].toLowerCase())>-1){msg+="*["+mdcn+"],!";break;}}}}}var _dc=src.getAttribute("_dynacheck");var def=src._check_def;var _fndef=src._check_function;
if(def==null){def={};var c=src.getAttribute("check");if(c!=null&&c!="__innercheckfn__"){try{if(c!=null){var tstart=c.indexOf("exp:");if(c.indexOf("exp:")>-1){var tmp=c.substring(tstart+4);var tli=tmp.lastIndexOf(":");if(tli==-1){if(tmp[0]!="'"&&tmp[0]!='"'){tmp="'"+tmp+"'";}c=c.substring(0,tstart)+"exp:"+tmp;
}else{var tli2=tmp.indexOf(",");if(tli2){var tmp2=tmp.substring(0,tli2);if(tmp2[0]!="'"&&tmp2[0]!='"'){tmp2="'"+tmp2+"'";}c=c.substring(0,tstart)+tmp.substring(tli2+1)+",exp:"+tmp2;}}}def.check=eval("({"+c+"})");def.warn=src.getAttribute("warn");}}catch(err){}if(src.getAttribute("tip")!=null){def.tip=src.getAttribute("tip");
}src._check_def=def;}}if(_dc=="check"){if(def==null){def={};}if(def.check==null){def.check={};}def.check.notnull=true;src._check_def=def;}else{if(_dc=="uncheck"){if(def&&def.check){delete def.check.notnull;}src._check_def=def;}}if(def==null&&_fndef==null){continue;}if(def.check==null&&_fndef==null){continue;
}if(def!=null&&def.check!=null&&def.check.maxlen!=null){if(src.maxLength!=def.check.maxlen+""){src.maxLength=def.check.maxlen;}}if(def&&def.check&&def.check.exp!=null&&typeof(def.check.exp)=="string"){def.check.exp=new RegExp(def.check.exp);}if(msg==""&&def!=null&&def.check!=null&&def.check.checkfn!=null){var instance=src.getAttribute("instance");
if(instance!=null){var module=LEAP.getLoadedModule(instance);if(module!=null){var fn=module[def.check.checkfn];if(fn!=null){msg=fn.call(module,src);if(msg==null){msg="";}fn=null;}module=null;}}}if(msg==""&&def!=null&&def.check!=null&&def.check.codelevel>0&&group!=null){var deep=null;if(ct=="select"||ct=="areagroup"){deep=LEAP.select.getValueLevel(src,null,true);
}else{if(ct=="radio"){deep=LEAP.radio.getValueLevel(src);}}if(deep==null){deep=0;}if(def.check.codelevel>deep){if(md!=null||(md=="area"||md=="areaid"||md=="qhareaid")){msg+="*,"+__als6[def.check.codelevel-1]+"!";}else{if(!String.isEmpty(mdcn)){msg+=mdcn+"";}else{if(md!=null){msg+=md+"";
}else{msg+="";}}}}}var v=LEAP.getValue(src,null,true);if(v!=null&&v.msg){msg=v.msg;v=null;}var l=0;if(v!=null&&typeof(msg)=="string"){l=(v+"").length;}if(msg==""&&def!=null&&def.check!=null&&def.check.notnull==true){if(l==0||String.isEmpty(v)){msg+="*["+mdcn+"]";}}if(msg==""&&def!=null&&def.check!=null&&l>0){if(def.check.maxlen!=null&&def.check.maxlen<l){if(msg!=null){msg+="<br>";
}msg+="*["+mdcn+"],"+def.check.maxlen+"";}if(def.check.minlen!=null&&def.check.minlen>l){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"],"+def.check.minlen+"";}if((def.check.isint==true||def.check.isnumber==true)&&(def.check.maxnumber!=null||def.check.minnumber!=null)){if(def.check.maxnumber!=null){var _v=v*1;
if(_v>def.check.maxnumber){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]:"+def.check.maxnumber;}}if(def.check.minnumber!=null){var _v=v*1;if(_v<def.check.minnumber){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]:"+def.check.minnumber;}}}if(def.check.isint==true){if(isNaN(parseInt(v))){if(msg!=null){msg+="<br>";
}msg+="*["+mdcn+"]";}else{for(var i=0;i<l;i++){var _t=v.charAt(i);if((_t<"0"||_t>"9")&&_t!="-"){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]";break;}}}}if(def.check.isnumber==true){for(var i=0;i<l;i++){var _t=v.charAt(i);var _err=false;if((_t<"0"||_t>"9")&&_t!="."&&_t!="-"){if(msg!=null){msg+="<br>";
}msg+="*["+mdcn+"]";_err=true;break;}}if(!_err&&(def.check.precision!=null||def.check.decimalplace!=null)&&v!=""){if(isNaN(parseInt(v))){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]";}else{if(def.check.precision<(parseInt(v)+"").length){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"],:"+def.check.precision;
}}if(def.check.decimalplace!=null&&v.indexOf(".")>-1&&def.check.decimalplace<=(v.length-v.indexOf(".")-2)){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"],:"+def.check.decimalplace;}}}if(def.check.isen==true){for(var i=0;i<l;i++){var _t=v.charAt(i);if(_t<"A"||_t>"z"){if(msg!=null){msg+="<br>";
}msg+="*["+mdcn+"]";break;}}}if(def.check.enablecn==false){if(escape(v).indexOf("%u")>=0){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]";}}if(def.check.exp!=null){if(!def.check.exp.exec(v)){if(msg!=null){msg+="<br>";}if(def.check.warn!=null){msg+="*"+def.check.warn;}else{msg+="*["+mdcn+"]";
}}}if(def.check.isidcard==true){if(!LEAP._checkIdCard(v)){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]";}}if(def.check.istel==true){var re=/^1[3|4|5|6|7|8|9][0-9]{9}$/;if(!(re.test(v))){if(msg!=null){msg+="<br>";}msg+="*["+mdcn+"]";}}if(def.check.isdecry==true){if(v!=null&&v.indexOf("*")>-1){if(msg!=null){msg+="<br>";
}msg+="*["+mdcn+"]*";}}}if(msg==""&&src._check_function!=null){var fn=src._check_function;var _msg=null;try{var d=fn._cdomain;if(d==null){d=this;}_msg=fn.call(d,src);}catch(err){}if(_msg!=null){if(msg!=null){msg+="<br>";}msg+="*"+_msg;}}if(msg==""){msg=null;}src.setAttribute("_chec_error_msg",msg);
if(msg!=null){LEAP.check.setStyle(src,LEAP.check.n);if(ret==null){ret=[];}var id=src.getAttribute("ctid");if(id==null){id=UUID.cID();src.setAttribute("ctid",id);}ret.add("[ctid="+id+"]");}else{var color=src.getAttribute("_rscolor_");if(color==null){color=LEAP.check.p;}LEAP.check.setStyle(src,color);}src=def=null;
}elements=null;if(ret!=null){try{return ret;}finally{if(autoshowerr!=false){var msg=LEAP.getElement(ret[0]).getAttribute("_chec_error_msg");var _focus=false;if(window._messagetip=="1"){if(window.confirm(msg.replace("*","").replace("<br>","")+"\n!")==true){_focus=true;}}else{var instance=LEAP.getElement(ret[0]).getAttribute("instance");
var p=null;var mEl=null;if(instance!=null){var module=LEAP.getLoadedModule(instance);if(module!=null&&module.moduleElement){mEl=module.moduleElement;p=LEAP.getAbsolutePos(mEl);}}LEAP.messagebox.alert(msg.replace("*","").replace("<br>",""),2);if(p&&mEl){LEAP.messagebox.setLoacation(p.x,p.y,mEl.offsetWidth,mEl.offsetHeight);
}_focus=true;}if(_focus){try{LEAP.getElement(ret[0]).focus();}catch(err){}}}ret=null;}}};LEAP.check.clearValidate=function(g){if(g==null){return;}if(typeof(g)==commfields.string){g=LEAP.getElements(g);}if(g==null){return;}if(g.length){}else{g=[g];}var d=LEAP.getElement("[ct=tip]");if(d!=null){d.display="none";
}LEAP.check.setStyle(g,"",true);g=null;};LEAP.check.hideTip=function(){var d=LEAP.getElement("[ct=tip]");d.last=null;d.style.display="none";d=null;};LEAP.check.setStyle=function(n,j,m){if(m==null){m=n instanceof Array;}if(m==true){var d=n.length;for(var h=0;h<d;h++){var o=n[h];if(o.getAttribute("ct")=="select"){var g=LEAP.getElement("[ctf=selectbtn]",o);
if(g&&g.style.backgroundColor!=j){g.style.backgroundColor=j;}g=null;}else{if(o.style.backgroundColor!=j){o.style.backgroundColor=j;}}if(j==""){o._chec_error_msg=null;}o=null;}}else{var o=n;if(o.getAttribute("ct")=="select"){var g=LEAP.getElement("[ctf=selectbtn]",o);if(g&&g.style.backgroundColor!=j){g.style.backgroundColor=j;
}g=null;}else{if(o.style.backgroundColor!=j){o.style.backgroundColor=j;}}if(j==""){o._chec_error_msg=null;}o=null;}n=j=null;};LEAP.check.init=function(){if(document!=null&&document.body!=null){LEAP.check._init();}else{UIEventManager.addEvent(window,"load",LEAP.check._init);}}();LEAP.radio={};LEAP.radio.d="radio";
LEAP.radio.init=function(){if(document!=null&&document.body!=null){LEAP.radio._init();}else{UIEventManager.addEvent(window,"load",LEAP.radio._init);}ElementEventManager.addManagedEventType(LEAP.radio.d,"valueChange");ElementEventManager.addManagedEventType(LEAP.radio.d,"clickItem");};LEAP.radio._init=function(){LEAP.addEvent(document.body,"click",LEAP.radio.uiProcess,null,null,true);
LEAP.addEvent(document.body,"keydown",LEAP.radio.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.radio._init);};LEAP.radio.uiProcess=function(n){var p=null;var g=null;var d=null;var o=null;var r=null;var j=null;try{p=n.e.srcElement;if(null==p){return;}g=n.e.type;if(null==g){return;
}var d=LEAP._match(p,LEAP.radio.d);var h=null;if(g=="keydown"&&(p.tagName=="INPUT"||d!=null||((h=p.getAttribute("ct"))!=null&&h.indexOf("upload_control_")==0))){if(d!=null&&d.getAttribute("readonly")=="1"){return;}var C=-1;if(LEAP.isIE){C=n.e.keyCode;}else{C=n.e.which;}if(C==9&&LEAPBrowser.isIE){var z="input:visible,div[ct=radio]:visible";
if(h!=null){z+=",[ct="+h+"]:visible";}var y=LEAP.getElements(z);if(y!=null){var B=y.length;for(var D=0;D<B;D++){if((y[D]==p||y[D]==d)&&D!=B-1){if(y[D+1].tagName=="INPUT"){break;}else{var x=y[D+1];try{if(x!=null&&x.getAttribute("readonly")=="1"){return;}if(LEAP.radio.getValue(x)==null){LEAP.radio.setValue(x,LEAP.getElement("label[ctf=radio_label]:first",x).getAttribute("value"));
}var F=LEAP.ctid(x);LEAP.asyn(function(l){this.id=l;LEAP.getElement("[ctid="+this.id+"]").focus();},window,50,F);}catch(m){continue;}LEAP.stopEvent(n.e);x=null;break;}}}y=null;}}if(d!=null){if(C==37||C==38){var q=LEAP.getElements("label[ctf=radio_label]",d);if(q!=null){var A=LEAP.radio.getValue(d);var B=q.length;
if(A==null){var w=q[0].getAttribute("value");LEAP.radio.setValue(d,w);ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:w,oldvalue:A,src:d,pv:A,lv:w});}else{if(A==q[0].getAttribute("value")){var w=q[B-1].getAttribute("value");LEAP.radio.setValue(d,w);ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:w,oldvalue:A,src:d,pv:A,lv:w});
}else{for(var D=0;D<B;D++){var w=q[D].getAttribute("value");if(w==A&&D!=0){LEAP.radio.setValue(d,q[D-1].getAttribute("value"));ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:w,oldvalue:A,src:d,pv:A,lv:w});}}}}}d.focus();LEAP.stopEvent(n.e);}else{if(C==39||C==40){var q=LEAP.getElements("label[ctf=radio_label]",d);
if(q!=null){var A=LEAP.radio.getValue(d);var B=q.length;if(A==null){var w=q[0].getAttribute("value");LEAP.radio.setValue(d,q[0].getAttribute("value"));ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:w,oldvalue:A,src:d,pv:A,lv:w});}else{if(A==q[B-1].getAttribute("value")){var w=q[0].getAttribute("value");
LEAP.radio.setValue(d,w);ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:w,oldvalue:A,src:d,pv:A,lv:w});}else{for(var D=0;D<B;D++){var w=q[D].getAttribute("value");if(w==A&&D!=B-1){LEAP.radio.setValue(d,q[D+1].getAttribute("value"));ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:w,oldvalue:A,src:d,pv:A,lv:w});
}}}}}d.focus();LEAP.stopEvent(n.e);}}}}if("radio_label"!=p.getAttribute("ctf")){return;}d=LEAP._match(p,LEAP.radio.d);if(null==d){return;}if("1"==d.getAttribute("readonly")){return;}o=d.getAttribute("ccancel");if(null==o||""==o){o="y";}if("click"==g){if("radio_disabled"==p.className){return;}var u=d.getAttribute("group");
if(u==null||u.Trim()==""){o=o.Trim().toLowerCase();if("y"==o||"yes"==o){r=LEAP.radio.getValue(d);if("radio_checked"==p.className){LEAP.radio.clean(d);}else{LEAP.radio.clean(d);p.className="radio_checked";}j=LEAP.radio.getValue(d);ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:j,oldvalue:r,src:d,pv:r,lv:j});
}else{if("radio_unchecked"==p.className){r=LEAP.radio.getValue(d);LEAP.radio.clean(d);p.className="radio_checked";j=LEAP.radio.getValue(d);ElementEventManager.handleEvent(d,"valueChange",{radio:d,newvalue:j,oldvalue:r,src:d,pv:r,lv:j});}}}else{o=o.Trim().toLowerCase();if("y"==o||"yes"==o){if("radio_checked"==p.className){return;
}}LEAP.radio._setGroupItems(d,p);}ElementEventManager.handleEvent(d,"clickItem",{item:p});}}finally{j=r=o=d=p=n=g=null;}};LEAP.radio._setGroupItems=function(m,d){if(m==null){return;}var x=m.getAttribute("size");var q=m.getAttribute("group");var h=LEAP.radio.getValue(m);var j=null;if(q!=null&&q.Trim()!=""){var r=m.getAttribute("deep");
if(r==null||r.Trim()==""){return;}r=LEAP.parsenum(r);if(r==null){return;}var u=m.getAttribute("instance");var p="";if(u!=null&&u.Trim()!=null){p="[instance='"+u+"']";}var o="div[ct=radio][deep][group="+q+"]";if(r>0){for(var l=1;l<=r;l++){o+="[deep!="+l+"]";}}if("radio_checked"==d.className){LEAP.radio.clean(m);
}else{LEAP.radio.clean(m);d.className="radio_checked";}var n=LEAP.getElements(o+p);if(n!=null){for(var l=0;l<n.length;l++){LEAP.radio.removeItems(n[l]);}j=LEAP.radio.getValue(m);if(j!=null&&j.Trim()!=""){var g=n[0].getAttribute("code");var w=LEAP.getCodeValue(g,LEAP.select._sub(x,j));if(w!=null){for(var l=0;
l<w.length;l++){LEAP.radio.addItem(n[0],w[l].codevalue,w[l].codeid,false);}}}}else{j=LEAP.radio.getValue(m);}ElementEventManager.handleEvent(m,"valueChange",{radio:m,newvalue:j,oldvalue:h,src:m,pv:h,lv:j});}};LEAP.radio.getNameByValue=function(h,j){var d=null;var g=null;try{h=LEAP._check(h,LEAP.radio.d);
if(null==h){return null;}d=LEAP.getElements("[ctf=radio_label]",h);if(null==d){return null;}for(g=0;g<d.length;g++){if(d[g].getAttribute("value").Trim()==j){return(LEAP.isIE?d[g].innerText:d[g].textContent);}}return null;}finally{g=h=null;}};LEAP.radio.getCheckedItem=function(h){var d=null;var g=null;
var j=null;try{h=LEAP._check(h,LEAP.radio.d);if(null==h){return null;}d=LEAP.getElements("[ctf=radio_label]",h);if(null==d){return null;}j=new hashtable();for(g=0;g<d.length;g++){if("radio_checked"==d[g].className){j.add(d[g].getAttribute("value").Trim(),(LEAP.isIE?d[g].innerText:d[g].textContent));}}return j.count>0?j:null;
}finally{j=g=h=null;}};LEAP.radio.getValueLevel=function(j){var r=null;var q="";try{j=LEAP._check(j,LEAP.radio.d);if(null==j){return null;}var g=j;var y=j.getAttribute("group");var A=null;var o=LEAP.getElements("[class=radio_checked]",g)!=null;if(y!=null&&y.Trim()!=""){var z=j.getAttribute("deep");A=j.getAttribute("size");
if(A==null||A.toString().Trim()==""){return;}A=LEAP.parsenum(A);if(z==null||z.toString().Trim()==""){return;}z=LEAP.parsenum(z);if(z==null){return;}var n=j.getAttribute("count");if(n!=null&&n.trim().length>0){n=LEAP.parsenum(n);}else{n=A;}var x=j.getAttribute("instance");var w="div[ct=radio][group="+y+"]";
w+="[deep!="+z+"]";if(x!=null&&x.Trim()!=null){w+="[instance='"+x+"']";}var p=LEAP.getElements(w);if(p!=null){for(var h=0;h<p.length;h++){var l=p[h].getAttribute("deep");var u=p[h].getAttribute("size");if(u==null||u.toString().Trim()==""){continue;}u=LEAP.parsenum(u);if(u>A){A=u;}if(l==null||l.toString().Trim()==""){continue;
}l=LEAP.parsenum(l);if(l==null){continue;}if(l>z){var d=LEAP.getElements("[ctf=radio_label]",p[h]);if(d==null||d.length==0){continue;}if(LEAP.getElements("[class=radio_checked]",p[h])){g=p[h];z=l;}}else{if(!o){g=p[h];z=l;}}}}}else{return null;}if(g==null){return null;}return g.getAttribute("deep");}finally{q=j=r=g=A=y=z=l=u=null;
}};LEAP.radio.getValue=function(g){var u=null;var h="";try{g=LEAP._check(g,LEAP.radio.d);if(null==g){return null;}var d=g;var o=g.getAttribute("group");var r=null;var A=LEAP.getElements("[class=radio_checked]",d)!=null;if(o!=null&&o.Trim()!=""){var z=g.getAttribute("deep");r=g.getAttribute("size");if(r==null||r.toString().Trim()==""){return;
}r=LEAP.parsenum(r);if(z==null||z.toString().Trim()==""){return;}z=LEAP.parsenum(z);if(z==null){return;}var n=g.getAttribute("count");if(n!=null&&n.trim().length>0){n=LEAP.parsenum(n);}else{n=r;}var D=g.getAttribute("instance");var l="div[ct=radio][group="+o+"]";l+="[deep!="+z+"]";if(D!=null&&D.Trim()!=null){l+="[instance='"+D+"']";
}var j=LEAP.getElements(l);if(j!=null){for(var x=0;x<j.length;x++){var w=j[x].getAttribute("deep");var p=j[x].getAttribute("size");if(p==null||p.toString().Trim()==""){continue;}p=LEAP.parsenum(p);if(p>r){r=p;}if(w==null||w.toString().Trim()==""){continue;}w=LEAP.parsenum(w);if(w==null){continue;}if(w>z){var q=LEAP.getElements("[ctf=radio_label]",j[x]);
if(q==null||q.length==0){continue;}if(LEAP.getElements("[class=radio_checked]",j[x])){d=j[x];z=w;}}else{if(!A){d=j[x];z=w;}}}}}u=LEAP.getElements("[ctf=radio_label]",d);if(null==u){return null;}for(var B=0;B<u.length;B++){if("radio_checked"==u[B].className){h=u[B].getAttribute("value").Trim();if(n!=null){if(h.length<n){var C=n-h.length;
for(var y=0;y<C;y++){h=h+"0";}}}break;}}B=null;return(""==h)?null:h;}finally{h=g=u=d=r=o=z=w=p=null;}};LEAP.radio._setGroupValue=function(h,y,F,x,o){var N=h.getAttribute("deep");var A=h.getAttribute("size");var d=h.getAttribute("code");if(N==null||N.Trim()==""){return;}N=LEAP.parsenum(N);if(N==null){return;
}if(A==null||A.Trim()==""){return;}A=LEAP.parsenum(A);if(A==null){return;}var T=h.getAttribute("instance");var P="";if(T!=null&&T.Trim()!=null){P="[instance='"+T+"']";}var r="div[ct=radio][deep][group="+y+"]";var q=LEAP.getElements(r+P);if(q!=null){var I=q.length;for(var G=1;G<I;G++){for(var D=0;D<G;
D++){var R=q[G];var S=R.getAttribute("deep");if(S==null||S.Trim()==""){continue;}var U=q[D];var C=U.getAttribute("deep");if(C==null||C.Trim()==""){continue;}S=LEAP.parsenum(S);C=LEAP.parsenum(C);if(S<C){q[G]=U;q[D]=R;}}}var p=0;for(var M=0;M<I;M++){var H=q[M];if(M>0){LEAP.radio.removeItems(H);}var w=H.getAttribute("deep");
var B=H.getAttribute("code");var p=H.getAttribute("size");if(w==null||w.Trim()==""){continue;}if(p==null||p.Trim()==""){continue;}w=LEAP.parsenum(w);p=LEAP.parsenum(p);if(F==null||F.trim().length==0||F.length<p){if(F==null||F.trim().length==0){F="";}var O=p-F.length;for(var K=0;K<O;K++){F=F+"0";}}var u=p-p/w;
var z=F.substring(0,p);var J=null;if(u==0){J=LEAP.getCodeValue(B);}else{J=LEAP.getCodeValue(B,LEAP.select._sub(u,F));}if(J!=null){if(M>0){for(var L=0;L<J.length;L++){LEAP.radio.addItem(q[M],J[L].codevalue,J[L].codeid,false);}}var g=LEAP.getElement("[ctf=radio_label][value="+z+"]",q[M]);if(g){g.className="radio_checked";
g.setAttribute("ischecked",true);}}if(o){var Q=H[ElementEventManager.e];if(Q!=null&&Q.contains("valueChange")){ElementEventManager.handleEvent(H,"valueChange",{newvalue:F,oldvalue:x,src:H,pv:x,lv:F});}}}}};LEAP.radio.setValue=function(l,n,h){if(h==null){h=true;}var d=null;try{l=LEAP._check(l,LEAP.radio.d);
if(null==l){return;}if(n!=null){n=n.toString();}var p=LEAP.radio.getValue(l);LEAP.radio.clean(l);var m=l.getAttribute("count");if(!String.isEmpty(n)&&m!=null&&n.length<m){while(n.length<m){n="0"+n;}}var o=l.getAttribute("group");if(o!=null&&o.trim().length>0){LEAP.radio._setGroupValue(l,o,n,p,h);}else{d=LEAP.getElements("[ctf=radio_label]",l);
if(null==d){return;}for(var g=0;g<d.length;g++){if(d[g].getAttribute("value").Trim()==n){if(n==null){if(d[g].className=="radio_disabled"){d[g].className="radio_disabled";}}else{if("radio_disabled"==d[g].className){continue;}d[g].className="radio_checked";d[g].setAttribute("ischecked",true);if(h){ElementEventManager.handleEvent(l,"valueChange",{radio:l,newvalue:d[g].getAttribute("value"),src:l,pv:null,lv:d[g].getAttribute("value")});
}break;}}}g=null;}}finally{l=n=d=null;}};LEAP.radio.setValueByText=function(h,l){var d=null;try{h=LEAP._check(h,LEAP.radio.d);if(null==h){return;}LEAP.radio.clean(h);if(l==null){return;}l=l.toString();d=LEAP.getElements("[ctf=radio_label]",h);if(null==d){return;}for(var g=0;g<d.length;g++){if(d[g].innerText.Trim()==l){if("radio_disabled"==d[g].className){continue;
}d[g].className="radio_checked";d[g].setAttribute("ischecked",true);ElementEventManager.handleEvent(h,"valueChange",{radio:h,newvalue:d[g].getAttribute("value"),caller:h,pv:null,lv:d[g].getAttribute("value")});break;}}g=null;}finally{h=l=d=null;}};LEAP.radio.clean=function(h){var d=null;try{h=LEAP._check(h,LEAP.radio.d);
if(null==h){return;}d=LEAP.getElements("[ctf=radio_label]",h);if(null==d){return;}for(var g=0;g<d.length;g++){if("radio_disabled"==d[g].className){continue;}d[g].className="radio_unchecked";d[g].setAttribute("ischecked",false);}g=null;}finally{h=d=null;}};LEAP.radio.addItem=function(j,h,n,m){var o=null;
var g=null;try{j=LEAP._check(j,LEAP.radio.d);if(null==j){return;}if(null==h||""==h){h="&nbsp;";}o=document.createElement("div");j.appendChild(o);o.className="radio_div";o.setAttribute("ctf","radio_item");g=document.createElement("label");o.appendChild(g);g.setAttribute("ctf","radio_label");g.innerHTML=h;
g.setAttribute("value",n);if(null==m){m=false;}if("boolean"==typeof(m)){if(m){LEAP.radio.setValue(j,n);}else{g.className="radio_unchecked";}}else{g.className="radio_disabled";}}finally{o=g=j=h=n=m=null;}};LEAP.radio.removeItems=function(j,g,l){var d=null;try{j=LEAP._check(j,LEAP.radio.d);if(null==j){return;
}d=LEAP.getElements("[ctf=radio_label]",j);if(null==d){return;}if(null!=g&&null!=l){for(var h=0;h<d.length;h++){if(d[h].getAttribute("value")==l&&d[h].innerHTML==g){j.removeChild(d[h].parentNode);}}h=null;}else{if(null!=g){for(var h=0;h<d.length;h++){if(d[h].innerHTML==g){j.removeChild(d[h].parentNode);
}}h=null;}else{if(null!=l){for(var h=0;h<d.length;h++){if(d[h].getAttribute("value")==l){j.removeChild(d[h].parentNode);}}h=null;}else{for(var h=0;h<d.length;h++){j.removeChild(d[h].parentNode);}h=null;}}}}finally{d=j=g=l=null;}};LEAP.radio.setDisabled=function(j,m,g,l){var d=null;try{j=LEAP._check(j,LEAP.radio.d);
if(null==j){return;}if("boolean"!=typeof(m)){return;}d=LEAP.getElements("[ctf=radio_label]",j);if(null==d){return;}if(null!=g&&null!=l){for(var h=0;h<d.length;h++){if(d[h].getAttribute("value")==l&&d[h].innerHTML==g){if(m){d[h].className="radio_disabled";}else{d[h].className="radio_unchecked";}}}h=null;
}else{if(null!=g){for(var h=0;h<d.length;h++){if(d[h].innerHTML==g){if(m){d[h].className="radio_disabled";}else{d[h].className="radio_unchecked";}}}h=null;}else{if(null!=l){for(var h=0;h<d.length;h++){if(d[h].getAttribute("value")==l){if(m){d[h].className="radio_disabled";}else{d[h].className="radio_unchecked";
}}}h=null;}}}}finally{d=j=g=l=null;}};LEAP.radio.setReadOnly=function(d,g){try{d=LEAP._check(d,LEAP.radio.d);if(null==d){return;}if(g){d.setAttribute("readonly","1");}else{d.setAttribute("readonly","0");}}finally{d=g=null;}};LEAP.radio.init();LEAP.table={};LEAP.table.d="table";LEAP.table.a="_headers";
LEAP.table.b="_lastRowIndex";LEAP.table.m="_searchMethod";LEAP.table.md=LEAP.table.m+"d";LEAP.table.p="pageSize";LEAP.table.maxContentLength=150;LEAP.table.headerdrap=false;LEAP.table.maxShowSize=200;LEAP.table.z='<input idx="@idx" type="checkbox" datatype=@datatype cntext="@cntext" checked ctf="table_props_chk_md" name="checkbox" md="@md" code="@code" id="checkbox" >@text<br>';
LEAP.table.t=null;LEAP.table.s=null;LEAP.table.f=null;LEAP.table._area=null;LEAP.table.selectedColor="#f8fec7";LEAP.table.scolor="#FFFFFF";LEAP.table.spcolor="#f8f8f8";LEAP.table.bopacity="0.5";LEAP.table.movecolor="#f8fec7";LEAP.table.movecolor1="#eaf4fc";LEAP.table.lasteditcontroltype=null;LEAP.table.lasteditcontrolid=null;
LEAP.table.modifyflag='<label style="position:absolute;left:0px;top:0px;color:red;">*</label>';LEAP.table.nodeopen="<label ctf=table_node_open class=table_node_open></label>";LEAP.table.nodeclose="<label ctf=table_node_close class=table_node_close></label>";LEAP.table.pageli='<li ctf="@ctf"><a href="javascript:" ctf="@c1" ctfe="@ctfe" utf="@utf">@sy</a></li>';
LEAP.table._tempDiv=null;LEAP.table._moveDiv=null;LEAP.table.table_page_body=null;LEAP.table.table_page_size_body=null;LEAP.table.defaultSortMode="server";LEAP.table.init=function(){if(document!=null&&document.body!=null){LEAP.table._init();}else{UIEventManager.addEvent(window,"load",LEAP.table._init);
}ElementEventManager.addManagedEventType(LEAP.table.d,"dataLoaded");ElementEventManager.addManagedEventType(LEAP.table.d,"selectedIndexChange");ElementEventManager.addManagedEventType(LEAP.table.d,"rowOperationClick");ElementEventManager.addManagedEventType(LEAP.table.d,"doubleClick");ElementEventManager.addManagedEventType(LEAP.table.d,"cellClick");
ElementEventManager.addManagedEventType(LEAP.table.d,"headerClick");ElementEventManager.addManagedEventType(LEAP.table.d,"cellValueChanged");ElementEventManager.addManagedEventType(LEAP.table.d,"chkClick");ElementEventManager.addManagedEventType(LEAP.table.d,"tableMenuClick");};LEAP.table._init=function(){LEAP.addEvent(document.body,"click",LEAP.table.uiProcess,null,null,true);
LEAP.addEvent(document.body,"mousedown",LEAP.table.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseup",LEAP.table.uiProcess,null,null,true);LEAP.addEvent(document.body,"keydown",LEAP.table.uiProcess,null,null,true);LEAP.addEvent(document.body,"dblclick",LEAP.table.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.table._init);if(LEAP.table._tempDiv==null){LEAP.table._tempDiv=document.createElement("div");LEAP.setStyle(LEAP.table._tempDiv,{display:"none",width:"0px",height:"0px"});document.body.appendChild(LEAP.table._tempDiv);}if(LEAP.table._moveDiv==null){LEAP.table._moveDiv=document.createElement("div");
LEAP.setStyle(LEAP.table._moveDiv,{display:"none",width:"4px",height:"30px",position:"absolute",zIndex:99999,background:"red"});document.body.appendChild(LEAP.table._moveDiv);}};LEAP.table.initControl=function(g,h){if(!h){if(!event){return;}h=event.srcElement;}if(!h){return;}var d=h.parentElement;if(!d){d=LEAP._match(h,LEAP.table.d);
}if(!d){return;}if(d!=null){LEAP.table.personalHeader(d);}};LEAP.table.buildFixHeader=function(l){var l=LEAP._match(l,LEAP.table.d);if(!l){return;}var u=l.getAttribute("_hasFixed");if(u=="1"||u=="true"){return;}var j=l.className;l.className=j+" LC_fixed_header";var g=LEAP.getElement("TABLE",l);if(!g){return;
}var r=LEAP.getElement("THEAD[ctf=table_thead]",g);var w=LEAP.getElement("TBODY[ctf=table_tbody]",g);if(!r||!w){return;}l.setAttribute("_hasFixed","1");try{var n=g.parentElement;var h=g.cloneNode(true);var m=document.createElement("div");m.className="lgreultpanel_table_head";m.setAttribute("ctf","lg_rebuild_header");
if(LEAPBrowser.isChrome){m.style["padding-right"]="24px";}var o=LEAP.getElements("tr",r);if(o&&o.length>1){var q=r.clientHeight;m.style.height=q+"px";m.style["margin-top"]="-"+q+"px";n.style["padding-top"]=q+"px";}var d=document.createElement("div");d.className="lgreultpanel_table_body";g.removeChild(w);
h.removeChild(h.children[0]);m.appendChild(g);d.appendChild(h);LEAP.addEvent(d,"scroll",LEAP.table.scrollResult,null,null,true);n.innerHTML="";n.appendChild(m);n.appendChild(d);g.setAttribute("ctf","lg_header_panel");var p=g.clientWidth;h.setAttribute("ctf","lg_body_panel");h.style.width=p+"px";h.style.display="block";
h.style.height="1px";}finally{}};LEAP.table.scrollResult=function(d){var j=d.e.srcElement;if(j==null){return;}var g=LEAP._match(j,LEAP.table.d);if(!g){return;}var h=LEAP.getElement("[ctf=lg_rebuild_header]",g);if(!h){return;}h.style.marginLeft="-"+j.scrollLeft+"px";};LEAP.table.personalHeader=function(r){var n=r.getAttribute("personalmeta");
if(n&&n==1){var j=LEAP.getLoadedModule(r.getAttribute("instance"));if(j){var l=r.getAttribute("ut");var m=LEAP.getUserInfo().userflag+j.pageModuleName+l;var y=localStorage.getItem(m);if(y){var u=new hashtable();try{var o=JSON.parse(y);y=o.metaconfig;var p=LEAP.getElement("[ctf=table_thead_tr]",r);var g=LEAP.getElements("th[ctf=table_header]",p);
LEAP.table.getHeaders(r);for(var q=0;q<g.length;q++){var x=g[q].getAttribute("md");if(x=="status"||g[q].getAttribute("tpo")){var d=LEAP.getBindDef(g[q]);d.text=g[q].innerText;}else{u.add(x,g[q]);LEAP.table.removeHeader2(r,g[q]);}}for(var q=0;q<y.length;q++){var x=y[q].data.name;var A=y[q].data.cnName;
var w=y[q].data.type;var z=null;var h=null;if(u.contains(x)){h=u.getvalue(x);p.appendChild(h);u.remove(x);}else{if(w!=91&&w!=93){z="text";}else{if(LEAP.table.showDTs&&LEAP.table.showDTs.contains(x)){z="datetime";}else{z="date";}}h=LEAP.table.addHeader(r,x,A,null,z,"100px");}}r[LEAP.table.a]=null;return;
}finally{u.clear();u=null;}}}}};LEAP.table.setMetaConfig=function(d,g,j){if(!j){j=LEAP.getLoadedModule(d.e.srcElement.getAttribute("instance"));}if(!j){return;}var h={name:"LEAPSearchMetasConfig",title:"",width:"800",height:"600",pageMode:"search",formtype:3};if(!j.loadForm3){return;}var l=j.loadForm3(h);
l.show();l.module.initMetaConfig(j.resultMetaData,j.pageModuleName,j.pageModuleCNName,g);};LEAP.table._crid=function(){if(LEAP.table._rid!=null){var d=LEAP.getElement("#"+LEAP.table._rid);if(d!=null){d._resize=false;LEAP.table._rid=null;d=null;}}};LEAP.table._hideMoveDiv=function(){LEAP.table._moveDiv.def=null;
LEAP.setStyle(LEAP.table._moveDiv,{display:"none"});};LEAP.table.buildQueryExt=function(){if(this._orderExp!=null){if(this.innerBuildQuery!=null){var g=this.innerBuildQuery();if(g!=null){if(LEAP.isArray(g)){var d=g[0].order;if(d==null){g[0].setOrder(this._orderExp);}else{g[0].setOrder(this._orderExp+" , "+d);
}}else{var d=g.order;if(d==null){g.setOrder(this._orderExp);}else{g.setOrder(this._orderExp+" , "+d);}}return g;}}}else{if(this.innerBuildQuery!=null){return this.innerBuildQuery();}}};LEAP.table.menuItemStr='<li issys=@issys ctf=table_menuitem flag=@flag class="lg2menu_item"><a ctf=table_menuitem flag=@flag href="javascript:">@text</a></li>';
LEAP.table.showMenu=function(j,r,n,q,o){if(n&&n.length>0){if(LEAP.table.menu==null){var d=LEAP.table.menu=document.createElement("UL");d.className="lg2menu_ul";LEAP.addEvent(d,"mouseleave ",LEAP.table.hideMenu,null,null,true);document.body.appendChild(d);d=null;}LEAP.table.menu.style.width="146px";LEAP.table.menu.innerHTML="";
LEAP.table.menu.style.left=q-10+"px";LEAP.table.menu.style.top=o-10+"px";LEAP.table.menu.setAttribute("elementFind",j);LEAP.table.menu.setAttribute("TDFind",r);var g=n.length;var m=new StringBuffer();for(var h=0;h<g;h++){var w=n[h];var p=0;if(w.issys!=null){p=w.issys;}var u=LEAP.table.menuItemStr.replaceall("@flag",w.flag).replace("@text",w.text).replace("@issys",p);
m.append(u);}LEAP.table.menu.innerHTML=m.toString();LEAP.table.menu.style.display="block";}};LEAP.table.hideMenu=function(){if(LEAP.table.menu!=null&&LEAP.table.menu.style.display!="none"){LEAP.table.menu.style.display="none";}};LEAP.table.uiProcess=function(arg){if(arg==null){return;}var src=arg.e.srcElement;
if(src==null){return;}var type=arg.e.type;if(type==null){return;}var tag=src.tagName;if(tag==null){return;}var ctf=src.getAttribute(commfields.ctf);if(ctf!="table_page_num"&&ctf!="table_page_numsyrow_a"){var table_page_body=LEAP.table.table_page_body;if(table_page_body){LEAP.setStyle(table_page_body,{display:"none"});
}}if(ctf!="table_page_size"&&ctf!="table_page_size_numsyrow_a"&&ctf!="table_page_pagesize"&&ctf!="table_page_size_go"&&ctf!="table_export_curPage"){var table_page_size_body=LEAP.table.table_page_size_body;if(table_page_size_body){LEAP.setStyle(table_page_size_body,{display:"none"});}}if(type=="click"&&ctf=="table_copybtn"&&LEAP.table.cr!=null&&LEAP.table.cf!=null){var hasfield=LEAP.getElement("input[ctf=table_copyhasfield]","div"+LEAP.table.cf);
var ret=new Object();if(hasfield.value==1||hasfield.value==true||hasfield.value=="on"){var fields=LEAP.table.cr[0];LEAP.table.cr.removeindex(0);ret.result=LEAP.table.cr;var l=fields.length;ret.metaData=[];for(var i=0;i<l;i++){var f=fields[i];var md=new Object();md.name=f;ret.metaData.add(md);}}else{ret.result=LEAP.table.cr;
}ret.size=ret.count=ret.result.length;if(LEAP.table.cfun!=null){LEAP.table.cfun(ret);}ret=null;LEAP.table.cfun=null;LEAP.table.cr=null;LEAP.form.hide(LEAP.table.cf);}if(type=="keydown"){var k=null;if(LEAP.isIE){k=arg.e.keyCode;}else{k=arg.e.which;}if((k==38||k==40)&&((ctf!=null&&ctf.indexOf("table_")==0)||src.tagName=="TABLE")){var element=LEAP._match(src,LEAP.table.d);
if(element!=null){if(k==40){LEAP.table.setSelectedIndex(element,LEAP.table.getSelectedIndex(element)+1);}if(k==38){if(element[LEAP.table.b]==null){var rows=LEAP.getElements("tr[ctf=table_row]",element);if(rows!=null){LEAP.table.setSelectedIndex(element,rows.length-1);}rows=null;}else{LEAP.table.setSelectedIndex(element,LEAP.table.getSelectedIndex(element)-1);
}}LEAP.stopEvent(arg.e);}element=src=null;return false;}if(k==27||k==13||k==9||k==40||k==38){if(src.getAttribute("ttf")=="table_cell_edite_contrl_cons"||LEAP._match(src,"table_cell_edite_contrl_cons","ttf")!=null){if(k==27){LEAP.table.hideCellEidt(true);}else{if(k==13||k==9||k==40||k==38){if((k==13||k==40||k==38)&&src.tagName=="TEXTAREA"&&!arg.e.ctrlKey){return;
}if(LEAP.table.lasteditcontrolid!=null){var control=LEAP.getElement("[ctid="+LEAP.table.lasteditcontrolid+"]",LEAP.table._tempDiv);if(control!=null){var _cell=LEAP.getElement("[ctid="+control.getAttribute("cellid")+"]");if(_cell!=null){var element=LEAP._match(_cell,"table");if(element!=null&&LEAP.table.modifyCellValue!=null){var ret=LEAP.table.modifyCellValue(element);
if(ret!=false&&LEAP.table.editNextCell!=null){if(k==9){LEAP.table.editNextCell(_cell,element);LEAP.stopEvent(arg.e);}else{if((src.tagName=="TEXTAREA"&&arg.e.ctrlKey&&k==38)||(src.tagName!="TEXTAREA"&&k==38)){LEAP.table.editPreRowCell(_cell,element);LEAP.stopEvent(arg.e);}else{if((src.tagName=="TEXTAREA"&&arg.e.ctrlKey&&k==40)||(src.tagName!="TEXTAREA"&&k==40)){LEAP.table.editNextRowCell(_cell,element);
LEAP.stopEvent(arg.e);}}}}}element=null;}control=_cell=null;}}}}}}return;}var _temp=LEAP._match(src,"table_cell_edite_contrl_cons",commfields.ttf);if(_temp==null&&(type=="click"||type=="dblclick")&&LEAP.table.hideCellEidt!=null){if(src.getAttribute("ttf")=="table_cell_edite_contrl_cons"||LEAP._match(src,"table_cell_edite_contrl_cons","ttf")!=null){}else{LEAP.table.hideCellEidt();
if(LEAP.table.modifyCellValue!=null){var control=LEAP.getElement("[ctid="+LEAP.table.lasteditcontrolid+"]",LEAP.table._tempDiv);if(control!=null){var _cell=LEAP.getElement("[ctid="+control.getAttribute("cellid")+"]");if(_cell!=null){LEAP.table.modifyCellValue(LEAP._match(_cell,LEAP.table.d));}control=_cell=null;
}}}}if(type=="mouseout"){if(tag=="TD"&&ctf=="table_cell"){var row=LEAP._match(src,"table_row",commfields.ctf);var element=LEAP._match(row,LEAP.table.d);if(row==null){return;}var index=row.sectionRowIndex;var seindex=element[LEAP.table.b];if(index==seindex){}else{if((index%2)==0){LEAP.setStyle(row,{background:"#F5F8FF"});
}else{LEAP.setStyle(row,{background:"#FFFFFF"});}}row=element=src=null;return false;}src=null;return;}if(type=="mousemove"&&LEAP.table.headerdrap){var def=LEAP.table._moveDiv.def;if(tag=="TD"&&ctf=="table_cell"){var row=LEAP._match(src,"table_row",commfields.ctf);var element=LEAP._match(row,LEAP.table.d);
if(row==null){return;}var index=row.sectionRowIndex;var seindex=element[LEAP.table.b];if(index==seindex){}row.style.backgroundColor=LEAP.table.selectedColor;return false;}else{if(tag!="TH"&&def==null){LEAP.table._hideMoveDiv();return;}}if(tag=="TH"&&def!=null&&def._src!=null){if(src!=def._src){LEAP.table._hideMoveDiv();
return;}var w=def._width;var dx=def._dx;var lr=def.lr;var x=arg.e.offsetX;var tw=x-dx;var rw=w+tw;var left=arg.e.clientX;if(lr=="l"){rw=w-tw;left=left-7;}else{left=left+3;}if(rw>20){LEAP.setStyle(LEAP.table._moveDiv,{display:"block",left:left+"px"});}w=dx=lr=x=tw=rw=left=null;}else{LEAP.table._hideMoveDiv();
}def=src=type=tag=null;return false;}if(type=="mousedown"){if(ctf=="table_addrow"){var element=LEAP._match(src,LEAP.table.d);if(element!=null){LEAP.table.newRow(element);}}else{if(ctf=="table_deleterow"){var element=LEAP._match(src,LEAP.table.d);if(element!=null){var row=LEAP._match(src,"table_row",commfields.ctf);
LEAP.table.removeRow(element,row.sectionRowIndex);}}else{if(tag=="TH"){var isstat=src.getAttribute("isstat");if(isstat!=null&&isstat=="1"){}else{if(!LEAP.table.headerdrap){return;}var w=src.clientWidth;var x=arg.e.offsetX;var def=null;var nSrc=null;if(w<x+10||x<10){var left=arg.e.clientX+3;if(x<10){left=arg.e.clientX-7;
}var t=arg.e.clientY-15;var h=30;if(src.getBoundingClientRect()){t=src.getBoundingClientRect().top;h=src.offsetHeight-2;}LEAP.setStyle(LEAP.table._moveDiv,{display:"block",left:left+"px",top:t+"px",height:h+"px"});left=t=h=null;def={_dx:x,_width:w,_src:src,lr:"r"};if(w<x+10){nSrc=src.nextSibling;if(nSrc!=null&&nSrc.nodeType!=1&&nSrc.tagName!="TH"){if(nSrc.nextElementSibling){nSrc=nSrc.nextElementSibling;
}else{nSrc=nSrc.nextSibling;while(nSrc.nodeValue!=null){nSrc=nSrc.nextSibling;}}}}if(x<10){nSrc=src.previousSibling;if(nSrc!=null&&nSrc.nodeType!=1&&nSrc.tagName!="TH"){if(nSrc.previousElementSibling){nSrc=nSrc.previousElementSibling;}else{nSrc=nSrc.previousSibling;while(nSrc&&nSrc.nodeType!==1){nSrc=nSrc.previousSibling;
}}}def.lr="l";}if(nSrc==null){return;}def._nsrc=nSrc;LEAP.table._moveDiv.def=def;LEAP.addEvent(document.body,"mousemove",LEAP.table.uiProcess,null,null,true);}else{LEAP.table._hideMoveDiv();}def=nSrc=w=x=null;return false;}}}}src=type=tag=null;return;}if(type=="mouseup"&&LEAP.table.headerdrap){LEAP.removeEvent(document.body,"mousemove",LEAP.table.uiProcess,true);
var def=LEAP.table._moveDiv.def;LEAP.table._hideMoveDiv();if(tag=="TH"&&def!=null&&def._src){var element=LEAP._match(src,LEAP.table.d);var fixW=null;if(element!=null){fixW=element.getAttribute("fixwidth");}var w=def._width;var dx=def._dx;var x=arg.e.offsetX;var lr=def.lr;var tw=x-dx;var nsrc=def._nsrc;
var rw=w+tw;var nrw=null;if(fixW&&fixW=="1"){var _idex=null;if(lr=="l"){rw=nsrc.clientWidth+tw;nsrc.style.width=rw+"px";_idex=nsrc.cellIndex;}else{def._src.style.width=rw+"px";_idex=def._src.cellIndex;}if(_idex!=null&&rw){var rowEls=LEAP.table.getRows(element);if(rowEls!=null){for(var i=0;i<rowEls.length;
i++){rowEls[i].cells[_idex].style.width=rw+"px";}}rowEls=null;}_idex=null;}else{if(lr=="l"){rw=w-tw;nrw=nsrc.clientWidth+tw;}else{nrw=nsrc.clientWidth-tw;}if(rw>20){def._src.style.width=rw+"px";if(nrw!=null){nsrc.style.width=nrw+"px";}}var last=LEAP.getElement("th[_thid_="+nsrc.getAttribute("_thid_")+"]:last",nsrc.parentElement.parentElement.parentElement.parentElement);
if(last&&last!=nsrc){last.style.width=nsrc.style.width;}last=LEAP.getElement("th[_thid_="+def._src.getAttribute("_thid_")+"]:last",def._src.parentElement.parentElement.parentElement.parentElement);if(last&&last!=nsrc){last.style.width=def._src.style.width;}}last=w=dx=x=lr=tw=rw=nrw=nsrc=null;src=type=tag=null;
LEAP.stopEvent(arg.e);return false;}def=null;}if(type=="click"){LEAP.table.hideMenu();}var utf=src.getAttribute("utf");var ctf=src.getAttribute(commfields.ctf);var ct=src.getAttribute(commfields.ct);var table=null;var tablect=null;if(type=="click"&&ctf=="table_menuitem"){var li=src;if(li.tagName!="LI"){li=src.parentElement;
}if(li.tagName!="LI"){li=li.parentElement;}var ul=li.parentElement;var element=LEAP.getElement(ul.getAttribute("elementFind"));var td=LEAP.getElement(ul.getAttribute("TDFind"));var row=td.parentElement;var text=LEAP.getElement("A:first",li).innerText;var flag=li.getAttribute("flag");var headers=LEAP.table.getHeaders(element);
var header=null;if(headers!=null){header=headers[td.cellIndex];}var md=null;if(header!=null){md=header.md;}ElementEventManager.handleEvent(element,"tableMenuClick",{row:row,cell:td,src:src,index:row.sectionRowIndex,cellIndex:td.cellIndex,data:row.data,selectedIndex:element[LEAP.table.b],header:header,md:md});
return;}if(ct==LEAP.table.d){tablect=src;}if(tablect==null&&ctf!=null&&ctf.indexOf(LEAP.table.d)==0){tablect=LEAP._match(src,LEAP.table.d);}if(tablect==null){if(utf=="table_page"){tablect=LEAP.getElement("div[ct=table]",src.parentElement.parentElement.parentElement.parentElement.parentElement);}if(utf=="table_page"&&(ctf=="table_page_numsyrow_a"||ctf=="table_page_size_numsyrow_a")){tablect=LEAP.getElement("div[ct=table]",src.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);
}if(utf=="table_page"&&(ctf=="table_page_pagesize"||ctf=="table_page_size_go"||ctf=="table_page_daochu")){tablect=LEAP.getElement("div[ct=table]",src.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);}if(!tablect){return;}}if(type=="mouseup"){var searchcode=src.getAttribute("searchcode");
if((ctf=="table_header"||ctf=="table_header_code")&&tablect.getAttribute("enablesort")!="0"&&!searchcode){if(ctf=="table_header_code"){src=src.parentElement;}var element=LEAP._match(src,LEAP.table.d);if(!element){return null;}var module=LEAP.getLoadedModule(element.getAttribute("instance"));if(module&&module.moduleVersion&&module.moduleVersion>=3){var showorder=src.getAttribute("showorder");
if(showorder!="1"){return;}}if(tablect.getAttribute("sort")=="client"){var md=src.getAttribute("md");if(md!=null&&md.Trim()!=""&&src.getAttribute("sncol")!="1"){var pageNum=tablect.pageNum;if(pageNum==null){pageNum=1;}else{pageNum=LEAP.tonum(tablect.pageNum);}var isasc=src.getAttribute("isasc");if(isasc==null){src.setAttribute("isasc","1");
}else{if(isasc=="1"){src.setAttribute("isasc","0");}else{if(isasc=="0"){src.removeAttribute("isasc");}}}if(showorder=="1"||showorder==true){var flag=LEAP.getElement("div[flag=orderflagnew]",src.parentNode);if(isasc==null){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/up.png)  no-repeat center";
}else{if(isasc=="1"){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/down.png)  no-repeat center";}else{flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/default.png)  no-repeat center";}}}else{var flag=LEAP.getElement("div[flag=orderflag]",src.parentNode);
if(flag==null){var flag=document.createElement("div");flag.style.width="18px";flag.style.height="16px";flag.style.left="10px";flag.style.top="0px";flag.style.position="absolute";flag.setAttribute("flag","orderflag");}if(isasc==null){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/order1.png)  no-repeat center";
}else{flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/order2.png)  no-repeat center";}src.style.position="relative";src.appendChild(flag);flag=null;}var mode=0;if(isasc==null){mode=1;}LEAP.table.gotoPage(tablect,pageNum,tablect.pageResult,mode,md);}}else{var autosort=true;
var maxsort=null;if(LEAP.getUserInfo()!=null){autosort=LEAP.getUserInfo().autosort;maxsort=LEAP.getUserInfo().maxsort;}if(autosort!=null&&autosort==true){if((element.pageResultCount==null||maxsort==null)||element.pageResultCount<=maxsort){var md=src.getAttribute("md");if(md!=null&&md.Trim()!=""&&src.getAttribute("sncol")!="1"){if(module!=null){try{if(module.moduleVersion>1&&module.innerSearch&&module.innserGetSortPar&&module.innserSetSortPar){module.innserSetSortPar(md,null,src);
module.innerSearch();return;}}finally{module=null;}}var fn=tablect[LEAP.table.m];if(fn!=null){var domain=tablect[LEAP.table.md];if(domain!=null){try{if(domain.buildQuery!=null){if(domain.innerBuildQuery==null){domain.innerBuildQuery=domain.buildQuery;domain.buildQuery=LEAP.table.buildQueryExt;}var isasc=src.getAttribute("isasc");
if(isasc==null){src.setAttribute("isasc","1");}else{if(isasc=="1"){src.setAttribute("isasc","0");}else{if(isasc=="0"){src.removeAttribute("isasc");}}}if(isasc==null){domain._orderExp=md;}else{if(isasc=="1"){domain._orderExp=md+" desc";}}LEAP.table.refreshPage(tablect);var showorder=src.getAttribute("showorder");
if(showorder=="1"||showorder==true){var flag=LEAP.getElement("div[flag=orderflagnew]",src.parentNode);if(isasc==null){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/up.png)  no-repeat center";}else{if(isasc=="1"){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/down.png)  no-repeat center";
}else{if(isasc=="0"){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/default.png)  no-repeat center";}}}}else{var flag=LEAP.getElement("div[flag=orderflag]",src.parentNode);if(flag==null){var flag=document.createElement("div");flag.style.width="18px";flag.style.height="16px";
flag.style.left="10px";flag.style.top="0px";flag.style.position="absolute";flag.setAttribute("flag","orderflag");}if(isasc==null){flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/order1.png)  no-repeat center";}else{flag.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/order2.png)  no-repeat center";
}src.style.position="relative";src.appendChild(flag);flag=null;}}}finally{domain==null;}}}}}else{LEAP.messagebox.alert("["+maxsort+"]",2);}}return;}}if(ctf=="table_header_search"||(ctf=="table_header"&&searchcode)){if(ctf=="table_header"){src=LEAP.getElement("[ctf=table_header_search]",src);
}var psrc=src.parentElement;if(psrc){var searchCode=psrc.getAttribute("searchcode");if(searchCode){var codeul=LEAP.getElement("[flag=searchcode]",psrc);if(codeul){if(codeul.style.display=="none"){codeul.style.display="";src.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/select-up.png)  no-repeat center";
}else{codeul.style.display="none";src.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/select-down.png)  no-repeat center";if(codeul.getAttribute("ismulti")=="1"){var checkEls=LEAP.getElements("input[ctf=checkbox2_input]",codeul);var checkstr=null;if(checkEls!=null){for(var i=0;
i<checkEls.length;i++){if(checkEls[i].checked===true){checkstr=(checkstr==null)?checkEls[i].getAttribute("codeid"):checkstr+";"+checkEls[i].getAttribute("codeid");}}}if(checkstr==null){codeul.parentElement.removeAttribute("searchvalue");}else{codeul.parentElement.setAttribute("searchvalue",checkstr);
}}}}else{var values=LEAP.getCodeValue(searchCode);if(values&&values.length>0){var multiselect=psrc.getAttribute("multicodeid");codeul=document.createElement("DIV");codeul.className="LC_searchcode_down_list";codeul.setAttribute("flag","searchcode");var buffer=new StringBuffer();if(multiselect&&multiselect=="1"){LEAP.setStyle(codeul,{background:"#FFF",border:"1px solid #d9d9d9"});
buffer.append("<div style='padding:8px;overflow-y: auto;max-height: 300px;min-height: 80px;overflow-x: hidden;'>");for(var i=0;i<values.length;i++){buffer.append("<div class='LC_checkbox' style='display: block;margin:8px 0;text-align: left' ctf='checkbox2_item' codeid='"+values[i].codeid+"'><input style='height:100%;width:100%' codeid='"+values[i].codeid+"' type='checkbox' value='0' ctf='checkbox2_input'><span style='width:16px;height:16px'></span><label ctf='checkbox2_label' style='white-space: nowrap;overflow: hidden;text-overflow: ellipsis;width: 150px;' title='"+values[i].codevalue+"'>"+values[i].codevalue+"</label></div>");
}for(var i=0;i<values.length;i++){buffer.append("<div class='LC_checkbox' style='display: block;margin:8px 0;text-align: left' ctf='checkbox2_item' codeid='"+values[i].codeid+"'><input style='height:100%;width:100%' codeid='"+values[i].codeid+"' type='checkbox' value='0' ctf='checkbox2_input'><span style='width:16px;height:16px'></span><label ctf='checkbox2_label' style='white-space: nowrap;overflow: hidden;text-overflow: ellipsis;width: 150px;' title='"+values[i].codevalue+"'>"+values[i].codevalue+"</label></div>");
}buffer.append("</div>");buffer.append("<div class='LC_checkbox' style='display: inline-block;float:left;margin-left:8px' ctf='checkbox2_item''><input style='height:100%;width:100%' codeid='_all' type='checkbox' value='0' ctf='checkbox2_input_selectall'><span style='width:16px;height:16px'></span><label ctf='checkbox2_label'></label></div><input class='LC_button_blue LC_button_conner' ctf='table_btn_codesearch' style='width: 60px;height:25px;line-height:25px;margin-bottom: 2px;' type='button' value=''></div>");
codeul.setAttribute("ismulti","1");}else{buffer.append("<UL style='min-width:190px;'>");buffer.append("<li style='text-align:left' ctf='table_searchcode' codeid='all'></li>");for(var i=0;i<values.length;i++){buffer.append("<li style='text-align:left' ctf='table_searchcode' codeid='"+values[i].codeid+"'>"+values[i].codevalue+"</li>");
}buffer.append("</UL>");}codeul.innerHTML=buffer.toString();if(codeul.getAttribute("ismulti")=="1"){var checkAll=LEAP.getElement("[ctf=checkbox2_input_selectall]",codeul);var checkEls=LEAP.getElements("input[ctf=checkbox2_input]",codeul);if(checkAll!=null&&checkEls!=null){checkAll.onclick=function(event){for(var i=0;
i<checkEls.length;i++){checkEls[i].checked=this.checked;}};}}psrc.appendChild(codeul);psrc.style.position="relative";src.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/select-up.png)  no-repeat center";LEAP.addEvent(psrc,"mouseleave",function(arg){if(arg&&arg.arg){arg.arg.style.display="none";
}},codeul);}}}}}if(ctf=="table_searchcode"||ctf=="table_btn_codesearch"){if(src.parentElement&&src.parentElement.parentElement&&src.parentElement.parentElement.parentElement){var parent=src.parentElement.parentElement.parentElement;var codeele=src.parentElement.parentElement;if(ctf=="table_btn_codesearch"){parent=src.parentElement.parentElement;
codeele=src.parentElement;}if(ctf=="table_searchcode"){var codeid=src.getAttribute("codeid");if(codeid=="all"){parent.removeAttribute("searchvalue");}else{parent.setAttribute("searchvalue",codeid);}}else{if(ctf=="table_btn_codesearch"){var checkEls=LEAP.getElements("input[ctf=checkbox2_input]",parent);
var checkstr=null;if(checkEls!=null){for(var i=0;i<checkEls.length;i++){if(checkEls[i].checked===true){checkstr=(checkstr==null)?checkEls[i].getAttribute("codeid"):checkstr+";"+checkEls[i].getAttribute("codeid");}}}if(checkstr==null){parent.removeAttribute("searchvalue");}else{parent.setAttribute("searchvalue",checkstr);
}}}if(codeele){codeele.style.display="none";var hs=LEAP.getElement("[ctf=table_header_search]",parent);hs.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/select-down.png)  no-repeat center";}var md=parent.getAttribute("md");var element=LEAP._match(src,LEAP.table.d);var module=LEAP.getLoadedModule(element.getAttribute("instance"));
if(module!=null){try{if(module.moduleVersion>1&&module.innerSearch){module.innerSearch();if(ctf=="table_searchcode"){var lielels=LEAP.getElements("[ctf=table_searchcode]",src.parentElement);if(lielels&&lielels.length>0){for(var i=0;i<lielels.length;i++){LEAP.removeCSS(lielels[i],"LC_searchcode_down_fontcolor");
}}LEAP.addCSS(src,"LC_searchcode_down_fontcolor");}return;}}finally{module=null;}}}}if(ctf=="table_export"||ctf=="table_export_new"){LEAP.stopEvent(arg.e);var epm=tablect.getAttribute("exportmode");if(epm=="1"){var result=tablect.result;if(result!=null){var url=LEAP.request("ExportExcelByResult",{r:result});
if(url!=null){window.open(window.geturl(leapconfig.server+"LEAP/Download/excelReport/"+url));}}return;}else{if(epm=="2"){var result=new Object();result.resultSetName="";result.metaData=[];result.result=[];var headers=LEAP.table.getHeaders(tablect);var rows=LEAP.getElements("[ctf=table_row]",tablect);
if(rows){for(var i=0;i<headers.length;i++){var text=headers[i].text;if(headers[i].sncol){text="";}result.metaData.add({name:text});}for(var j=0;j<rows.length;j++){var row=[];result.result.add(row);row=result.result[j];for(var i=0;i<headers.length;i++){var cell=rows[j].children[i];var text=cell.innerText;
if(text&&text.indexOf("...")>-1){text=cell.getAttribute("sourcevalue");}if(text==null||text=="undefined"){text="";}row[i]=text;}}var url=LEAP.request("ExportExcelByResult",{r:result});if(url!=null){window.open(window.geturl(leapconfig.server+"LEAP/Download/excelReport/"+url));}}return;}}if(LEAP.table.s==null){if(ctf=="table_export_new"){LEAP.table.s=leapclient.load("LEAP/Resource/HTML/Control/tableExportnew.html");
}else{if(ctf=="table_export"){LEAP.table.s=leapclient.load("LEAP/Resource/HTML/Control/tableExport.html");}}}var econs=LEAP.getElement("[ctf=table_export_cons]",tablect);if(econs==null){var div=document.createElement("div");div.innerHTML=LEAP.table.s;econs=LEAP.getElement("[ctf=table_export_cons]",div);
tablect.appendChild(econs);LEAP.removeElement(div);var instance=tablect.getAttribute("instance");if(instance){var module=LEAP.getLoadedModule(instance);if(module&&module.isCanExportAll&&module.isCanExportAll()){LEAP.getElement("[ctf=table_export_allPage_cons]",econs).style.display="block";}}div=null;
econs=null;}else{if(econs.style.display=="none"){econs.style.display="block";}else{econs.style.display="none";}econs=null;}}if(ctf=="table_import_new"){var icons=LEAP.getElement("[ctf=table_imports_cons]",tablect);if(icons==null){var div=document.createElement("div");var imStr=leapclient.load("LEAP/Resource/HTML/Control/tableImport.html");
div.innerHTML=imStr.replace("@src1",leapconfig.server+"LEAP/Resource/images/itemstyle/table/table_export.png").replace("@src2",leapconfig.server+"LEAP/Resource/images/itemstyle/table/table_tm_upload.png");icons=LEAP.getElement("[ctf=table_imports_cons]",div);tablect.appendChild(icons);LEAP.removeElement(div);
div=null;icons=null;}else{if(icons.style.display=="none"){icons.style.display="block";}else{icons.style.display="none";}icons=null;}}if(ctf=="table_data_import"){var def={types:"xlsx",typesdesc:"excel",maxsize:"10240000",uploadpath:"excelImport",title:"excel",arg:{tele:tablect},callback:LEAP.table.upLoadFinish,domain:this};
LEAP.uploadform.show(def);}else{if(ctf=="table_template_export"){var instance=tablect.getAttribute("instance");var module=LEAP.getLoadedModule(instance);if(!module){return;}var modulename=module.moduleName;var moduleCnname=module.moduleCNName;if(!modulename||!moduleCnname){return;}var timEc=LEAP.getElement("[ctf=table_imports_cons]",tablect);
if(timEc){timEc.style.display="none";}var data={};data.modulename=modulename;data.cname=moduleCnname;var url=LEAP.request("studio_exportExcelnew",{data:data});window.open(window.geturl(leapconfig.server+"LEAP/Download/excelReport/"+url));}}if(ctf=="table_retrieve_new"){var instance=tablect.getAttribute("instance");
var module=LEAP.getLoadedModule(instance);if(!module){return;}var modulename=module.moduleName;var par=new SearchParameters();par.name="leapdatafield";par.addParameter("tablename",modulename,11);var metas=LEAP.request("studiov2_beanSearch",{par:par});if(metas==null||metas.length==0){return;}var mele=LEAP.getElement("TR:first",src.parentElement.parentElement.parentElement.parentElement.parentElement);
if(!mele==null||!mele.children||mele.children.length==0){return;}LEAP.DataRetrieve.initControl(tablect,mele.children[0],metas);}if(ctf=="table_export_setPageSize"){LEAP.stopEvent(arg.e);var ctid=LEAP.ctid(LEAP.getElement("[ctf=table_export_cons]",tablect));LEAP.asyn(function(){LEAP.getElement("[ctid="+ctid+"]").style.display="none";
},null,10);var sizes=LEAP.getElement("[ctf=table_export_pageSize]",tablect);if(sizes!=null){var size=sizes.value;sizes=null;if(size.Trim()!=""){size=parseInt(size);if(size>0&&size<=LEAP.table.maxShowSize){tablect.setAttribute(LEAP.table.p,size+"");tablect[LEAP.table.p]=size;LEAP.table.refreshPage(tablect);
}else{LEAP.messagebox.alert(""+LEAP.table.maxShowSize,2);}}else{tablect.setAttribute(LEAP.table.p,"12");tablect[LEAP.table.p]=12;LEAP.table.refreshPage(tablect);}}LEAP.stopEvent(arg.e);return;breakEvent:true;}if(ctf=="table_export_curPage"||ctf=="table_export_print"||ctf=="table_export_export"||ctf=="table_export_allPage"){LEAP.stopEvent(arg.e);
if(LEAP.getElement("[ctf=table_export_cons]",tablect)){var ctid=LEAP.ctid(LEAP.getElement("[ctf=table_export_cons]",tablect));LEAP.asyn(function(){LEAP.getElement("[ctid="+ctid+"]").style.display="none";},null,10);}var instance=tablect.getAttribute("instance");if(instance){var module=LEAP.getLoadedModule(instance);
var fields=null;if(module){var pageCount=null;var pageNum=null;var isPrint=false;if(ctf=="table_export_print"||ctf=="table_export_export"){var mins=LEAP.getElement("[ctf=table_export_min]",tablect);var maxs=LEAP.getElement("[ctf=table_export_max]",tablect);if(!String.isEmpty(mins)&&!String.isEmpty(maxs)){var min=mins.value*1;
var max=maxs.value*1+1;var pageCount=max-min;if(pageCount<=0){pageCount=null;}mins=maxs=null;if(min!=0&&max!=0&&min<=max){pageNum=min;}}}else{if(ctf=="table_export_allPage"){if(module.isCanExportAll&&module.isCanExportAll()){pageNum=1;pageCount=tablect.pageCount;if(pageCount==0){LEAP.messagebox.alert("0,!",2);
return;}}else{LEAP.messagebox.alert("!",2);return;}}}if(ctf=="table_export_print"){isPrint=true;}module.exportExcel(pageCount,pageNum,null,null,null,isPrint);module=null;}}}else{if(ctf=="table_props_chk_md"){LEAP.stopEvent(arg.e);var headers=tablect[LEAP.table.a];var chk=src.checked;var md=src.getAttribute("md");
var datatype=src.getAttribute("datatype");if(!chk){var code=src.getAttribute("code");var idx=src.getAttribute("idx");var ths=LEAP.getElements("input:checked[type=checkbox][ctf=table_props_chk_md]",tablect);var nextmd=null;if(ths!=null){var l=ths.length;for(var i=0;i<l;i++){var tidx=ths[i].getAttribute("idx")*1;
if(tidx>idx){nextmd=ths[i].getAttribute("md");break;}}ths=null;}var th=document.createElement("TH");if(code!=null&&code!="null"){th.setAttribute("code",code);}th.setAttribute("md",md);if(datatype!=91&&datatype!=93){th.setAttribute("bt","text");}else{if(LEAP.table.showDTs&&LEAP.table.showDTs.contains(md)){th.setAttribute("bt","datetime");
}else{th.setAttribute("bt","date");}}th.setAttribute("ctf","table_header");th.innerText=src.getAttribute("cntext");var hdef=LEAP.getBindDef(th);hdef.text=th.innerText;if(nextmd!=null){var next=LEAP.getElement("th[ctf=table_header][md="+nextmd+"]",tablect);next.parentNode.insertBefore(th,next);headers=headers.insert(hdef,next.cellIndex-1);
tablect[LEAP.table.a]=headers;}else{var hs=LEAP.getElements("th[ctf=table_header]",tablect);if(hs!=null){var tpo=hs[hs.length-1].getAttribute("tpo");if(tpo!=null&&tpo.Trim()!=""){hs[hs.length-1].parentNode.insertBefore(th,hs[hs.length-1]);headers=headers.insert(hdef,hs[hs.length-1].cellIndex-1);tablect[LEAP.table.a]=headers;
}else{var tthread=LEAP.getElement("thead:last",tablect);var trows=LEAP.getElements("tr",tthread);trows[trows.length-1].appendChild(th);headers.add(hdef);tablect[LEAP.table.a]=headers;}}else{var tthread=LEAP.getElement("thead:last",tablect);var trows=LEAP.getElements("tr",tthread);trows[trows.length-1].appendChild(th);
headers=[];headers.add(hdef);tablect[LEAP.table.a]=headers;}}LEAP.table.refreshPage(tablect);th=null;}else{var th=LEAP.getElement("th[ctf=table_header][md="+md+"]",tablect);var idx=th.cellIndex;headers.remove(headers[idx]);th.parentNode.removeChild(th);th=null;var rows=LEAP.getElements("tr[ctf=table_row]",tablect);
if(rows!=null){var l=rows.length;for(var i=0;i<l;i++){var row=rows[i];row.removeChild(row.cells[idx]);row=null;}rows=null;}}var cachename=tablect.getAttribute("cachename");if(cachename!=null&&cachename.Trim().length>0){var str=JSON.stringify(headers);var userInfo=LEAP.getUserInfo();if(userInfo!=null&&userInfo.userflag!=null){Storage.set("table_headers_user_"+userInfo.userflag+"_"+cachename,str);
}}}else{if(ctf=="table_props"){LEAP.stopEvent(arg.e);var props=LEAP.getElement("[ctf=table_props_cons]",tablect);if(props==null){var codeTypes=tablect.codeTypes;var metaDatas=tablect.metaDatas;var headers=tablect[LEAP.table.a];if(codeTypes!=null&&metaDatas!=null){if(LEAP.table.t==null){LEAP.table.t=leapclient.load("LEAP/Resource/HTML/Control/tableProps.html");
}var div=document.createElement("div");div.innerHTML=LEAP.table.t;props=LEAP.getElement("[ctf=table_props_cons]",div);props.style.height=tablect.clientHeight*0.6+"px";tablect.appendChild(props);LEAP.removeElement(div);div=null;props=null;var l=codeTypes.length;var temp=new hashtable();var temp2=new array();
var ll=headers.length;for(var i=0;i<ll;i++){var h=headers[i];if(h.md!=null&&h.sncol==false){temp.add(h.md,{code:h.code,md:h.md,txt:null});temp2.add(h.md);}}for(var i=0;i<l;i++){var codeType=codeTypes[i];var metaData=metaDatas[i];var mdName=metaData.name;if(temp.contains(mdName)){temp.getvalue(mdName).txt=metaData.cnName;
temp.getvalue(mdName).datatype=metaData.type;continue;}var lmd=mdName.toLowerCase();if(lmd=="id"||lmd=="cloudappid"||lmd=="photo"||metaData.cnName==""||metaData.cnName==""){continue;}temp.add(lmd,{code:codeType,md:lmd,txt:metaData.cnName,datatype:metaData.type});}var str="";var index=0;for(var key in temp.keys){var value=temp.getvalue(key);
var md=value.md;var code=value.code;var txt=value.txt;var datatype=value.datatype;if(txt==null){txt=md;}var _str=LEAP.table.z;if(!temp2.contains(md)){_str=_str.replace("checked","");}str+=_str.replace("@text",txt).replace("@idx",index).replace("@cntext",txt).replace("@md",md).replace("@code",code).replace("@datatype",datatype);
index++;}if(str!=""){LEAP.getElement("[ctf=table_props_list]",tablect).innerHTML=str;}}}else{props.style.height=tablect.clientHeight*0.6+"px";if(props.style.display=="none"){props.style.display="block";}else{props.style.display="none";}props=null;}}else{if(ctf=="table_setheader"){LEAP.stopEvent(arg.e);
LEAP.table._buildHeader(tablect);}else{if(ctf=="table_set_close"){LEAP.stopEvent(arg.e);var divEl=LEAP.getElement("[ctf=table_per_header]",tablect);if(divEl!=null){divEl.parentElement.removeChild(divEl);}}else{if(ctf=="table_save_header"){LEAP.stopEvent(arg.e);LEAP.table._saveHeader(tablect);}else{if(ctf=="table_restore_header"){LEAP.stopEvent(arg.e);
var cmodule=LEAP.getLoadedModule(tablect.getAttribute("instance"));if(!cmodule||!cmodule.pageModuleName){return;}LEAP.table._restoreHeader(tablect,cmodule);}else{if(ctf=="table_field_item"){LEAP.stopEvent(arg.e);LEAP.table._setFieldCheck(tablect,src);return;}}}}}}}}return;}table=LEAP.getElement(LEAP.table.d,tablect);
if(table==null){return;}var tpof=src.getAttribute(commfields.tpof);if(ctf=="table_header"){var header=LEAP.table.getHeaders(tablect,src.cellIndex);ElementEventManager.handleEvent(tablect,"headerClick",{cell:src,table:table,src:src,cellIndex:src.cellIndex,header:header,md:header.md});header=null;return;
}var row=null;if(LEAP._match(src,"table_thead")!=null){}else{row=LEAP._match(src,"table_row",commfields.ctf);}if(row!=null){if(type=="dblclick"){if(tag=="TD"){ElementEventManager.handleEvent(tablect,"doubleClick",{row:row,table:table,data:row.data});}return;}var cell=null;if(tag=="TD"){cell=src;}else{cell=LEAP._match(src,"table_cell",commfields.ctf);
}if(cell!=null){var headers=LEAP.table.getHeaders(tablect);var header=null;if(headers!=null){header=headers[cell.cellIndex];}var md=null;if(header!=null){md=header.md;}if(header!=null&&!String.isEmpty(header.menuexp)){var elementFind=tablect.tagName+"[ctid="+LEAP.ctid(tablect)+"]:first";var tdFind=cell.tagName+"[ctid="+LEAP.ctid(cell)+"]:first";
var items=[];var str=header.menuexp;var strs=str.split("|");var l=strs.length;for(var i=0;i<l;i++){var item={};var temp=strs[i].split(":");item.text=temp[0];item.flag=temp[1];items.add(item);}LEAP.table.showMenu(elementFind,tdFind,items,arg.e.clientX,arg.e.clientY);}ElementEventManager.handleEvent(tablect,"cellClick",{row:row,cell:cell,srcst:header.st,table:table,src:src,index:row.sectionRowIndex,cellIndex:cell.cellIndex,data:row.data,selectedIndex:tablect[LEAP.table.b],header:header,md:md});
}if(cell!=null&&tpof!=null&&tpof!=""){var roc=tablect.getAttribute("operationClick");if(roc!=null&&roc!=""&&tablect._ioc==null){var rocfn=null;try{rocfn=eval("("+roc+")");}catch(err){}LEAP.addEvent(tablect,"rowOperationClick",rocfn);tablect._ioc="true";}ElementEventManager.handleEvent(tablect,"rowOperationClick",{row:row,cell:cell,srcst:header.st,table:table,flag:tpof,src:src,index:row.sectionRowIndex,cellIndex:cell.cellIndex,data:row.data,selectedIndex:tablect[LEAP.table.b]});
return;}if(ctf=="table_chk"||ctf=="table_img"){if(ctf=="table_chk"){ElementEventManager.handleEvent(tablect,"chkClick",{row:row,cell:cell,table:table,flag:tpof,src:src,index:row.sectionRowIndex,cellIndex:cell.cellIndex,data:row.data,selectedIndex:tablect[LEAP.table.b],checked:src.checked});}return;}if(ctf=="table_node_open"){LEAP.table.closeNode(tablect,row);
}if(ctf=="table_node_close"){LEAP.table.expandNode(tablect,row);}if(tablect.getAttribute("enableedit")=="1"){if(ctf=="table_cell"){if(LEAP.table.modifyCellValue!=null){LEAP.table.modifyCellValue(tablect);}LEAP.check.hideTip();var ee=src.getAttribute("enableedit");if(LEAP.table.editCell!=null){if(ee!=null&&ee=="0"){}else{LEAP.table.editCell(src,tablect);
}}}}if(cell!=null&&row.sectionRowIndex!=tablect[LEAP.table.b]){var iic=tablect.getAttribute("indexChange");if(iic!=null&&iic!=""&&tablect._iic==null){var iicfn=null;try{iicfn=eval("("+iic+")");}catch(err){}LEAP.addEvent(tablect,"selectedIndexChange",iicfn);tablect._iic="true";}var pindex=tablect[LEAP.table.b];
LEAP.table.setSelectedIndex(tablect,row.sectionRowIndex);}}else{var firstE=LEAP.getElement("[ctf=table_page_first]",tablect);var nextE=LEAP.getElement("[ctf=table_page_next]",tablect);var preE=LEAP.getElement("[ctf=table_page_pre]",tablect);var lastE=LEAP.getElement("[ctf=table_page_last]",tablect);var bool=false;
if(firstE&&firstE.parentElement&&firstE.parentElement.parentElement){bool=LEAP.hasCSS(firstE.parentElement.parentElement.parentElement,"LC_table_pagination");}if(ctf=="table_page_info"||!firstE||!nextE||!lastE||!lastE){return;}if(ctf!=null&&ctf.indexOf("table_page_")==0&&ctf!="table_page_in"){var pageCount=LEAP.tonum(tablect.pageCount);
if(pageCount!=null&&pageCount==0){pageCount=-1;}var gotoNumctl=LEAP.getElement("[ctf=table_page_in]",tablect);if(pageCount==0&&gotoNumctl!=null){gotoNumctl.value="";return;}var pageNum=LEAP.tonum(tablect.pageNum);var pageResultCount=LEAP.tonum(tablect.pageResultCount);var flag=LEAP.getElement("div[flag=orderflag]",tablect);
if(ctf=="table_page_next"){if(pageCount>pageNum||pageCount==-1){LEAP.table.gotoPage(tablect,pageNum+1);}if(bool){if(pageCount==1){firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev.png')";
}else{firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home1.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev1.png')";}if(pageNum+1==pageCount){lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end1.png')";
nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next1.png')";}else{if(pageNum+1<pageCount){lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end.png')";nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next.png')";
}}}var table_page_body=LEAP.getElement("[ctf=table_page_body]",src.parentElement.parentElement);if(table_page_body){LEAP.setStyle(table_page_body,{display:"none"});}}else{if(ctf=="table_page_pre"){if(pageNum==0){LEAP.table.gotoPage(tablect,1);}if(pageNum>1){if(pageNum-1==1&&bool){firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home.png')";
preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev.png')";}LEAP.table.gotoPage(tablect,pageNum-1);}if(bool){if(pageCount>1){lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end.png')";nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next.png')";
}else{lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end1.png')";nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next1.png')";}}var table_page_body=LEAP.getElement("[ctf=table_page_body]",src.parentElement.parentElement);
if(table_page_body){LEAP.setStyle(table_page_body,{display:"none"});}}else{if(ctf=="table_page_first"){if(pageNum!=1){LEAP.table.gotoPage(tablect,1);if(bool){src.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev.png')";
}}if(bool){if(pageCount>1){lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end.png')";nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next.png')";}else{lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end1.png')";
nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next1.png')";}}}else{if(ctf=="table_page_last"){if(pageNum!=pageCount&&pageCount!=-1){LEAP.table.gotoPage(tablect,pageCount);if(bool){src.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end1.png')";
nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next1.png')";}}if(bool){if(pageCount>1){firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home1.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev1.png')";
}else{firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev.png')";}}}else{if(ctf=="table_page_goto"){var gotoNum=LEAP.tonum(gotoNumctl.value);if(gotoNum<1){var paren=src.parentElement;
if(paren){var ie=LEAP.getElement("INPUT",paren);if(ie){gotoNum=LEAP.tonum(ie.value);}}}if(gotoNum>0&&(gotoNum<=pageCount||pageCount==-1)){LEAP.table.gotoPage(tablect,gotoNum);if(bool){firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home1.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev1.png')";
}}if(bool){if(gotoNum==pageCount){lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end1.png')";nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next1.png')";}else{lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end.png')";
nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next.png')";}}}else{if(ctf=="table_page_num"){var pc=tablect.pageCount;if(pc>1){var num=src.innerHTML;if(num!=0){var table_page_body=LEAP.getElement("[ctf=table_page_body]",src.parentElement.parentElement);
if(!table_page_body){var numdiv=document.createElement("div");numdiv.setAttribute("ctf","table_page_body");numdiv.className="LC_search_pagenum";var numul=document.createElement("ul");numul.setAttribute("ctf","table_page_numsy");for(var i=0;i<pc;i++){var numli=document.createElement("li");numli.setAttribute("ctf","table_page_numsyrow");
var numa=document.createElement("a");numa.setAttribute("ctf","table_page_numsyrow_a");numa.setAttribute("utf","table_page");numa.href="javascript:";numa.innerHTML=i+1;numli.appendChild(numa);numul.appendChild(numli);}numdiv.appendChild(numul);src.parentElement.parentElement.appendChild(numdiv);LEAP.table.pagePz(pc,src.parentElement.parentElement,LEAP.tonum(num)-1);
LEAP.table.table_page_body=numdiv;}else{LEAP.table.table_page_body=table_page_body;LEAP.setStyle(table_page_body,{display:""});var table_page_numsy=LEAP.getElement("[ctf=table_page_numsy]",table_page_body);if(table_page_numsy){table_page_numsy.innerHTML="";var sb=new StringBuffer();for(var i=0;i<pc;i++){var str=LEAP.table.pageli.replace("@ctf","table_page_numsyrow").replace("@c1","table_page_numsyrow_a").replace("@utf","table_page").replace("@ctfe","").replace("@sy",i+1);
sb.append(str);}table_page_numsy.innerHTML=sb.toString();}LEAP.table.pagePz(pc,src.parentElement.parentElement,LEAP.tonum(num)-1);}}}}else{if(ctf=="table_page_numsyrow_a"){var num=src.innerHTML;var pc=tablect.pageCount;LEAP.table.pagePz(pc,src.parentElement.parentElement.parentElement.parentElement,LEAP.tonum(num)-1);
LEAP.table.gotoPage(tablect,LEAP.tonum(num));}else{if(ctf=="table_page_size"){var table_page_size_body=LEAP.getElement("[ctf=table_page_size_body]",src.parentElement.parentElement);if(!table_page_size_body){var numdiv=document.createElement("div");numdiv.setAttribute("ctf","table_page_size_body");numdiv.className="LC_search_pagesize";
var numul=document.createElement("ul");numul.setAttribute("ctf","table_page_size_numsy");var nums=[15,50,100];for(var i=0;i<nums.length;i++){var numli=document.createElement("li");numli.setAttribute("ctf","table_page_size_numsyrow");var numa=document.createElement("a");numa.setAttribute("ctf","table_page_size_numsyrow_a");
numa.setAttribute("utf","table_page");numa.href="javascript:";numa.innerHTML=nums[i];numli.appendChild(numa);numul.appendChild(numli);}numdiv.appendChild(numul);var inputtext=document.createElement("input");inputtext.type="text";inputtext.className="LC_search_pagesize_size";inputtext.setAttribute("ctf","table_page_pagesize");
numdiv.appendChild(inputtext);var font=document.createElement("font");font.style.color="#1e88e5";font.innerHTML="&nbsp;";numdiv.appendChild(font);var inputsure=document.createElement("input");inputsure.type="button";inputsure.title="";inputsure.className="LC_button_img LC_button_img_blue_sure";inputsure.setAttribute("ctf","table_page_size_go");
inputsure.setAttribute("utf","table_page");numdiv.appendChild(inputsure);var inputdc=document.createElement("input");inputdc.type="button";inputdc.className="LC_button_conner LC_botton_text";inputdc.value="";inputdc.setAttribute("ctf","table_export_curPage");inputdc.setAttribute("utf","table_page");
numdiv.appendChild(inputdc);src.parentElement.parentElement.appendChild(numdiv);LEAP.table.table_page_size_body=numdiv;}else{LEAP.table.table_page_size_body=table_page_size_body;LEAP.setStyle(table_page_size_body,{display:""});}}else{if(ctf=="table_page_size_numsyrow_a"){var num=src.innerHTML;num=parseInt(num);
if(num>0&&num<=LEAP.table.maxShowSize){tablect.setAttribute(LEAP.table.p,num+"");tablect[LEAP.table.p]=num;LEAP.table.refreshPage(tablect);}else{LEAP.messagebox.alert(""+LEAP.table.maxShowSize,2);}}else{if(ctf=="table_page_size_go"){var table_page_pagesize=LEAP.getElement("[ctf=table_page_pagesize]",src.parentElement.parentElement);
if(table_page_pagesize!=null){var value=table_page_pagesize.value;if(value!=null&&value!=""){var num=value;num=parseInt(num);if(num>0&&num<=LEAP.table.maxShowSize){tablect.setAttribute(LEAP.table.p,num+"");tablect[LEAP.table.p]=num;LEAP.table.refreshPage(tablect);}else{LEAP.messagebox.alert(""+LEAP.table.maxShowSize,2);
}}}}}}}}}}}}}if(gotoNumctl!=null){gotoNumctl.value="";}gotoNumctl=null;}}};LEAP.table.pagePz=function(p,d,n){var u=document.createElement("div");LEAP.addCSS(u,"LC_hide");u.innerHTML=LEAP.table.pageli.replace("@ctf","table_row_left").replace("@c1","").replace("@utf","").replace("@ctfe","table_row_left").replace("@sy","<img style='border:none;margin-top:3px' src='"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_table/table_sy.png'/>");
var g=u.children[0];var q=g.cloneNode(true);var o=p;var l=LEAP.getElement("[ctf=table_page_numsy]",d);var m=LEAP.getElements("[ctf=table_page_numsyrow]",l);LEAP.setStyle(m,{display:""});LEAP.removeCSS(m,"LC_search_numactive",false);LEAP.addCSS(m[n],"LC_search_numactive");var r=LEAP.getElement("[ctf=table_row_left]",d);
var w=LEAP.getElement("[ctf=table_row_right]",d);if(r){l.removeChild(r);}if(w){l.removeChild(w);}if(o>7){if(n>2&&n<=o-4){for(var h=1;h<n-1;h++){LEAP.setStyle(m[h],{display:"none"});}for(var h=n+2;h<o-1;h++){LEAP.setStyle(m[h],{display:"none"});}l.insertBefore(q,m[n-1]);var j=g.cloneNode(true);j.setAttribute("ctf","table_row_right");
j.children[0].setAttribute("ctfe","table_row_right");l.insertBefore(j,m[o-1]);}else{if(n>=o-3){for(var h=1;h<o-5;h++){LEAP.setStyle(m[h],{display:"none"});}l.insertBefore(q,m[o-5]);}else{for(var h=5;h<o-1;h++){LEAP.setStyle(m[h],{display:"none"});}q.setAttribute("ctf","table_row_right");q.children[0].setAttribute("ctfe","table_row_right");
l.insertBefore(q,m[o-1]);}}}};LEAP.table.removeHeader=function(j,n){if(j==null||n==null){return;}j=LEAP._check(j,LEAP.table.d);if(j==null){return;}var g=LEAP.table.getHeaders(j);if(g==null){return;}var d=LEAP.getElement("th[ctf=table_header][md="+n+"]",j);var o=d.cellIndex;g.remove(g[o]);d.parentNode.removeChild(d);
d=null;var q=LEAP.getElements("tr[ctf=table_row]",j);if(q!=null){var h=q.length;for(var m=0;m<h;m++){var p=q[m];p.removeChild(p.cells[o]);p=null;}q=null;}j=n=g=d=null;};LEAP.table.removeHeader2=function(j,m){if(j==null||m==null){return;}j=LEAP._check(j,LEAP.table.d);if(j==null){return;}var p=LEAP.table.getHeaders(j);
if(p==null){return;}var d=m.cellIndex;p.remove(p[d]);m.parentNode.removeChild(m);m=null;var n=LEAP.getElements("tr[ctf=table_row]",j);if(n!=null){var g=n.length;for(var h=0;h<g;h++){var o=n[h];o.removeChild(o.cells[d]);o=null;}n=null;}j=p=m=null;};LEAP.table.focus=function(d){d=LEAP._check(d,LEAP.table.d);
if(d==null){return;}var g=LEAP.getElement("td:first:visible",d);if(g!=null){g.focus();}};LEAP.table._getHeadCells=function(m,n){if(n==null||n.length==0){return null;}var h=null;if(n.length==1){return n[0].cells;}else{var o=LEAP.getElement("table",m);if(o){var j=m.getAttribute("singlehead");if(j=="1"){return n[0].cells;
}}var d=new LEAP.tableUtil().getTableDef(o);if(d==null||d.length<1){return null;}var p=d.tableArray[d.rowBound-1];var g=null;h=[];h.length=d.cellBound;for(var l=0;l<d.cellBound;l++){g=p[l];h[l]=n[g.rowIndex].cells[g.cellIndex];}}return h;};LEAP.table.getHeaders=function(h,w){h=LEAP._check(h,LEAP.table.d);
if(h==null){return;}var m=h[LEAP.table.a];var A=h.getAttribute("fixwidth");var u=false;if(A=="true"||A=="1"||A==true){LEAP.table._resizeHeader(h);u=true;m=null;}if(m==null){var G=h.getAttribute("cachename");var p=0;var o=null;var r=LEAP.getUserInfo();m=[];var D=LEAP.getElement("thead:last",h);var d=null;
if(D!=null){d=LEAP.getElements("tr",D);if(G!=null&&G.Trim().length>0){var C=null;if(r!=null&&r.userflag!=null){C=Storage.get("table_headers_user_"+r.userflag+"_"+G);}if(C!=null){o=JSON.parse(C);if(o!=null){var z=LEAP.getElements("th[ctf=table_header][tpo]",h);p=o.length;for(var J=p-1;J>-1;J--){if(o[J].tpo!=null&&o[J].tpo.trim().length!=0){o.removeindex(J);
}}if(z!=null){for(var J=0;J<z.length;J++){o.add(LEAP.getBindDef(z[J]));}}p=o.length;}}}}var q=null;var F=0;if(d!=null){if(d.length==1){q=d[d.length-1].cells;}else{q=LEAP.table._getHeadCells(h,d);}F=q.length;}if(q!=null){if(o==null){for(var J=0;J<F;J++){var g=q[J];if(g==null){continue;}if(u){g._bdef=null;
}var I=LEAP.getBindDef(g);if(I.sncol){if(h.getAttribute("showcheck")=="1"){var K=h.getAttribute("sncheck");if(K!=null&&(K=="0"||K=="false")){I.btexp="@sn";}else{I.btexp=commfields.sncel;}}else{if(I.btexp==null||I.btexp.Trim()==""){I.btexp="@sn";}}}I.text=g.innerText;m.add(I);}}else{var y=null;for(var J=0;
J<p;J++){var n=o[J];var g=null;if(F>J){g=q[J];if(g.getAttribute("tpo")!=null){y=LEAP.getBindDef(g);}}else{g=document.createElement("th");d[d.length-1].appendChild(g);}if(n.tpo!=null){if(y==null){for(var H=J;H<F;H++){if(q[H].getAttribute("tpo")!=null){y=LEAP.getBindDef(q[H]);break;}}}n=y;}g.setAttribute("ctf","table_header");
for(key in n){var B=n[key];if(key=="sncol"){if(B){g.setAttribute("sncol","1");}else{g.removeAttribute("sncol");}}else{if(key=="innerHTML"){g.innerHTML=B;}else{if(key=="_width"){if(B!=null){g.style.width=B;}}else{if(key=="_height"){if(B!=null){g.style.height=B;}}else{if(B==null){g.removeAttribute(key);
}else{g.setAttribute(key,B);}}}}}}}m=o;if(F>p){for(var J=F-1;J>p-1;J--){d[d.length-1].removeChild(q[J]);}}}}var x=h.getAttribute("openfield");if(x=="true"||x=="1"||x==true){m=LEAP.table._rebuildHeader(h,q,m);}h[LEAP.table.a]=m;if(d!=null){q=d[d.length-1].cells;}q=null;}if(w==null||w<0){return m;}if(w<m.length){return m[w];
}};LEAP.table.processExp=function(row,header,cell,data,element,isnew){if(header!=null&&!String.isEmpty(header.menuexp)){var exp=header.menuexp;cell.style.textDecoration="underline";cell.style.cursor="pointer";cell.style.color="blue";cell.setAttribute("menuexp",exp);cell.setAttribute("hasmenuexp","1");
}if(header!=null&&!String.isEmpty(header.colorexp)){cell.style.color="black";var exp=header.colorexp;var ts=exp.split(";");var l=ts.length;for(var i=0;i<l;i++){var ce=ts[i];var ces=ce.split(":");ce="("+ces[0]+")";var color=null;if(ces.length>1){color=ces[1];}else{continue;}var ret=false;try{ret=eval(ce);
}catch(e){}if(ret==true){cell.style.color=color;break;}}}if(header!=null&&!String.isEmpty(header.imgexp)){var exp=header.imgexp;var ts=exp.split(";");var l=ts.length;for(var i=0;i<l;i++){var ce=ts[i];var ces=ce.split(":");ce="("+ces[0]+")";var img=null;if(ces.length>1){img=ces[1];if(!img.toLowerCase().startWith("http://")){var serverurl=null;
var module=LEAP.getLoadedModule(element.getAttribute("instance"));if(module&&module.leapclient){serverurl=module.leapclient.getServerURL();}if(!serverurl){serverurl=leapconfig.server;}img=serverurl+img;}}else{continue;}var ret=false;try{ret=eval(ce);}catch(e){}if(ret==true){cell.innerHTML='<img ctf="table_cell_img" src='+img+' style="width:18px;height:18px;">'+cell.innerHTML;
break;}}}if(header!=null&&!String.isEmpty(header.oper)&&header.tpo){var exp=header.oper;var ts=exp.split(";");var l=ts.length;for(var i=0;i<l;i++){var ce=ts[i];var ces=ce.split("$");ce="("+ces[0]+")";var operStr=null;if(ces.length>1){operStr=ces[1];if(!operStr||operStr.length<0){continue;}}else{continue;
}var ret=false;try{ret=eval(ce);}catch(e){}if(ret==true){var buff=new StringBuffer();var ops=operStr.split("|");if(!ops||ops.length==0){continue;}for(var k=0;k<ops.length;k++){var sinps=ops[k].split(":");if(!sinps||sinps.length<2){continue;}if(k>0){buff.append("&nbsp;");}buff.append("<A href=javascript:void(0) ctf=table_tpo tpof="+sinps[1]+">"+sinps[0]+"</A>");
}cell.innerHTML=buff.toString();break;}else{if(header.btdis=="1"){cell.innerHTML="";}}}}row=header=cell=data=element=isnew=null;};LEAP.table.setCellValue=function(l,z,d,F,h,r){var p=null;var j=null;if(z.tpo==null&&F!=null){p=F[z.md];j=F[commfields.rsccv+z.md];}var m=null;if(j!=null){m=j;}if(j!=null&&(h.getAttribute("enableedit")!="1"||(h.getAttribute("enableedit")=="1"&&(z!=null&&z.enableedit!=null&&z.enableedit=="0")))){}else{var x=false;
var g=LEAP.getLoadedModule(h.getAttribute(commfields.instance));if(z.btfn){if(g&&g[z.btfn]&&typeof(g[z.btfn])=="function"){m=g[z.btfn].call(g,{data:F,value:p,md:z.md});x=true;}}if(!x){var o=d.getAttribute("modifyvalue");if(o!=null){m=LEAP.getBindValue(z,o,F,LEAP.table.d,null,g);}else{m=LEAP.getBindValue(z,p,F,LEAP.table.d,null,g);
}if(z.md=="areaid"){m=LEAP.table._hideCity(F[z.md],m);}}}d.setAttribute(commfields.ctf,"table_cell");if(z.bt=="date"||z.bt=="datetime"){d.setAttribute("sourcevalue",m);}else{d.setAttribute("sourcevalue",p);}if(m!=null&&z.sncol){var A=h.pageNum;if(A==null||A==""){A=1;}A=A-1;var w=h[LEAP.table.p]*1;if(isNaN(w)){w=0;
}if(w==null||w<1){w=12;}var u=A*w+l.sectionRowIndex+1;if(u==null||u<1){u=1;}m=m.replace("@sn",u);}if(m==""||m.Trim()==""){m="&nbsp";}var q=false;var C=LEAP.table.maxContentLength;if(z.maxlength){C=z.maxlength;}if(z.tpo==null&&!(z.sncol!=null&&z.sncol)&&!(z.bt&&(z.bt=="datetime2"||z.bt=="datetime"))&&m&&m.length>C){if(m.indexOf("<")!=-1&&m.indexOf(">")!=-1){q=true;
d.innerHTML=m.substring(0,C)+"...";}else{d.innerText=m.substring(0,C)+"...";}}else{if(z.checkcol){d.innerHTML='<input class="LC_form-input" ctf="table_chk" type="checkbox"><span></span>';}else{d.innerHTML=m;}}d.setAttribute("md",z.md);if(z._colspan){d.setAttribute("colspan",z._colspan);}if(h.getAttribute("enableedit")=="1"){if(r==true&&(z.tpo==null||z.tpo.Trim()=="")&&z.sncol!="1"){d.setAttribute("isnew","1");
d.style.color="red";d.ismodify=1;}if(h.getAttribute("showtree")=="1"&&z.md=="table_wbs"){if(F.table_wbs!=F.wbs){d.style.color="red";d.setAttribute("wbsmodify","1");}else{d.style.color="";d.setAttribute("wbsmodify","0");}}}if(z.sncol!="1"&&(z.tpo==null||z.tpo.Trim()=="")&&m!=null&&m.Trim()!=""&&m!="&nbsp"){if(z.bt=="textarea"){d.setAttribute("title",m);
}else{if(q){d.setAttribute("title",m);}else{d.setAttribute("title",d.innerText);}}}if(h.getAttribute("hideoverflow")=="0"){d.style.height="auto";}else{d.className="ellipsis";}if(z.textalign!=null){d.style.textAlign=z.textalign;}LEAP.table.processExp(l,z,d,F,h,r);if(z.tpo!=null){if(d){var n=d.children;
if(n){if(z.btclass!=null){for(var y=0;y<n.length;y++){LEAP.addCSS(n[y],z.btclass);if(z.fcolor!=null&&z.bcolor!=null){LEAP.setStyle(n[y],{color:z.fcolor,backgroundColor:z.bcolor});}else{if(z.fcolor!=null){LEAP.setStyle(n[y],{color:z.fcolor});}else{if(z.bcolor!=null){LEAP.setStyle(n[y],{backgroundColor:z.bcolor});
}}}}}}}}if(z.tipfn&&!d.getAttribute("_inittipfn")){d.setAttribute("_inittipfn","1");LEAP.addEvent(d,"mouseenter",LEAP.table._onTipFN,null,null,true);d.setAttribute("tipfn",z.tipfn);d.setAttribute("tipoffset",z.tipoffset);d.setAttribute("title","");try{d.removeAttribute("title");}catch(B){}}d.setAttribute("md",z.md);
var D=h.getAttribute("fixHeader");if((D=="1"||D=="true")&&z._width){d.style.width=z._width;}h=l=z=d=F=null;};LEAP.table._onTipFN=function(p){var d=p.caller;if(d.tagName!="TD"){d=LEAP._match(d,"TR","nodeName");}var j=LEAP._match(d,LEAP.table.d);if(j){var o=j.getAttribute(commfields.instance);if(o){var g=LEAP.getLoadedModule(o);
if(g&&g[d.getAttribute("tipfn")]){var h=d.parentElement.data;try{var l=g[d.getAttribute("tipfn")].apply(g,[{md:d.getAttribute("md"),data:h,element:d}]);if(l){var n=d.getAttribute("tipoffset");if(n){n=n*1;LEAP.tip.alert(l,null,null,p.e.clientX+n,p.e.clientY+n,3000);}else{LEAP.tip.alert(l,null,null,null,null,3000);
}}}catch(m){}}}}p=d=null;};LEAP.table.addHeader=function(g,l,q,m,n,d){g=LEAP._check(g,LEAP.table.d);if(g==null){return;}var j=LEAP.getElement("thead:last",g);var p=LEAP.getElements("tr",j);var h=document.createElement("th");var o=g.getAttribute("singlehead");var r=o=="1"?p[0]:p[p.length-1];h.setAttribute("ctf","table_header");
h.setAttribute("md",l);h.innerHTML=q;if(n!=null){h.setAttribute("bt",n);}else{h.setAttribute("bt","text");}if(m!=null){h.setAttribute("code",m);}if(d!=null){h.style.width=d;}if(r.cells&&r.cells.length>0&&r.cells[r.cells.length-1].getAttribute("tpo")!=null){r.insertBefore(h,r.cells[r.cells.length-1]);
}else{r.appendChild(h);}g[LEAP.table.a]=null;g=j=p=r=null;try{return h;}finally{h=null;}};LEAP.table.setHeaderWidth=function(m,o,d){m=LEAP._check(m,LEAP.table.d);if(m==null){return;}var n=LEAP.getElement("thead:last",m);var q=LEAP.getElements("tr",n);var r=q[q.length-1];var u=r.cells;if(u!=null){var h=u.length;
for(var j=0;j<h;j++){var p=u[j];var g=p.getAttribute("md");if(g!=null&&g==o){if(d!=null){p.style.widht=d;}else{p.style.width="";}break;}}}m=n=q=u=r=null;};LEAP.table.reBindData=function(d){d=LEAP._check(d,LEAP.table.d);if(d==null){return;}LEAP.table.bindData(d,d.pageResult);d=null;};LEAP.table.addRow=function(q,V,w,z,B){q=LEAP._check(q,LEAP.table.d);
if(q==null){return;}var M=LEAP.table.getHeaders(q);if(M==null){return;}if(V==null){V=new Object();}var u=document.createElement("tr");var H=q.getAttribute("rowheight");if(H){u.style.height=H;}var I=q.getAttribute("rowfont");if(I){u.style.fontSize=I;}u.setAttribute(commfields.ctf,"table_row");u.data=V;
var J=LEAP.getElement("tbody:last",q);if(J==null){return;}J.appendChild(u);J=null;var F=u.sectionRowIndex;if(F==0){LEAP.table._showBackground(q,false);}var n=q.getAttribute("rowcolor");if(q.className.indexOf("LC_table")==-1||(n&&n=="1")){var R=LEAP.table.scolor;var G=LEAP.table.spcolor;var C=LEAP.table.bopacity;
if(q.getAttribute("scolor")){R=q.getAttribute("scolor");}if(q.getAttribute("spcolor")){G=q.getAttribute("spcolor");}if(q.getAttribute("bopacity")){C=q.getAttribute("bopacity");}if((F%2)==0){LEAP.setStyle(u,{background:LEAP.hexToRgba(G,C)});}else{LEAP.setStyle(u,{background:LEAP.hexToRgba(R,C)});}}var r=q.getAttribute("fixwidth");
var P=M.length;for(var S=0;S<P;S++){var g=M[S];if(g._rowspan!=null&&(g._rowspan=="1"||g._rowspan=="true")){var y=1;var x=g.md;var j=F-1;var h=null;var A=null;while(j>-1){A=LEAP.table.getRow(q,j);h=A.data;var N=false;var W=false;if(g.linkcolumn!=null){W=true;var o=g.linkcolumn;if(h[o]==V[o]){N=true;}}if(W){if(h[x]==V[x]&&N){j=j-1;
y=y+1;}else{A=LEAP.table.getRow(q,j+1);break;}}else{if(h[x]==V[x]){j=j-1;y=y+1;}else{A=LEAP.table.getRow(q,j+1);break;}}}if(A!=null&&y>1){var K=LEAP.getElement("[md="+x+"]",A);if(K!=null){K.setAttribute("rowSpan",y);}continue;}}var D=document.createElement("td");LEAP.table.setCellValue(u,g,D,V,q,B);if(S==P-1){D.style.borderRightWidth="0px";
}if(r&&r=="1"){if(g._width){D.style.width=g._width;}}if(g.btstyle){var p=g.btstyle.split(";");var Q=p.length;for(var T=0;T<Q;T++){var m=p[T].split(":");var O=m[0];var L=m[1];var U=-1;while((U=O.indexOf("-"))>-1){O=O.substring(0,U)+O.charAt(U+1).toUpperCase()+O.substring(U+2);}D.style[O]=L;}}u.appendChild(D);
}if(w!=null){u.setAttribute("cttag",w);}if(q.getAttribute("hideoverflow")=="0"){u.style.height="auto";}LEAP.table.setRowColor(q,u,V);try{var d=LEAP.getLoadedModule(q.getAttribute("instance"));if(d){if(d.onTableAddRow){d.onTableAddRow.apply(d,[{element:q,row:u,data:V,headers:M,index:F}]);}}return u;}finally{u=null;
}};LEAP.table.addCodeOrders=function(l){var o=LEAP.getElement("thead:last",l);if(o&&!o.hasAttribute("hasaddorder")){var j=LEAP.getElements("th",o);if(j&&j.length>0){for(var h=0;h<j.length;h++){var g=j[h].getAttribute("showorder");var n=j[h].getAttribute("searchcode");if(g=="1"||g==true){var d=document.createElement("div");
d.style.width="10px";d.style.height="11px";d.style["padding-left"]="10px";d.style.top="50%";d.style.background="url('"+leapconfig.server+"LEAP/Resource/images/itemstyle/table/default.png') no-repeat center";d.style.display="inline-block";d.style["vertical-align"]="middle";d.style.cursor="pointer";d.setAttribute("flag","orderflagnew");
d.setAttribute("ctf","table_header_code");j[h].appendChild(d);}if(n){var m=document.createElement("div");m.style.width="10px";m.style.height="5px";m.style.left="10px";m.style.top="50%";m.style.background="url('"+leapconfig.server+"LEAP/Resource/images/itemstyle/table/select-down.png')";m.style.display="inline-block";
m.style["vertical-align"]="middle";m.style["margin-left"]="10px";m.style.cursor="pointer";m.setAttribute("ctf","table_header_search");j[h].appendChild(m);}}}o.setAttribute("hasaddorder",1);}};LEAP.table.getCellByMD=function(n,m){try{if(n&&m){if(n.cells){var h=n.cells;var g=h.length;for(var j=0;j<g;j++){var d=h[j];
if(d.getAttribute("md")==m){return d;}}}}}finally{n=null;}};LEAP.contrast=function(g,d){if(g==null||g.trim().length==0){g=0;}if(d==null||d.trim().length==0){d=0;}var h=/^((-|\+)?\d{1,2}(\.\d+)?|100)%$/;if(h.test(g)){g=parseFloat(g)/100;}else{g=parseFloat(g);}if(h.test(d)){d=parseFloat(d)/100;}else{d=parseFloat(d);
}return g-d;};LEAP.table.setRowColor=function(element,row,data){element=LEAP._check(element,LEAP.table.d);if(element==null){return;}var exp=element.getAttribute("rowcolorexp");if(exp==null){return;}var ts=exp.split(";");var l=ts.length;var color=null;for(var i=0;i<l;i++){var ce=ts[i];var ces=ce.split(":");
ce="("+ces[0]+")";if(ces.length>1){color=ces[1];}else{color=null;continue;}var ret=false;try{ret=eval(ce);}catch(e){}if(ret==true){break;}}if(color!=null&&color.trim().length>0){LEAP.setStyle(row,{background:color});}};LEAP.table.removeRow=function(m,r){try{m=LEAP._check(m,LEAP.table.d);if(m==null){return;
}var n=LEAP.getElement("tbody:last",m);if(n==null){return;}if(r>-1&&r<n.rows.length){var o=m[LEAP.table.b];if(r==o){m[LEAP.table.b]=null;}if(r<o){m[LEAP.table.b]=null;}var l=n.rows[r]["data"];n.deleteRow(r);var q=null;var p=null;var d=LEAP.table.getHeaders(m);for(var j=0;j<d.length;j++){if(d[j].sncol==true){q=d[j];
p=j;break;}}var h=false;if(m.getAttribute("showtree")!="1"){h=true;}for(var j=r;j<n.rows.length;j++){var u=n.rows[j];if(!h&&u.data.levels>l.levels){u.data.levels=u.data.levels-1;}else{h=true;}if((j%2)==0){LEAP.setStyle(u,{background:LEAP.hexToRgba(LEAP.table.spcolor,LEAP.table.bopacity)});}else{LEAP.setStyle(u,{background:LEAP.hexToRgba(LEAP.table.scolor,LEAP.table.bopacity)});
}if(q!=null){LEAP.table.setCellValue(u,q,u.cells[p],u.data,m);}u=null;}if(r!=n.rows.length&&m.getAttribute("showtree")=="1"&&LEAP.table.rebuildTree!=null){LEAP.table.rebuildTree(m);}}n=m=null;}catch(g){}};LEAP.table.updateRow=function(j,o,h){if(h==null){return;}var d=LEAP.table.getHeaders(j);if(d==null){return;
}var q=LEAP.table.getRow(j,o);q.data=h;var g=d.length;for(var m=0;m<g;m++){var n=d[m];var p=q.cells[m];LEAP.table.setCellValue(q,n,p,h,j);}j=h=d=q=null;};LEAP.table.clearRow=function(h){h[LEAP.table.b]=null;h=LEAP._check(h,LEAP.table.d);if(h==null){return;}var g=LEAP.getElement("tbody:last",h);if(g==null){return;
}var d=g.childNodes.length;if(!LEAP.isIE){d=d-1;}LEAP.removeElement(g.rows,true);LEAP.table.setSelectedIndex(h,-1);var j=LEAP.getElement("TR[ctf=table_thead_tr]:first",h);if(j!=null){j.style.top="0px";j=null;}};LEAP.table._showBackground=function(l,g){if(l==null){return;}var m=LEAP.getElement("div:first",l);
if(!m){return;}var d=m.className;if(!d||d.indexOf("lgresultpanel_table")<0){return;}var n=l.getAttribute("nodataimg");if(g){if(d.indexOf("table_nodatabg")<0){d=d+" table_nodatabg";var j=m.offsetHeight;if(j&&j<400){var h=j*3/5;m.style.backgroundSize=h+"px";}}if(n){m.style.backgroundImage="url("+leapconfig.server+n+")";
}}else{if(d.indexOf("table_nodatabg")>0){d=d.replace(" table_nodatabg","");if(m.style.backgroundSize){if(LEAP.isIE){m.style.removeAttribute("backgroundSize");}else{delete m.style.backgroundSize;}}if(n){if(LEAP.isIE){m.style.removeAttribute("backgroundImage");}else{m.style.backgroundImage="";}}}}m.className=d;
};LEAP.table.getRow=function(h,g){if(g==null||g<0){return null;}h=LEAP._check(h,LEAP.table.d);if(h==null){return;}var d=LEAP.getElement("tbody:last",h);var j=LEAP.getElements("tr",d);var l=j[g];try{return l;}finally{h=d=j=l=null;}};LEAP.table.getRows=function(g){if(g==null){return null;}g=LEAP._check(g,LEAP.table.d);
if(g==null){return;}var d=LEAP.getElement("tbody:last",g);var h=LEAP.getElements("tr",d);try{return h;}finally{g=d=h=null;}};LEAP.table.addSearchPar=function(n,g){n=LEAP._check(n,LEAP.table.d);if(n==null){return;}var j=LEAP.getLoadedModule(n.getAttribute("instance"));var l=j.moduleElement;var m=LEAP.getElement(".LC_search_content",l);
if(m){var p=LEAP.getElement("td:first",l);if(p){if(g){var h=document.createElement("div");h.innerHTML=g;var d=h.children[0];var o=null;if(!o){o=LEAP.getElement("[ctef=input3]",d);if(!o){o=LEAP.getElement("[ct=date]",d);if(!o){o=LEAP.getElement("[ct=select2]",d);if(!o){o=LEAP.getElement("[ct=checkbox2]",d);
}}}}if(o!=null){o.setAttribute("instance",n.getAttribute("instance"));}p.appendChild(d);}}}};LEAP.table.setSelectedIndex=function(j,h){if(h==null||h<0){return null;}j=LEAP._check(j,LEAP.table.d);if(j==null){return;}if(h==-1){j[LEAP.table.b]=null;return;}var o=LEAP.table.getSelectedIndex(j);var l=j[LEAP.table.b];
var g=l;if(l==null){l=0;}var d=LEAP.getElement("tbody:last",j);var m=LEAP.getElements("tr",d);if(m==null){return;}if(m.length==h){return;}m[h]["background"]=m[h].style.background;if(j.className.indexOf("LC_table")==-1){if(l!=null&&l>-1&&(l%2)==0){LEAP.setStyle(m[l],{background:LEAP.hexToRgba(LEAP.table.spcolor,LEAP.table.bopacity)});
}else{LEAP.setStyle(m[l],{background:LEAP.hexToRgba(LEAP.table.scolor,LEAP.table.bopacity)});}}else{LEAP.addCSS(m[l],"LC_bgc");}if(h>=m.length){j[LEAP.table.b]=null;return;}if(j.className.indexOf("LC_table")==-1){LEAP.setStyle(m[h],{background:LEAP.table.movecolor});}else{LEAP.removeCSS(m[h],"LC_bgc",false);
LEAP.addCSS(m[h],"LC_disbgc");}j[LEAP.table.b]=h;if(o!=null&&o>-1){var n=LEAP.table.getRow(j,o);if(n.background!=null&&n.background.trim().length>0){LEAP.setStyle(n,{background:n.background});n.background=null;}}if(g!=h){ElementEventManager.handleEvent(j,"selectedIndexChange",{pindex:l,row:m[h],table:j,index:m[h].sectionRowIndex,data:m[h]["data"]});
}};LEAP.table.getSelectedIndex=function(g){g=LEAP._check(g,LEAP.table.d);if(g==null){return;}var d=g[LEAP.table.b];g=null;if(d==null){return -1;}return d;};LEAP.table.setSearchMethod=function(d,g,h){if(typeof(g)!="function"){return;}d=LEAP._check(d,LEAP.table.d);if(d==null){return;}d[LEAP.table.m]=g;
if(h!=null){d[LEAP.table.md]=h;}else{d[LEAP.table.md]=this;}};LEAP.table.bindData=function(g,I,x,z){if(I==null){}else{LEAP.table._showBackground(g,false);}var F=g.getAttribute("showtree");var h=g.getAttribute("rowheight");var d=g.getAttribute("closenode");var p=g.getAttribute("closelevel");var n=LEAP.convertResult(I);
if(n!=null){if(x!=null&&z!=null){for(var A=1;A<n.length;A++){for(var y=n.length-1;y>0;y--){var u=n[y][z];var q=n[y-1][z];if(u==null){u=-99999;}if(q==null){u=-99999;}if(x==1){if(u<q){var G=n[y];n[y]=n[y-1];n[y-1]=G;}}else{if(x==0){if(u>q){var G=n[y];n[y]=n[y-1];n[y-1]=G;}}}}}}if(F=="1"){var m=10;var C=n.length;
if(C<=m){for(var B=0;B<C;B++){LEAP.table.addRow(g,n[B]);}}else{for(var B=0;B<m;B++){LEAP.table.addRow(g,n[B]);}var o=C%m==0?parseInt(C/m):parseInt(C/m+1);if(o>1){LEAP.asyn(LEAP.table.asynAddRow,null,10,g,n,o,1,m);}}}else{for(var B=0;B<n.length;B++){var r=null;if(I.codeValues!=null){r=I.codeValues[B];
}LEAP.table.addRow(g,n[B]);}}}if(F=="1"&&LEAP.table.rebuildTree!=null){LEAP.table.rebuildTree(g);}var D=g.getAttribute("fixHeader");if(D=="1"||D=="true"){if(!LEAPBrowser.isChrome){return;}var w=LEAP.getElement("[class =lgreultpanel_table_body]",g);if(!w){return;}var H=LEAP.getElement("[ctf = table_tbody]",w);
if(!H){return;}var J=LEAP.getElement("[ctf = lg_rebuild_header]",g);if(J){if(H.clientHeight>w.clientHeight){var l="24";if(w.offsetWidth){l=w.offsetWidth-w.clientWidth;}J.style["padding-right"]=l+"px";}else{J.style["padding-right"]="0px";}}}};LEAP.table.asynAddRow=function(m,l,n,u,p){if(!l){return;}var h=m.getAttribute("showtree");
var g=m.getAttribute("closenode");var d=m.getAttribute("closelevel");var r=0;var q=0;var o=false;if(u==n-1){r=u*p;q=l.length;o=true;}else{r=u*p;q=u*p+p;}for(var j=r;j<q;j++){LEAP.table.addRow(m,l[j]);}LEAP.table.rebuildTree(m);if(h=="1"&&g=="1"){LEAP.table.closeAllNode(m,d);}if(o==false){LEAP.asyn(LEAP.table.asynAddRow,null,10,m,l,n,u+1,p);
}};LEAP.table.getCheckedRows=function(m){var h=null;try{m=LEAP._check(m,LEAP.table.d);if(m==null){return;}if(m.getAttribute("showcheck")!="1"){return;}var g=LEAP.getElements("[ctf=table_chk]:checked",m);if(g!=null){h=[];var d=g.length;for(var j=0;j<d;j++){h[j]=g[j].parentNode.parentNode;}g=null;return h;
}}finally{h=m=null;}};LEAP.table.setCheckedRow=function(g,j,p){var n=null;try{g=LEAP._check(g,LEAP.table.d);if(g==null){return;}if(g.getAttribute("showcheck")!="1"){return;}if(j==null){var m=LEAP.getElements("[ctf=table_chk]",g);if(m!=null){n=[];var d=m.length;for(var h=0;h<d;h++){var o=m[h];if(p!=false){o.setAttribute("checked",true);
if(o.checked!=null){o.checked=true;}}else{o.setAttribute("checked",false);if(o.checked!=null){o.checked=false;}o.removeAttribute("checked");}}m=null;}}else{var q=LEAP.table.getRow(g,j);if(q!=null){var o=LEAP.getElement("[ctf=table_chk]",q);if(p!=false){o.setAttribute("checked",true);if(o.checked!=null){o.checked=true;
}}else{o.setAttribute("checked",false);if(o.checked!=null){o.checked=false;}o.removeAttribute("checked");}q=null;}}}finally{n=g=null;}};LEAP.table.gotoPage=function(h,D,j,n,r){var F=h.getAttribute("fixHeader");var u=h.getAttribute("_hasFixed");if((F=="1"||F=="true")&&!u){LEAP.table.buildFixHeader(h);
}LEAP.table.addCodeOrders(h);LEAP.table._showBackground(h,false);h=LEAP._check(h,LEAP.table.d);if(h==null){return;}var o=LEAP.getElement("[ctf=table_page_in]",h);if(o!=null){o.value="";o=null;}var d=h.getAttribute("asyncount");if(String.isEmpty(h.getAttribute("sort"))){h.setAttribute("sort",LEAP.table.defaultSortMode);
}if(n==null&&h.getAttribute("sort")=="client"){var x=LEAP.getElement("div[flag=orderflag]",h);if(x!=null){var z=x.parentNode;z.removeChild(x);x=z=null;}}if(h.getAttribute("scrollmode")&&!h.getAttribute("_inittablescrol")){h.setAttribute("_inittablescrol","1");var B=LEAP.getElement("table:last",h);var l=LEAP.getElements("th",h);
if(l){for(var y=0;y<l.length;y++){l[y].setAttribute("_thid_",UUID.randomUUID());}}var C=document.createElement("div");C.innerHTML=B.outerHTML;var w=LEAP.getElement("table",C);w.removeChild(LEAP.getElement("tbody",w));w.style.zIndex="2";w.setAttribute("table_scrtarget","1");w.style.position="absolute";
C.removeChild(w);C=null;B.parentElement.insertBefore(w,B);try{var q=LEAP.getElement("input[type=checkbox]",B);if(q){LEAP.getElement("input[type=checkbox]",w)[DelegateUIEventManager.e]=q[DelegateUIEventManager.e];if(q.getAttribute("ut")){var g=LEAP.getLoadedModule(h.getAttribute("instance"));if(g!=null){g.removeUTCache(q.getAttribute("ut"));
}q.removeAttribute("ut");}q=null;}}catch(A){}}if(d=="1"){h.pageNum=D;}else{var p=LEAP.getElement("[ctf=table_page_num]",h.parentElement.parentElement);if(p){p.innerHTML=D;}var m=LEAP.getElement("img[ctfe=table_search_info]",h);if(!m){m=document.createElement("IMG");m.style.position="absolute";m.style.top="50%";
m.src=leapconfig.server+"LEAP/Resource/images/itemstyle/table/loading.gif";m.style.left="50%";m.style.width="30px";m.style.height="30px";m.style["z-index"]="99999";m.setAttribute("ctfe","table_search_info");h.appendChild(m);h.style.position="relative";}else{m.style.display="";}}LEAP.asyn(LEAP.table._gotoPage,null,null,h,D,j,n,r);
};LEAP.table.setCodeType=function(j,n,g){if(j==null){return false;}if(n==null){return false;}var m=LEAP.getElement("th[md="+n+"]",j);if(m!=null&&m.setAttribute){m.setAttribute("code",g);var o=LEAP.table.getHeaders(j);var d=o.length;for(var h=0;h<d;h++){var p=o[h];if(p.md==n){p.code=g;}}return true;}return false;
};LEAP.table.getPageText=function(d){var g=d.getAttribute("pge");if(String.isEmpty(g)){g=commfields.pge;}return g;};LEAP.table.clearPage=function(h){h=LEAP._check(h,LEAP.table.d);if(h==null){return;}var g=LEAP.getElement("[ctf=table_page_countdiv]",h.parentElement.parentElement);var l=LEAP.getElement("[ctf=table_page_num]",h.parentElement.parentElement);
var j=LEAP.getElement("[ctf=table_page_info]",h);if(j!=null){j.innerHTML=LEAP.table.getPageText(h).replace("@pageNum",0).replace("@endNum",0).replace("@beginNum",0).replace("@pageCount",0).replace("@size",0).replace("@count",0).replaceall("@pageSize",0);}if(g!=null){g.style.display="none";}if(l){l.innerHTML="0";
}var d=LEAP.getElement("img[ctfe=table_search_info]",h);if(d){d.style.display="none";}h=j=null;};LEAP.table._gotoPage=function(element,gotoPageNum,resultset,clientsortmode,sortmd){try{if(typeof(gotoPageNum)!="number"||gotoPageNum<1){return;}element=LEAP._check(element,LEAP.table.d);if(element==null){return;
}var asyncount=element.getAttribute("asyncount");var showtree=element.getAttribute("showtree");var closenode=element.getAttribute("closenode");var closelevel=element.getAttribute("closelevel");LEAPLG.table_scrl(LEAP.getElement("table:first",element).parentElement,true);var fn=element[LEAP.table.m];var sm=element.getAttribute("searchMethod");
if(fn==null&&sm!=null){try{element[LEAP.table.m]=fn=eval("("+sm+")");}catch(err){}}if(fn==null){return;}if((element[LEAP.table.p]==null||element[LEAP.table.p]==0)&&element.children&&element.children.length){if(element.children[0].clientHeight==0){var fn1=function(){LEAP.table._gotoPage(element,gotoPageNum);
src=null;};setTimeout(fn1,50);return;}var as=element.getAttribute("autosize");if(as!=null&&as==1||as=="true"){var rh=element.getAttribute("rowheight");var b=false;var d=false;var ah=element.children[0].clientHeight;if(rh){rh=rh*1;if(rh){var isFix=element.getAttribute("fixHeader");if(isFix=="1"||isFix=="true"){var hEl=LEAP.getElement("[ctf=table_thead]",element);
if(hEl){var hh=hEl.clientHeight;ah=ah-hh;d=true;}}element[LEAP.table.p]=parseInt(ah/rh);b=true;}}if(ah>150){var tp=null;if(!b){tp=parseInt((ah-24)/24);}else{if(d){tp=parseInt(ah/rh);}else{tp=parseInt((ah-rh)/rh);}}element[LEAP.table.p]=tp;}else{element[LEAP.table.p]=LEAP.tonum(element.getAttribute(LEAP.table.p));
}}else{element[LEAP.table.p]=LEAP.tonum(element.getAttribute(LEAP.table.p));}}var pageSize=element[LEAP.table.p];if(!pageSize){pageSize=12;}var d=element[LEAP.table.md];if(d==null){d=element;}if(d!=null&&d.moduleDisposed){return;}var table_page_countdiv=LEAP.getElement("[ctf=table_page_countdiv]",element.parentElement.parentElement);
var result=null;var isasyn=false;if(resultset!=null){result=resultset;if(result&&result.count<=pageSize){var firstE=LEAP.getElement("[ctf=table_page_first]",element);var nextE=LEAP.getElement("[ctf=table_page_next]",element);var preE=LEAP.getElement("[ctf=table_page_pre]",element);var lastE=LEAP.getElement("[ctf=table_page_last]",element);
var bool=false;if(firstE&&firstE.parentElement&&firstE.parentElement.parentElement){bool=LEAP.hasCSS(firstE.parentElement.parentElement.parentElement,"LC_table_pagination");}if(firstE&&nextE&&preE&&lastE&&bool){firstE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/home.png')";
nextE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/next1.png')";preE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/prev.png')";lastE.style["background-image"]="url('"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_menu/end1.png')";
}}}else{result=fn.call(d,element,gotoPageNum,pageSize);if(result!=null&&result.breakResult!=null&&result.breakResult==false){return;}if(result!=null&&result.leapclient_asynwait!=null&&result.leapclient_asynwait==1){if(asyncount!="1"){var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);
if(!imginfo){imginfo=document.createElement("IMG");imginfo.style.position="absolute";imginfo.style.top="50%";imginfo.src=leapconfig.server+"LEAP/Resource/images/itemstyle/table/loading.gif";imginfo.style.left="50%";imginfo.style.width="30px";imginfo.style.height="30px";imginfo.style["z-index"]="99999";
imginfo.setAttribute("ctfe","table_search_info");element.appendChild(imginfo);element.style.position="relative";}else{imginfo.style.display="";}if(table_page_countdiv!=null){table_page_countdiv.style.display="none";}}return;}if(result!=null&&result.leapclient_isasyn!=null&&result.leapclient_isasyn==1){result=null;
isasyn=true;}}d=null;if(result!=null){element.codeTypes=result.codeTypes;element.metaDatas=result.metaData;}if(asyncount!="1"){element.pageCount=0;element.pageNum=0;element.pageResultCount=0;}element.pageResult=null;var info=LEAP.getElement("[ctf=table_page_info]",element);LEAP.table.clearRow(element);
if(result==null||result.result==null||result.result.length==0){if(!isasyn){if(info!=null){if(asyncount!="1"){info.innerHTML=LEAP.table.getPageText(element).replace("@pageNum",0).replace("@endNum",0).replace("@beginNum",0).replace("@pageCount",0).replace("@size",0).replace("@count",0).replace("@pageSize",pageSize);
info=null;var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);if(imginfo){imginfo.style.display="none";}if(table_page_countdiv!=null){table_page_countdiv.style.display="none";}var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);if(imginfo){imginfo.style.display="none";}}}else{var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);
if(imginfo){imginfo.style.display="none";}}LEAP.table._showBackground(element,true);}LEAP.table._resizeResultPanel(element,true);return;}else{LEAP.table._showBackground(element,false);}var pc=result.pageCount;if(asyncount!="1"){element.pageCount=pc;element.pageNum=result.pageNum;element.pageResultCount=result.count;
}if(element.getAttribute("sort")=="client"){element.pageResult=result;}LEAP.table.bindData(element,result,clientsortmode,sortmd);if(result!=null){LEAP.table._resizeResultPanel(element,false);}if(info!=null){if(asyncount!="1"){if(element.getAttribute("showselsize")&&!element.getAttribute("_initshowselsize")){element.setAttribute("_initshowselsize","1");
var selstr="<font style='margin-left:50px'></font><div value='@pagesizevalue' class='select' ct='select' style='position:absolute;right:168px;height:25px;top:0px;border:1px solid #d4d4d4;margin-top:3px;width=60px;' _table_sel_top='-66px' _istabledynasize='1'><div class='lg_p_lr_right select_drop' ctf='select_drop'></div><div class='lg_p_lr_fill'><div class='lg_p_lr_fill_c '><input value='@pagesizevalue' ctf='selectbtn' type=button class='selectbtn ellipsis' style='vertical-align:super'></div></div><div class='select_items' ctf='select_items' style='top:-66px;width:30px;min-width:30px;height:70px;overflow:hidden'>";
var tmps=[10,20,50];if(!tmps.contains(pageSize)){for(var i=0;i<2;i++){if(tmps[i]<pageSize&&tmps[i+1]>pageSize){tmps=tmps.insert(pageSize,i+1);break;}}}for(var i=0;i<tmps.length;i++){selstr+="<div><a value='"+tmps[i]+"' href='javascript:void(0)' ctf='select_item'>"+tmps[i]+"</a></div>";}selstr+="</div></div>";
LEAP.getElement("[ctf=table_page_info]",element).parentElement.parentElement.style.overflow="visible";element.setAttribute("_selsizestr",selstr);}var table_page_count=LEAP.getElement("[ctf=table_page_count]",element.parentElement.parentElement);var table_page_size=LEAP.getElement("[ctf=table_page_size]",element.parentElement.parentElement);
var as=element.getAttribute("_selsizestr");var psstr=pageSize;if(as){psstr=as.replaceall("@pagesizevalue",pageSize);}if(pc!=-1){info.innerHTML=LEAP.table.getPageText(element).replace("@pageNum",element.pageNum).replace("@endNum",result.endNum).replace("@beginNum",result.beginNum).replace("@pageCount",element.pageCount).replace("@size",result.size).replace("@count",element.pageResultCount).replace("@pageSize",psstr);
if(table_page_count!=null){table_page_count.innerHTML=element.pageResultCount;}if(table_page_size!=null){table_page_size.innerHTML=pageSize;}if(table_page_countdiv!=null){table_page_countdiv.style.display="block";}var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);if(imginfo){imginfo.style.display="none";
}}else{info.innerHTML="@pageNum @pageSize<font style='color: #001693;font-weight: bold;text-align:center;width:8px;'>/</font>".replace("@pageNum",element.pageNum).replace("@endNum",result.endNum).replace("@beginNum",result.beginNum).replace("@pageCount",element.pageCount).replace("@size",result.size).replace("@count",element.pageResultCount).replaceall("@pageSize",psstr);
if(table_page_count!=null){table_page_count.innerHTML=element.pageResultCount;}if(table_page_size!=null){table_page_size.innerHTML=pageSize;}if(table_page_countdiv!=null){table_page_countdiv.style.display="block";}var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);if(imginfo){imginfo.style.display="none";
}}}else{var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);if(imginfo){imginfo.style.display="none";}}}info=null;if(showtree=="1"&&closenode=="1"){LEAP.table.closeAllNode(element,closelevel);}ElementEventManager.handleEvent(element,"dataLoaded",{table:element});}finally{var imginfo=LEAP.getElement("img[ctfe=table_search_info]",element);
if(imginfo){imginfo.style.display="none";}}};LEAP.table._resizeResultPanel=function(l,g){var j=l.getAttribute("_hasFixed");if(j=="1"){var m=LEAP.getElement("[ctf=lg_body_panel]",l);var d=LEAP.getElement("[ctf=lg_header_panel]",l);if(m&&d){if(!g){m.removeAttribute("style");}else{var h=d.clientWidth;if(h){m.style.width=h+"px";
m.style.display="block";m.style.height="1px";}}}}};LEAP.table.asynCountPage=function(g,l,j){g=LEAP._check(g,LEAP.table.d);if(g==null){return;}var h=LEAP.getElement("[ctf=table_page_num]",g.parentElement.parentElement);if(h){h.innerHTML=l;}var d=LEAP.getElement("img[ctfe=table_search_info]",g);if(!d){d=document.createElement("IMG");
d.style.position="absolute";d.style.top="50%";d.src=leapconfig.server+"LEAP/Resource/images/itemstyle/table/loading.gif";d.style.left="40%";d.style.width="30px";d.style.height="30px";d.style["z-index"]="99999";d.setAttribute("ctfe","table_search_info");g.appendChild(d);g.style.position="relative";}else{d.style.display="";
}LEAP.asyn(LEAP.table._asynCountPage,null,null,g,l,j);};LEAP.table._asynCountLoading=function(g){g=LEAP._check(g,LEAP.table.d);if(g==null){return;}var d=LEAP.getElement("[ctf=table_page_info]",g);if(!d){return;}d.innerHTML="<font class=LC_table_searching></font><font class=LC_table_counting></font>";
};LEAP.table._asynCountPage=function(n,j,x){n=LEAP._check(n,LEAP.table.d);if(n==null){return;}var A=x;var d=false;var l=LEAP.getElement("[ctf=table_page_countdiv]",n.parentElement.parentElement);var g=LEAP.getElement("[ctf=table_page_info]",n);if(g){g.className="";}if(A!=null&&A.leapclient_asynwait!=null&&A.leapclient_asynwait==1){var q=LEAP.getElement("img[ctfe=table_search_info]",n);
if(!q){q=document.createElement("IMG");q.style.position="absolute";q.style.top="50%";q.src=leapconfig.server+"LEAP/Resource/images/itemstyle/table/loading.gif";q.style.left="40%";q.style.width="30px";q.style.height="30px";q.style["z-index"]="99999";q.setAttribute("ctfe","table_search_info");n.appendChild(q);
n.style.position="relative";}else{q.style.display="";}if(l!=null){l.style.display="none";}g=null;return;}if(A!=null&&A.leapclient_isasyn!=null&&A.leapclient_isasyn==1){A=null;d=true;}n.pageCount=0;n.pageNum=0;n.pageResultCount=0;if(A==null){if(!d){if(g!=null){g.innerHTML=LEAP.table.getPageText(n).replace("@pageNum",0).replace("@endNum",0).replace("@beginNum",0).replace("@pageCount",0).replace("@size",0).replace("@count",0).replace("@pageSize",0);
g=null;var q=LEAP.getElement("img[ctfe=table_search_info]",n);if(q){q.style.display="none";}if(l!=null){l.style.display="none";}}else{}}return;}var u=A.size;var w=A.pageCount;n.pageCount=w;n.pageNum=A.pageNum;n.pageResultCount=A.count;if(g!=null){if(n.getAttribute("showselsize")&&!n.getAttribute("_initshowselsize")){n.setAttribute("_initshowselsize","1");
var z="<font style='margin-left:50px'></font><div value='@pagesizevalue' class='select' ct='select' style='position:absolute;right:168px;height:25px;top:0px;border:1px solid #d4d4d4;margin-top:3px;width=60px;' _table_sel_top='-66px' _istabledynasize='1'><div class='lg_p_lr_right select_drop' ctf='select_drop'></div><div class='lg_p_lr_fill'><div class='lg_p_lr_fill_c '><input value='@pagesizevalue' ctf='selectbtn' type=button class='selectbtn ellipsis' style='vertical-align:super'></div></div><div class='select_items' ctf='select_items' style='top:-66px;width:30px;min-width:30px;height:70px;overflow:hidden'>";
var p=[10,20,50];if(!p.contains(u)){for(var m=0;m<2;m++){if(p[m]<u&&p[m+1]>u){p=p.insert(u,m+1);break;}}}for(var m=0;m<p.length;m++){z+="<div><a value='"+p[m]+"' href='javascript:void(0)' ctf='select_item'>"+p[m]+"</a></div>";}z+="</div></div>";LEAP.getElement("[ctf=table_page_info]",n).parentElement.parentElement.style.overflow="visible";
n.setAttribute("_selsizestr",z);}var r=LEAP.getElement("[ctf=table_page_count]",n.parentElement.parentElement);var o=LEAP.getElement("[ctf=table_page_size]",n.parentElement.parentElement);var h=n.getAttribute("_selsizestr");var y=u;if(h){y=h.replaceall("@pagesizevalue",u);}if(w!=-1){g.innerHTML=LEAP.table.getPageText(n).replace("@pageNum",n.pageNum).replace("@endNum",A.endNum).replace("@beginNum",A.beginNum).replace("@pageCount",n.pageCount).replace("@size",A.size).replace("@count",n.pageResultCount).replace("@pageSize",y);
if(r!=null){r.innerHTML=n.pageResultCount;}if(o!=null){o.innerHTML=u;}if(l!=null){l.style.display="block";}var q=LEAP.getElement("img[ctfe=table_search_info]",n);if(q){q.style.display="none";}}else{g.innerHTML="@pageNum @pageSize<font style='color: #001693;font-weight: bold;text-align:center;width:8px;'>/</font>".replace("@pageNum",n.pageNum).replace("@endNum",A.endNum).replace("@beginNum",A.beginNum).replace("@pageCount",n.pageCount).replace("@size",A.size).replace("@count",n.pageResultCount).replaceall("@pageSize",y);
if(r!=null){r.innerHTML=n.pageResultCount;}if(o!=null){o.innerHTML=u;}if(l!=null){l.style.display="block";}var q=LEAP.getElement("img[ctfe=table_search_info]",n);if(q){q.style.display="none";}}}g=null;};LEAP.table.refreshPage=function(d){d=LEAP._check(d,LEAP.table.d);if(d==null){return;}var g=d.pageNum;
if(g==null||g<1){g=1;}LEAP.table.gotoPage(d,g);};LEAP.table.getOperationList=function(p){p=LEAP._check(p,LEAP.table.d);if(p==null){return;}try{var h=LEAP.table.getHeaders(p);if(h!=null){var m=h.length;for(var q=0;q<m;q++){var r=h[q];if(r.tpo!=null&&r.tpo.Trim()!=""){var u=r.tpo.split(commfields.tpos);
var w=[];var y=u.length;for(var n=0;n<y;n++){var g=u[n];if(g!=null&&g.Trim()!=""){var z=g.split(commfields.tpos2);if(z.length==2){var x={name:z[0],flag:z[1]};w.add(x);}}}if(w.length==0){return null;}return w;r=null;}}}h=null;}finally{p=null;}};LEAP.table.beginCopyFromClipboard=function(o){if(LEAP.table.cf==null){LEAP.table.cf=LEAP.form.create(null,"Excel",500,500).form;
LEAP.form.setContent(LEAP.table.cf,leapclient.load("LEAP/Resource/HTML/Control/copyTable.html"));}LEAP.table.cfun=null;LEAP.table.cfun=o;LEAP.table.cr=null;var l=new StringBuffer();try{var n=window.clipboardData.getData("text");if(n==null||n.length==0){return;}l.append('<table cellspacing=0 style="height:auto;');
var w=n.split("\n");var g=w.length;LEAP.table.cr=[];for(var m=0;m<g;m++){var x=w[m];if(x!=null&&x.length!=0&&x.Trim().length!=0){var r=x.split("\t");var q=r.length;var u=[];if(m==0){l.append("width:");l.append(q*90);l.append('px">');}l.append("<tr>");for(var h=0;h<q;h++){var p=r[h];u.add(p);l.append('<td title="');
l.append(p);l.append('">');if(p==null||p.Trim()==""){p="&nbsp";}l.append(p);l.append("</td>");}LEAP.table.cr.add(u);l.append("</tr>");}}l.append("</table>");}finally{var d=LEAP.getElement("div[ctf=table_copycons]","div"+LEAP.table.cf);d.innerHTML="";d.innerHTML=l.toString();LEAP.form.show(LEAP.table.cf);
}};LEAP.table._hideCity=function(g,d){if(LEAP.table._area==null){LEAP.table._area=new Array();LEAP.table._area.add("1101");LEAP.table._area.add("1201");LEAP.table._area.add("3101");LEAP.table._area.add("5001");LEAP.table._area.add("4190");LEAP.table._area.add("4290");LEAP.table._area.add("4690");LEAP.table._area.add("6590");
LEAP.table._area.add("232790");LEAP.table._area.add("330391");LEAP.table._area.add("442090");LEAP.table._area.add("441990");LEAP.table._area.add("460490");LEAP.table._area.add("513391");LEAP.table._area.add("620290");}if(!g||!d||g.length<4){return d;}var j=g.substring(0,6);var h=g.substring(0,4);if(LEAP.table._area.contains(h)){d=d.replace("","").replace("","");
}if(LEAP.table._area.contains(j)){d=d.replace("","");}return d;};LEAP.table.upLoadFinish=function(p,j){if(p==null||j==null){return;}var l=j.tele;if(!l){return;}var n=l.getAttribute("instance");var d=LEAP.getLoadedModule(n);if(!d){return;}var m=d.moduleName;var h={};h.modulename=m;h.filename=p.name;
var g=LEAP.request("studiov2_excelDataimport",{data:h});if(g){alert("");d.innerSearch();var o=LEAP.getElement("[ctf=table_imports_cons]",l);if(o){o.style.display="none";}}else{alert("");}};LEAP.table._line='<div class="LC_fielddefine_item_content"><div class="LC_checkbox_item @active"><input type="checkbox" field="@field" idx="@idx" hasSelect="@select" ctf="table_field_item" code="@code" cnname="@cnname" fieldtype="@fieldtype"><span class="frame"></span> <span class="label">@cnname</span></div></div><div class="LC_fielddefine_item_sort"><img src="@serviceuriLEAP/Resource/images/itemstyle/table/move.png" alt=""></div>';
LEAP.table._buildHeader=function(g){var z=LEAP.getElement("[ctf=table_per_header]",g);if(z==null){var j=g[LEAP.table.a];var C=[];for(var x=0;x<j.length;x++){var y=j[x];if(y.tpo||y.sncol||!y.md){continue;}C.add(y.md);}var r=g._originHeader;if(r!=null){if(LEAP.table.f==null){var m=leapclient.load("LEAP/Resource/HTML/Control/tableSetting.html");
m=m.replace("@server",leapconfig.server);LEAP.table.f=m;}var w=document.createElement("div");w.innerHTML=LEAP.table.f;z=LEAP.getElement("[ctf=table_per_header]",w);z.style.height=g.clientHeight*0.6+"px";g.appendChild(z);LEAP.removeElement(w);w=null;var B=[];var d=LEAP.userInfo.userid;if(!d){return;}var n=r.length;
for(var x=0;x<n;x++){var y=r[x];if(y.tpo||y.sncol||!y.text||!y.md){continue;}B.add({md:y.md,cnname:y.text});}var l=LEAP.getElement("[ctf=table_field_line]",g);var q=0;var A=B.length;for(var x=0;x<A;x++){var p=B[x];var o=document.createElement("div");o.className="LC_fielddefine_item";var u=LEAP.table._line;
if(!C.contains(p.md)){u=u.replace("@active","");u=u.replace("@select","0");}else{u=u.replace("@active"," active");u=u.replace("@select","1");}u=u.replace("@field",p.md);u=u.replaceall("@cnname",p.cnname);u=u.replaceall("@idx",q);u=u.replaceall("@serviceuri",leapconfig.server);o.innerHTML=u;l.appendChild(o);
q++;}}}};LEAP.table._saveHeader=function(m,o){var g=LEAP.getLoadedModule(m.getAttribute("instance"));if(!g||!g.pageModuleName){return;}var q=g.pageModuleName;var j=LEAP.getElements("input[hasSelect=1]",o);if(j){var l=[];for(var n=0;n<j.length;n++){var d=j[n].getAttribute("field");if(d){l.add({name:d,cnname:j[n].getAttribute("cnname"),codetype:j[n].getAttribute("code"),fieldtype:j[n].getAttribute("fieldtype")});
}}if(l.length==0){LEAP.messagebox.alert("");return;}var h=LEAP.request("studiov6_insertDefineField",{fields:l,pagemodule:q});if(h){LEAP.messagebox.alert("");}var p=LEAP.getElement("[ctf=table_per_header]",m);if(p!=null){p.parentElement.removeChild(p);}}else{LEAP.messagebox.alert("");
}};LEAP.table._restoreHeader=function(l,d){if(!d==null){return;}var h=d.pageModuleName;if(!h){return;}var g=LEAP.request("studiov6_retoreDefineField",{pagemodule:h});var m=LEAP.getElement("thead:last",l);var q=null;if(m!=null){q=LEAP.getElements("tr",m);}var p=null;if(q!=null){if(q.length==1){p=q[0];
}}if(!p){return;}var r=l._originCells;if(r==null||r.length==0){return;}var n=p.children;if(n!=null&&n.length>0){for(var j=n.length-1;j>-1;j--){p.removeChild(n[j]);}}for(var j=0;j<r.length;j++){p.appendChild(r[j]);}l[LEAP.table.a]=null;var o=LEAP.getElement("[ctf=table_per_header]",l);if(o!=null){o.parentElement.removeChild(o);
}LEAP.table.refreshPage(l);};LEAP.table._setFieldCheck=function(d,g){if(!g){return;}var h=g.getAttribute("hasSelect");if(h==1){g.parentElement.className="LC_checkbox_item";g.setAttribute("hasSelect","0");}else{g.parentElement.className="LC_checkbox_item active";g.setAttribute("hasSelect","1");}LEAP.table._reSetHeader(d,g);
};LEAP.table._reSetHeader=function(j,n){var H=n.getAttribute("field");var m=j[LEAP.table.a];var F=n.getAttribute("hasSelect");if(F=="1"){var o=LEAP.getElements("input[type=checkbox][hasSelect=1][ctf=table_field_item]",j);var q=n.getAttribute("idx")*1;var C=null;if(o!=null){var x=o.length;for(var B=0;
B<x;B++){var D=o[B].getAttribute("idx")*1;if(D>q){C=o[B].getAttribute("field");break;}}o=null;}var g=j._originCells;if(!g){return;}var w=null;var y=null;for(var B=0;B<g.length;B++){var A=g[B].getAttribute("md");if(A==H){w=g[B];y=LEAP.getBindDef(w);break;}}if(C!=null){var h=LEAP.getElement("th[ctf=table_header][md="+C+"]",j);
h.parentNode.insertBefore(w,h);m=m.insert(y,h.cellIndex-1);j[LEAP.table.a]=m;}else{var I=LEAP.getElements("th[ctf=table_header]",j);if(I!=null){var G=I[I.length-1].getAttribute("tpo");if(G!=null&&G.Trim()!=""){I[I.length-1].parentNode.insertBefore(w,I[I.length-1]);m=m.insert(y,I[I.length-1].cellIndex-1);
j[LEAP.table.a]=m;}else{var u=LEAP.getElement("thead:last",j);var d=LEAP.getElements("tr",u);d[d.length-1].appendChild(w);m.add(y);j[LEAP.table.a]=m;}}else{var u=LEAP.getElement("thead:last",j);var d=LEAP.getElements("tr",u);d[d.length-1].appendChild(J);m=[];m.add(y);j[LEAP.table.a]=m;}}LEAP.table.refreshPage(j);
}else{var J=LEAP.getElement("th[ctf=table_header][md="+H+"]",j);var q=J.cellIndex;m.remove(m[q]);J.parentNode.removeChild(J);J=null;LEAP.table.refreshPage(j);}var z=j.getAttribute("cachename");if(z!=null&&z.Trim().length>0){var r=JSON.stringify(m);var p=LEAP.getUserInfo();if(p!=null&&p.userflag!=null){Storage.set("table_headers_user_"+p.userflag+"_"+z,r);
}}};LEAP.table._rebuildHeader=function(g,n,h){if(!g||!n||!h){return h;}var D=g.getAttribute("__hasbuild");if(D){return h;}var r=[];for(var A=0;A<n.length;A++){r.add(n[A].cloneNode(true));}g._originCells=r;g._originHeader=h;var B=LEAP.getElement("input[ctf=table_props]",g);if(B!=null){B.parentElement.style.display="";
B.value="";B.setAttribute("ctf","table_setheader");}var d=LEAP.getLoadedModule(g.getAttribute("instance"));if(!d||!d.pageModuleName){return h;}var j=d.pageModuleName;var m=LEAP.request("studiov6_defineField",{pagemodele:j});if(m==null){g.setAttribute("__hasbuild","1");return h;}var o=[];if(m!=null){for(var x=0;
x<m.length;x++){if(!m[x].fieldname){continue;}o.add(m[x].fieldname);}}var F=[];for(var A=0;A<h.length;A++){var y=h[A].md;var q=h[A].sncol||h[A].tpo||!y;var p=y&&o.contains(y);if(q||p){F.add(h[A]);}}if(n!=null&&n.length>0){var w=n.length;var z=n[0].parentElement;for(var A=(w-1);A>-1;A--){var C=n[A].getAttribute("tpo");
var u=n[A].getAttribute("sncol");var y=n[A].getAttribute("md");if(C||u||!y){continue;}var y=n[A].getAttribute("md");if(y&&!o.contains(y)){z.removeChild(n[A]);}}}if(F!=null){g.setAttribute("__hasbuild","1");}return F;};LEAP.table._resizeHeader=function(j){if(!j){return;}var d=j.getAttribute("__hasresize");
if(d){return;}var m=LEAP.getElement("thead:last",j);var n=null;if(m!=null){n=LEAP.getElements("tr",m);}var l=null;var g=null;if(n!=null){if(n.length==1){l=n[0];g=n[n.length-1].cells;}else{for(var h=n.length-1;h>-1;h--){if(n[h]&&n[h].getAttribute("ctf")=="table_thead_tr"){l=n[h];g=n[h].cells;break;}}}if(l==null||g==null){j.setAttribute("__hasresize","1");
return;}for(var h=g.length-1;h>-1;h--){g[h].style.width=g[h].clientWidth+"px";}j.setAttribute("__hasresize","1");}};LEAP.table.init();LEAP.dynamodule={};LEAP.dynamodule.itemflag="<!--values-->";LEAP.dynamodule.radioitem="<div ctf='radio_item'><label ctf='radio_label' value='@value' class='radio_unchecked'>@name</label></div>";
LEAP.dynamodule.selectitem="<DIV><A href='javascript:void(0)' ctf='select_item' value=@value>@name</A></DIV>";LEAP.dynamodule.z='<TABLE class="devtable devtableext" style="WIDTH: 100%" cellSpacing=0 cellPadding=0 border=0 ct="devtable" devtable="lg"><TR class=devtablexrow><TD class=devtablexycell style="WIDTH: 20px"></TD><TD class=devtablexcell style="WIDTH: 120px">A</TD><TD class=devtablexcell>B</TD><TD class=devtablexcell style="WIDTH: 120px">C</TD><TD class=devtablexcell>D</TD></TR>@tbody<TBODY></TBODY></TABLE>';
LEAP.dynamodule.y='<TR><TD style="height:@rowheight" class=devtableycell>@rowsn</TD>@row</TR>';LEAP.dynamodule.x='<TD class="devtableleftcell" title=@name>@name</TD><TD colSpan=@colspan class=devtablerightcell><DIV class=devtablecon>@control</DIV></TD>';LEAP.dynamodule._x='<TD class="devtableleftcell" title=@name>@name</TD><TD colSpan=@colspan class=devtablerightcell>@control</TD>';
LEAP.dynamodule.v='<TD class="devtableleftcell" title=@name>@name</TD><TD class="devtablerightcell " style="TEXT-ALIGN: left"><LABEL class=devtablecontrol bt="text" md="@md" code="@code" ht="input" type="text"></LABEL></TD>';LEAP.controls={};LEAP.controls.area='<DIV style="OVERFLOW: visible; WIDTH: auto; HEIGHT: 26px" ut="System_AreaControl" ct="areagroup" md="areaid" group="area" class="devtablecontrol"></DIV>';
LEAP.controls.date='<DIV class="date devtablecontrol" ct="date" bt="date" md="@md" check="@check"><INPUT class=date_y maxLength=4 ctf="date_1"> <A>-</A> <INPUT class=date_i maxLength=2 ctf="date_2"> <A>-</A> <INPUT class=date_i maxLength=2 ctf="date_3"> <DIV class=date_img ctf="date_show"></DIV></DIV>';
LEAP.controls.radio='<DIV class="radio_frame devtablecontrol" style="OVERFLOW: visible; HEIGHT: 100%" ct="radio" bt="text" md="@md" check="@check" code="@code"><!--values--></DIV>';LEAP.controls.select='<DIV class="select devtablecontrol" style="WIDTH: 100%" bt="text" ct="select" md="@md" check="@check" code="@code"><DIV class="lg_p_lr_right select_drop selectdropout" ctf="select_drop"></DIV><DIV class=lg_p_lr_fill><DIV class="lg_p_lr_fill_c "><INPUT class="selectbtn ellipsis " type=button ctf="selectbtn"> </INPUT></DIV></DIV><DIV class=select_items style="WIDTH: 392px" ctf="select_items"><DIV><A href="javascript:void(0)" value="" ctf="select_item"></A></DIV><!--values--></DIV></DIV>';
LEAP.controls.select2='<DIV value="@selectvalue" class="select devtablecontrol" style="WIDTH: 100%" bt="text" ct="select" md="@md" check="@check" code="@code"><DIV class="lg_p_lr_right select_drop selectdropout" ctf="select_drop"></DIV><DIV class=lg_p_lr_fill><DIV class="lg_p_lr_fill_c "><INPUT class="selectbtn ellipsis " type=button ctf="selectbtn" value="@value"> </INPUT></DIV></DIV><DIV class=select_items style="WIDTH: 392px" ctf="select_items"><!--values--></DIV></DIV>';
LEAP.controls.textarea='<TEXTAREA style="FLOAT: left; OVERFLOW: auto; WIDTH: 98%; HEIGHT: 52px" md="@md" check="@check" wrap=on bt="text" ht="textarea" class="devtablecontrol"></TEXTAREA>';LEAP.controls.text='<INPUT style="WIDTH: 99%" bt="text" md="@md" check="@check" ht="input" class="devtablecontrol">';
LEAP.controls.textutil=LEAP.controls.text+'<div class="devtableutil">@unit</div>';LEAP.controls.view="<label style='height:@height' md='@md' code='' type='@bt'  ht='label' bt='text' class='devtablecontrol'></label>";LEAP.controls.viewutil=LEAP.controls.view+'<div class="devtableutil"></div>';LEAP.controls.pohots='<DIV class="main_content upload_photolist" style="WIDTH: 100%; HEIGHT: 240px" ct="upload_control_photolist" dev="lg" bt="text" md="@md"><DIV class="upload_btn upload_btn_upload" title= style="RIGHT: 0px; POSITION: absolute; TOP: 0px" ctf="upload_btn_upload" ctt="upload_control_photolist"></DIV></DIV>';
LEAP.dynamodule.moduleheader="<head>\n		<!--@ \n		module = @showmodulename\n	-->\n</head>\n";LEAP.dynamodule.module='<DIV style="WIDTH: 99%; POSITION: relative; HEIGHT: 100%" dev="lg">    <DIV class="lg_p_bct_top" style="DISPLAY: none; HEIGHT: 0px" dev="lg">    </DIV>    <DIV class="lg_p_bct_center" style="BOTTOM: 25px; TOP: 0px;overflow:auto;" dev="lg"> @content   </DIV>    <DIV class="lg_p_bct_bottom submitBtn" style="HEIGHT: 25px;" dev="lg">    	<DIV class=button_frame style="FLOAT: right">            <A class=button href="javascript:void(0)">                <P>                </P>                <SPAN al="@al" ut="submit" ctf="button" ht="button">                   	                 </SPAN>            </A>        </DIV>    </DIV></DIV>';
LEAP.dynamodule.viewmodule='<DIV ht="viewModule" al="@al" style="WIDTH: 99%; POSITION: relative; HEIGHT: 100%;overflow:auto;" dev="lg">@content<DIV>';LEAP.dynamodule.cache=new hashtable();LEAP.dynamodule.build=function(modulename,fields,parent,buildType){if(modulename==null||modulename.Trim()==""){return;
}var showmodulename="dynamodule_"+modulename;var datamodulename=modulename;var def=null;if(LEAP.dynamodule.cache.contains(showmodulename)){def=LEAP.dynamodule.cache.getvalue(showmodulename);}else{var content=LEAP.dynamodule.innerBuild(fields,buildType);var html=null;var js=null;if(buildType==1){html=LEAP.dynamodule.module;
html=html.replace("@al","create");js=leapclient.load("LEAP/Studio/Template/JavaScript/create.js");js=js.replace("DynaCreate","DynaCreate2").replace("this.fireEvent('onSubmit');","this.fireEvent('onSubmit',result);").replace("if (result == true)","if (result != null)");}else{if(buildType==2){html=LEAP.dynamodule.module;
html=html.replace("@al","modify");js=leapclient.load("LEAP/Studio/Template/JavaScript/modify.js");}else{if(buildType==3){html=LEAP.dynamodule.viewmodule;html=html.replace("@al","view");js=leapclient.load("LEAP/Studio/Template/JavaScript/view.js");}}}js=" "+showmodulename+" = "+js.replace("@showmodulename","").replace("@datamodulename",datamodulename);
html=html.replace("@content",content);html=LEAP.dynamodule.moduleheader.replace("@showmodulename",showmodulename)+html;def={js:js,html:html};with(window){eval(js);}LEAP.dynamodule.cache.add(showmodulename,def);}var ret=LEAP.loadModule(null,parent,null,null,def.html);return ret;};LEAP.dynamodule.innerBuild=function(C,B){if(C==null||C.length==0){return;
}var D=C.length;var n=new StringBuffer();var y=[];for(var F=0;F<D;F++){var J=C[F];var K=J.name.toLowerCase().Trim();if(K=="id"||K=="gispid"||K=="shape"||K=="objectid"){continue;}var I=J.cnname;var u=J.field.isnullable;var m=J.field.minsize;var H=J.field.maxsize;var z=J.field.measuerunit;var x=J.field.remarks;
var q=J.field.datatype;var d=J.field.codetype;var g=false;var A="";var r=null;var w=I;if(w==null||w.Trim()==""){w=K;}var o=null;if(B==1||B==2){if(K=="areaid"){o=LEAP.controls.area;g=true;}else{if(K==""||K=="photos"||K=="photos"){o=LEAP.controls.pohots.replace("@md",K);A="230px";g=true;}else{if(q==91||q==93||q==92){o=LEAP.controls.date.replace("@md",K);
}else{if(d!=null){r=LEAP.getCodeValue(d);if(r!=null){if(r.length<3){o=LEAP.controls.radio.replace("@md",K).replace("@code",d);o=LEAP.dynamodule.buildRadioItem(o,r);}else{if(r.length<7){o=LEAP.controls.radio.replace("@md",K).replace("@code",d);o=LEAP.dynamodule.buildRadioItem(o,r);g=true;}else{o=LEAP.controls.select.replace("@md",K).replace("@code",d);
o=LEAP.dynamodule.buildSelectItem(o,r);}}}else{o=LEAP.controls.text.replace("@md",K).replace("@code",d);}}else{if(H>300){o=LEAP.controls.textarea.replace("@md",K).replace("@code",d);g=true;A="52px";}else{if(z==null||z.Trim()==""){o=LEAP.controls.text.replace("@md",K).replace("@code",d);}else{o=LEAP.controls.textunit.replace("@md",K).replace("@unit",z);
}}}}}}var G=new StringBuffer();if(m!=null&&r==null){G.append("minlen:"+m.toString(10));}if(H!=null&&r==null){G.append("maxlen:"+H.toString(10));}if(u!=null&&u==0){G.append("notnull:true");}if(q==2||q==3||q==6||q==7||q==8){G.append("isnumber:true");}if(q==4||q==5||q==-6||q==-5){G.append("isint:true");
}o=o.replace("@check",G.toString());}else{if(B==3){if(K=="areaid"){o=LEAP.controls.area;g=true;}else{if(K==""||K=="photos"||K=="photos"){o=LEAP.controls.pohots.replace("@md",K);A="230px";g=true;}else{if(H>300){g=true;A="52px";}if(z==null||z.Trim()==""){o=LEAP.controls.view.replace("@md",K);}else{o=LEAP.controls.viewunit.replace("@md",K).replace("@unit",z);
}if(q==91||q==92||q==93){o=o.replace("@bt","date");}else{o=o.replace("@bt","text");}o=o.replace("@height",A);o=o.replace("@check","");}}}}y.add({control:o,def:J,text:w,oneline:g,height:A});}var D=y.length;var p=[];for(var F=0;F<D;F++){var o=y[F];if(B<4){if(o.oneline){p.add([o]);}else{if(p.length==0){p.add([o]);
}else{if(p[p.length-1].length==2){p.add([o]);}else{if(p[p.length-1].length==1&&p[p.length-1][0].oneline){p.add([o]);}else{p[p.length-1].add(o);}}}}}}var D=p.length;for(var F=0;F<D;F++){var j=p[F];var h="";if(j.length==2){if(B==1||B==2){h=LEAP.dynamodule.x.replace("@control",j[0].control).replaceall("@name",j[0].text).replace("@colspan",1);
h+=LEAP.dynamodule.x.replace("@control",j[1].control).replaceall("@name",j[1].text).replace("@colspan",1);}else{if(B==3){h=LEAP.dynamodule._x.replace("@control",j[0].control).replaceall("@name",j[0].text).replace("@colspan",1);h+=LEAP.dynamodule._x.replace("@control",j[1].control).replaceall("@name",j[1].text).replace("@colspan",1);
}}}else{h=LEAP.dynamodule.x.replace("@control",j[0].control).replaceall("@name",j[0].text).replace("@colspan",3);}h=LEAP.dynamodule.y.replace("@rowsn",F+1).replace("@rowheight",j[0].height).replace("@row",h);n.append(h);}return LEAP.dynamodule.z.replace("@tbody",n.toString("\n"));};LEAP.dynamodule.buildRadioItem=function(m,g){if(g==null){return m;
}var d=g.length;var o=new StringBuffer();var j=0;for(var h=0;h<d;h++){var n=g[h];o.append(LEAP.dynamodule.radioitem.replace("@value",n.codeid).replace("@name",n.codevalue));if(n.codevalue!=null){j+=n.codevalue.length;}}if(j>14){m=m.replace("cell2","cell1");}g=null;return m.replace(LEAP.dynamodule.itemflag,o.toString());
};LEAP.dynamodule.buildSelectItem=function(j,g){if(g==null){return j;}var d=g.length;var n=new StringBuffer();for(var h=0;h<d;h++){var m=g[h];n.append(LEAP.dynamodule.selectitem.replace("@value",m.codeid).replace("@name",m.codevalue));}g=null;return j.replace(LEAP.dynamodule.itemflag,n.toString());};
LEAP.dynamodule.S_z='<TABLE class="devtable devtableext " style="WIDTH: 100%; HEIGHT: 100%" cellSpacing=0 cellPadding=0 border=0 ct="devtable" devtable="lg"><TBODY class=""><TR class="devtablexrow "><TD class="devtablexycell " style="WIDTH: 20px"></TD><TD class="devtablexcell " style="WIDTH: 100px">A</TD><TD class="devtablexcell " style="WIDTH: 25px">B</TD><TD class=devtablexcell>C</TD></TR><TR><TD class="devtableycell " style="HEIGHT: 70%">1</TD><TD class="" style="OVERFLOW: auto" rowSpan=2><DIV class=studio_selected style="OVERFLOW: auto; WIDTH: 100%; HEIGHT: 100%" ut="props" dev="lg">@props</DIV></TD><TD class="" style="VERTICAL-ALIGN: middle; TEXT-ALIGN: center" rowSpan=2 ut="btns"><DIV class="table_project_menu_new table_project_menuicon " title= ut="btnnew" dev="lg"></DIV><DIV class="table_project_menu_newbefore table_project_menuicon " title= ut="btnsort" dev="lg"></DIV><DIV class="table_project_menu_refresh table_project_menuicon " title=, ut="btnref" dev="lg"></DIV></TD><TD class="" style="VERTICAL-ALIGN: top; OVERFLOW: auto; TEXT-ALIGN: left"><DIV class="" style="OVERFLOW: auto; WIDTH: 100%; HEIGHT: 100%" ut="pars" dev="lg"><TABLE class="devtable devtableext" style="WIDTH: 100%" cellSpacing=0 cellPadding=0 border=0 ct="devtable" devtable="lg"><TBODY><TR class=devtablexrow><TD class="devtablexcell " style="WIDTH: 70px">A</TD><TD class="devtablexcell " style="WIDTH: 100px">B</TD><TD class="devtablexcell " style="WIDTH: 70px">C</TD><TD class="devtablexcell ">D</TD><TD class="devtablexcell " style="WIDTH: 25px">E</TD></TR><TR><TD class="">/</TD><TD class=""></TD><TD class=""></TD><TD class=""></TD><TD></TD></TR></TBODY></TABLE></DIV></TD></TR><TR><TD class="devtableycell " style="HEIGHT: 30%">2</TD><TD class="" style="VERTICAL-ALIGN: top; OVERFLOW: auto; TEXT-ALIGN: left"><DIV class="" style="OVERFLOW: auto; WIDTH: 100%; HEIGHT: 100%" ut="shorts" dev="lg"><TABLE class="devtable devtableext" style="WIDTH: 100%" cellSpacing=0 cellPadding=0 border=0 ct="devtable" devtable="lg"><TBODY><TR class=devtablexrow><TD class="devtablexcell " style="WIDTH: 100px">A</TD><TD class="devtablexcell ">B</TD><TD class="devtablexcell " style="WIDTH: 25px">C</TD></TR><TR><TD class=""></TD><TD class=studio_selected></TD><TD></TD></TR></TBODY></TABLE></DIV></TD></TR><TR><TD class="devtableycell " style="HEIGHT: 18px">3</TD><TD class="" style="VERTICAL-ALIGN: bottom; TEXT-ALIGN: right" colSpan=3><DIV class=button_frame style="FLOAT: right" ct="button"><A class=button href="javascript:void(0)"><P></P><SPAN class="" ut="submit" ctf="button" ht="button"></SPAN> </A></DIV><DIV class=button_frame style="FLOAT: right" ct="button"><A class=button href="javascript:void(0)"><P></P><SPAN class="" ut="btnclose" ctf="button" ht="button"></SPAN> </A></DIV><DIV class="button_frame " style="FLOAT: right" ct="button"><A class="button " href="javascript:void(0)"></A></DIV><DIV class=button_frame style="FLOAT: right" ct="button"><A class=button href="javascript:void(0)"><P></P><SPAN class="" ut="gissearch" ctf="button" ht="button"></SPAN></A></DIV></TD></TR></TBODY></TABLE>';
LEAP.dynamodule.S_y='<div class="advancesearch" style="height:20px;width:100%;cursor:pointer;margin-top:5px;border-width:1px;border-color:green;" text="@text" mdname="@md" datatype="@datatype" codetype="@code">@text</div>';LEAP.dynamodule.S_cache=new hashtable();LEAP.dynamodule.buildAdvanceSearch=function(modulename,fields,parent){if(modulename==null||modulename.Trim()==""){return;
}var showmodulename="dynaadvancesearchmodule_"+modulename;var datamodulename=modulename;var def=null;if(LEAP.dynamodule.S_cache.contains(showmodulename)){def=LEAP.dynamodule.S_cache.getvalue(showmodulename);}else{var content=LEAP.dynamodule.innerBuildAdvanceSearch(modulename,fields);var html=null;html=LEAP.dynamodule.moduleheader.replace("@showmodulename",showmodulename)+content;
def={html:html};with(window){eval(showmodulename+" = LEAP.advanceSearch;");}LEAP.dynamodule.S_cache.add(showmodulename,def);}var ret=LEAP.loadModule(null,parent,null,null,def.html);ret.moduleName=modulename;return ret;};LEAP.dynamodule.innerBuildAdvanceSearch=function(r,o){if(r==null||r.Trim()==""){return;
}var j=o.length;var h=new StringBuffer();var w=[];var h=new StringBuffer();for(var n=0;n<j;n++){var q=o[n];var d=q.name.toLowerCase();var y=q.cnname;var u=q.field.measuerunit;var m=q.field.datatype;var g=q.field.codetype;var z=null;var p=LEAP.dynamodule.S_y;var x=y;if(x==null||x.Trim()==""){x=d;}if(g!=null){z=LEAP.getCodeValue(g);
if(z!=null){p=p.replace("@code",g);}else{p=p.replace('codetype="@code"',"");}}else{p=p.replace('codetype="@code"',"");}p=p.replace("@datatype",m).replace("@md",d).replaceall("@text",x);h.append(p);}return LEAP.dynamodule.S_z.replace("@props",h.toString());};LEAP.advanceSearch=function(){this.z='<DIV ctf="radio_item"><LABEL class=radio_checked ischecked=true ctf="radio_label" value="0"></LABEL></DIV><DIV ctf="radio_item"><LABEL class=radio_unchecked ctf="radio_label" value="1"></LABEL></DIV>';
this.y='<DIV ctf="radio_item"><LABEL class=radio_checked ischecked=true ctf="radio_label" value="0"></LABEL></DIV><DIV ctf="radio_item"><LABEL class=radio_unchecked ctf="radio_label" value="1"></LABEL></DIV>';this.x='<DIV><A href="javascript:void(0)" ctf="select_item" value="2"></A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="1">=</A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="4">&gt;</A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="5">&lt;</A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="6">&ge;</A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="7">&le;</A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="8">&ne;</A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="11"></A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="13"></A></DIV><DIV><A href="javascript:void(0)" ctf="select_item" value="14"></A></DIV>';
this.w='<div class="table_project_menu_del table_project_menuicon" title=""></div>';this.moduleName=null;this.propclick=function(d){var g=LEAP.getElements(">div",this.getUT("props"));LEAP.setStyle(g,{border:""});LEAP.setStyle(d.caller,{border:"solid"});LEAP.setAttribute(g,"selected","0");LEAP.setAttribute(d.caller,"selected","1");
d=g=null;};this.getSelectedProps=function(){var j=LEAP.getElement(">div[selected=1]",this.getUT("props"));if(j!=null){var h=j.getAttribute("datatype");var d=j.getAttribute("mdname");var l=j.getAttribute("codetype");var m=j.getAttribute("text");j=null;var g={datatype:h,md:d,code:l,text:m};return g;}};
this.btnnew=function(){var g=this.getSelectedProps();if(g!=null){var j=LEAP.getElement(">table:first",this.getUT("pars"));var w=document.createElement("tr");var l=LEAP.getElement("tbody",j);if(l==null){return;}l.appendChild(w);var r=document.createElement("td");var q=document.createElement("td");var p=document.createElement("td");
var n=document.createElement("td");var m=document.createElement("td");var h=g.datatype;var d=g.code;var o=g.md;w.setAttribute("md",o);q.innerHTML=g.text;r.innerHTML=LEAP.controls.radio.replace("@md","").replace("@code","").replace(LEAP.dynamodule.itemflag,this.y);if(h==91||h==92||h==93){n.innerHTML=LEAP.controls.date;
p.innerHTML=LEAP.controls.select2.replace("@selectvalue","6").replace("@md","").replace("@value",">=").replace("@code","").replace(LEAP.dynamodule.itemflag,this.x);w.setAttribute("controltype","date");}else{if(d!=null&&d.Trim()!=""){var u=LEAP.getCodeValue(d);if(u!=null){w.setAttribute("controltype","select");
n.innerHTML=LEAP.dynamodule.buildSelectItem(LEAP.controls.select,u);p.innerHTML=LEAP.controls.select2.replace("@selectvalue","1").replace("@md","").replace("@value","=").replace("@code","").replace(LEAP.dynamodule.itemflag,this.x);}else{if((h>=2&&h<=8)||h==-6||h==-5){p.innerHTML=LEAP.controls.select2.replace("@selectvalue","6").replace("@md","").replace("@value",">=").replace("@code","").replace(LEAP.dynamodule.itemflag,this.x);
}else{p.innerHTML=LEAP.controls.select2.replace("@selectvalue","2").replace("@md","").replace("@value","").replace("@code","").replace(LEAP.dynamodule.itemflag,this.x);}n.innerHTML=LEAP.controls.text;w.setAttribute("controltype","text");}}else{if((h>=2&&h<=8)||h==-6||h==-5){p.innerHTML=LEAP.controls.select2.replace("@selectvalue","6").replace("@md","").replace("@value",">=").replace("@code","").replace(LEAP.dynamodule.itemflag,this.x);
}else{p.innerHTML=LEAP.controls.select2.replace("@selectvalue","2").replace("@md","").replace("@value","").replace("@code","").replace(LEAP.dynamodule.itemflag,this.x);}n.innerHTML=LEAP.controls.text;w.setAttribute("controltype","text");}}m.innerHTML=this.w;w.appendChild(r);w.appendChild(q);w.appendChild(p);
w.appendChild(n);w.appendChild(m);this.addEvent(LEAP.getElement(">div:first",m),"click",this.btndel);m=r=q=p=n=w=j=l=g=null;}};this.btnsort=function(){var n=this.getSelectedProps();if(n!=null){var l=LEAP.getElement(">table:first",this.getUT("shorts"));var o=document.createElement("tr");var j=LEAP.getElement("tbody",l);
if(j==null){return;}j.appendChild(o);var h=document.createElement("td");var d=document.createElement("td");var g=document.createElement("td");var m=n.md;o.setAttribute("md",m);d.innerHTML=this.w;g.innerHTML=n.text;h.innerHTML=LEAP.controls.radio.replace("@md",n.name).replace("@code",n.code).replace(LEAP.dynamodule.itemflag,this.z);
o.appendChild(h);o.appendChild(g);o.appendChild(d);this.addEvent(LEAP.getElement(">div:first",d),"click",this.btndel);h=g=o=l=j=n=null;}};this.btndel=function(d){d.caller.parentNode.parentNode.parentNode.deleteRow(d.caller.parentNode.parentNode.rowIndex);};this.btnref=function(d){LEAP.removeElement(LEAP.getElements(">table:first >tbody >tr:gt(1)",this.getUT("shorts")),true);
LEAP.removeElement(LEAP.getElements(">table:first >tbody >tr:gt(1)",this.getUT("pars")),true);};this.submit=function(z){var m=LEAP.getElements(">table:first >tbody >tr:gt(1)",this.getUT("shorts"));var p=LEAP.getElements(">table:first >tbody >tr:gt(1)",this.getUT("pars"));var n=new StringBuffer();if(m!=null&&m.length>0){var j=m.length;
for(var o=0;o<j;o++){var y=m[o];var u=y.getAttribute("md");var w=LEAP.radio.getValue(LEAP.getElement(">div",y.cells[0]));if(w!=1){n.append(u+" asc");}else{n.append(u+" desc");}}}var h=new StringBuffer();var q=new SearchParameters();if(p!=null&&p.length>0){var j=p.length;for(var o=0;o<j;o++){var y=p[o];
var x=LEAP.getValue(LEAP.getElement(">[ht] >[ct]",y.cells[3]));if(x==null||x.Trim()==""){continue;}var u=y.getAttribute("md");var r=null;var d=LEAP.getValue(LEAP.getElement(">div",y.cells[0]));if(d!=1){r="1";}else{r="2";}var g=LEAP.getValue(LEAP.getElement(">div",y.cells[2]));if(g==null||g.Trim()==""){g="1";
}r+=g;q.addParameter(u,x,r);}}q.setOrder(n.toString());if((q.parameters==null||q.parameters.length==0)&&(q.order==null||q.order.Trim()=="")){return;}q.name=this.moduleName;if(z==true){return q;}this.fireEvent("onSubmit",q);this.hideForm();};this.gissearch=function(){var d=this.submit(true);this.fireEvent("onGisSubmit",d);
this.hideForm();};this.showGisSearch=function(){this.getUT("gissearch").parentNode.style.display="block";};this.btnclose=function(){this.hideForm();};this.pageLoad=function(){this.addEvent(LEAP.getElements(">div",this.getUT("props")),"click",this.propclick);this.addEvent(this.getUT("btnnew"),"click",this.btnnew);
this.addEvent(this.getUT("btnsort"),"click",this.btnsort);this.addEvent(this.getUT("btnref"),"click",this.btnref);this.addEvent(this.getUT("btnclose"),"click",this.btnclose);this.addEvent(this.getUT("submit"),"click",this.submit);this.addEvent(this.getUT("gissearch"),"click",this.gissearch);};};LEAP.partIndex=new Object();
LEAP.partIndex.d2="partindex";LEAP.partIndex.split_middle=10;LEAP.partIndex.split_left=20;LEAP.partIndex.split_right=20;LEAP.partIndex.split_top=20;LEAP.partIndex.split_grid=10;LEAP.partIndex.split_grid_top=10;LEAP.partIndex.width_modulecon_margin=5;LEAP.partIndex.width_modulecon_border=1;LEAP.partIndex.width_modulecon_border_top=5;
LEAP.partIndex.width_modulecon_border_bottom=1;LEAP.partIndex.height_modulecon=300;LEAP.partIndex.autoRefreshModules=new Array();LEAP.partIndex.f=function(){var g=LEAP.partIndex.autoRefreshModules.length;for(var j=g-1;j>-1;j--){var o=LEAP.partIndex.autoRefreshModules[j];if(o&&o.module&&o.module.refreshModule){var h=new Date().getTime();
var m=o.last;if(m==null){o.last=h;}else{var d=o.module.refreshTime;if(d==null){d=o.module.refreshTime=1*30;}if(h-o.last>=d*1000){o.last=h;try{LEAP.asyn(o.module.refreshModule,o.module,100);}catch(n){}}}}else{LEAP.partIndex.autoRefreshModules[j]=null;}}};LEAP.partIndex.timer=window.setInterval(LEAP.partIndex.f,1000);
LEAP.partIndex.i=function(j,l){if(!l){if(!event){return;}l=event.srcElement;}if(!l){return;}if(j!=null){var g=function(){LEAP.partIndex.i(null,l);l=null;};setTimeout(g,j);return;}try{var d=l.parentElement;var h=null;if(d!=null){h=LEAP.ctid(d);}else{return;}d.removeChild(l);LEAP.partIndex.initTemplat("[ctid="+h+"]");
}finally{d=null;}};LEAP.partIndex.initTemplat=function(g){try{if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}var d=g.getAttribute("ct");if(d==null){return;}if(d==LEAP.partIndex.d2){var h=g.getAttribute("template");var j=null;if(!String.isEmpty(g.getAttribute("templatename"))){LEAP.request2({name:"partindex_getResource",par:{name:g.getAttribute("templatename")},callback:LEAP.partIndex._r2,arg:LEAP.ctid(g)});
}else{if(!String.isEmpty(h)){j=g.getAttribute("parts");LEAP.partIndex._initTemplatStep2(LEAP.ctid(g),h,j,null);}}}}finally{g=null;}};LEAP.partIndex._r2=function(w,r){if(w){var x=w[0];var m=[];var n=new Object();var o=new Array();var g=new hashtable();for(var q=1;q<w.length;q++){var y=w[q];y.grid=y.gridindex;
var j=y.grid;if(j!=null){try{j=Number(j);}catch(u){j=1;}}else{j=1;}if(j<1){j=1;}y.grid=j-1;var l=LEAP.getRealSyscode(y.syscode);g.add(l,y);if(y.nodelevel>5){var d=LEAP.getParentSyscode(l);var h=g.getvalue(d);if(h.childs){h.childs.add(y);}else{h.childs=[y];}continue;}if(n.hasOwnProperty("_"+j)){n["_"+j].add(y);
}else{n["_"+j]=[y];o.add(j);}}for(var q=0;q<o[o.length-1];q++){m[q]=[];}for(var q=0;q<o.length;q++){m[o[q]-1]=n["_"+o[q]];}LEAP.partIndex._initTemplatStep2(r,x.pagemoduledefine,null,m);}};LEAP.partIndex._initTemplatStep2=function(x,h,z,D){if(!h){h="1:2:1";}if(h){var l=LEAP.getElement("[ctid="+x+"]");
try{if(l){var C=h.split(":");var p=0;var g=[];if(D==null){if(z){try{D=JSON.parse("["+z+"]");}catch(J){}}}for(var H=0;H<C.length;H++){var m=C[H];var F=Number(m);var L=null;if(D&&D.length>H){L=D[H];}g.add({width:F,sn:H+1,parts:L});p+=F;}var w=Math.floor((l.offsetWidth-LEAP.partIndex.split_left-LEAP.partIndex.split_right-(g.length-1)*LEAP.partIndex.split_middle)/p);
for(var H=0;H<g.length;H++){var y=g[H];var A=document.createElement("div");A.style.width=w*y.width+"px";A.style.marginTop=LEAP.partIndex.split_top+"px";A.className="lg_partcon";if(H==0){A.style.marginLeft=LEAP.partIndex.split_right+"px";}else{A.style.marginLeft=LEAP.partIndex.split_middle+"px";}l.appendChild(A);
var d=(w*y.width)/y.width;if(y.parts){var r=0;var o=0;var q=0;for(var G=0;G<y.parts.length;G++){var I=y.parts[G];if(I.width){I.width*=1;}else{I.width=1;}if(I.width>y.width){I.width=y.width;}var u=I.url;var n=document.createElement("div");n.className="lg_partmodule_con";var F=null;if(I.width&&y.width>1){o+=I.width;
F=d*I.width;}else{o+=1;F=d;}n.style.margin="5px";n.style.width=F-(LEAP.partIndex.width_modulecon_border+LEAP.partIndex.width_modulecon_margin)*2+"px";var B=null;if(I.height){B=Number(I.height);}else{B=LEAP.partIndex.height_modulecon;}B=B-(LEAP.partIndex.width_modulecon_margin)*2-LEAP.partIndex.width_modulecon_border_top-LEAP.partIndex.width_modulecon_border_bottom+"px";
LEAP.setStyle(n,{height:B},false);if(y.width>1){if(o>y.width){r=0;q++;if(I.grid){o=I.grid;}else{o=1;}}r++;}else{if(y.width==1){q=o-1;}}n.innerHTML="";var K=document.createElement("img");K.src=leapconfig.server+"LEAP/Resource/images/loading.gif";K.style.top="84px";K.style.left=F/2-16+"px";K.style.width="32px";
K.style.height="32px";K.style.position="absolute";n.appendChild(K);K=null;A.appendChild(n);if(!String.isEmpty(I.rescolor)){n.style.borderTopColor=I.rescolor;}LEAP.partIndex._loadmodule(l,I,LEAP.ctid(n),H,q,r);n=null;}}A=null;}}}finally{l=null;}}};LEAP.partIndex._ts='<div ct="lg_part" ctid="@ctid" instance="@instance" class="lg_partmodule"><div class="lg_p2_tb " onresize="LEAPLG.tb();"><div class="lg_p2_tb_top lg_partmodule_title" onresize="LEAPLG.tb_layout(0);"><a ctf="lg_part_title" class="lg_partmodule_title_sub"><img src="@img1">@title</a>@subtitles</div><div class="lg_p2_tb_bottom"><div class="lg_partmodule_content"><img style="position:absolute;top:35%;left:40%" width=32 height=32 src="@serverLEAP/Resource/images/loading.gif"></div></div><img style="display: none" src="data:image:png,base64" onerror="LEAPLG.tb_img(0);"></div></div>';
LEAP.partIndex._loadmodule2=function(m,u,n,d){var l=LEAP.getElement("DIV[ctid="+m+"]");try{if(l){var o=LEAP.getElement("DIV[ctid="+n+"]",l);if(d.childs){var j=new hashtable();o._datas=j;var q=new StringBuffer('<ul class="lg_partmodule_title_child">');for(var h=0;h<d.childs.length;h++){var r=d.childs[h];
j.add(r.id,r);q.append('<li ctf="lg_part_subtitle" class="lg_partmodule_title_child_item');if(h==0){q.append(" lg_child_current");}q.append('"');q.append(" _id=").append('"'+r.id+'"');if(!String.isEmpty(r.icon)){q.append(' style="padding-left:20px;"');}q.append(">");if(!String.isEmpty(r.icon)){q.append('<img src="').append(leapconfig.server+r.icon).append('">');
}q.append(r.text);q.append("</li>");}q.append("</ul>");if(d.childs.length<2){q=new StringBuffer();}var p=UUID.cID();var g=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/2.png";if(!String.isEmpty(d.icon)){g=leapconfig.server+d.icon;}o.innerHTML=LEAP.partIndex._ts.replace("@img1",g).replace("@ctid",p).replace("@instance",u).replace("@server",leapconfig.server).replace("@title",d.text).replace("@subtitles",q.toString());
LEAP.asyn(LEAP.partIndex._loadmodule3,null,250,p,d.childs[0].id);}else{LEAP.partIndex._loadmodule4(d,o,u);}}}finally{l=o=null;}};LEAP.partIndex._loadmodule4=function(h,n,r){try{if(h.url&&h.url.indexOf("http://")==0||h.url.indexOf("https")==0||h.url.indexOf("@server")==0){n.innerHTML='<iframe sandbox="allow-same-origin allow-scripts allow-top-navigation allow-forms" frameborder=0 style="width:100%;height:100%;border:0;" src="'+h.url.replace("@server",leapconfig.server)+'"></iframe>';
}else{if(h.resourcetype==4||h.resourcetype==3){var o=h.resourcetype==4?h.name:h.url;var q=LEAP.getLoadedModule(r);if(LEAP.hasCSS(n,"lg_partmodule_con")){LEAP.removeElement(n.getElementsByTagName("IMG"),true);var g=document.createElement("div");n.appendChild(g);g.className="lg_partmodule_content";g.style.width="100%";
g.style.height="100%";n=g;g=null;}var w={custom:h.customize,height:n.clientHeight,width:n.clientWidth,def:h};var j=null;if(q){j=q.loadModule2({name:o,parent:n,moduleLoadArg:w});if(j&&j.refreshModule){LEAP.partIndex.autoRefreshModules.add({module:j});}}else{j=LEAP.loadModule2({name:o,parent:n,moduleLoadArg:w});
if(j&&j.refreshModule){LEAP.partIndex.autoRefreshModules.add({module:j});}}if(j){n.setAttribute("lastmodule",j.instance);try{var d=j.getElements(".lg_partmodule");if(d&&d.length==1){var p=d[0];d=null;var u=LEAP.getElement(".lg_partmodule_title_sub",p);p=null;if(u){if(!LEAP.getElements("IMG",u)){var m=document.createElement("IMG");
var l=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/2.png";if(!String.isEmpty(h.icon)){l=leapconfig.server+h.icon;}m.src=l;u.appendChild(m);}u=null;}}}catch(x){}}}}}finally{h=n=null;}};LEAP.partIndex._loadmodule3=function(o,d){if(!o||!d){return;}var n=LEAP.getElement("DIV[ctid="+o+"]");
var p=null;try{var m=n.parentElement._datas;if(!m){return;}var g=m.getvalue(d);var u=n.getAttribute(commfields.instance);if(g){p=LEAP.getElement(".lg_partmodule_content",n);if(g.childs){var h=g.childs.length;var q=new StringBuffer('<div class="lg_partmodule_resource"><div class="lg_partmodule_resource_short">');
for(var j=0;j<h;j++){var r=g.childs[j];if(!m.contains(r.id)){m.add(r.id,r);}q.append('<a _id="'+r.id+'" ctf="lg_part_module_short" href="javascript:void(0)" class="lg_partmodule_resource_left">');if(String.isEmpty(r.icon)){r.icon="LEAP/Resource/images/partindex/datubiao.png";}q.append('<img _id="'+r.id+'" ctf="lg_part_module_short" src="'+leapconfig.server+r.icon+'"/>');
q.append(r.text);q.append("</a>");}q.append("</div></div>");p.innerHTML=q.toString();}else{if(g.indexpagemenustyle=="3"){LEAP.request2({name:"getPartLinksBeans",par:{userid:LEAP.getUserInfo().userid,type:LEAP.getUserInfo().applicationname},callback:LEAP.partIndex._sc,arg:n});}else{LEAP.partIndex._loadmodule4(g,p,u);
}}}}finally{p=n=null;}};LEAP.partIndex.add='<div class="lg_module_add"><div class="lg_module_add_title"><img _id="del" ctf="lg_part_module_link" src="'+leapconfig.server+'LEAP/Resource/images/partindex/del.png"></div><div class="lg_module_add_input"><font></font><input type="text" ctf="lg_part_module_mingc"></div><div class="lg_module_add_input"><font></font><input type="text" value="http://" ctf="lg_part_module_luj"></div><div class="lg_module_add_button"><input type="button" value="" _id="submit" ctf="lg_part_module_link"></div></div>';
LEAP.partIndex._sc=function(h,j){var o=LEAP.getElement(".lg_partmodule_content",j);var p=new StringBuffer('<div class="lg_partmodule_resource"><div class="lg_partmodule_resource_short">');p.append('<a _id="baidu" ctf="lg_part_module_link" href="javascript:void(0)" class="lg_partmodule_resource_left">');
p.append('<img _id="baidu" ctf="lg_part_module_link" src="'+leapconfig.server+'LEAP/Resource/images/partindex/datubiao.png"/></a>');p.append('<a _id="google" ctf="lg_part_module_link" href="javascript:void(0)" class="lg_partmodule_resource_left">');p.append('<img _id="google" ctf="lg_part_module_link" src="'+leapconfig.server+'LEAP/Resource/images/partindex/datubiao.png"/></a>');
if(h){var g=j.parentElement._datas;var n=LEAP.convertResult(h);var d=n.length;for(var m=0;m<d;m++){var q=n[m];if(!g.contains(q.id)){g.add(q.id,q);}p.append('<a _id="'+q.id+'" ctf="lg_part_module_link" href="javascript:void(0)" class="lg_partmodule_resource_left">');if(String.isEmpty(q.linkimg)){q.linkimg="LEAP/Resource/images/partindex/datubiao.png";
}p.append('<img _id="'+q.id+'" ctf="lg_part_module_link" src="'+leapconfig.server+q.linkimg+'"/>');p.append('<img _id="delt" style="width:10px;height:10px;position: absolute;top:0px;right:0px;display:none" ctf="lg_part_module_link" src="'+leapconfig.server+'LEAP/Resource/images/partindex/del.png"/>');
p.append(q.linkname);p.append("</a>");}}p.append('<a _id="add" ctf="lg_part_module_link" href="javascript:void(0)" class="lg_partmodule_resource_left">');p.append('<img _id="add" ctf="lg_part_module_link" src="'+leapconfig.server+'LEAP/Resource/images/partindex/add.png"/></a>');p.append("</div></div>");
p.append(LEAP.partIndex.add);o.innerHTML=p.toString();};LEAP.partIndex._mouseoversc=function(g){if(g==null){return;}var m=g.e.srcElement;if(m==null){return;}var j=g.e.type;if(j==null){return;}var d=m.tagName;if(d==null){return;}try{var l=m.getAttribute(commfields.ctf);var h=null;if(l&&m&&j=="mouseover"){if(l=="lg_part_module_link"){LEAP.stopEvent(g.e);
h=LEAP._match(m,LEAP.partIndex.d);var n=m.getAttribute("_id");if(n!="add"&&n!="baidu"&&n!="google"&&n!="submit"){if(m.childNodes[1]!=null){m.childNodes[1].style.display="block";}else{m.parentNode.childNodes[1].style.display="block";}}}}}finally{h=null;}};LEAP.partIndex._mouseoutsc=function(g){if(g==null){return;
}var m=g.e.srcElement;if(m==null){return;}var j=g.e.type;if(j==null){return;}var d=m.tagName;if(d==null){return;}try{var l=m.getAttribute(commfields.ctf);var h=null;if(l&&m&&j=="mouseout"){if(l=="lg_part_module_link"){LEAP.stopEvent(g.e);h=LEAP._match(m,LEAP.partIndex.d);var n=m.getAttribute("_id");if(n!="add"&&n!="baidu"&&n!="google"&&n!="submit"){if(m.childNodes[1]!=null){m.childNodes[1].style.display="none";
}else{m.parentNode.childNodes[1].style.display="none";}}}}}finally{h=null;}};LEAP.partIndex.uiProcess=function(p){if(p==null){return;}var u=p.e.srcElement;if(u==null){return;}var m=p.e.type;if(m==null){return;}var J=u.tagName;if(J==null){return;}try{var g=u.getAttribute(commfields.ctf);var l=null;if(g&&u&&m=="click"){if(g=="lg_part_title"){}else{if(g=="lg_part_module_short"){LEAP.stopEvent(p.e);
l=LEAP._match(u,LEAP.partIndex.d);var B=u.getAttribute("_id");var y=LEAP.ctid(l);var B=u.getAttribute("_id");var h=l.parentElement._datas;if(!h){return;}var z=h.getvalue(B);LEAP.openResource(z,LEAP.getLoadedModule(l.getAttribute(commfields.instance)));h=z=null;}else{if(g=="lg_part_subtitle"){if(LEAP.hasCSS(u,"lg_child_current")){return;
}l=LEAP._match(u,LEAP.partIndex.d);var r=-1;var H=false;var o=LEAP.getElements(".lg_partmodule_title_child_item",u.parentElement);for(var D=0;D<o.length;D++){if(r==1&&o[D]==cur){r=D;}if(LEAP.hasCSS(o[D],"lg_child_current")){LEAP.removeCSS(o[D],"lg_child_current",false);H=true;}if(r>-1&&H){break;}}var y=LEAP.ctid(l);
var B=u.getAttribute("_id");o=null;LEAP.addCSS(u,"lg_child_current",false);ElementEventManager.handleEvent(l,"selectedIndexChange",{element:l,index:r,src:u});u=null;var j=LEAP.getElement(".lg_partmodule_content",l);if(j){var w=j.getAttribute("lastmodule");if(w){try{LEAP.getLoadedModule(w).dispose();}catch(F){}j.removeAttribute("lastmodule");
}j.innerHTML='<img style="position:absolute;top:35%;left:40%" width=32 height=32 src="'+leapconfig.server+'LEAP/Resource/images/loading.gif">';LEAP.asyn(LEAP.partIndex._loadmodule3,null,250,y,B);}}else{if(g=="lg_part_listtitle"){if(LEAP.hasCSS(u,"lg_partmodule_table_ul")){return;}l=LEAP._match(u,LEAP.partIndex.d3);
var I=u.parentElement._datas;ElementEventManager.handleEvent(l,"click",{element:l,data:I,src:u});}else{if(g=="lg_part_module_link"){LEAP.stopEvent(p.e);l=LEAP._match(u,LEAP.partIndex.d);var B=u.getAttribute("_id");var y=LEAP.ctid(l);var B=u.getAttribute("_id");var h=l.parentElement._datas;if(!h){return;
}var n=LEAP.getElement(".lg_module_add",l);var C=LEAP.getElement("[ctf=lg_part_module_mingc]",l);var q=LEAP.getElement("[ctf=lg_part_module_luj]",l);if(B=="baidu"){window.open("http://www.baidu.com","_blank");}else{if(B=="google"){window.open("http://www.google.com","_blank");}else{if(B=="add"){C.value="";
q.value="http://";n.style.display="block";}else{if(B=="del"){n.style.display="none";}else{if(B=="delt"){var A=u.parentNode.getAttribute("_id");var z=h.getvalue(A);var x=LEAP.request("partLinkDelete",{def:z});if(x){LEAP.request2({name:"getPartLinksBeans",par:{userid:LEAP.getUserInfo().userid,type:LEAP.getUserInfo().applicationname},callback:LEAP.partIndex._sc,arg:l});
}}else{if(B=="submit"){if(C.value==""){LEAP.messagebox.alert("",2);return;}if(q.value==""){LEAP.messagebox.alert("",2);return;}if(q.value.indexOf("http://")==-1&&q.value.indexOf("https://")==-1){LEAP.messagebox.alert(",http://https://",2);return;}var G={};G.linkname=C.value;G.linkpath=q.value;
G.userid=LEAP.getUserInfo().userid;G.systemtype=LEAP.getUserInfo().applicationname;G.beanname="LEAPLinkConfig";var x=LEAP.request("partLinkInsert",{def:G});if(x){n.style.display="none";LEAP.request2({name:"getPartLinksBeans",par:{userid:LEAP.getUserInfo().userid,type:LEAP.getUserInfo().applicationname},callback:LEAP.partIndex._sc,arg:l});
}}else{var z=h.getvalue(B);window.open(z.linkpath,"_blank");}}}}}}h=z=null;}}}}}}}finally{l=null;}};LEAP.partIndex.d="lg_part";LEAP.partIndex._init=function(){LEAP.addEvent(document.body,"click",LEAP.partIndex.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.partIndex._mouseoversc,null,null,true);
LEAP.addEvent(document.body,"mouseout",LEAP.partIndex._mouseoutsc,null,null,true);};LEAP.partIndex.d3="lg_part_list";LEAP.partIndex.n="_datas";LEAP.partIndex.listIcon=function(d,g){d.style.backgroundImage="url("+leapconfig.server+g+")";};LEAP.partIndex.listBindData=function(g,d){try{if(g==null||d==null){return;
}var n=LEAP.getElement("[ctf=list_container]",g);var y=n.childNodes;var m=y.length;for(var h=m-1;h>=0;h--){var l=y[h];if(l.nodeType==3&&/\s/.test(l.nodeValue)){l.parentNode.removeChild(l);}}if(y.length!=1){var q=y.length;for(var h=q-1;h>0;h--){if(h!=0){var l=y[h];n.removeChild(l);}}}var x=LEAP.getElement("[ctf=list_template]",g);
x.style.display="";var r=x.childNodes;m=r.length;for(var h=m-1;h>=0;h--){var o=r[h];if(o.nodeType==3&&/\s/.test(o.nodeValue)){o.parentNode.removeChild(o);}}var j=LEAP.convertResult(d);for(var h=0;h<j.length;h++){var p=null;var w=j[h];var u={};u=x.cloneNode(true);u.removeAttribute("ctf");LEAP.partIndex.listAddRow(g,n,u,w);
}x.style.display="none";}finally{n=y=l=h=x=r=o=h=j=p=w=u=null;}};LEAP.partIndex.listAddRow=function(j,n,u,h){try{var p=j.getAttribute("instance");var d=LEAP.getLoadedModule(p);var l=u.childNodes;var o=l.length;for(var g=0;g<o;g++){var m=l[g];var r=m.getAttribute("md");if(r!=null){m.innerHTML=h[r];var q=m.getAttribute("showtitle");
if(q!=null&&q=="1"){m.title=h[r];}}}u._datas=h;n.appendChild(u);if(d&&d.partlistOnAddRow){d.partlistOnAddRow.call(d,u,h);}}finally{p=d=l=m=o=g=r=q=null;}};LEAP.partIndex._loadmodule=function(j,m,g,l,o,h){var n=LEAP.ctid(j);try{var d=j.getAttribute(commfields.instance);LEAP.asyn(LEAP.partIndex._loadmodule2,null,500+(o)*1000,n,d,g,m);
}finally{j=n=null;}};LEAP.partIndex.init=function(){if(document!=null&&document.body!=null){LEAP.partIndex._init();}else{UIEventManager.addEvent(window,"load",LEAP.partIndex._init);}ElementEventManager.addManagedEventType(LEAP.partIndex.d,"selectedIndexChange");ElementEventManager.addManagedEventType(LEAP.partIndex.d3,"click");
ElementEventManager.addManagedEventType(LEAP.partIndex.d3,"partlistRow");}();var pageObject={};var pageObjectExtend=new Object();pageObject._isPageObject=true;pageObject.bindData=function(j){var n=new StringBuffer();var o=null;if(arguments.length>1){var g=arguments.length;var m={};for(var h=1;h<g;h++){m[arguments[h]]=j[arguments[h]];
if(h!=1){n.append(",");}n.append("[md=").append(arguments[h]).append("][instance="+this.instance+"]");}o=LEAP.getElements(n.toString(),this.parentElement);}LEAP.bindData(j,this.instance,null,null,this.parentElement,o,true);o=j=null;};pageObject.loadWFForm=function(h,g,l,j,d,m){var n=null;try{n=LWFP.loadWFForm(h,g,l,j,d,m,this);
return n;}finally{n=null;}};pageObject.getParentModule=function(){var d=null;if(this.pom){d=this.pom.getParent(this);}if(d==null){d=this.parentPageModule;}return d;};pageObject.loadModule2=function(h){var g=null;try{if(this.pom){if(!h.moduleParameter){h.moduleParameter={};}h.moduleParameter.___pageObjectModel=this.pom;
h.moduleParameter.___parentModule=this;}var j=h.path;if(j==null){j=h.name;}var d=(h.router==null)?this.router:h.router;g=LEAP.loadModule(j,h.parent,h.type,h.d,h.htmlsource,h.distributeFlag,h.moduleParameter,h.moduleLoadArg,h.pageMode,null,null,h.authority,h.enablewatermark,d);if(g){g.parentPageModule=this;
}return g;}finally{h=h.moduleParameter=g=null;}};pageObjectExtend.loadSimpleModule=function(g){var d=null;try{if(this.pom){if(!g.moduleParameter){g.moduleParameter={};}g.moduleParameter.___pageObjectModel=this.pom;g.moduleParameter.___parentModule=this;}var h=g.path;if(h==null){h=g.name;}d=LEAP.loadSimpleModule(g);
if(d){d.parentPageModule=this;}return d;}finally{g=g.moduleParameter=d=null;}};pageObjectExtend.simpleModules=function(d){d=d.toLowerCase();var h=this.____formdefs.getvalue(d);if(h){if(this.__simplemodules==null){this.__simplemodules=new hashtable();}if(this.__simplemodules.contains(d)){return this.__simplemodules.getvalue(d);
}h.autodispose=false;var g=this.loadSimpleModule(h);this.__simplemodules.add(d,g);return g;}};pageObject.loadModule=function(d,h,l,n,j,m){var g=null;try{if(this.pom){if(!l){l={};}l.___pageObjectModel=this.pom;l.___parentModule=this;}g=LEAP.loadModule(d,h,null,null,null,null,l,n,j,null,null,m);if(g){g.parentPageModule=this;
}return g;}finally{l=g=null;}};pageObject.loadNoneUIModule=function(name,URI,moduleParameter,moduleLoadArg){if(URI){leapclient.loadjs(URI);}var module=null;try{module=eval("(new "+name+"())");if(this.pom){if(!moduleParameter){moduleParameter={};}moduleParameter.___pageObjectModel=this.pom;moduleParameter.___parentModule=this;
}module=LEAP.newPageObjectInstance(name,module,null,moduleParameter,moduleLoadArg);if(module){module.parentPageModule=this;}module.isNoneUI=true;return module;}finally{moduleParameter=module=null;}};pageObject.loadForm3=function(o){if(o==null){return null;}var m=null;try{if(this.pom){var n=o.moduleParameter;
if(!n){n={};}n.___pageObjectModel=this.pom;n.___parentModule=this;o.moduleParameter=n;}if(!o.cover){m=LEAP.form.create3(o);}else{o.module=this;m=LEAP.form.coverModule(o);}var l=m.module;if(l!=null){l.parentPageModule=this;l.pom=this.pom;this.pom.addObject(l,this);}if(!this.___forms){this.___forms=[];
}this.___forms.add(m.form);if(this.delayModuleEvents){var h=o.name;if(String.isEmpty(h)){h=o.path;}if(this.delayModuleEvents.contains(h)){var d=this.delayModuleEvents.getvalue(h);for(var j=0;j<d.length;j++){var o=d[j];var g=o.type+"_"+o.event+"_"+o.name;if(this[g]!=null){if(o.type=="form"){this.addEvent(m.form,o.event,this[g]);
}else{m.module.regEvent(o.event,this[g],this);}}}}}return m;}finally{m=null;}};pageObject.loadForm=function(B,p,g,u,q,o,m,r,z,w,j,l,n){var d=null;try{var A=null;if(this.pom){A={};A.___pageObjectModel=this.pom;A.___parentModule=this;}d=LEAP.form.create(B,p,g,u,q,o,m,r,z,w,j,l,null,null,null,A,n,this.moduleVersion,null,this.router);
var h=d.module;if(h!=null){h.parentPageModule=this;h.pom=this.pom;this.pom.addObject(h,this);}if(!this.___forms){this.___forms=[];}this.___forms.add(d.form);return d;}finally{d=null;}};pageObject.loadForm2=function(u,m,d,p,n,l,h,o,r,q,g,j){return this.loadForm(u,m,d,p,n,l,h,o,r,q,g,2,j);};pageObject.getValue=function(d){return LEAP.getValue(d,this.parentElement);
};pageObject.setValue=function(g,d){LEAP.setValue(g,d,this.parentElement);};pageObject.addEvent=function(n,j,h,d,g,m){if(h==null){return;}if(typeof(n)==commfields.string){if(n.indexOf("instance")==-1){n=LEAP.getElements(n+"[instance="+this.instance+"]",this.parentElement);}else{n=LEAP.getElements(n);
}}if(n!=null){if(n.getAttribute){if(n.getAttribute("ttf")=="button"){g=true;}}}if(g==null||(g!=true&&g!=false)){g=null;}if(m==null){m=this;}LEAP.addEvent(n,j,h,d,m,g);if(this.__aes==null){this.__aes=[];}var l={elements:n,type:j,fn:h,useBrowEvent:g};this.__aes.add(l);};pageObject.removeEvent=function(h,g,d){if(typeof(h)==commfields.string){h=LEAP.getElements(h+"[instance="+this.instance+"]",this.parentElement);
}LEAP.removeEvent(h,g,d);};pageObject.validateUI=function(d,r){if(r==null){r=this.parentElement;}if(d!=null){if(typeof(d)==commfields.string){d=LEAP.getElements(d+"[instance="+this.instance+"]",r);}}else{if(r instanceof Array){d=[];var h=r.length;for(var j=0;j<h;j++){var q=r[j];var m=LEAP.getElements("[check][instance="+this.instance+"]",q);
if(m!=null){d.addall(m);}q=null;}if(d.length==0){d=null;}}else{d=LEAP.getElements("[check][instance="+this.instance+"]",r);}}if(d!=null){var o=[];var h=d.length;for(var j=0;j<h;j++){var n=d[j];var p=n.getAttribute("___isoparea");var g=n.getAttribute("___isoparea_status");if(String.isEmpty(p)||(p!=null&&g!=null&&p=="1"&&g!="110"&&g!="120")){g=n.getAttribute("_sys_opareastatus");
if(String.isEmpty(g)||(g!="110"&&g!="120")){o.push(n);}}n=null;}d=null;if(o.length>0){try{return LEAP.check.validate(o);}finally{o=null;}}}d=null;};pageObject.request=function(d,o,r,n,j,l,g,p,h,q){var m=LEAP.request(d,o,this.extendPar,r,n,j,l,g,p,this,h,q,this.leapclient);if(m!=null&&r!=null){if(this.asynreqs==null){this.asynreqs=[];
}this.asynreqs.add(m);}return m;};pageObject.asynrequest=function(h,j,l,g){var d=LEAP.request(h,j,this.extendPar,l,null,null,null,null,null,this,g,null,this.leapclient);if(d!=null&&l!=null){if(this.asynreqs==null){this.asynreqs=[];}this.asynreqs.add(d);}return d;};pageObject.getLastWarring=function(){return leapclient.getLastWarring();
};pageObject.getLastExtendResult=function(){return leapclient.getLastExtendResult();};pageObject.setLastExtendResult=function(d){return leapclient.setLastExtendResult(d);};pageObject.getLastError=function(){return leapclient.getLastError();};pageObject.getElements=function(h,g){if(!g){g=this.parentElement;
}var d=LEAP.getElements(h,g);try{return d;}finally{d=null;}};pageObject.getElement=function(h,g){if(!g){g=this.parentElement;}var d=LEAP.getElement(h,g);h=g=null;try{return d;}finally{d=null;}};pageObject.setPageData=function(h,d,o,j,p,n){if(j==null){j=true;}if(j){this.data=h;}var g=null;if(d!=null){g="[ds="+d+"]";
}if(o==null){o=true;}if(o==true){var m=n;if(m==null){m=this.parentElement;}if(this._WF_ModuleProcess_beforeSetPageData){var l=this._WF_ModuleProcess_beforeSetPageData(h);if(l==false){return;}}if(this.beforeSetPageData){this.beforeSetPageData(h);}LEAP.bindData(h,this.instance,g,p,m);this.___afterSetData();
this.___autoHeight(m);if(this.afterSetPageData){this.afterSetPageData(h);}this.fireEvent("onsetpagedata",h);}else{LEAP.asyn(this.__asynSetPageData,this,null,h,d,j,p,n);}h=null;};pageObject.setPageDataByPK=function(m,l,n,h){if(this.moduleName==null){return;}var g=this.request("SearchByPK",{name:this.moduleName,pk:m});
if(g!=null){this.pks=g.pks;var j=LEAP.convertResult(g);if(j!=null){this.setPageData(j[0],l,n,h);}}};pageObject.setPageDataByPK2=function(m,l,n,h){if(this.moduleName==null){return;}var g=this.request("SearchByPK2",{name:this.moduleName,pk:m});if(g!=null){this.pks=g.pks;var j=LEAP.convertResult(g);if(j!=null){this.setPageData(j[0],l,n,h);
}}};pageObject.getPageData=function(j,d){var h=null;if(j!=null){h="[ds="+j+"]";}if(d==null){d=this.parentElement;}var g=LEAP.getData(this.data,this.instance,h,null,d);if(this.onGetPageData!=null){g=this.onGetPageData(g);}try{return g;}finally{g=null;}};pageObject.clearPageData=function(d){this.exdata=null;
this.data=null;this.exSubmitParam=null;if(d==null){d=true;}if(d==true){this.___clearData2();}else{LEAP.asyn(this.___clearData2,this);}};pageObject.clearValidateUI=function(){LEAP.asyn(LEAP.check.clearValidate,null,null,LEAP.getElements("[check][instance="+this.instance+"]",this.parentElement));};pageObject.getQueryParameter=function(U,V,M){if(U==null){U=new SearchParameters();
}if(this.isNoneUI!=null&&this.isNoneUI==true){return U;}var Q=this.getElement("[ct=newsearch]");if(Q){if(!(this.__sys_src_ctf&&this.__sys_src_ctf=="search_submit")){U=LEAP.newsearch.getValue(Q,U);Q=null;if(this.moduleVersion>1){var u=this.createSearchBuilder(U);u.parameter=U;return u;}return par;}}var F=this.getElement("[ct=searchpart]");
if(F){var K=F.getAttribute("extendSearch");if(K=="1"&&LEAP.searchpart){var w=LEAP.searchpart.getSearchPar(F);if(this.moduleVersion>1){var u=this.createSearchBuilder(w);u.parameter=w;return u;}return w;}}var B=LEAP.getData(null,this.instance,V,true,this.parentElement,M);try{if(B!=null&&B.data!=null){for(var O in B.data){var I=B.data[O];
if(I==null||(typeof(I)=="string"&&I.Trim()=="")){continue;}var q=B.searchtype[O];var H=B.group[O];var S=B.skipsearch[O];if(S!=null&&(S=="1"||S=="true")){continue;}var z=O.lastIndexOf("___");if(z!=-1&&z==O.length-3){O=O.substr(0,z-4);}var r=false;var C=false;if(B.change!=null&&B.change[O]!=null&&B.change[O].controltype=="areagroup"){C=true;
}if(O.toLowerCase()=="areaid"||O.toLowerCase()=="areacode"||O.toLowerCase()=="qhareaid"||C){U.addParameter(O,I,16).setGroup("system."+O+".client");var h=null;if(I.length==18){if(I.substring(0,2)=="00"){h="";}else{if(I.substring(2,4)=="00"){h=I.substring(0,2);}else{if(I.substring(4,6)=="00"){h=I.substring(0,4);
}else{if(I.substring(6,9)=="000"){h=I.substring(0,6);}else{if(I.substring(9,12)=="000"){h=I.substring(0,9);}else{if(I.substring(12,15)=="000"){h=I.substring(0,12);}else{if(I.substring(15,18)=="000"){h=I.substring(0,15);}}}}}}}while(h.length!=18){h+="9";}}U.addParameter(O,h,17).setGroup("system."+O+".client");
}else{if(q==120&&B.extend&&B.extend[O]){var p=B.extend[O];if(p){var L=p.count*1;if(window.isNaN(L)){L=0;}if(L!=0){if(p.sizes){var N=p.sizes.length;var P=null;var y=0;var d=-1;for(var R=0;R<N;R++){var g=p.sizes[R];var x=I.substring(y,g);if(x*1==0){break;}d=R;y=g;}var J=null;if(d==0){J=I.substring(0,p.sizes[0]);
J=(J*1+1)+"";while(J.length<p.sizes[0]){J="0"+J;}}else{var A=I.substring(p.sizes[d-1],p.sizes[d]);A=(A*1+1)+"";while(A.length<p.sizes[d]-p.sizes[d-1]){A="0"+A;}J=I.substring(0,p.sizes[d-1])+A;}while(J.length<L){J+="0";}U.addParameter(O,I,16).setGroup("system.linkselect."+O);U.addParameter(O,J,15).setGroup("system.linkselect."+O);
}}}}else{if(B.change[O]!=null&&B.change[O].controltype!=null){if(B.change[O].controltype=="checkbox"){r=true;var n=I.split(",");for(var R=0;R<n.length;R++){var T=n[R];if(T!=null&&T.Trim()!=""){if(H!=null&&H.trim().length>0){U.addParameter(O,T,12).setGroup(H);}else{U.addParameter(O,T,12);}}}}}if(!r){if(H!=null&&H.trim().length>0){U.addParameter(O,I,q).setGroup(H);
}else{U.addParameter(O,I,q);}}}}}}var j=LEAP.getElement("[instance="+this.instance+"]",this.parentElement);var m=LEAP.getElements("th[searchvalue]",j);if(m&&m.length>0){for(var R=0;R<m.length;R++){var G=m[R].getAttribute("searchvalue");var o=m[R].getAttribute("md");if(G!=null){if(G.indexOf(";")<0){U.addParameter(o,G,11);
}else{var D=G.split(";");for(var O=0;O<D.length;O++){U.addParameter(o,D[O],21).setGroup(o+"_code");}}}}}if(this.__search_ds__){U.setDsname(this.__search_ds__);}pageObject.getMultiParameter(U);if(this.moduleVersion>1){var u=this.createSearchBuilder(U);u.parameter=U;return u;}return U;}finally{U=B=null;
}};pageObject.getMultiParameter=function(searchParameters){if(searchParameters){var pars=LEAP.getElements("[multipar]",this.parentElement);if(pars!=null){for(var i=0;i<pars.length;i++){var multis=pars[i].getAttribute("multipar");multis=eval(multis);var vs=LEAP.getValue(pars[i]);if(vs!=null){for(var j=0;
j<multis.length;j++){if(multis[j].v==vs){var ex=multis[j].p;if(searchParameters.extendQuery){ex=ex+"and"+searchParameters.extendQuery;}searchParameters.setExtendQuery(ex);}}}}}}};pageObject.getUpdateParameter=function(n,g){if(g==null){g=this.parentElement;}if(this.pks==null){if(this.parentPageModule&&this.parentPageModule.pks){if(this.parentPageModule.pageMode=="search"){this.pks=this.parentPageModule.pks;
}}if(this.pks==null){this.pks=["id"];}}var d=null;var h=null;try{var m=null;if(n!=null){m="[ds="+n+"]";}h=LEAP.getData(this.data,this.instance,m,null,g);if(h==null||h.change==null){return null;}if(this.moduleVersion>1){d={};for(var l in h.change){if(h.change[l].hashide){continue;}d[l]=h.change[l].value;
}for(var j=0;j<this.pks.length;j++){var l=this.data[this.pks[j]];if(l==null){if(this.submitMode!=null&&this.submitMode==2){}else{if(this.submitMode!=null&&this.submitMode==3){}else{return null;}}}else{d[this.pks[j]]=l;}}if(this.moduleName&&d){d.beanname=this.moduleName;}}else{d=LEAP.convertChangeResult(h.change);
for(var j=0;j<this.pks.length;j++){var l=this.data[this.pks[j]];if(l==null){if(this.submitMode!=null&&this.submitMode==2){}else{if(this.submitMode!=null&&this.submitMode==3){}else{return null;}}}else{d.addparameter(this.pks[j],l,null);}}if(this.moduleName&&d){d.name=this.moduleName;}}return d;}finally{d=h=null;
}};pageObject.deleteResult=function(g,l,d){if(d==null||g==null||l==null||!(d instanceof Array)){return;}var m=new DataResult();m.name=g;if(typeof(d)=="string"){d=[d];}for(var j=0;j<d.length;j++){var h=l[d[j]];if(h==null){return;}m.addparameter(d[j],h);}return this.request("DynaDelete",{par:m});};pageObject.getCreateParameter=function(d,y){if(y==null){y=this.parentElement;
}var p=null;var q=null;try{var j=null;if(d!=null){j="[ds="+d+"]";}q=LEAP.getData(null,this.instance,j,null,y);if(q!=null&&q.data!=null){var g=q.hides;if(this.moduleVersion>1){for(var m in q.data){if(g&&g.contains(m)){continue;}var x=q.data[m];if(x==null||(typeof(x)=="string"&&x.Trim()=="")){continue;
}if(p==null){p={};}p[m]=x;}if(this.moduleName&&p){p.beanname=this.moduleName;}if(this.isp_out_inset&&p){var o=p;for(var w in this.isp_out_inset){var u=this.isp_out_inset[w];if(u){p[w]=u;}}}if(this.defvalue&&p){var h=this.defvalue.length;for(var n=0;n<h;n++){var r=this.defvalue[n];if(r&&r.f&&r.v){p[r.f]=r.v;
}}}}else{for(var m in q.data){if(g&&g.contains(m)){continue;}var x=q.data[m];if(x==null||(typeof(x)=="string"&&x.Trim()=="")){continue;}if(p==null){p=new DataResult();}p.addparameter(m,x);}if(this.moduleName&&p){p.name=this.moduleName;}}}return p;}finally{p=q=null;}};pageObject.regEvent=function(h,g,j,d){if(h==null||g==null){return;
}if(this.___es==null){this.___es=new hashtable();}var l=this.___es.getvalue(h);if(j==null){j=this;}if(l==null){l=[{fn:g,domain:j,arg2:d}];this.___es.add(h,l);}else{l.push({fn:g,domain:j,arg2:d});}h=l=g=null;};pageObject.fireEvent=function(j,d){if(this.___es==null){return;}var n=this.___es.getvalue(j);
if(n==null){return;}var g=n.length;for(var h=g-1;h>-1;h--){var m=n[h];m.fn.call(m.domain,d,m.arg2,this);m=null;}n=null;};pageObject.unRegEvent=function(j,h){if(j==null){return;}if(this.___es==null){return;}var n=this.___es.getvalue(j);if(n==null){return;}if(h==null){this.___es.remove(j);}else{var d=n.length;
for(var g=d-1;g>-1;g--){var m=n[g];if(m.fn==h){n.remove(m);}}n=null;}};pageObject._pageLoad=function(d){};pageObject.innerMorePars=function(){var l=this.getElement("[ctf=queryfield]",this.moduleElement);if(l!=null){var g=this.getElement("[ctf=queryfield_preview_ul]",l);var n=this.getElement("[ctf=queryfield_content_ul]",l);
if(g!=null){var m=this.getElement("[ctf=queryfield_search_item]",g);if(m!=null){if(n!=null){var j=this.getElements("[ctf=queryfield_item]",n);if(j!=null){var d=[];for(var h=j.length-1;h>=0;h--){d.add(j[h]);}for(var h=d.length-1;h>=0;h--){d[h].setAttribute("qfc","1");g.insertBefore(d[h],m);}}else{j=this.getElements("[qfc=1][ctf=queryfield_item]",g);
if(j!=null){var d=[];for(var h=j.length-1;h>=0;h--){d.add(j[h]);}for(var h=d.length-1;h>=0;h--){d[h].removeAttribute("qfc");n.appendChild(d[h]);}}}}}}}};pageObject.innerPageLoad=function(arg){this.listmode="table";var list=this.getUT("list");if(list){var listct=list.getAttribute("ct");if(listct&&listct=="eachlist"){this.listmode="eachlist";
}else{if(listct=="itemlist"){this.listmode="itemlist";}}}this.moduleVersion=1;var moduleElement=this.moduleElement;if(moduleElement){this.supportAsynCount=false;var sacstr=moduleElement.getAttribute("asyncount");if(sacstr!=null&&sacstr=="1"||sacstr=="true"){this.supportAsynCount=true;}this.moduleName=moduleElement.getAttribute("module");
this.moduleCNName=moduleElement.getAttribute("modulecn");this.pageModuleName=moduleElement.getAttribute("pagemodule");this.pageModuleCNName=moduleElement.getAttribute("pagemodulecn");this.pageModulePath=moduleElement.getAttribute("pagemodulepath");this.pageModuleType=moduleElement.getAttribute("moduletype");
this.pageModuleHeight=moduleElement.getAttribute("moduleheight");this.pageModuleWidth=moduleElement.getAttribute("modulewidth");this.moduleElement=moduleElement;this.moduleVersion=moduleElement.getAttribute("moduleversion");this.formType=moduleElement.getAttribute("formtype");this.reportTitle=moduleElement.getAttribute("reporttitle");
this.isGisMode=moduleElement.getAttribute("isgismode");this.isstat=null;var isptmp=moduleElement.getAttribute("isp");this.modifyautoclose=moduleElement.getAttribute("modifyautoclose");if(!String.isEmpty(isptmp)){this.isp=JSON.parse(isptmp);}var _order=moduleElement.getAttribute("order");if(!String.isEmpty(_order)){this.searchorder=_order;
}var _defvalue=moduleElement.getAttribute("defvalue");if(!String.isEmpty(_defvalue)){this.defvalue=JSON.parse(_defvalue);}if(!String.isEmpty(this.isGisMode)&&this.isGisMode=="1"){this.isGisMode=true;}else{this.isGisMode=false;}if(!String.isEmpty(this.pageModuleType)&&this.pageModuleType=="stat"){this.isstat=true;
}else{this.istat=false;}this.autoRefreshParentModule=moduleElement.getAttribute("autoRefreshParentModule");if(this.autoRefreshParentModule==null||this.autoRefreshParentModule=="1"){this.autoRefreshParentModule=true;}else{this.autoRefreshParentModule=false;}this.autoRefreshOnPageLoad=moduleElement.getAttribute("autoRefreshOnPageLoad");
if(this.autoRefreshOnPageLoad==null||this.autoRefreshOnPageLoad=="1"){this.autoRefreshOnPageLoad=true;}else{this.autoRefreshOnPageLoad=false;}if(!String.isEmpty(this.pageModuleType)&&this.pageModuleType=="chartmodule"){this.autoStatOnPageLoad=true;}if(!String.isEmpty(this.pageModuleType)&&this.pageModuleType=="gispmodule"){this.autoGISStatOnPageLoad=true;
}if(!String.isEmpty(this.pageModuleType)&&this.pageModuleType=="gispmapmodule"){this.autoGISMapOnPageLoad=true;}if(arg&&arg.arg&&arg.arg.refreshonpageload!=null){this.autoRefreshOnPageLoad=arg.arg.refreshonpageload;}if(arg&&arg.arg&&arg.arg.autosearch!=null){this.autoRefreshOnPageLoad=arg.arg.autosearch;
}this.service_insert=moduleElement.getAttribute("service_insert");this.service_modify=moduleElement.getAttribute("service_modify");this.service_search=moduleElement.getAttribute("service_search");this.service_delete=moduleElement.getAttribute("service_delete");var arrti=moduleElement.getAttribute("lwfp_searchatt");
if(arrti!=null&&arrti.trim().length>0){this.lwfp_searchatt=eval(arrti);}var group=moduleElement.getAttribute("search_group");if(group!=null&&group.trim().length>0){this.searchgroup=eval(group);}this.search_fields=moduleElement.getAttribute("search_fields");if(!String.isEmpty(this.search_fields)){this.search_fields=this.search_fields.split(",");
}else{this.search_fields=null;}if(!String.isEmpty(this.moduleVersion)){this.moduleVersion=this.moduleVersion*1;if(window.isNaN(this.moduleVersion)||this.moduleVersion<1){this.moduleVersion=1;}}if(!String.isEmpty(this.formType)){this.formType=this.formType*1;if(window.isNaN(this.formType)||this.formType<1){this.formType=1;
}}var lsm=moduleElement.getAttribute("lsm");if(!String.isEmpty(lsm)){lsm=lsm.trim();lsm=lsm.substring(1);lsm=lsm.substring(0,lsm.length-1);var es=lsm.split(",");if(es.length>0){var l=es.length;for(var i=0;i<l;i++){var cur=es[i].trim();if(cur.length>0){var def=cur.split("_");if(def.length==4){var event=def[0];
var type=def[1];var ct=def[2];var sn=def[3];var st=type+"_"+ct+"_"+sn;var element=this.getElement("[st="+st+"]",this.parentElement);if(element){var fn=this[cur];if(fn!=null){this.addEvent(element,event,fn);}element=null;}}else{if(def.length==3){var type=def[0];var eventName=def[1];var __name=def[2];if(__name){if(this.delayModuleEvents==null){this.delayModuleEvents=new hashtable();
}var def={type:type,event:eventName,name:__name};var defs=null;if(this.delayModuleEvents.contains(__name)){defs=this.delayModuleEvents.getvalue(__name);}else{defs=[];this.delayModuleEvents.add(__name,defs);}defs.add(def);}}}}}}}moduleElement=null;}var binds=null;if(this.______binds==null){binds=this.______binds;
}else{binds=this.getElements("[bindevents]",this.parentElement);}if(binds!=null){var l=binds.length;for(var i=0;i<l;i++){var control=binds[i];var events=control.getAttribute("bindevents");if(events.length>0){events=events.split(";");var el=events.length;for(var j=0;j<el;j++){var exp=events[j];var exps=exp.split("=");
if(exps.length==2){var name=exps[0].Trim();var fnname=exps[1].Trim();if(name.length>0&&fnname.length>0){var fn=this[exps[1].Trim()];if(fn!=null){if(name=="searchMethod"){LEAP[this.listmode].setSearchMethod(control,fn,this);}else{this.addEvent(control,exps[0].Trim(),fn);}}fn=null;}}}events=null;}control=null;
}}this.______binds=binds=null;if(arg!=null&&arg.moduleOperationType!=null){if(arg.moduleOperationType=="view"){var sb=this.___btnSubmit;if(sb!=null){sb.style.display="none";sb=null;}}}};pageObject.pageLoad=function(p){this.exdata=null;this.moduleLoadArg=p;if(this.moduleLoadArg&&this.moduleLoadArg.arg&&this.moduleLoadArg.arg.workflow){this.workflow=this.moduleLoadArg.arg.workflow;
}if(this.moduleElement&&"1"==this.moduleElement.getAttribute("workflowmodule")){this.isworkflow=true;}else{this.isworkflow=false;}if(this.pom){if(this.___parentModule){this.pom.addObject(this,this.___parentModule);this.___parentModule=null;}}else{this.pom=new PageObjectModel();this.pom.addObject(this);
}var m=LEAP.getData(null,this.instance,this.parentElement,null,null,this.___initBTMDS);if(m!=null){this.defaultData=m.data;}this.innerPageLoad(p);this.___innerPageLoad2(p);if(this._pageLoad!=null){this._pageLoad(p);}this.___innerPageLoad3(p);if(this.setDefaultPageData){this.setDefaultPageData(this.defaultData);
}if(this.pageMode=="search"){var g=false;if(p.arg&&p.arg.unitesave){if(p.arg.unitesave=="1"){g=true;}}if(!g){if(!LEAP.isIE&&this.moduleElement!=null){LEAP.asyn(this.setModulePorps,this,500);}if(LEAP.getElement("div.lgsearchmore:first",this.moduleElement)!=null){this.searchMore();}if(this.autoRefreshOnPageLoad){if(p&&p.arg&&p.arg.autosearch==false){}else{this.innerSearch();
}}}}if(this.autoStatOnPageLoad){var h=false;var d=LEAP.getElements("[ct=olapchat]",this.moduleElement);if(d&&d.length>0){for(var j=0;j<d.length;j++){var o=d[j].getAttribute("cubetype");if(o.indexOf("longrisegis")>=0){h=true;}}}if(h){LEAP.GISAPI.loadJS(this.moduleElement);LEAP.asyn(this.setGispPorpsBeforoloapchat,this,200);
}else{if(d&&d.length>0){for(var j=0;j<d.length;j++){LEAP.olapchat.setValue(d[j],null);}}}}if(this.autoGISStatOnPageLoad){var l=LEAP.getElements("[ct=GIS]",this.moduleElement);if(l&&l.length>0){for(var j=0;j<l.length;j++){GISStat.GIS.runMap(l[j]);}}}if(this.autoGISMapOnPageLoad){var n=LEAP.GISAPI.loadJS(this.moduleElement,this.setGispPorps);
if(!n){LEAP.asyn(this.setGispPorps,this,1000);}}if(this.moduleElement&&((LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>9)||LEAPBrowser.isWebKit)){LEAP.asyn(this.setBrowserPorps,this,5000);}this._initphs();this._initpes();this._initpls();if(this.isworkflow==true){LWFP.API.ModuleProcess.process(this);}};
pageObjectExtend.setGispPorpsBeforoloapchat=function(){var d=LEAP.getElements("[ct=olapchat]",this.moduleElement);if(d&&d.length>0){for(var g=0;g<d.length;g++){LEAP.olapchat.setValue(d[g],null);}}};pageObjectExtend.setGispPorps=function(){var g=LEAP.getElements("[ct=GIS]",this.moduleElement);if(g&&g.length>0){for(var d=0;
d<g.length;d++){LEAP.GISAPI.runMap(g[d],this);}}};pageObjectExtend.setModulePorps=function(){var g=LEAP.getElement("div.lgsearchpanel:first",this.moduleElement);var m=LEAP.getElement("div.lgsearchcon:first",this.moduleElement);var d=LEAP.getElement("div.lgsearchmore:first",this.moduleElement);var l=LEAP.getElement("div.lgbtncon:first",this.moduleElement);
if(m!=null){m.style.height=m.offsetHeight+"px";m.style.paddingLeft="0px";}if(d!=null){m.style.height="auto";d.style.paddingLeft="0px";}if(g!=null&&m){var h=m.scrollHeight;var j=l.scrollHeight;g.style.height=h+j+"px";g.nextElementSibling.style.top=g.style.height;g=null;}};pageObjectExtend.setBrowserPorps=function(){if(this&&this.setBrowserPorps&&this.moduleElement){var d=LEAP.getElement(".wfui_workarea_c",this.moduleElement);
if(d){if(d.scrollWidth>d.offsetWidth){d.style.width=d.scrollWidth+"px";}d=null;}}};pageObject.dispose=function(){if(this.moduleDisposing||this.moduleDisposed){return;}try{if(this.__aes){var d=this.__aes.length;for(var g=0;g<d;g++){try{var o=this.__aes[g];LEAP.removeEvent(o.elements,o.type,o.fn,o.useBrowEvent);
}catch(m){}}this.__aes.clear();}}catch(n){}if(LEAP.echarts){var p=this.getElements("[ct="+LEAP.echarts.d+"]");if(p){for(var g=0;g<p.length;g++){LEAP.echarts.dispose(p[g]);p[g]=null;}p=null;}}if(this.disposeList&&this.disposeList.length>0){var d=this.disposeList.length;for(var g=d-1;g>-1;g--){try{if(LEAP.echarts){LEAP.echarts.loads.remove(this.disposeList[g]);
}if(this.disposeList[g].dispose){this.disposeList[g].dispose();}}catch(m){}}}this.moduleDisposing=true;if(LEAP.messagepush){LEAP.messagepush.dispose(this);}PageObjectModel.___allObjects.remove(this.instance);this.parentElement=null;if(this.__simpleForm_imgshow){document.body.removeChild(this.__simpleForm_imgshow);
this.__simpleForm_imgshow=null;}if(this.pom){this.pom.removeObject(this);this.pom=null;}this.defaultData=null;this.___es=null;if(this.innerDispose){try{this.innerDispose();}catch(m){LEAP.messagebox.alert("dispose error : ["+this.name+"]"+m.message,3);}}if(this.___forms){var d=this.___forms.length;for(var g=0;
g<d;g++){LEAP.form.close(this.___forms[g]);}}if(this._simplemodules){for(var q in this.__simplemodules){if(this.__simplemodules[q]&&this.__simplemodules[q].dispose){this.__simplemodules[q].dispose();}}}if(this.moduleElement){var h=LEAP.getElements("iframe",this.moduleElement);if(h){for(var g=0;g<h.length;
g++){var o=h[g];if(o&&o.contentWindow){try{o.contentWindow.__unloadFlash();}catch(m){}}o=null;}}h=null;}if(this.form){LEAP.form.close(this.form);}if(this.asynreqs){var d=this.asynreqs.length;for(g=0;g<d;g++){leaprpcclientasyncactivelist.remove(this.asynreqs[g]);}}if(this.simpleForm){LEAP.removeElement(this.simpleForm);
}for(var j in this){this[j]=null;}this.moduleDisposed=true;};pageObject.showForm=function(){if(this.form!=null){LEAP.form.show(this.form);}else{if(this.simpleForm!=null){this.simpleForm.style.zIndex=LEAP.form.z++;this.simpleForm.style.display="block";if(this.__simpleForm_imgshow){document.body.removeChild(this.__simpleForm_imgshow);
this.__simpleForm_imgshow=null;}}}if(this.formShowed){this.formShowed();}};pageObject.hideForm=function(){if(this.form!=null){LEAP.form.hide(this.form);}else{if(this.simpleForm!=null){this.simpleForm.style.display="none";var d=document.createElement("IMG");d.style.position="absolute";d.style.top=this.simpleForm.style.top;
d.style.right="0px";d.style.cursor="pointer";d.src=leapconfig.server+"LEAP/Resource/images/GIS/ModuleSplit/pop_label_bg02.png";d.style.zIndex="999";d.style.filter="alpha(opacity = 70)";d.style.opacity="0.7";document.body.appendChild(d);this.addEvent(d,"click",this.showForm);this.__simpleForm_imgshow=d;
}}if(this.formHided){this.formHided();}};pageObjectExtend.hideModule=function(){if(this.parentElement!=null){this.parentElement.style.display="none";}};pageObjectExtend.showModule=function(){if(this.parentElement!=null){this.parentElement.style.display="";}};pageObject.getMD=function(d,j){if(String.isEmpty(d)){return;
}if(this.__cacheMD.contains(d)){return this.__cacheMD.getvalue(d);}var h="[md="+d+"][instance="+this.instance+"]";if(j!=null){h+="[ds="+j+"]";}var g=LEAP.getElement(h,this.parentElement);this.__cacheMD.add(d,g);try{return g;}finally{g=null;}};pageObject.getUT=function(g,h){if(String.isEmpty(g)){return;
}if(this.__cacheUT.contains(g)){var d=this.__cacheUT.getvalue(g);if(d){try{return d;}finally{d=null;}}}if(!h){h=this.parentElement;}var d=LEAP.getElement("[ut="+g+"][instance="+this.instance+"]",h);this.__cacheUT.add(g,d);try{return d;}finally{d=null;}};pageObjectExtend.removeUTCache=function(g){if(String.isEmpty(g)){return;
}if(this.__cacheUT.contains(g)){var d=this.__cacheUT.remove(g);if(d!=false){this.__cacheUT=d;return true;}else{return false;}}};pageObject.getST=function(g,h){if(String.isEmpty(g)){return;}if(this.__cacheST.contains(g)){return this.__cacheST.getvalue(g);}if(!h){h=this.parentElement;}var d=LEAP.getElement("[st="+g+"][instance="+this.instance+"]",h);
this.__cacheST.add(g,d);try{return d;}finally{d=null;}};pageObject.getControl=function(d){return LEAP.getElement("[instance="+this.instance+"]"+d,this.parentElement);};pageObject.addShortKeyEvent=function(d,j,g,h){LEAP.addShortKeyEvent(d,j,g,h,this);};pageObject.ut=function(d){var g=this.getUT(d);if(g){return LEAP.wrap(g,this);
}};pageObject.md=function(d){var g=this.getMD(d);if(g){return LEAP.wrap(g,this);}};pageObject.st=function(d){var g=this.getST(d);if(g){return LEAP.wrap(g,this);}};pageObject.innerViewPageLoad=function(d){this.clearValidateUI();this.setReadonly(true);if(this._viewPageLoad_!=null){this._viewPageLoad_(d);
}this.lastLoadStatus="view";LEAP.asyn(this.setBackcolor,this,100);};pageObject.innerInsertPageLoad=function(d){this.clearValidateUI();this.setReadonly(false);if(this._insertPageLoad_!=null){this._insertPageLoad_(d);}this.lastLoadStatus="insert";LEAP.asyn(this.setBackcolor,this,100);};pageObject.innerModifyPageLoad=function(d){this.setReadonly(false);
this.clearValidateUI();if(this._modifyPageLoad_!=null){this._modifyPageLoad_(d);}this.lastLoadStatus="modify";LEAP.asyn(this.setBackcolor,this,100);};pageObject.innerSearchPageLoad=function(d){this.setReadonly(false);if(this._searchPageLoad_!=null){this._searchPageLoad_(d);}this.lastLoadStatus="search";
LEAP.asyn(this.setBackcolor,this,100);if(this._searchPageLoadCount==null){this._searchPageLoadCount=1;}else{this._searchPageLoadCount+=1;}if(this._searchPageLoadCount>1&&this.autoRefreshOnPageLoad){this.innerSearch();}};pageObjectExtend.removeViewClass=function(){if(this.moduleElement!=null){if(LEAP.hasCSS(this.moduleElement,"modulestyle_readonly")){LEAP.removeCSS(this.moduleElement,"modulestyle_readonly");
}}};pageObjectExtend.setBackcolor=function(){if(this._allcontrols==null){return;}if(this.pageMode=="view"){if(!LEAP.hasCSS(this.moduleElement,"modulestyle_readonly")){LEAP.addCSS(this.moduleElement,"modulestyle_readonly");}}else{LEAP.removeCSS(this.moduleElement,"modulestyle_readonly");}var d=this._allcontrols.length;
for(var g=0;g<d;g++){var j=this._allcontrols[g];if(((j.tagName=="INPUT"&&j.type=="text")||j.tagName=="TEXTAREA")&&j.checktype==null){var m=j.getAttribute("lcv");if(m&&m=="2"){continue;}var h=j.style.backgroundColor;if(h==null||h.length==0){if(this.pageMode=="view"){j.style.backgroundColor="";}else{if(this.moduleVersion>2){j.style.backgroundColor="";
}else{j.style.backgroundColor="#FAFAFA";}}}}j=null;}};pageObjectExtend.setReadonly=function(j){if(j!=null){if(j!="true"&&j!=true&&j!="1"){j=false;}else{j=true;}}if(this.lastLoadStatus!=null){if(!j&&this.lastLoadStatus!="view"){return;}if(j&&this.lastLoadStatus=="view"){return;}}else{if(!j){return;}}if(this._allcontrols==null){return;
}var h=this._allcontrols.length;for(var o=0;o<h;o++){var p=this._allcontrols[o];var n=p.getAttribute("ct");var g=null;if(n==null){g=p.getAttribute("readOnly");if(g==null){g=false;}}else{if(n=="simplecheck"){g=p.getAttribute("disabled");}else{g=p.getAttribute("readonly");if(g==null){g=0;}}}var d=p.getAttribute("_mro_");
if(d!=null){if(d!="true"&&d!=true&&d!="1"){d=false;}else{d=true;}}var m=j;if(m!=null){LEAP.setReadonly(p,m);if(m){p.setAttribute("_mro_",g);}else{p.removeAttribute("_mro_");}}else{LEAP.setReadonly(p,d);p.removeAttribute("_mro_");}}};pageObjectExtend.request2=function(g){g.domain=this;var d=LEAP.request2(g,this.leapclient);
if(d!=null&&g.callback!=null){if(this.asynreqs==null){this.asynreqs=[];}this.asynreqs.add(d);}return d;};pageObject.innerBuildQuery=function(h,u){var r=null;var w=this.getUT("searchMore");if(w&&w.style.display=="none"){var m='[bt][instance="'+this.instance+'"][md]';var n=null;var d=LEAP.getElements(m,w);
var q=LEAP.getElements(m,this.parentElement);if(d&&q){var j=q.length;var g=d.length;for(var o=0;o<j;o++){for(var l=0;l<g;l++){if(d[l]==null){continue;}if(q[o]==d[l]){q[o]=null;d[l]=null;}}}n=[];for(var o=0;o<j;o++){if(q[o]!=null){n.add(q[o]);}}}w=d=q=null;r=this.getQueryParameter(null,null,n);n=null;
}else{r=this.getQueryParameter();}r.name=this.moduleName;r.pageNum=h;r.pageSize=u;r.getCodeValue=true;r.isgis=this.isGisMode;r=pageObject.innerBuildQuery_WF(r,this.lwfp_searchatt,this.instance,this.parentElement);r=pageObject.innerBuildQuery_WFGroup(r,this.searchgroup);if(this.parentPKValue&&this.linkedfield){r.addParameter(this.linkedfield,this.parentPKValue,11);
}if(this.buildSearchQuery!=null){var p=this.buildSearchQuery(r);if(p!=null&&p==false){return null;}}return r;};pageObject.innerBuildQuery_WF=function(n,d,p,o){if(d!=null){for(var m=0;m<d.length;m++){var l=d[m];if(l==null){continue;}if(l.islwfp!="1"){n.addParameter(l.name,l.value,l.flag,l.type);if(l.group!=null&&l.group.trim().length>0){n.setGroup(l.group);
}}else{var h=l.cwid;if(h!=null&&h.trim().length>0){var j='[bt][instance="'+p+'"][cwid="'+h+'"]';var g=LEAP.getElement(j,o);if(g==null){continue;}var q=LEAP.getValue(g);if(q!=null&&q.trim().length>0){n.addParameter(l.name,q,l.flag,l.type);}}}}}return n;};pageObject.innerBuildQuery_WFGroup=function(g,j){if(j!=null){for(var d=0;
d<j.length;d++){var h=j[d];if(h==null){continue;}g.setGroupLogic(h.name,h.logic);}}return g;};pageObjectExtend.beanDelete=function(d,l,g){if(d==null){return false;}var j=this.getDeleteBean(d,l,g);if(j==null){return false;}var h=this.service_delete;if(String.isEmpty(h)){h="beanDelete";}return this.request(h,{par:j});
};pageObjectExtend.getDeleteBean=function(d,g,h){if(d==null){return null;}var m=new Object();if(h!=null){m.beanname=h;}if(m.beanname==null){m.beanname=d.beanname;}if(m.beanname==null){m.beanname=this.moduleName;}if(g==null){g=this.pks;}if(g==null){g=["id"];}if(typeof(g)=="string"){g=[g];}for(var l=0;
l<g.length;l++){var j=d[g[l]];if(j==null){return;}m[g[l]]=j;}return m;};pageObjectExtend._innerGetQuery=function(g,q,n){var p=this.innerBuildQuery(g,q);if(p==null){return;}if(!(p.pageNum!=null&&p.pageNum>0)){p.pageNum=g;}if(!(p.pageSize!=null&&p.pageSize>0)){p.pageSize=q;}if(this.search_fields!=null){var r=this.search_fields.length;
for(var m=0;m<r;m++){var d=this.search_fields[m];if(!String.isEmpty(d)){d=d.trim();p.addField(d);}}}if(this._innerGetSearchService().toLowerCase().startWith("lwfp")){p=[p];}if(this.onGetSearchParameter){var o=this.onGetSearchParameter(p);if(o!=null){p=o;}}if(n){for(var x in n){var w=n[x];if(w){p.addParameter(x,w,11);
}}}if(this.isp_out&&p){var j=p;if(p instanceof Array){j=p[0];}for(var x in this.isp_out){var w=this.isp_out[x];if(w){j.addParameter(x,w,11);}}}if(this.isp&&p){var j=p;if(p instanceof Array){j=p[0];}var h=this.isp.length;for(var m=0;m<h;m++){var u=this.isp[m];if(j.getParameter(u.n)==null){j.addParameter(u.n,u.v,u.c);
}}}if(p){var j=p;if(p instanceof Array){j=p[0];}if(this.searchorder){j.setOrder(this.searchorder);}if(this.pageModuleName){j.setPageModule(this.pageModuleName);}}return p;};pageObjectExtend._innerGetSearchService=function(){var d="beanSearch";if(!String.isEmpty(this.service_search)){d=this.service_search;
}return d;};pageObjectExtend.innerStat=function(){var g=this.getUT("statlist");if(g){if(this.asynwait==true){LEAP.messagebox.alert(",!");return;}var d=this._innerGetSearchService();var h=this._innerGetQuery(1,99999);h=this.innserGetSortPar(h,g);if(h==null){return;}h.toCount=false;this.asynrequest(d,{par:h},this.innerAsynStat,{par:h});
this.asynwait=true;}g=null;};pageObjectExtend.innerAsynStat=function(g,d){this.asynwait=false;var h=this.getUT("statlist");try{if(g!=null){this.pks=g.pks;if(this.searchSucess){this.searchSucess(g);}if(this.searchEnd){this.searchEnd(d.par);}if(h){LEAP.setValue(h,g);}}else{if(this.searchSucess){this.searchSucess(null);
}if(this.searchEnd){this.searchEnd(d.par);}if(h){LEAP.setValue(h,null);}}}finally{h=null;g=d=null;}};pageObjectExtend.addFeatureLay=function(y,w,x){try{var u=this.getUT("ut_gisp_onlycurpage");if(x!=null&&x=="1"){var n=LEAP.getElement("[ctid="+LEAP.GIS.GISSearchModule.ctid+"]");if(n!=null){if((x!=null&&x=="1")&&w!=null){if(w.parameter!=null&&w.parameter.parameters!=null){var h=new SearchBuilder(w.name);
var j=w.parameter.parameters;var p=11;var g="";for(var m=0;m<j.length;m++){if(j[m].flag!=null){if(j[m].group!=null){h.par(j[m].name,j[m].value,j[m].flag,j[m].group);}else{h.add(j[m].name,j[m].value,j[m].flag);}}else{h.add(j[m].name,j[m].value);}}if(u!=null&&u.checked){var d=y.result;if(d!=null&&d.length>0){for(var m=0;
m<d.length;m++){if(m==0){g=g+"'"+d[m].id+"'";}else{g=g+",'"+d[m].id+"'";}}}h.parameter.extendQuery=w.parameter.extendQuery+" and id in ("+g+")";}else{h.parameter.extendQuery=w.parameter.extendQuery;}}LEAP.GIS._SearchModule_setBySearchModule(n,LEAP.GIS.GISSearchModule.layername,h);}if((x!=null&&x=="1")&&y!=null){var o=[];
var d=y.result;if(d!=null&&d.length>0){for(var m=0;m<d.length;m++){var l=new Object();l.id=d[m].id;l.type="1";l.pts=d[m].gisp_x+","+d[m].gisp_y;l.layer=LEAP.GIS.GISSearchModule.layername;o.push(l);}o=JSON.stringify(o);if(LEAP.GIS.GISSearchModule.ctid!=null){LEAP.GIS._SearchModule_onSearch(n,o);}}}if((x!=null&&x=="1")&&y==null){LEAP.GIS._SearchModule_clearSearch(n);
}}}}catch(q){}};pageObject.innerRefreshPage=function(h,B,C,n){var A=this.getUT("list");if(A==null){return;}var r=null;var p=null;try{if(this.asynwait!=null&&this.asynwait==true){var F={leapclient_asynwait:1};return F;}var u=this._innerGetSearchService();r=this._innerGetQuery(B,C,n);r=this.innserGetSortPar(r,h);
r=this._innerGetDesfields(r,h);if(r==null){return;}if(this.moduleParameter!=null&&this.moduleParameter.isfromgis!=null&&this.moduleParameter.isfromgis=="1"){var D=LEAP.GIS.GISSearchModule.getEnvQuery();if(D){if(r.parameter.extendQuery!=null&&r.parameter.extendQuery!=""){var q=r.parameter.extendQuery;
r.setExtendQuery(q+" and "+D);}else{r.setExtendQuery(D);}}var g=LEAP.GIS.GISSearchModule.getAreaLayer();if(g){if(r.parameter.extendQuery!=null&&r.parameter.extendQuery!=""){var q=r.parameter.extendQuery;r.setExtendQuery(q+" and "+g);}else{r.setExtendQuery(g);}}}var x=r;if(r instanceof Array){if(r.length>0){x=r[0];
}}if(x.getCodeValue!=null&&x.getCodeValue==true){var w=LEAP[this.listmode].getHeaders(h);if(w!=null){var y=w.length;for(var z=0;z<y;z++){var j=w[z];var d=j.code;if(!String.isEmpty(d)){if(x.codetypes==null){x.codetypes=[];}var m={name:j.md,code:d};x.codetypes.add(m);}}}}if(this.asynmode==null||this.asynmode){if(this.supportAsynCount){if(r instanceof Array&&r.length){r[0].toCount=false;
}else{r.toCount=false;}if(this.asyncountsn==null){this.asyncountsn=0;}this.asyncountsn++;A.setAttribute("asyncount","1");}else{A.removeAttribute("asyncount","1");}if(this.moduleVersion>1&&!(u.toLowerCase().startWith("lwfp"))){var o={gotoPageNum:B,pageSize:C,element:h,par:r,toCount:r.toCount,asynsn:this.asyncountsn};
r.search(this.innerAsynRefreshPage,o,u);if(this.supportAsynCount){r.toCount=true;r.toResult=false;if(LEAP[this.listmode]._asynCountLoading){LEAP[this.listmode]._asynCountLoading(h);}r.search(this.innerAsynRefreshPageCount,o,u);}}else{var o={gotoPageNum:B,pageSize:C,element:h,par:r};p=this.asynrequest(u,{par:r},this.innerAsynRefreshPage,o);
if(this.supportAsynCount){if(r instanceof Array&&r.length){r[0].toCount=true;r[0].toResult=false;}else{r.toCount=true;r.toResult=false;}if(LEAP[this.listmode]._asynCountLoading){LEAP[this.listmode]._asynCountLoading(h);}this.asynrequest(u,{par:r},this.innerAsynRefreshPageCount,o);}}this.asynwait=true;
var F={leapclient_isasyn:1};return F;}else{p=this.request(u,{par:r});if(this.moduleParameter!=null&&this.moduleParameter.isfromgis!=null&&this.moduleParameter.isfromgis=="1"){this.addFeatureLay(p,r,this.moduleParameter.isfromgis);}if(p!=null){this.pks=p.pks;}if(this.searchSucess){this.searchSucess(p);
}if(this.searchEnd){this.searchEnd(r);}}return p;}finally{A=null;h=r=p=null;}};pageObjectExtend._innerGetDesfields=function(j,h){try{if(j==null){return j;}if(h&&!h.getAttribute("desfields")){return j;}var g=j;if(j instanceof Array){g=j[0];}var m=h.getAttribute("desfields");if(!String.isEmpty(m)){try{var d=JSON.parse(m);
g.setDesFields(d);}catch(l){}}return j;}finally{h=null;}};pageObjectExtend.focus=function(){if(this.moduleElement){try{this.moduleElement.focus();}catch(d){}}};pageObjectExtend.innerGetSortFields=function(h){try{if(h==null){return h;}if(h instanceof Array){h=h[0];}var d=h.getOrder();var n=new StringBuffer();
var l=this._innserOrders;if(l!=null&&l.keys!=null){var j=this._innserOrders.keys;for(var g in j){var m=this._innserOrders.getvalue(g);if(m.mod==2){n.append(this._innserOrders.getkey(g)+" desc");}else{n.append(this._innserOrders.getkey(g));}}}if(n.toString()==null||n.toString().length==0){return d;}else{if(String.isEmpty(d)){d=n.toString(",");
}else{d+=(","+n.toString(","));}}return d;}finally{}};pageObjectExtend.innserGetSortPar=function(l,g){try{if(l==null){return l;}var n=false;var h=l;if(l instanceof Array){n=true;l=l[0];}this.__buildCacheOrder();var d=l.getOrder();if(this._innserOrders==null||this._innserOrders.size()==0){return h;}if(g.getAttribute("skiporder")!=null&&g.getAttribute("skiporder")=="1"){d=null;
l.setOrder(null);}var m=new StringBuffer();var q=this._innserOrders.keys;for(var p in q){var o=this._innserOrders.getvalue(p);if(o.mod==2){m.append(this._innserOrders.getkey(p)+" desc");}else{m.append(this._innserOrders.getkey(p));}}if(String.isEmpty(d)){d=m.toString(",");}else{var j=g.getAttribute("default_order_priority");
if(j&&j=="-1"){d=(m.toString(",")+","+d);}else{d+=(","+m.toString(","));}}l.setOrder(d);return h;}finally{g=null;}};pageObjectExtend.innserSetSortPar=function(m,h,j){if(j!=null){var h=j.getAttribute("_orderstatus");if(h==null){h=0;}if(h==2){h=0;}else{h=h*1+1;}j.setAttribute("_orderstatus",h);}if(this._innserOrders==null){this._innserOrders=new hashtable();
}if(h==0){this._innserOrders.remove(m);if(j!=null){var g=j.getAttribute("showorder");var d=null;if(g){d=LEAP.getElement("div[flag=orderflagnew]",j);if(d){d.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/default.png)  no-repeat center";}}else{d=LEAP.getElement("div[flag=orderflag]",j);
if(d){LEAP.removeElement(d,false);d=null;}}}}else{var l=this._innserOrders.getvalue(m);if(l==null){this._innserOrders.add(m,{name:m,mod:h});}else{l.mod=h;}if(j!=null){var g=j.getAttribute("showorder");if(g=="1"||g==true){var d=LEAP.getElement("div[flag=orderflagnew]",j);if(d){if(h==1){d.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/up.png)  no-repeat center";
}else{if(h==2){d.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/down.png)  no-repeat center";}}}}else{var d=LEAP.getElement("div[flag=orderflag]",j);if(d==null){var d=document.createElement("div");d.style.width="18px";d.style.height="16px";d.style.left="10px";d.style.top="0px";
d.style.position="absolute";d.setAttribute("flag","orderflag");}if(h==1){d.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/order1.png)  no-repeat center";}else{if(h==2){d.style.background="url("+leapconfig.server+"LEAP/Resource/images/itemstyle/table/order2.png)  no-repeat center";
}}j.style.position="relative";j.appendChild(d);d=null;}}}this.__setCacheOrder(j,m,h);j=null;};pageObjectExtend.__setCacheOrder=function(d,o,p){if(d==null||!o||!this.pageModuleName){return;}if(!window.localStorage){return;}var l=this.pageModuleName;var q=LEAP.userInfo.userflag;var m=d.getAttribute("cacheorder");
if(!m||m!="1"){return;}var h=localStorage.getItem(l+"_"+q);var j=null;if(h){try{j=JSON.parse(h);}finally{}}if(j==null&&p==0){return;}if(j!=null&&p==0&&j.hasOwnProperty(o)){delete j[o];}if(p==1||p==2){if(j==null){j={};}j[o]=p;}var g=(j==null);if(!g){var n=Object.getOwnPropertyNames(j);g=(n!=null&&n.length==0);
}if(g){localStorage.removeItem(l+"_"+q);}else{localStorage.setItem(l+"_"+q,JSON.stringify(j));}};pageObjectExtend.__buildCacheOrder=function(){if(!this.pageModuleName){return;}if(!window.localStorage){return;}var d=this.pageModuleName;var n=LEAP.userInfo.userflag;var j=localStorage.getItem(d+"_"+n);if(!j){return;
}var m=null;try{m=JSON.parse(j);}finally{}if(m==null){return;}var l=Object.getOwnPropertyNames(m);if(!l||l.length==0){return;}if(this._innserOrders==null){this._innserOrders=new hashtable();}for(var g=0;g<l.length;g++){var h=this._innserOrders.getvalue(l[g]);if(h==null){this._innserOrders.add(l[g],{name:l[g],mod:m[l[g]]});
}}};pageObjectExtend.exportExcel=function(w,z,x,m,q,A){if(m==null){m=true;}if(w==null){w=1;}if(w<1){w=1;}if(this.cusotomExportExcel!=null){this.cusotomExportExcel({exportPageCount:w,beginPageNum:z,pageSize:x,isAsyn:m,fields:q});return null;}var p=this.getUT("list");if(z==null){if(p!=null){z=p.pageNum*1;
}if(z==null||isNaN(z)||z<=0){z=1;}}if(x==null){if(p!=null){x=p.pageSize*1;}if(x==null||isNaN(x)||x<=0){x=12;}}if(q==null){var g=p[LEAP[this.listmode].a];if(g!=null){var j=g.length;for(var n=0;n<j;n++){var o=g[n];if(o.md!=null&&o.sncol==false){if(q==null){q=[];}if(!q.contains(o.md)){q.add(o.md);}}}g=null;
}}var d=this._innerGetQuery(z,x);if(d instanceof Array){d=d[0];}if(w>1){d.pageSize=d.pageSize;d.pageCount=w;}d=this.innserGetSortPar(d,p);p=null;var r=this._innerGetSearchService();var y=null;if(m){LEAP.showMask();y=this.exportExcelHandler;}if(q!=null&&q.length&&q.length>0){var j=q.length;for(var n=0;
n<q.length;n++){d.addField(q[n]);}}if(this.onExportExcel!=null){var u=this.onExportExcel(d,r,A);if(u!=null&&u==false){return;}}y=null;m=false;if(this.reportTitle!=null){d.name2=this.reportTitle;}var B=this.request("ExportExcelExt",{sp:d,service:r},y);if(!m){this.___processExcelResult(B,null,A);}};pageObjectExtend.___processExcelResult=function(g,m,j){LEAP.hideMask();
if(g){var h=leapconfig.server+"LEAP/Download/excelReport/"+g;if(m){h+="?sr=1";}if(j){var d=null;var o=null;try{o=new ActiveXObject("excel.Application");o.Application.Visible=true;d=o.Workbooks.Open(h);try{o.activeWindow.activeSheet.PrintOut();}catch(n){}}catch(n){LEAP.messagebox.alert("Office,!\n!",2);
window.open(window.geturl(h));}finally{if(d){try{d.close();}catch(n){}d=null;}if(o){try{o.Application.Quit();}catch(n){}}o=null;}}else{window.open(window.geturl(h));}}else{var l=this.getLastError();if(l!=null){LEAP.messagebox.alert(l.error,3);}else{LEAP.messagebox.alert("",3);}}};pageObjectExtend.exportExcelHandler=function(d,g){this.___processExcelResult(d,true,g);
};pageObject.innerSearch=function(){this.__sys_src_ctf=null;if(window.event&&window.event.srcElement&&window.event.srcElement.getAttribute){this.__sys_src_ctf=window.event.srcElement.getAttribute("ctf");}if(this.isstat){this.innerStat();}else{this._innerSearch();}};pageObjectExtend._innerSearch=function(){var g=this.getUT("list");
var h=1;var d=null;if(g){d=g.getAttribute("keeppagenum");if(d=="1"||d==true){h=g.pageNum;if(h==null||h==undefined||isNaN(h)||h==0){LEAP[this.listmode].gotoPage(g,1);}else{LEAP[this.listmode].gotoPage(g,h);}}else{LEAP[this.listmode].gotoPage(g,1);}}else{this.innerRefreshPage(null,1,12);}g=h=d=null;};pageObjectExtend.innerSearch2=function(){var g=this.getUT("list");
if(g){var d=g.pageNum;if(d==null||d==undefined||isNaN(d)||d==0){LEAP[this.listmode].gotoPage(g,1);}else{LEAP[this.listmode].gotoPage(g,d);}}else{this.innerRefreshPage(null,1,12);}g=null;};pageObject.searchMore=function(){if(null==this.adisshow){this.adisshow=true;}var l=LEAP.getElement(">div.lgresultpanel",this.getUT("searchMore").parentNode.parentNode);
var d=this.getUT("searchMore").parentNode;var j=this.getUT("searchNomal");var g=this.getUT("searchMore");var h=LEAP.getElement("div.lgbtncon:first",d);if(this.adisshow){this.adisshow=false;this.getUT("searchMore").style.display="none";d.style.height=j.offsetHeight+h.offsetHeight+"px";if(!LEAP.isIE){g.style.height="auto";
j.style.paddingLeft="0px";if(this.getUT("searchNomal").style.height==""){j.style.height=j.offsetHeight*1+"px";}}else{j.style.height="auto";}l.style.top=d.style.height;l.style.height="auto";this.getUT("searchMore").style.display="none";this.getUT("btn_more").innerText=this.getUT("btn_more").innerText.replace("","").replace("","");
}else{this.adisshow=true;this.getUT("searchMore").style.display="inline-block";if(!LEAP.isIE){d.style.height=j.offsetHeight+g.offsetHeight+h.offsetHeight+"px";h.style.top=j.offsetHeight+g.offsetHeight+"px";}else{d.style.height=d.style.height.replace("px","")*1+g.offsetHeight*1+"px";}l.style.top=d.style.height.replace("px","")*1+"px";
l.style.height="auto";this.getUT("btn_more").innerText=this.getUT("btn_more").innerText.replace("","").replace("","");}};pageObject.innerAsynRefreshPage=function(g,d){if(this.moduleParameter!=null&&this.moduleParameter.isfromgis!=null&&this.moduleParameter.isfromgis=="1"){this.addFeatureLay(g,d.par,this.moduleParameter.isfromgis);
}var h=this.getUT("list");try{this.asynwait=false;if(g!=null){this.pks=g.pks;this.resultMetaData=g.metaData;if(this.searchSucess){this.searchSucess(g);}if(this.searchEnd){this.searchEnd(d.par);}if(h){LEAP[this.listmode].gotoPage(h,d.gotoPageNum,g,d.asynsn);}}else{if(this.searchSucess){this.searchSucess(null);
}if(this.searchEnd){this.searchEnd(d.par);}if(h){LEAP[this.listmode].clearPage(h);if(LEAP[this.listmode]._showBackground){LEAP[this.listmode]._showBackground(h,true);}}}}finally{h=null;g=d.element=null;}};pageObjectExtend.innerAsynRefreshPageCount=function(g,d){var h=this.getUT("list");try{this.asynwait=false;
if(h){LEAP[this.listmode].asynCountPage(h,d.gotoPageNum,g,d.asynsn);}}finally{h=null;g=d.element=null;}};pageObject.innerReset=function(){this.setPageData(null,null,null,false);if(this.afterReset!=null){this.afterReset();}if(this.innerSearch!=null){this.innerSearch();}};pageObjectExtend.createSearchBuilder=function(d){var g=null;
if(d){g=new SearchBuilder(d.name);g.parameter=d;}else{g=new SearchBuilder();}g.moduleInstance=this.instance;return g;};pageObjectExtend.___afterLoadModule=function(g,d){if(g&&d&&g.pfield){if(d.parentElement){d.parentElement.style.position="relative";}if(!d.preParameterNames){d.preParameterNames=[];}if(!d.preParameterNames.contains(g.pfield.toLowerCase().trim())){d.preParameterNames.add(g.pfield.toLowerCase().trim());
}d.linkedfield=g.pfield.toLowerCase().trim();if(!this.___binddatamodule){this.___binddatamodule=new hashtable();}if(!this.___binddatamodule.contains(g.name.toLowerCase().trim())){this.___binddatamodule.add(g.name.toLowerCase().trim(),g);}}};pageObjectExtend.___afterGetModule=function(g){if(g){g.parentPKValue=null;
if(g.linkedfield){if(this.data){var d=this.data.id;if(d){g.parentPKValue=d;}}}}};pageObjectExtend.___initcts=function(){if(LEAP.linkmodule!=null&&!this.___linkmodulectsinited){this.___linkmodulectsinited=true;this.___linkmodulects=this.getElements("div[ct=linkmodule][instance="+this.instance+"]");}if(!this.___linkmodule2ctsinited){this.___linkmodule2ctsinited=true;
this.___linkmodule2cts=this.getElements("[ct=linkmodule2][instance="+this.instance+"]");}if(!this.___datastatctsinited){this.___datastatctsinited=true;var d=this.getElements("[ct=statchart][linkstatname][instance="+this.instance+"]");if(d!=null&&d.length>0){for(var g=0;g<d.length;g++){LEAP.statchart.initLinkChart(d[g]);
}}}};pageObjectExtend.___clearData=function(){if(LEAP.linkmodule!=null&&this.___linkmodulects){var d=this.___linkmodulects.length;for(var g=0;g<d;g++){LEAP.linkmodule.clear(this.___linkmodulects[g]);}}if(this.___linkmodule2cts){var d=this.___linkmodule2cts.length;for(var g=0;g<d;g++){LEAP.linkmodule2.clear(this.___linkmodule2cts[g]);
}}};pageObjectExtend.___clearData2=function(){LEAP.check.clearValidate(LEAP.getElements("[check][instance="+this.instance+"]",this.parentElement));this.___clearData();LEAP.bindData(this.defaultData,this.instance,null,null,this.parentElement);this.processDefaultValues();if(this.setDefaultPageData){this.setDefaultPageData(this.defaultData);
}};pageObjectExtend.setPageDataOnWF=function(n,g){this.WFMode=true;this.setPageData(n);if(this.___linkmodule2cts){if(this.afterSetWFPageData){this.afterSetWFPageData(n);}else{var h=this.___linkmodule2cts.length;var u=new hashtable();if(g!=null&&g.length&&g.length>0){var d=g.length;for(var o=0;o<d;o++){var x=g[o];
var p=x.beanname;if(String.isEmpty(p)){continue;}p=p.toLowerCase().Trim();var A=null;if(u.contains(p)){A=u.getvalue(p);}else{A=[];u.add(p,A);}A.add(x);}}for(var o=0;o<h;o++){LEAP.linkmodule2.clear(this.___linkmodule2cts[o]);var w=this.___linkmodule2cts[o].getAttribute("datamodule");w=w&&w.toLowerCase().Trim();
if(u.contains(w)){var j=u.getvalue(w);var z=new Object();z.result=j;z.pageCount=1;z.pageNum=1;z.beginNum=1;z.size=j.length;z.count=j.length;z.endNum=j.length+1;var q=false;if(this.pageMode&&this.pageMode=="insert"){q=true;}var m=this.___linkmodule2cts[o];var r=m.getAttribute("timeout");if(r){var y={element:this.___linkmodule2cts[o],result:z,isNew:q,isRealNew:false};
LEAP.asyn(LEAP.linkmodule2.timeoutCallBack,LEAP,parseInt(r),y);}else{LEAP.linkmodule2.setValue(this.___linkmodule2cts[o],z,q,false);}}}}}};pageObjectExtend.___autoHeight=function(l){if(!l){return;}var m=LEAP.getElements('[heightauto="1"]',l);if(m!=null){for(var g=0;g<m.length;g++){var j=m[g];var h=j.getAttribute("minheight");
if(h){if(h.indexOf("px")>0){h=h.replace("px","");}h=parseInt(h);}if(!h){h=40;}if(j.target||j.srcElement){j=j.target||j.srcElement;}j.style.overflow="hidden";j.style.height="auto";var d=parseInt(j.scrollHeight)<h?h:parseInt(j.scrollHeight);j.style.height=d+5+"px";}}};pageObjectExtend.___afterSetData=function(){if(this.WFMode==null||this.WFMode!=true){if(LEAP.linkmodule!=null&&this.___linkmodulects){var d=this.___linkmodulects.length;
for(var h=0;h<d;h++){LEAP.linkmodule.refresh(this.___linkmodulects[h]);}}if(this.___linkmodule2cts){var d=this.___linkmodule2cts.length;for(var h=0;h<d;h++){var g=this.___linkmodule2cts[h];var j=g.getAttribute("timeout");if(j){LEAP.asyn(LEAP.linkmodule2.refresh,LEAP,parseInt(j),this.___linkmodule2cts[h]);
}else{LEAP.linkmodule2.refresh(this.___linkmodule2cts[h]);}}}}this._rebuildMdcheck();};pageObjectExtend.___innerLoadModule=function(h){if(!h){return;}if(h.___hasinited){return;}h.___hasinited=true;var m=h.moduleLoadArg;if(!m){return;}m=m.initPar;if(!m){return;}var d=null;if(m.ut){var l=this.getUT(m.ut);
if(l){if(!m.islinkchild){if(m.istab){var g=m.tabidx;if(g==null){g=0;}var j=l;if(j){var l=LEAP.getElement("div[ctf=tab_content]:eq("+g+")",j);j=null;if(l){h.parent=l;try{d=this.loadModule2(h);if(d){this.____moduledefs.add(m.name.toLowerCase().trim(),d);this.___afterLoadModule(m,d);}}catch(n){LEAP.messagebox.alert(n.message,3);
}l=null;}}}else{h.parent=l;try{d=this.loadModule2(h);if(d){this.____moduledefs.add(m.name.toLowerCase().trim(),d);this.___afterLoadModule(m,d);}}catch(n){LEAP.messagebox.alert(n.message,3);}}}l=null;}}else{if(m.tab){}}try{this.____moduledefs2.add(m.name.toLowerCase(),h);return d;}finally{d=null;}};pageObjectExtend.___innerLoadModuleWithTab=function(q){var d=q.arg2.tab;
try{var g=d.getAttribute("ut");if(g){var j=this.___tabbindmodules.getvalue(g);if(j){var n=q.arg2.index+"";var h=j.length;for(var m=0;m<h;m++){var o=j[m];var p=o.moduleLoadArg.initPar.tabidx.trim();if(p==n){this.___innerLoadModule(o);break;}}}}}finally{q=o=d=null;}};pageObjectExtend.___innerPageLoad2=function(arg){if(!this.____formdefs){this.____formdefs=new hashtable();
}if(!this.____moduledefs){this.____moduledefs=new hashtable();}if(!this.____moduledefs2){this.____moduledefs2=new hashtable();}if(!this.___tabbindmodules){this.___tabbindmodules=new hashtable();}if(this.moduleElement){var modules=this.moduleElement.getAttribute("modules");if(!String.isEmpty(modules)){try{modules=eval("("+modules+")");
this.autoLoadedModulesDefine=modules;if(modules&&modules.length){var l=modules.length;var _tabs=new Array();for(var i=0;i<modules.length;i++){var c=modules[i];if(!String.isEmpty(c.name)){var def=LEAP.clone(c);def.name=c.name;def.path=c.name;def.title=c.cn;def.width=c.w;def.height=c.h;def.hidemsg=c.hidemsg;
if(!String.isEmpty(def.hidemsg)){def.autohide=0;}if(c.ismodule){var mf={name:def.name,pageMode:c.mode,moduleLoadArg:{initPar:def}};if(def.init){this.___innerLoadModule(mf);}else{if(!def.init&&def.istab){if(!_tabs.contains(def.ut)){_tabs.add(def.ut);var tab=this.getUT(def.ut);if(tab){this.addEvent(tab,"selectedIndexChange",this.___innerLoadModuleWithTab);
tab=null;}}}}if(def.istab){var _tds=null;if(this.___tabbindmodules.contains(def.ut)){_tds=this.___tabbindmodules.getvalue(def.ut);}else{_tds=[];this.___tabbindmodules.add(def.ut,_tds);}_tds.add(mf);}continue;}if(def.islinkchild&&def.ut){var ut=this.getUT(def.ut);if(ut){var ct=ut.getAttribute(commfields.ct);
if(LEAP.linkmodule!=null&&ct==LEAP.linkmodule.d){if(def.mode){if(def.mode=="view"){ut.setAttribute("infomodule",def.name);}else{if(def.mode=="insert"){ut.setAttribute("insertmodule",def.name);}else{if(def.mode=="modify"){ut.setAttribute("modifymodule",def.name);}}}}else{ut.setAttribute("infomodule",def.name);
}}}}this.____formdefs.add(c.name.toLowerCase(),def);}}}}catch(e){}}}this.___initcts();};pageObjectExtend.___innerPageLoad3=function(d){if(this.autoLoadedModulesDefine){var g=this.autoLoadedModulesDefine.length;var n=false;for(var j=0;j<g;j++){var p=this.autoLoadedModulesDefine[j];if(!String.isEmpty(p.name)){if(p.isinfo!=null&&p.isinfo==true){this.infoPageModuleName=p.name;
n=true;}else{if(p.isview!=null&&p.isview==true){this.viewPageModuleName=p.name;n=true;}}}}var m=this.ut("list");if(m){var h=m.getAttr("ct");if(h&&h=="table"){if(m.element[ElementEventManager.e]==null||!m.element[ElementEventManager.e].contains("rowOperationClick")){m.addEvent("rowOperationClick",this.innerListOperation);
m=null;}}}var o=this.ut("btn_add");if(o){if(o.element[DelegateUIEventManager.e]==null||!o.element[DelegateUIEventManager.e].contains("click")){o.addEvent("click",this.innerInsertBottonClick);o=null;}}}};pageObjectExtend.getForm=function(d,j,l){if(d){d=d.toLowerCase().trim();}else{return null;}if(!this.___forms2){this.___forms2=new hashtable();
}var h=null;try{if(this.___forms2.contains(d)){h=this.___forms2.getvalue(d);h.show();return h;}else{if(j!=null&&!String.isEmpty(j.path)){if(l!=null){if(j==null){j={moduleLoadArg:l};}else{if(j.moduleLoadArg==null){j.moduleLoadArg=l;}}}j.formtype=this.formType;j.module=this;h=this.loadForm3(j);this.___forms2.add(d,h);
return h;}}}catch(g){LEAP.showError(g);}finally{j=h=null;}};pageObjectExtend.__asynSetPageData=function(l,n,j,h,d){if(j==null){j=true;}if(j){this.data=l;}var m=null;var g=d;if(g==null){g=this.parentElement;}if(n!=null){m="[ds="+n+"]";}if(this.beforeSetPageData){this.beforeSetPageData(l);}LEAP.bindData(l,this.instance,m,h,g);
this.___autoHeight(g);if(this.afterSetPageData){this.afterSetPageData(l);}this.fireEvent("onsetpagedata",l);};pageObjectExtend.getUserInfo=function(){return LEAP.getUserInfo();};pageObjectExtend.toJSONObject=function(d){if(d==null){return null;}return JSON.parse(d);};pageObjectExtend.toJSONString=function(d){if(d==null){return null;
}return JSON.stringify(d);};pageObjectExtend.forms=function(d,n,q,o,j,r){var p=d;if(d){d=d.toLowerCase().trim();}else{return null;}var l=this.____formdefs.getvalue(d);if(!l){l={mode:(n==null)?"insert":n,path:p,name:p};this.____formdefs.add(d,l);}if(l){l=LEAP.clone(l);if(!this.___forms2){this.___forms2=new hashtable();
}var g=null;if(this.___forms2.contains(d)){g=this.___forms2.getvalue(d);if(n){g.mode=n;g.module.pageMode=n;}if(j){l.formtype=j;}else{if(!l.formtype){l.formtype=this.formType;}}g.formtype=l.formtype;this.___afterGetModule(g.module);if(g.module.isworkflow&&q&&q.workflow){g.module.workflow=q.workflow;LWFP.API.ModuleProcess.process(g.module);
}return g;}else{if(l!=null&&!String.isEmpty(l.path)){if(q!=null){if(l==null){l={moduleLoadArg:q};}else{if(l.moduleLoadArg==null){l.moduleLoadArg=q;}}}l.authority=o;var m;if(l.initShow==null){l.initShow=true;}else{m=l.initShow;}l.pageMode=n;if(j){l.formtype=j;}else{if(!l.formtype){l.formtype=this.formType;
}}l.module=this;if(r){l.router=r;}g=this.loadForm3(l);if(m!=null&&m==true){g.show();}else{g.hide(false);}g._isFormObj=true;g.moduleLoadArg=q;if(g){var h=g.module;if(h){this.___afterLoadModule(l,h);if(n!=null){g.mode=n;}}g.show=function(x){if(x){this.mode=x;}if(this.__showCount==null){this.__showCount=1;
if(this.module){this.module.__showCount=1;}}else{this.__showCount++;if(this.module){this.module.__showCount=this.__showCount;}}try{if(this.module.isworkflow){LWFP.API.ModuleProcess.process(this.module);}if(this.__showCount>1&&this.mode&&this.module){var w=LEAP._peGetMM(this.module);this.module.pageMode=w.pageMode=this.mode;
if(this.mode=="search"&&w&&w.searchPageLoad){w.searchPageLoad(this.moduleLoadArg);}else{if(this.mode=="insert"&&w&&w.insertPageLoad){w.insertPageLoad(this.moduleLoadArg);}else{if(this.mode=="modify"&&w&&w.modifyPageLoad){w.modifyPageLoad(this.moduleLoadArg);}else{if(this.mode=="view"&&w&&w.viewPageLoad){w.viewPageLoad(this.moduleLoadArg);
}}}}if(this.mode=="view"){var z=w.___btnSubmit;if(z!=null){z.style.display="none";z=null;}}else{if(this.mode=="insert"||this.mode=="modify"){var z=w.___btnSubmit;if(z!=null){z.style.display="";z=null;}w._rebuildMdAttr(this.mode);}}w._hideButton(this.mode);w._hideExpressElement();if(this.module.masterModule){this.module._hideButton(this.mode);
}}}catch(y){LEAP.messagebox.alert(y.message);}var u=LEAP.form.t_last_ctid&&LEAP.form.t_last_ctid==LEAP.ctid(LEAP.getElement(this.form))&&LEAP.form.t_last&&new Date().getTime()-LEAP.form.t_last2<200;LEAP.form.show(this.form,this.formtype,!u);if(l.ismaxsize==true){LEAP.form.maxSize(this.form);}};h=null;
}this.___forms2.add(d,g);this.___afterGetModule(g.module);return g;}}}};pageObjectExtend.modules=function(g){if(g){g=g.toLowerCase().trim();}else{return null;}if(this.____moduledefs.contains(g)){var d=this.____moduledefs.getvalue(g);this.___afterGetModule(d);return d;}var h=this.____moduledefs2.getvalue(g);
if(h){var d=this.___innerLoadModule(h);this.___afterGetModule(d);return d;}var l=this.___forms2.getvalue(g);if(l){try{this.___afterGetModule(l.module);return l.module;}catch(j){LEAP.showError(j);}finally{l=null;}}};pageObjectExtend.innerListOperation=function(q){var n=q.arg2.flag;var j=q.arg2.index;var h=q.arg2.data;
var m=q.arg2.table;try{LEAP[this.listmode].setSelectedIndex(m,j);pageObjectExtend.tab_unitesave_list_sindex=j;if(n==1||n==2){var o=null;if(n==1){var d=this.viewPageModuleName;if(!d){d=this.infoPageModuleName;}var p=this.forms(d,"view");p.show();p.module.setPageData(h);}else{if(n==2){var p=this.forms(this.infoPageModuleName,"modify");
p.show();p.module.setPageData(h);}}}else{if(n==3){if(window.confirm("?")){if(this.unitesave&&this.unitesave=="1"){pageObjectExtend.tab_unitesave_list_del(this,j);}else{if(this.onListDeleteData!=null){var l=this.onListDeleteData(h,this.pks);if(l==true){this.innerSearch2();this.fireEvent("deletesubmit",h);
}}else{if(this.beanDelete(h)==true){this.innerSearch2();this.fireEvent("deletesubmit",h);}}}}}}}catch(g){LEAP.showError(g);}finally{m=q=n=j=h=null;}};pageObjectExtend.innerInsertBottonClick=function(d){if(!this.infoPageModuleName){return;}var g=this.forms(this.infoPageModuleName,"insert");g.show();g.module.clearPageData(true);
if(this.unitesave!=null){if(g!=null&&g.module!=null){g.module.unitesave=this.unitesave;if(this.unitesave=="1"){g.module.submitMode=3;}else{g.module.submitMode=null;}pageObjectExtend.bindlinkdata(g.module,this.linkdata);}}};pageObjectExtend.innerInsertSubmit=function(){var o=null;var p=null;try{if(this.beforeInsertValidate){var z=this.beforeInsertValidate();
if(z==false){return -91;}}if(this.skipValidate!==null&&this.skipValidate==true){}else{o=this.validateUI(null,this.validateArea);}if(o!=null){return -9;}if(this.insertValidate){var z=this.insertValidate();if(z==false){return -11;}}if(this.submitValidate){var z=this.submitValidate();if(z==false){return -1;
}}var d=this.moduleElement;var G=null;if(d){G=d.getAttribute("bystep");}if(G=="2"){if(this.parentPageModule){p=pageObjectExtend.formstep_getdata(this.parentPageModule);}else{var x=LEAP._match(this.parentElement,"formstep","ct",99);p=pageObjectExtend.formstep_getdata(x);}}else{p=this.getCreateParameter(null,this.validateArea);
}if(this.buildCreateParameter){p=this.buildCreateParameter(p);}if(p==null){if(G=="1"){return p;}if(this.skipMessage!=null&&this.skipMessage!=null){return -2;}LEAP.messagebox.alert(",",2);return -2;}if(this.parentPKValue&&this.linkedfield){if(this.moduleVersion>1){p[this.linkedfield]=this.parentPKValue;
}else{p.addparameter(this.linkedfield,this.parentPKValue);}}this.buildExtendPageData(p);if(this.insertBeforeSubmit){var z=this.insertBeforeSubmit(p);if(z==false){return -13;}}if(this.beforeSubmit){var z=this.beforeSubmit(p);if(z==false){return -3;}}if(this.submitMode!=null&&this.submitMode==2){if(this.parentPageModule&&this.outerSubmit){try{if(this.parentPageModule&&typeof this.outerSubmit=="string"){this.parentPageModule[outerSubmit].call(this,this,"insert",p,this.submitMode);
}else{this.outerSubmit.call(this.parentPageModule,this,"insert",p,this.submitMode);}if(this.sysBeforeSubmit){this.sysBeforeSubmit(p);}this.clearPageData();this.hideForm();}catch(D){LEAP.messagebox.alert(D.message,3);return -99;}}return 99;}if(this.submitMode!=null&&this.submitMode==3){if(this.parentPageModule){try{pageObjectExtend.tab_unitesave_list_add(this.parentPageModule,this.getPageData().data);
this.clearPageData();this.hideForm();}catch(D){LEAP.messagebox.alert(D.message,3);return -99;}}return 99;}try{if(G=="1"){return p;}}catch(D){LEAP.messagebox.alert(D.message,3);return -99;}var w=null;var I=null;var n=null;var F=null;var h=null;var C=false;if(this.___linkmodule2cts){C=true;var y=this.___linkmodule2cts.length;
for(var B=0;B<y;B++){var m=LEAP.linkmodule2.getValue(this.___linkmodule2cts[B]);if(m!=null&&m.create!=null&&m.create.length>0){if(I==null){I=[];}for(var A=0;A<m.create.length;A++){I.add(m.create[A]);}}if(m!=null&&m.del!=null&&m.del.length>0){if(F==null){F=[];}for(var A=0;A<m.del.length;A++){F.add(m.del[A]);
}}if(m!=null&&m.change!=null&&m.change.length>0){if(n==null){n=[];}for(var A=0;A<m.change.length;A++){n.add(m.change[A]);}}if(m!=null&&m.result!=null&&m.result.length>0){if(h==null){h=[];}for(var A=0;A<m.result.length;A++){h.add(m.result[A]);}}}}if(this.WFMode&&this.WFMode==true&&this.innerWFInsertSubmit){if(this.sysBeforeSubmit){this.sysBeforeSubmit(p,I);
}w=this.innerWFInsertSubmit(p,I,n,F,h);}else{if(this.sysBeforeSubmit){this.sysBeforeSubmit(p,I);}if(this.WFExtMode&&this.WFExtMode==true){var g=null;if(this.getChildPar){g=this.getChildPar(I);}if(g!=null){I=g;}var H={parameter:p,childPar:I};return H;}else{var r="DynaCreate3";if(this.moduleVersion>1){r="beanCreate";
}if(!String.isEmpty(this.service_insert)){r=this.service_insert;if(this.isInLinkModule2!=null&&this.isInLinkModule2){var u=this.getParentModule();if(u){w=u.childModuleSubmit(r,p,0);u=null;}}else{var g=null;if(this.getChildPar){g=this.getChildPar(I);}if(g!=null){I=g;}if(C||g!=null){if(this.exSubmitParam!=null){w=this.request(r,{par:p,childPar:I,exParams:this.exSubmitParam});
}else{w=this.request(r,{par:p,childPar:I});}}else{if(this.exSubmitParam!=null){w=this.request(r,{par:p,exParams:this.exSubmitParam});}else{w=this.request(r,{par:p});}}}}else{if(this.isInLinkModule2!=null&&this.isInLinkModule2){var u=this.getParentModule();if(u){w=u.childModuleSubmit(r,p,0);u=null;}}else{w=this.request(r,{par:p,childPar:I});
}}}}if(!(this.WFExtMode&&this.WFExtMode==true)){return this.innerInsertSubmitStep2(w,p,I);}}catch(q){LEAP.showError(q);}finally{p=I=null;}};pageObjectExtend.innerInsertSubmitStep2=function(q,n,o){try{if(q){try{if(this.submitCallBack){try{var m=null;var j=null;if(this.parentPageModule&&typeof this.submitCallBack=="string"){var m=this.parentPageModule[submitCallBack];
}else{var m=this.submitCallBack;j=this.submitCallBack_domain;}if(j==null){j=m.domain;}if(j==null){j=this;}m.call(j,this,"insert",n,o,q);}catch(l){LEAP.messagebox.alert(l.message,3);}}if(this.insertSucess){var r=this.insertSucess(q);if(r==false){return 1;}}if(this.submitSucess){var r=this.submitSucess(q);
if(r==false){return 1;}}if(this.sysSubmitSucess){var r=this.sysSubmitSucess(q);if(r==false){return 1;}}this.fireEvent("onSubmit");if(this.instance!=null){this.fireEvent("insertsubmit",n);if(this.parentPageModule&&this.pageModuleName){var d="on_"+this.pageModuleName+"_Submit";if(this.parentPageModule[d]){try{this.parentPageModule[d].call(this.parentPageModule,{type:"insert",result:q,module:this,parameter:n,childPar:o});
}catch(h){LEAP.showError(h);}}var d="on_"+this.pageModuleName+"_InsertSubmit";if(this.parentPageModule[d]){try{this.parentPageModule[d].call(this.parentPageModule,{type:"insert",result:q,module:this,parameter:n,childPar:o});}catch(h){LEAP.showError(h);}}}if(this.WFMode2==null){this.clearPageData();this.hideForm();
}if(this.autoRefreshParentModule){var g=this.getParentModule();if(g){if(g.pageMode=="search"){g.innerSearch2();}g=null;}}}}catch(h){LEAP.showError(h);}finally{return 1;}}else{var h=this.getLastError();if(h!=null){LEAP.messagebox.alert(h.error,3);}return -4;}}catch(h){LEAP.showError(h);}finally{errCtlList=n=null;
}};pageObjectExtend.innerModifySubmit=function(){var p=null;var o=null;try{if(this.beforeModifyValidate){var q=this.beforeModifyValidate();if(q==false){return -91;}}if(this.skipValidate!==null&&this.skipValidate==true){}else{p=this.validateUI(null,this.validateArea);}if(p!=null){return -9;}if(this.modifyValidate){var q=this.modifyValidate();
if(q==false){return -21;}}if(this.submitValidate){var q=this.submitValidate();if(q==false){return -1;}}o=this.getUpdateParameter(null,this.validateArea);if(this.buildUpdateParameter){o=this.buildUpdateParameter(o);}if(o==null){if(this.___linkmodule2cts){var g=LEAP.linkmodule2.tSubmitFn(this,this.___linkmodule2cts);
if(g==true){return this.innerModifySubmitStep2(true,o);}else{return g;}}else{return -2;}}this.buildExtendPageData(o);if(this.modifyBeforeSubmit){var q=this.modifyBeforeSubmit(o);if(q==false){return -23;}}if(this.beforeSubmit){var q=this.beforeSubmit(o);if(q==false){return -3;}}if(this.sysBeforeSubmit){this.sysBeforeSubmit(o);
}if(this.submitMode!=null&&this.submitMode==2){if(this.outerSubmit){try{if(this.parentPageModule&&typeof this.outerSubmit=="string"){this.parentPageModule[outerSubmit].call(this,this,"modify",o,this.submitMode);}else{this.outerSubmit.call(this,this,"modify",o,this.submitMode);}this.clearPageData();this.hideForm();
}catch(l){if(l&&l.message){LEAP.messagebox.alert(l.message,3);}return -99;}}return 99;}if(this.submitMode!=null&&this.submitMode==3){if(this.parentPageModule){try{var h=this.getPageData().data;pageObjectExtend.tab_unitesave_list_modify(this.parentPageModule,h);this.clearPageData();this.hideForm();}catch(l){if(l&&l.message){LEAP.messagebox.alert(l.message,3);
}return -99;}}return 99;}var m="DynaModify";if(this.moduleVersion>1){m="beanModify";}if(!String.isEmpty(this.service_modify)){m=this.service_modify;}var r=null;if(this.WFMode&&this.WFMode==true&&this.innerWFModifySubmit){r=this.innerWFModifySubmit(o);}else{if(this.WFExtMode&&this.WFExtMode==true){var j={parameter:o};
return j;}else{if(this.isInLinkModule2!=null&&this.isInLinkModule2){var n=this.getParentModule();if(n){r=n.childModuleSubmit(m,o,1);n=null;}}else{if(this.exSubmitParam!=null){r=this.request(m,{par:o,exParam:this.exSubmitParam});}else{r=this.request(m,{par:o});if(r&&this.___linkmodule2cts){LEAP.linkmodule2.tSubmitFn(this,this.___linkmodule2cts);
}}}}}if(!(this.WFExtMode&&this.WFExtMode==true)){return this.innerModifySubmitStep2(r,o);}}catch(d){LEAP.showError(d);}finally{p=o=null;}};pageObjectExtend.innerModifySubmitStep2=function(o,n){try{if(o){try{if(this.submitCallBack){try{var m=null;var j=null;if(this.parentPageModule&&typeof this.submitCallBack=="string"){var m=this.parentPageModule[submitCallBack];
}else{var m=this.submitCallBack;j=this.submitCallBack_domain;}if(j==null){j=m.domain;}if(j==null){j=this;}m.call(j,this,"modify",n,o);}catch(l){LEAP.messagebox.alert(l.message,3);}}if(this.modifySucess){var q=this.modifySucess(o);if(q==false){return 1;}}if(this.submitSucess){var q=this.submitSucess(o);
if(q==false){return 1;}}if(this.sysSubmitSucess){var q=this.sysSubmitSucess(o);if(q==false){return 1;}}this.fireEvent("onSubmit");this.fireEvent("modifysubmit",n);if(this.instance!=null){if(this.parentPageModule&&this.pageModuleName){var d="on_"+this.pageModuleName+"_Submit";if(this.parentPageModule[d]){try{this.parentPageModule[d].call(this.parentPageModule,{type:"modify",result:o,module:this,parameter:n});
}catch(h){LEAP.showError(h);}}var d="on_"+this.pageModuleName+"_ModifySubmit";if(this.parentPageModule[d]){try{this.parentPageModule[d].call(this.parentPageModule,{type:"modify",result:o,module:this,parameter:n});}catch(h){LEAP.showError(h);}}}if(this.WFMode2==null){this.clearPageData();this.hideForm();
}if(this.autoRefreshParentModule){var g=this.getParentModule();if(g){if(g.pageMode=="search"){g.innerSearch2();}g=null;}}}}catch(h){LEAP.showError(h);}finally{return 1;}}else{var h=this.getLastError();if(h!=null){LEAP.messagebox.alert(h.error,3);}return -4;}}catch(h){LEAP.showError(h);}finally{n=null;
}};pageObjectExtend.innerInfoSubmit=function(){try{if(this.innerWFModuleSubmit&&this.WFMode2!=null&&this.WFMode2==true){return this.innerWFModuleSubmit();}else{if(this.pageMode){if(this.pageMode=="modify"){var d=this.innerModifySubmit();if(d==-2&&window._updatebtn_close===true){var g=this.modifyautoclose;
if(g==null||g=="true"){this.hideForm();}}return d;}else{if(this.pageMode=="insert"){return this.innerInsertSubmit();}}}else{return this.innerInsertSubmit();}}}catch(h){LEAP.showError(h);}};pageObjectExtend.getDateUtil=function(){return new DateUtil();};pageObjectExtend.setQueryData=function(d){this.isp_out=d;
this.innerSearch();};pageObjectExtend.saveModuleAuthoritySatus=function(){var g=this.___alpanels;if(g){var d=g.length;for(var h=0;h<d;h++){var m=g[h];m.setAttribute("_sys_opstatus_s_display",m.style.display);var j=m.getAttribute("_sys_opareastatus");if(String.isEmpty(j)){j="0";}m.setAttribute("_sys_opstatus_s_code",j);
m=null;}g=null;}};pageObjectExtend.resotreModuleAuthoritySatus=function(){var g=this.___alpanels;if(g){var d=g.length;for(var h=0;h<d;h++){var n=g[h];var m=n.getAttribute("_sys_opareastatus");var j=n.getAttribute("_sys_opstatus_s_code");if(String.isEmpty(m)){m=0;}if(String.isEmpty(j)){j=0;}if(m!=j){if(m=="110"){LEAP.setOPAreaStatus(n,j,null,true);
}else{LEAP.setOPAreaStatus(n,j);}}n=null;}g=null;}};pageObjectExtend.getCodeText=function(d,j,h,g){return LEAP.getCodeText(d,j,h,g?g:this.router);};pageObjectExtend.getCodeValue=function(g,d,h){return LEAP.getCodeValue(g,d,h?h:this.router);};var customControl={};customControl.instance=null;customControl.ctElement=null;
customControl.ctType=null;customControl._onLoad=function(d){};customControl.onLoad=function(d){this.ctElement=d;this.addEvent(d,"click",this.uiProcess);this.instance=d.getAttribute(commfields.instance);if(this._onLoad!=null){this._onLoad(d);}};customControl.getCTModule=function(){return LEAP.getLoadedModule(this.instance);
};customControl.handleEvent=function(g,d){ElementEventManager.handleEvent(this.ctElement,g,d);};customControl.addManagedEventType=function(d){ElementEventManager.addManagedEventType(this.ctType,d);};customControl._uiProcess=function(d){};customControl.uiProcess=function(d){var l=d.e.srcElement;var h=LEAP._match(l,this.ctType,"cttype",99);
this.ctElement=h;var g=null;var j=null;if(d.arg!=null){if(d.arg.fn!=null){j=d.arg.fn;}}if(j!=null){j.call(this,d);}else{if(this._uiProcess!=null){this._uiProcess(d);}}};customControl.addEvent=function(j,h,g,d){if(g==null){return;}if(j==null){return;}if(typeof(j)==commfields.string){if(j.indexOf("instance")==-1){j=LEAP.getElements(j+"[instance="+this.instance+"]",this.ctElement);
}else{j=LEAP.getElements(j);}}LEAP.addEvent(j,h,g,d,this,true);};customControl.removeEvent=function(g,d){if(typeof(g)==commfields.string){g=LEAP.getElements(g+"[instance="+this.instance+"]",this.ctElement);}LEAP.removeEvent(g,d,this.uiProcess);};customControl._setValue=function(d,g){};customControl.setValue=function(d,g){if(this._setValue){this._setValue(d,g);
}};customControl._getValue=function(d){};customControl.getValue=function(d){if(this._getValue){return this._getValue(d);}};pageObjectExtend._initpes=function(){var D=this.moduleElement;if(D){var p=D.getAttribute("lem");if(!String.isEmpty(p)){var g=null;try{g=JSON.parse(p);}catch(B){}if(g){var j=[];var m=new hashtable();
var y=g.length;for(var z=0;z<y;z++){var h=g[z];if(!h.e){continue;}if(h.qfm!=null&&!h.qfmo){var n=h.qfm.split(",");h.qfmo=[];for(var r=0;r<n.length;r++){var x=n[r];var o=x.split("=");h.qfmo.add(o);}}if(h.p){var G=h.p+"|"+h.e;var F=this.getST(h.p);if(!F){continue;}if(!j.contains(G)){j.add(G);this.addEvent(F,h.e,this._peshandleEvent,2);
}var u=F._ledef;if(!u){u=new hashtable();F._ledef=u;}var q=h.s;if(h.t){q=q+"|"+h.t;}if(h.f!=null){q=q+"|"+h.f;}F._ledef.add(q,h);var w=this.getST(h.s);if(!w._ledef){w._ledef=new hashtable();}if(!w._ledef.contains(q)){w._ledef.add(q,h);}w=null;if(h.initload){var d=this.getST(h.p);if(d&&d.getAttribute("ct")=="tab"){LEAP.tab.setSelectedIndex(d,h.f);
d=null;}else{if(d&&d.getAttribute("ct")=="dot"){LEAP.dotsplit.setSelectedIndex(d,h.f);d=null;}else{if(d&&d.getAttribute("ct")=="grouplist"){LEAP.grouplist.setSelectIndex(d,h.f);d=null;}}}}F=null;}else{if(h.s){var w=this.getST(h.s);if(!w){continue;}var q=h.s+"|"+h.t;var A=w._ledef;var C=false;if(!A){A=new hashtable();
C=true;}if(!A.contains(q)){A.add(q,h);}w._ledef=A;if(C){this.addEvent(w,h.e,this._peshandleEvent,1);}w=null;}}}}}}D=null;};LEAP._peGetMM=function(d){try{if(d&&d.masterModule){return d.masterModule;}return d;}finally{d=null;}};pageObjectExtend._peshandleEvent=function(M){var h=M.arg;var K=null;K=M.caller;
if(K.srcElement){K=K.srcElement;}var G=K._ledef;var x=K.getAttribute("st");var ad=M.type;var aa=null;var P=null;var ac=null;var Q=null;if(h==1){if(!G||!G.keys){return;}for(var F in G.keys){if(!F){continue;}if(F.indexOf("|module")>-1){aa=G.getvalue(F);}else{if(F.indexOf("|method")>-1){P=G.getvalue(F);
}}}}else{if(h==2){var l=M.arg2.srcst;if(l){var o=this.getST(l);if(o){G=o._ledef;if(!G||!G.keys){return;}ac=M.arg2.data;Q=M.arg2.flag;for(var F in G.keys){if(!F||!G.getvalue(F)){continue;}var J=G.getvalue(F);if(J.f!=null&&J.f==Q){if(F.indexOf("|module")>-1){aa=G.getvalue(F);}else{if(F.indexOf("|method")>-1){P=G.getvalue(F);
}}}else{if(Q==null){if(F.indexOf("|module")>-1){aa=G.getvalue(F);}else{if(F.indexOf("|method")>-1){P=G.getvalue(F);}}}}}}}}}var j=null;var g=null;if(aa&&ad==aa.e){if(aa.prem){var H=aa.prem;var A=null;if(H.indexOf("(")>0&&H.indexOf(")")>0){var U=H.substring(H.indexOf("(")+1,H.length-1);if(U){A=U.split(",");
}H=H.substring(0,H.indexOf("("));}var d=false;if(this[H]){if(A!=null){d=this[H].apply(this,A);}else{d=this[H](M);}if(d!=null&&d==false){return;}}}var N=3;if(aa.ft){N=aa.ft;}var y="view";if(aa.vt){y=aa.vt;}var u=null;if(aa.qfm){u={autosearch:false};}var T=null;if(ad=="selectedIndexChange"||ad=="dotSplitIndexChange"){if(y!="search"){y=this.pageMode;
}var R=this.st(aa.s);if(R){R=R.element;}T=R.getAttribute("linkfiled");}if(aa.c){var D=this.moduleElement.getAttribute("unitesave");if(D!=null&&D=="1"){if(this.pageMode!="insert"){D="0";}}if(u==null){u={unitesave:D};}else{u.unitesave=D;}if(!this._peloadmodules){this._peloadmodules=new hashtable();}var X=aa.n;
if(aa.c){X=X+"_"+aa.c;}if(!this._peloadmodules.contains(X)){var Y=this.loadModule2({name:aa.n,pageMode:y,parent:this.getST(aa.c),moduleLoadArg:u});this._peloadmodules.add(X,Y);if(Y){Y=LEAP._peGetMM(Y);var C=false;if(y=="insert"){Y.clearPageData();}else{if(y!="search"){C=true;if(ac!=null){Y.setPageData(ac);
}}}if(!C&&aa.sp){if(ac!=null){Y.setPageData(ac);}}}j=Y;}else{j=this._peloadmodules.getvalue(X);if(j.pageMode=="search"){if(!j.unitesave||j.unitesave=="0"){if(j.isNewFlag==null||j.isNewFlag==true){j.innerSearch();}}}}if(aa.ldtype){j.ldtype=aa.ldtype;}j.unitesave=D;pageObjectExtend.bindlinkdata(j,this.linkdata,T);
if(j.isNewFlag==null||j.isNewFlag==true){if(j.pageMode=="view"||j.pageMode=="modify"){if(!aa.ismain){pageObjectExtend.tab_unitesave_loaddata(j.name+"_"+aa.c,this);}}}pageObjectExtend.tab_unitesave_setModuleNew(this,j.name+"_"+aa.c,false);}else{var S=this.forms(aa.n,y,u,null,N);if(S){S.show();if(S.module){g=S.module;
var Y=LEAP._peGetMM(S.module);var C=false;if(y=="insert"){Y.clearPageData();}else{if(y!="search"){C=true;if(ac!=null){Y.setPageData(ac);}}}if(!C&&aa.sp){if(ac!=null){Y.setPageData(ac);}}pageObjectExtend.tab_unitesave_form(y,S.module,ac);S.module.linkdata=ac;}j=Y;S=null;}}if(aa.endm&&this[aa.endm]&&j){this[aa.endm](j);
}if(aa.ismain&&j){this.masterModule=j;}if(j){if(y=="insert"){j.isp_out_inset=this.isp_out;}}if(j&&(aa.fm)){if(!this._peloadmodulefms){this._peloadmodulefms=[];}if(!this._peloadmodulefms.contains(aa.n)){this._peloadmodulefms.add(aa.n);if(aa.fm!=null){var w=aa.fm.split(",");aa.fmo=[];for(var Z=0;Z<w.length;
Z++){var L=w[Z];var n=L.split("=");aa.fmo.add(n);}if(aa.n=="gisp_location"){j.regEvent(aa.f,this._peshandleEvent_gpe,this,aa);}else{var I=j.getElement("div[ut=list]");if(I){j.addEvent(I,"doubleClick",this._peshandleEvent_fm,aa,null,this);j.addEvent(I,"rowOperationClick",this._peshandleEvent_rowclick,aa,null,this);
}}}}if(aa.n=="gisp_location"){if(j.setLocation){var ac=j.parentPageModule.getPageData().data;if(ac){j.setLocation(ac,aa.fm);}}}}if(j&&aa.qfmo){if(ac){var W={};for(var Z=0;Z<aa.qfmo.length;Z++){var r=aa.qfmo[Z][0];var q=aa.qfmo[Z][1];W[q]=ac[r];}j.setQueryData(W);}else{j.setQueryData(null);}}}if(P&&ad==P.e){if(!P.n){return;
}if(P.ds&&P.ds=="page"){var z=this;if(this.masterModule){z=this.masterModule;}var O=z.getPageData();if(O){ac=O.data;}else{ac=null;}}var p=P.n;var B=this;if(g){B=g;}else{if(j){B=j;}}p=p.split(";");for(var Z=0;Z<p.length;Z++){var V=false;var ab=p[Z];if(p[Z].indexOf("(")>0&&p[Z].indexOf(")")>0){var U=p[Z].substring(p[Z].indexOf("(")+1,p[Z].length-1);
if(U){ac=U.split(",");V=true;}ab=p[Z].substring(0,p[Z].indexOf("("));}if(B[ab]){if(ac!=null){if(V){B[ab].apply(B,ac);}else{B[ab](ac);}}else{B[ab](M);}}}}j=null;};pageObjectExtend.bindlinkdata=function(d,h,g){if(d==null){d=this;}if(h==null){h=d.linkdata;}else{d.linkdata=h;}if((h!=null&&h.id!=null)||g){var j=g;
if(j==null){j=d.linkedfield;}if(j==null){j=d.moduleElement.getAttribute("linkfiled");}if(j!=null){if(h!=null){d.parentPKValue=h.id;}d.linkedfield=j;}}};pageObjectExtend.tab_unitesave_list_sindex=0;pageObjectExtend.tab_unitesave_loaddata=function(h,p){if(h){var d=p._peloadmodules.getvalue(h);if(d!=null){var o=d.parentPKValue;
var j=d.linkedfield;var n=d.moduleName;var l=null;if(o&&j&&n){l=new SearchParameters();l.setName(d.moduleName);l.addParameter(j,o,11);}if(l==null){return;}var g=LEAP.request("DynaSearch",{par:l});if(g!=null){g=LEAP.convertResult(g);if(g!=null){g=g[0];if(g!=null){d.setPageData(g);return;}}}d.clearPageData();
}}};pageObjectExtend.tab_unitesave_setModuleNew=function(j,h,g){if(!j._peloadmodules){return;}if(h){var d=j._peloadmodules.getvalue(h);if(d){d.isNewFlag=g;}}else{for(key in j._peloadmodules.keys){var d=j._peloadmodules.getvalue(key);d.isNewFlag=g;}}};pageObjectExtend.tab_unitesave_list_add=function(d,h){var g=d.getUT("list");
LEAP.table.addRow(g,h,null,null,true);};pageObjectExtend.tab_unitesave_list_del=function(d,g){var h=d.getUT("list");LEAP.table.removeRow(h,g);};pageObjectExtend.tab_unitesave_list_modify=function(d,h){var g=d.getUT("list");LEAP.table.updateRow(g,pageObjectExtend.tab_unitesave_list_sindex,h);};pageObjectExtend.formstep_getdata=function(d){var g=null;
if(d.getUT){g=d.getUT("formstep");}else{g=d;}return LEAP.formstep.getValue(g);};pageObjectExtend.tab_unitesave_form=function(p,o,n){var h=o.moduleElement.getAttribute("unitesave");var j=0;if(o._peloadmodules!=null&&o._peloadmodules.count>=1){for(key in o._peloadmodules.keys){var g=o._peloadmodules.getvalue(key);
if(g.pageMode!="search"){g.pageMode=p;g.unitesave=h;}else{}if(p!="insert"){pageObjectExtend.bindlinkdata(g,n);if(j==0){if(g.pageMode=="insert"){g.clearPageData();}else{}}else{g.clearPageData();if(g.pageMode=="search"){if(g.parentPageModule.pageMode=="insert"){var l=g.getUT("list");LEAP.table.clearRow(l);
}}}}else{g.parentPKValue=linkdata=null;g.clearPageData();if(g.pageMode=="search"){if(g.parentPageModule.pageMode=="insert"){var l=g.getUT("list");LEAP.table.clearRow(l);}}}j++;}}pageObjectExtend.tab_unitesave_setModuleNew(o,null,true);var d=o.getElement("[ct=tab]");LEAP.tab.setSelectedIndex(d,0);};pageObjectExtend.BeforSubmit_Tab=function(g){var j=null;
try{if(g.pageMode=="search"){return;}j=g.getCreateParameter(null,g.validateArea);if(g.buildCreateParameter){j=g.buildCreateParameter(j);}if(j==null){if(g.skipMessage!=null&&g.skipMessage!=null){return -2;}LEAP.messagebox.alert(",",2);return -2;}if(g.parentPKValue&&g.linkedfield){if(g.moduleVersion>1){j[g.linkedfield]=g.parentPKValue;
}else{j.addparameter(g.linkedfield,g.parentPKValue);}}g.buildExtendPageData(j);if(this.pageMode=="insert"){if(g.insertBeforeSubmit){var d=g.insertBeforeSubmit(j);if(d==false){return -13;}}}else{if(this.pageMode=="modify"){if(g.modifyBeforeSubmit){var d=g.modifyBeforeSubmit(j);if(d==false){return -23;
}}}}if(g.beforeSubmit){var d=g.beforeSubmit(j);if(d==false){return -3;}}return 1;}catch(h){LEAP.showError(h);}finally{errCtlList=j=null;}};pageObjectExtend.innerInfoSubmit_Tab=function(){try{var A=null;var p=[];if(this._peloadmodules!=null&&this._peloadmodules.count>=1){for(y in this._peloadmodules.keys){var j=this._peloadmodules.getvalue(y);
var g=this.BeforSubmit_Tab(j);if(g<1){return;}var w=null;if(this.pageMode=="insert"){w=j.getPageData().data;w.beanname=j.moduleName;var C=j.linkedfield;if(C!=null){w.linkfiled=C;}if(j.pageMode=="search"){if(j.unitesave=="1"){var u=j.getUT("list");var B=LEAP.table.getRows(u);if(B!=null){for(var n=0;n<B.length;
n++){var z=B[n].data;if(C!=null){z.linkfiled=C;}z.beanname=j.moduleName;p.push(z);}}}w=null;}if(w){if(j==this.masterModule){A=w;}else{p.push(w);}}}else{if(this.pageMode=="modify"){if(j.pageMode!="search"){w=j.getPageData().change;if(w){w.id=j.getPageData().data.id;if(w.id==null){var C=j.linkedfield;if(C!=null){w[C]=j.parentPKValue;
}}w.beanname=j.moduleName;}}if(w){p.push(w);}}}}var x=false;if(this.pageMode=="insert"){x=LEAP.request("studiov2_Tab_Create",{manbean:A,beans:p});}if(this.pageMode=="modify"){var q=[];for(var n=0;n<p.length;n++){var w=p[n];var h={};for(var y in w){if(w[y]!=null&&w[y].value!=null){h[y]=w[y].value;}else{h[y]=w[y];
}}q.push(h);}x=LEAP.request("studiov2_Tab_Update",{changeresults:q});}if(this.pageMode=="view"){x=true;}if(x){this.hideForm();if(this.parentPageModule!=null){if(this.parentPageModule.innerSearch!=null){this.parentPageModule.innerSearch();}}this.fireEvent("onSubmit");}}}catch(l){LEAP.showError(l);}};pageObjectExtend.buildExtendPageData=function(g){if(this.moduleVersion>1){if(this.exdata!=null){for(var d in this.exdata){g[d]=this.exdata[d];
}}}};pageObjectExtend._peshandleEvent_gpe=function(d,g){this._peshandleEvent_fm({arg:g,arg2:{data:d}});};pageObjectExtend._peshandleEvent_rowclick=function(d){if(!d||d.arg2){var g=d.arg2.flag;if(g==""){this._peshandleEvent_fm(d);}}};pageObjectExtend._peshandleEvent_fm=function(q){var g=null;if(q&&q.arg2&&q.arg2.data){g=q.arg2.data;
}var p=null;if(q&&q.arg){p=q.arg;}if(g&&p&&p.fmo){for(var h=0;h<p.fmo.length;h++){var m=p.fmo[h][0];var l=p.fmo[h][1];if(this.exdata==null){this.exdata={};}var j=this.md(m);if(j){j.setValue(g[l]);j=null;}else{this.exdata[m]=g[l];}}var d=q.caller;if(d){var o=d;while(!o.hasAttribute("instance")){o=d.parentElement;
}if(o.hasAttribute("instance")){var n=LEAP.getLoadedModule(o.getAttribute("instance"));if(n){n.hideForm();n=null;}}}}};pageObjectExtend._initphs=function(){var m=this.moduleElement;if(m){var h=m.getAttribute("lhe");if(!String.isEmpty(h)){var d=null;try{d=JSON.parse(h);}catch(o){}if(d){var g=d.length;
for(var j=0;j<g;j++){var p=d[j];if(!p.e){continue;}if(p.s){var n=this.getST(p.s);if(!n){continue;}n._lhdef=p;this.addEvent(n,p.e,this._plhhandleEvent);}}}}}m=null;};pageObjectExtend._plhhandleEvent=function(arg){var src=arg.caller;if(src.srcElement){src=src.srcElement;}var def=src._lhdef;var st=src.getAttribute("st");
var type=arg.type;if(def&&def.e==type){var h=def.h;var ck=def.ck;var v=LEAP.getValue(src);var me=this.moduleElement;if(h&&h.length>0){var hides=null;var shows=null;for(var i=0;i<h.length;i++){if(h[i]&&h[i].v==v){hides=h[i].hide;shows=h[i].show;break;}}if(hides&&hides.length>0){for(var k=0;k<hides.length;
k++){var hEls=LEAP.getElements("[panel="+hides[k]+"]",me);this._hidePanelElement(hEls,true);}}if(shows&&shows.length>0){for(var k=0;k<shows.length;k++){var sEls=LEAP.getElements("[panel="+shows[k]+"]",me);this._hidePanelElement(sEls,false);}}}if(ck&&ck.length>0){var rmds=null;var nrmds=null;var cmds=null;
var ncmds=null;for(var i=0;i<ck.length;i++){if(ck[i]&&ck[i].v==v){rmds=ck[i].r;nrmds=ck[i].nr;cmds=ck[i].c;ncmds=ck[i].nc;break;}}var mdEl=null;if(rmds&&rmds.length>0){for(var k=0;k<rmds.length;k++){mdEl=LEAP.getElement("[md ="+rmds[k]+"]",me);if(mdEl){LEAP.setReadonly(mdEl,true);}}}if(nrmds&&nrmds.length>0){for(var k=0;
k<nrmds.length;k++){mdEl=LEAP.getElement("[md="+nrmds[k]+"]",me);if(mdEl){LEAP.setReadonly(mdEl,false);}}}if(cmds&&cmds.length>0){for(var k=0;k<cmds.length;k++){mdEl=LEAP.getElement("[md="+cmds[k]+"]",me);if(mdEl){var check=mdEl.getAttribute("check");if(check!=null&&check.trim().length>0){check=eval("({"+check+"})");
}if(check==null){check={};}check.notnull=true;var str=JSON.stringify(check);mdEl.setAttribute("check",str.substr(1,str.length-2).replaceall('"',""));mdEl.setAttribute("_dynacheck","check");}}}if(ncmds&&ncmds.length>0){for(var k=0;k<ncmds.length;k++){mdEl=LEAP.getElement("[md="+ncmds[k]+"]",me);if(mdEl){var check=mdEl.getAttribute("check");
if(check!=null&&check.trim().length>0){check=eval("({"+check+"})");}if(check==null){check={};}delete check.notnull;var str=JSON.stringify(check);mdEl.setAttribute("check",str.substr(1,str.length-2).replaceall('"',""));mdEl.setAttribute("_dynacheck","uncheck");if(mdEl.style["background-color"]){mdEl.style.removeAttribute("background-color");
delete mdEl.style["background-color"];}}}}}}};pageObjectExtend._hideExpressElement=function(){var me=this.moduleElement;if(!me){return;}var heepStr=me.getAttribute("heep");if(String.isEmpty(heepStr)){return;}var defs=null;try{defs=JSON.parse(heepStr);}catch(e){}if(defs&&defs.length>0){for(var i=0;i<defs.length;
i++){var exp=defs[i].exp;var bool=false;try{if(!eval(exp)){continue;}else{bool=true;}}catch(e){}if(!bool){continue;}var hide=defs[i].hide;var show=defs[i].show;if(hide&&hide.length>0){var hides=hide.split(",");for(var k=0;k<hides.length;k++){var hEls=LEAP.getElements("[panel="+hides[k]+"]",me);this._hidePanelElement(hEls,true);
}}if(show&&show.length>0){var shows=show.split(",");for(var k=0;k<shows.length;k++){var sEls=LEAP.getElements("[panel="+shows[k]+"]",me);this._hidePanelElement(sEls,false);}}}}};pageObjectExtend._hidePanelElement=function(m,j){if(!m||m.length==0){return;}var n=null;for(var h=0;h<m.length;h++){n=m[h];
if(j){n.style.display="none";}else{n.style.display="";}var g=LEAP.getElements("[md]",n);if(g&&g.length>0){for(var d=0;d<g.length;d++){var l=g[d].getAttribute("check");if(!j){g[d].removeAttribute("_hide");}else{if(j){g[d].setAttribute("_hide",1);}}}}}};pageObjectExtend._rebuildMdAttr=function(p){if(p=="view"||p=="search"){return;
}var o=this.moduleElement;if(!o){return;}var w=o.getAttribute("mext");var j=null;if(!String.isEmpty(w)){try{j=JSON.parse(w);}catch(n){}}if(!j){return;}var r=null;var q=null;for(var h in j){if(h=="rmds"){var d=j[h];if(d==null||d.length==0){continue;}r=d.split(",");for(var l=0;l<r.length;l++){if(q&&q.contains(r[l])&&p=="insert"){continue;
}var m=LEAP.getElement("[md="+r[l]+"]",o);if(m){LEAP.setReadonly(m,p=="modify");}}}else{if(h=="rmdcs"){var u=j[h];if(u==null||u.length==0){continue;}q=u.split(",");for(var l=0;l<q.length;l++){if(r&&r.contains(q[l])&&p=="modify"){continue;}var g=LEAP.getElement("[md="+q[l]+"]",o);if(g){LEAP.setReadonly(g,p=="insert");
}}}}}o=null;};pageObjectExtend._rebuildMdcheck=function(){if(this.data==null){return;}var n=this.moduleElement;var h=null;if(n){var q=n.getAttribute("lhe");if(!String.isEmpty(q)){var h=null;try{h=JSON.parse(q);}catch(m){}}}if(h){var g=h.length;for(var j=0;j<g;j++){var o=h[j];if(!o.e||o.e!="valueChange"){continue;
}if(o.s){var d=this.getST(o.s);if(!d){continue;}d._lhdef=o;var p={};p.caller={};p.caller.srcElement=d;p.type="valueChange";this._plhhandleEvent(p);}}}n=null;};pageObjectExtend._hideButton=function(l){if(!l||l=="search"){return;}var j=this.moduleElement;if(!j){return;}var h=LEAP.getElements("[_hidemode]",j);
if(h==null||h.length==0){return;}for(var d=0;d<h.length;d++){var g=h[d].getAttribute("_hidemode");if(g&&g.indexOf(l)>-1){h[d].style.display="none";}else{h[d].style.display="";}}};var pageElement=function(d,g){this.element=d;this.pageModule=g;};pageElement.prototype.getValue=function(){return LEAP.getValue(this.element);
};pageElement.prototype.setValue=function(d){LEAP.setValue(this.element,d);};pageElement.prototype.show=function(){var d=this.element.getAttribute(commfields.ct);if(d=="form"){LEAP.form.show(this.element);}else{this.element.style.display="";}};pageElement.prototype.hide=function(){var d=this.element.getAttribute(commfields.ct);
if(d=="form"){LEAP.form.hide(this.element);}else{this.element.style.display="none";}};pageElement.prototype.valueChange=function(d,g){if(d!=null&&typeof(d)=="function"){if(g==null&&this.pageModule!=null){g=this.pageModule;}if(g._isPageObject){g.addEvent(this.element,"valueChange",d);}else{LEAP.addEvent(this.element,"valueChange",d,null,g);
}}};pageElement.prototype.readOnly=function(l){if(l==null||l==1||l==true){l=true;}else{l=false;}var j=this.element;var h=j.getAttribute("ct");if(String.isEmpty(h)){if(l){j.setAttribute("readOnly","true");}else{j.removeAttribute("readOnly");}j=null;}else{if(l){j.setAttribute("readonly","1");}else{j.removeAttribute("readonly");
}if(h=="date"){LEAP.date.setReadOnly(j,l);}else{if(h=="areagroup"){var g=LEAP.getElements("div[ct=select]",j);if(g!=null){for(var d=0;d<g.length;d++){if(l){g[d].setAttribute("readonly","1");}else{g[d].removeAttribute("readonly");}}}g=null;}else{if(h=="simplecheck"){j.setAttribute("disabled","true");}}}j=null;
}};pageElement.prototype.click=function(d,g){if(d!=null&&typeof(d)=="function"){if(g==null&&this.pageModule!=null){g=this.pageModule;}if(g._isPageObject){g.addEvent(this.element,"click",d);}else{LEAP.addEvent(this.element,"click",d,null,g);}}};pageElement.prototype.addEvent=function(g,d,h){if(!String.isEmpty(g)&&d!=null&&typeof(d)=="function"){if(h==null&&this.pageModule!=null){h=this.pageModule;
}if(h._isPageObject){h.addEvent(this.element,g,d);}else{LEAP.addEvent(this.element,g,d,null,h);}}};pageElement.prototype.removeEvent=function(g,d,h){if(!String.isEmpty(g)&&d!=null&&typeof(d)=="function"){if(h==null&&this.pageModule!=null){h=this.pageModule;}if(h._isPageObject){h.removeEvent(this.element,g,d);
}else{LEAP.removeEvent(this.element,g,d,null,h);}}};pageElement.prototype.setHeight=function(g){var d=this.element.getAttribute(commfields.ct);if(d=="form"){LEAP.form.setSize(this.element,null,g);}else{this.element.style.height=g;}};pageElement.prototype.setWidth=function(d){var g=this.element.getAttribute(commfields.ct);
if(g=="form"){LEAP.form.setSize(this.element,d,null);}else{this.element.style.width=d;}};pageElement.prototype.setStyle=function(d){LEAP.setStyle(this.element,d);};pageElement.prototype.setClassName=function(d){this.element.className=d;};pageElement.prototype.addClassName=function(d){LEAP.addCSS(this.element,d,false);
};pageElement.prototype.delClassName=function(d){LEAP.removeCSS(this.element,d,false);};pageElement.prototype.getSelectedIndex=function(){var d=this.element.getAttribute(commfields.ct);if(d&&LEAP[d]&&LEAP[d].getSelectedIndex){return LEAP[d].getSelectedIndex(this.element);}};pageElement.prototype.setSelectedIndex=function(d){var g=this.element.getAttribute(commfields.ct);
if(g&&LEAP[g]&&LEAP[g].setSelectedIndex){return LEAP[g].setSelectedIndex(this.element);}};pageElement.prototype.getSelectedData=function(){var d=this.element.getAttribute(commfields.ct);if(d&&LEAP[d]&&LEAP[d].getRow){var g=LEAP[d].setSelectedIndex(this.element,this.getSelectedIndex());if(g){return g.data;
}}};pageElement.prototype.setTitle=function(g){var d=this.element.getAttribute(commfields.ct);if(d=="form"){LEAP.form.setTitle(this.element,g);}};pageElement.prototype.addItem=function(g,h){var d=this.element.getAttribute(commfields.ct);if(d){if(d&&LEAP[d]&&LEAP[d].addItem){LEAP[d].addItem(this.element,g,h);
}}};pageElement.prototype.setAttr=function(d,g){if(g==null){this.element.removeAttribute(d);}else{this.element.setAttribute(d,g);}};pageElement.prototype.getAttr=function(d){return this.element.getAttribute(d);};LEAP.wrap=function(d,g){if(d==null){return;}if(typeof(d)=="string"){if(g!=null){d=g.getElement(d);
}else{d=LEAP.getElement(d);}}if(d==null){return;}return new pageElement(d,g);};pageObjectExtend._initpls=function(){var F=this.moduleElement;if(F){var u=F.getAttribute("lmm");if(!String.isEmpty(u)){var d=null;try{d=JSON.parse(u);}catch(C){}if(d){var j=[];var A=d.length;this._lmm=new hashtable();for(var B=0;
B<A;B++){var h=d[B];if(h.s&&h.n){var D=this.getST(h.s);if(D){var z=h.vt;if(!z){z="search";}var w=null;if(h.tqfm){w={autosearch:false};}var y=this.loadModule2({name:h.n,pageMode:z,parent:D,moduleLoadArg:w});if(y){if(h.ismain){this.masterModule=y;}this._lmm.add(h.s,y.instance);}D=null;}}}}}u=F.getAttribute("lmes");
if(!String.isEmpty(u)&&this._lmm){d=null;try{d=JSON.parse(u);}catch(C){}if(d){var A=d.length;var p=[];for(var B=0;B<A;B++){var h=d[B];if(!String.isEmpty(h.tqfm)){var o=h.tqfm.split(",");h.tqfmo=[];for(var B=0;B<o.length;B++){var x=o[B];var q=x.split("=");h.tqfmo.add(q);}}if(h.s&&h.e&&h.ts){var r=LEAP.getLoadedModule(this._lmm.getvalue(h.s));
var g=LEAP.getLoadedModule(this._lmm.getvalue(h.ts));if(r&&g&&g[h.tm]){if(h.sct){var H=r.getST(h.sct);if(H){if(h.p){var n=r.getST(h.p);if(n){var G=h.p+"|"+h.e;if(!p.contains(G)){p.add(G);r.addEvent(n,h.e,this._plshandleEvent,h,null,this);}if(this.__ples==null){this.__ples=new hashtable();}if(h.f){this.__ples.add(h.sct+"|"+h.e+"|"+h.f,h);
}else{this.__ples.add(h.sct+"|"+h.e,h);}}}else{r.addEvent(H,h.e,this._plshandleEvent,h,null,this);}}}else{r.regEvent(h.e,this._plshandleEvent,this,h);}}}}}}}};pageObjectExtend._plshandleEvent=function(l,q,w){var C=null;var g=null;var r=null;var o=null;var z=null;if(l.arg){r=l.arg;if(l&&l.arg2){C=l.arg2.data;
o=l.arg2.srcst;z=l.arg2.flag;}g=l.type;}else{if(q){C=l;g=q.e;r=q;}}if(l&&l.arg2&&o&&this.__ples!=null){var x=l.caller;if(x){var p=x;while(!p.hasAttribute("instance")){p=x.parentElement;}if(p.hasAttribute("instance")){var n=LEAP.getLoadedModule(p.getAttribute("instance"));var h=n.getST(o);if(h){var D=o+"|"+g;
if(z){D+="|"+z;}var y=this.__ples.getvalue(D);if(y){r=y;}}}}}var d=LEAP._peGetMM(LEAP.getLoadedModule(this._lmm.getvalue(r.ts)));if(d){if(r.tm){if(r.tqfmo){if(C){var B={};for(var A=0;A<r.tqfmo.length;A++){var m=r.tqfmo[A][0];var j=r.tqfmo[A][1];B[j]=C[m];}d[r.tm](B);}else{d[r.tm](null);}}else{if(r.tf){if(C){var u=C[r.tf];
d[r.tm](u);return;}else{d[r.tm](null);}}else{d[r.tm](C);}}}}};function _LEAPUnload(){try{if(leapflash){leapflash.fp=null;leapflash=null;}var r=PageObjectModel.___allObjects.keys;for(var q in r){var m=PageObjectModel.___allObjects.getvalue(q);if(m&&m.dispose){try{m.dispose();m=null;}catch(u){}}}var o=LEAP.getElement("[__iuem=1]");
if(!o){o=[];}o.push(window);o.push(document);o.push(document.body);if(o){var d=o.length;for(var g=0;g<d;g++){var p=o[g];if(p.events){p.events=null;}for(var q in p){if(q.indexOf("on")==0&&p[q]&&typeof(p[q])=="function"){try{try{p.removeEventListener(q.charAt(2).toLowerCase()+q.substr(3),p[q]);}catch(h){}p[q]=null;
}catch(h){}}}p=null;}o.clear();o=null;}for(var q in UIEventManager){UIEventManager[q]=null;}for(var q in DelegateUIEventManager){DelegateUIEventManager[q]=null;}for(var q in LEAP){var n=LEAP[q];if(n&&typeof(n)=="object"){for(var j in n){try{if(n[j]&&typeof(n[j])=="object"){n[j]=null;}}catch(h){}}}n=LEAP[q]=null;
}LEAP=null;PageObjectModel.___allObjects=null;PageObjectModel=null;}catch(u){}}if(window.attachEvent){window.attachEvent("onunload",_LEAPUnload);}else{window.addEventListener("unload",_LEAPUnload);}var WorkDayService=function(){var h="leapworkdaycategory";var j="leapworkday";var d="leapworktimecategory";
var g="leapworktime";};LEAP.___defaultValueMaps=new hashtable();LEAP.___defaultValueMaps.add("","this.getUserInfo().getTime().getFullYear()");LEAP.___defaultValueMaps.add("","(this.getUserInfo().getTime().getMonth()+1)");LEAP.___defaultValueMaps.add("","this.getUserInfo().getTime().getDate()");LEAP.___defaultValueMaps.add("","this.getUserInfo().getTime().getHours()");
LEAP.___defaultValueMaps.add("","this.getUserInfo().getTime().getMinutes()");LEAP.___defaultValueMaps.add("","this.getUserInfo().getTimeFormart(0)");LEAP.___defaultValueMaps.add("","this.getUserInfo().fullName");LEAP.___defaultValueMaps.add("","this.getUserInfo().fullName");LEAP.___defaultValueMaps.add("ID","this.getUserInfo().userid");
LEAP.___defaultValueMaps.add("ID","this.getUserInfo().areaid");LEAP.___defaultValueMaps.add("","this.getUserInfo().areaCNName");LEAP.___defaultValueMaps.add("","this.getUserInfo().applictioncode");LEAP.___defaultValueMaps.add("ID","this.getUserInfo().positionid");LEAP.___defaultValueMaps.add("","this.getUserInfo().positionENName");
LEAP.___defaultValueMaps.add("","this.getUserInfo().positionENName");LEAP.___defaultValueMaps.add("ID","this.getUserInfo().orgid");LEAP.___defaultValueMaps.add("","this.getUserInfo().orgCNName");LEAP.___defaultValueMaps.add("","this.getUserInfo().email");LEAP.___defaultValueMaps.add("","this.getUserInfo().mobilephone");
LEAP.___defaultValueMaps.add("","this.getUserInfo().officephone");LEAP.___defaultValueMaps.add(".","this.getUserInfo().detail.");pageObjectExtend.processDefaultValues=function(els){if(this.___hasDVAttrs==null){if(els!=null){this.___hasDVAttrs=els;}else{this.___hasDVAttrs=this.getElements("[defaultvalueexp][instance="+this.instance+"]");
if(this.___hasDVAttrs==null){this.___hasDVAttrs=[];}}}var l=this.___hasDVAttrs.length;if(l>0){for(var i=0;i<l;i++){var cur=this.___hasDVAttrs[i];toev=cur.getAttribute("defaultvalueexpcom");if(String.isEmpty(toev)){var exp=cur.getAttribute("defaultvalueexp");if(!String.isEmpty(exp)){toev=this.processDefaultValueExp(exp);
cur.setAttribute("defaultvalueexpcom",toev);}}if(String.isEmpty(toev)){continue;}var v="";try{if(toev.indexOf("(")>-1&&toev.indexOf(")")>0){v=eval("("+toev+")");}else{v=eval('"'+toev+'"');}}catch(e){}LEAP.setValue(cur,v);}}};pageObjectExtend.processDefaultValueExp=function(m){if(typeof(m)!="string"){return;
}var j=m.length;var u=0;var p=new StringBuffer();var r=0;while(u>-1){var h=m.indexOf("{",u);if(h>-1){var n=-1;n=m.indexOf("}",h+1);if(n>-1){u=n+1;var o=m.substring(h+1,n);var q=o.indexOf(".");var d="";var g="";if(q>-1){d=o.substring(0,q+1);d=d.Trim();g=o.substring(q+1);}else{d=o;}if(LEAP.___defaultValueMaps.contains(d)){p.append(m.substring(r,h));
r=n+1;p.append(" ( ");p.append(LEAP.___defaultValueMaps.getvalue(d));p.append(g);p.append(" ) ");}continue;}}p.append(m.substring(r));u=-1;}return p.toString();};LEAP.messageclient={};LEAP.messageclient._ws=null;LEAP.messageclient.heartbeatInterval=null;LEAP.messageclient.heartbeatTimeout=null;LEAP.messageclient.RECONNECT_INTERVAL=5000;
LEAP.messageclient.reconnectAttempts=0;LEAP.messageclient.MAX_RECONNECT_ATTEMPTS=10;LEAP.messageclient.linkurl=null;LEAP.messageclient.__events=new Array();var WSConnect=function(d){LEAP.messageclient._ws=new WebSocket(d);LEAP.messageclient._ws.onopen=function(){console.log("WebSocket");LEAP.messageclient.reconnectAttempts=0;
LEAP.messageclient.startHeartbeat();};LEAP.messageclient._ws.onmessage=function(h){var g=h.data;if(g=="pong"){LEAP.messageclient.resetHeartbeatTimeout();}else{LEAP.messageclient.handleMessage(g);}};LEAP.messageclient._ws.onclose=function(){console.log("WebSocket");LEAP.messageclient.stopHeartbeat();
LEAP.messageclient.attemptReconnect();};LEAP.messageclient._ws.onerror=function(g){console.error("WebSocket: "+g);LEAP.messageclient.stopHeartbeat();LEAP.messageclient.attemptReconnect();};};LEAP.messageclient.startHeartbeat=function(){LEAP.messageclient.heartbeatInterval=setInterval(function(){if(LEAP.messageclient._ws.readyState==WebSocket.OPEN){LEAP.messageclient._ws.send("ping");
}},30000);LEAP.messageclient.resetHeartbeatTimeout();};LEAP.messageclient.resetHeartbeatTimeout=function(){if(LEAP.messageclient.heartbeatTimeout){clearTimeout(LEAP.messageclient.heartbeatTimeout);}LEAP.messageclient.heartbeatTimeout=setTimeout(function(){console.error("");LEAP.messageclient._ws.close();
},60000);};LEAP.messageclient.stopHeartbeat=function(){if(LEAP.messageclient.heartbeatInterval){clearInterval(LEAP.messageclient.heartbeatInterval);}if(LEAP.messageclient.heartbeatTimeout){clearTimeout(LEAP.messageclient.heartbeatTimeout);}};LEAP.messageclient.attemptReconnect=function(){if(LEAP.messageclient.reconnectAttempts<LEAP.messageclient.MAX_RECONNECT_ATTEMPTS){LEAP.messageclient.reconnectAttempts++;
var d=Math.min(LEAP.messageclient.RECONNECT_INTERVAL*Math.pow(2,LEAP.messageclient.reconnectAttempts-1),60000);console.info(d+""+LEAP.messageclient.reconnectAttempts+"");setTimeout(function(){LEAP.messageclient._ws=null;LEAP.messageclient.init(LEAP.messageclient.linkurl);},d);}else{console.error("");
}};LEAP.messageclient.handleMessage=function(h){h=decbase64data(decodeURIComponent(base64decode(h)));var n=null;if(LEAP.messageclient.isJSONStr(h)){n=JSON.parse(h);}else{n=h;}var m=LEAP.messageclient.__events;if(m.length>0){var d=m.length;for(var g=0;g<d;g++){var l=m[g];if(l!=null){var j=null;if(l.domain==null){j=window;
}else{j=l.domain;}if(l.callback!=null){if(typeof(l.callback)=="string"){if(j[l.callback]!=null&&typeof(j[l.callback])=="function"){j[l.callback].call(j,n);}}else{if(l.callback!=null&&typeof(l.callback)=="function"){l.callback.call(j,n);}}}}}}};LEAP.messageclient.addMesssage=function(h,g){var d={};d.callback=h;
d.domain=g;if(g!=null){if(g.instance!=null){d.moduleinstance=g.instance;}}if(LEAP.messageclient._ws!=null){LEAP.messageclient.__events.add(d);}};LEAP.messageclient.sendMessage=function(h,d){if(h!=null){if(h=="getConnectUsers"){LEAP.messageclient._ws.send(h);}else{if(LEAP.messageclient.isJSONObj(h)){if(d!=null){h.msgname=d;
}var g=JSON.stringify(h);g=base64encode(encodeURIComponent(encbase64data(g)));LEAP.messageclient._ws.send(g);}else{h=base64encode(encodeURIComponent(encbase64data(h)));LEAP.messageclient._ws.send(h);}}}};LEAP.messageclient.isJSONObj=function(g){try{if(g&&typeof g==="object"){return true;}return false;
}catch(d){return false;}};LEAP.messageclient.isJSONStr=function(h){try{var g=JSON.parse(h);if(g&&typeof g==="object"){return true;}return false;}catch(d){return false;}};LEAP.messageclient.init=function(n){if((LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>9)||LEAPBrowser.isWebKit){if("WebSocket" in window){if(!LEAP.messageclient._ws){var l=null;
var g=null;LEAP.messageclient.linkurl=n;if(n.indexOf("http://")>-1||n.indexOf("https://")>-1){l=n;}else{if(n.indexOf("ws://")>-1||n.indexOf("wss://")>-1){g=n;}else{l=getRouterUri(n);}}var j=LEAP.userInfo.userid;if(l!=null){var h="http";var d="ws";if(l.indexOf("https")>-1){h="https";d="wss";}g=l.replace(h,d);
}var m=g+"msgpush?uid="+j;new WSConnect(m);}}}};LEAP.messagepush={};LEAP.messagepush.connectionState=null;LEAP.messagepush.routertype=false;LEAP.messagepush.__ws=null;LEAP.messagepush.__events=new Array();var WSClient=function(d){this.hbtime=3*1000;this.reconnecttime=3*1000;this.wsc=null;this.kbTask=null;
this.lastRRTime=null;this.p_open=null;this.isOpend=false;this.ownerClose=false;this.onreconnct=false;this.msgq=[];this.msgsn=0;this.recq={};this._cp=function(){var g={};g.promise=new Promise(function(j,h){this.resolve=j;this.reject=h;}.bind(g));return g;};this.open=function(){console.debug("wsc api : open");
this.isOpend=false;this.ownerClose=false;this._open();this.p_open=this._cp();return this.p_open.promise;};this._open=function(){console.debug("wsc : _open");this.onreconnct=false;if(this.p_open){this._pp(0,"reopen");}this._close();this.wsc=new WebSocket(d);this.wsc.onopen=this._onOpen.bind(this);this.wsc.onclose=this._onClose.bind(this);
this.wsc.onerror=this._onError.bind(this);this.wsc.onmessage=this._onMsg.bind(this);};this.reconnct=function(){if(this.onreconnct){return;}console.debug("wsc : reconnct");this._close();this.onreconnct=true;window.setTimeout(this._open.bind(this),this.reconnecttime);};this.send=function(o,l,j,h){console.debug("wsc api: send");
if(l==null){l=1;}var g=null;var n={msg:o,num:j,name:h};if(l==2){var m=this._cp();g=m.promise;n.p=m;}this._send(n);return g;};this._send=function(g){console.debug("wsc : send:",g.msg);if(this.isOpend&&this.wsc!=null&&this.wsc.readyState==1){this.lastRRTime=new Date().getTime();var j=g.msg;if(g.p){var h=g.name;
j=[g.num,h,"\n",j].join("");g.msg=null;delete g.msg;this.recq["_"+h]=g.p;}this.wsc.send(j);}else{this.msgq.push(g);}};this.close=function(){console.debug("wsc api: close");this.ownerClose=true;this._close();};this._close=function(){console.debug("wsc : _close");this._pp(0,"closed");this.isOpend=false;
if(this.kbTask){window.clearInterval(this.kbTask);}this.kbTask=null;if(this.wsc!=null){try{this.wsc.close();}catch(g){}}this.wsc=null;};this._onMsg=function(l){this.lastRRTime=new Date().getTime();var h=l.data;if(h){switch(h.charAt(0)){case"0":this._close();break;case"1":break;case"4":var g="_"+h.substring(1);
var j=this.recq[g];if(j){this.recq[g]=null;delete this.recq[g];j.resolve();}break;case"5":console.error("wsc :server send error :",h);this._close();break;case"6":if(this.onMessage){this.onMessage(h);}break;case"7":if(this.onMessage){this.onMessage(h);}break;}}};this._onOpen=function(g){console.debug("wsc : _onOpen");
this.isOpend=true;this.kbTask=window.setInterval(this._sendHB.bind(this),this.hbtime);this._pp(1,"open");while(this.msgq.length>0){this._send(this.msgq.pop());}this._sendHB();};this._onClose=function(g){console.debug("wsc : _onClose");this.isOpend=false;this._pp(0,"connection is closed");if(!this.ownerClose){this.reconnct();
}};this._onError=function(g){console.debug("wsc : _onError");this.isOpend=false;LEAP.messagepush.connectionState=false;this._pp(0,"connection is error");if(!this.ownerClose){this.reconnct();}};this._sendHB=function(){if(this.isOpend&&this.wsc!=null&&this.wsc.readyState==1){LEAP.messagepush.connectionState=true;
var g=new Date().getTime();if(this.lastRRTime==null||g-this.lastRRTime>=this.hbtime*10){console.debug("wsc : _sendHB");this.lastRRTime=g;this.wsc.send("1");}}else{if(!this.ownerClose){this.reconnct();}}};this._pp=function(g,h){console.debug("wsc : _pp ,",g,h);if(this.p_open){if(this.ownerClose||g==1){g==1?this.p_open.resolve(h):this.p_open.reject(h);
this.p_open=null;}}};};LEAP.messagepush._init=function(){if((LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>9)||LEAPBrowser.isWebKit){if("WebSocket" in window){if(!LEAP.messagepush.__ws){var l=getRouterUri("message");if(l!=null){var j="http";var d="ws";if(l.indexOf("https")>-1){j="https";d="wss";}var n=LEAP.geturlpars();
var o=n.getvalue("lid");if(o==null){o="1";}var g=l.replace(j,d);var m=g+"websocket/msgpush?lid="+o;var h=l.indexOf(leapconfig.origin())==-1;if(h){m+="&lcors=1&sid="+leapclient.getsid();}LEAP.messagepush.__ws=new WSClient(m);if(LEAP.messagepush.__ws!=null){LEAP.messagepush.__ws.open();}}}}}};LEAP.messagepush.addEvent=function(l,h,g){var j=null;
if(g!=null){j="__event__"+g;}else{j="_lim_message";}var d={};d.callback=l;d.domain=h;d.messagetype=j;if(h!=null){if(h.instance!=null){d.moduleinstance=h.instance;}}if(LEAP.messagepush.__ws!=null){LEAP.messagepush.__events.add(d);LEAP.messagepush.__ws.onMessage=function(n){if(n!=null){var r=n.charAt(0);
switch(r){case"6":n=n.substring(1);break;case"7":n=n.substring(n.indexOf("{"));break;}n=JSON.parse(n);}if(n!=null){var w=null;if(n.messagetype!=null){w="__event__"+n.messagetype;}else{w="_lim_message";}var p=LEAP.messagepush.__events;if(p.length>0){var u=p.length;for(var q=0;q<u;q++){var m=p[q];if(m!=null){var x=m.messagetype;
if(x==w){var o=null;if(m.domain==null){o=window;}else{o=m.domain;}if(m.callback!=null){if(typeof(m.callback)=="string"){if(o[m.callback]!=null&&typeof(o[m.callback])=="function"){o[m.callback].call(o,n);}}else{if(m.callback!=null&&typeof(m.callback)=="function"){m.callback.call(o,n);}}}else{if(o.pageMode=="search"){o.msgRefresh.call(o,n);
}}}}}}}};}};LEAP.messagepush.dispose=function(m){if(m!=null){var l=m.messagetype;if(l!=null){return;}var g=m.instance;var n=LEAP.messagepush.__events;if(n.length>0){var d=n.length;for(var h=d-1;h>=0;h--){var j=n[h];if(j!=null){if(j.moduleinstance==g&&j.messagetype==l){LEAP.messagepush.__events.removeIndex(h);
break;}}}}}else{var n=LEAP.messagepush.__events;if(n.length>0){var d=n.length;for(var h=d-1;h>=0;h--){var j=n[h];if(j!=null){if(j.messagetype=="_lim_message"){LEAP.messagepush.__events.removeIndex(h);break;}}}}}};LEAP.messagepush.send=function(d){if(LEAP.messagepush.__ws!=null){LEAP.messagepush.__ws.send(d.msg,d.type,d.num,d.name);
}};LEAP.messagepush.localdb=null;LEAP.messagepush.dbconnect=null;LEAP.messagepush.dbtran=null;LEAP.messagepush.dbstate=null;LEAP.messagepush.isLoading=false;LEAP.messagepush.isLoaded=false;LEAP.messagepush.init=function(){if((LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion>9)||LEAPBrowser.isWebKit){if(!LEAP.messagepush.isLoaded){if(!LEAP.messagepush.isLoading){LEAP.messagepush.isLoading=true;
var d=new Date();leapclient.loadjs("LEAP/Resource/JavaScript/thridparty/localdb.js?gv="+d.getTime());LEAP.messagepush.isLoaded=true;}else{LEAP.asyn(LEAP.messagepush.init,null,1000);}}if(localdb!=null){if(LEAP.messagepush.localdb==null){LEAP.messagepush.localdb=new localdb("leap_messagedb");}}return Promise.resolve();
}return Promise.resolve();};LEAP.messagepush.tabledatas=new hashtable();LEAP.messagepush.createTable=function(h,d){if(LEAP.messagepush.localdb){var g=LEAP.messagepush.localdb;if(g.indexedDB){return g.open().then(function(j){if(!g.exists(h)){return g.update().then(function(l){g.createTable(h,null,null,d);
return g.open();});}});}else{return Promise.resolve();}}};LEAP.messagepush.getDatas=function(l,m,h,g,j){var d=LEAP.messagepush.tabledatas.getvalue(l);if(d!=null){return LEAP.messagepush.init().then(function(){if(LEAP.messagepush.localdb!=null){var n=LEAP.messagepush.localdb;return n.open().then(function(o){if(m!=null){if(n.exists(l)){return n.getsByIndex(l,m,h,g,j);
}else{return LEAP.messagepush.createTable(l,d).then(function(){return null;});}}else{return Promise.resolve();}});}else{return Promise.resolve();}});}else{return Promise.resolve();}};LEAP.messagepush.getAllData=function(m,h,j,g,l){var d=LEAP.messagepush.tabledatas.getvalue(m);if(d!=null){return LEAP.messagepush.init().then(function(){if(LEAP.messagepush.localdb!=null){var n=LEAP.messagepush.localdb;
return n.open().then(function(o){if(n.exists(m)){return n.getAllData(m,h,j,g,l);}else{return LEAP.messagepush.createTable(m,d).then(function(){return null;});}});}else{return Promise.resolve();}});}else{return Promise.resolve();}};LEAP.messagepush.getData=function(h,g){var d=LEAP.messagepush.tabledatas.getvalue(h);
if(d!=null){return LEAP.messagepush.init().then(function(){if(LEAP.messagepush.localdb!=null){return LEAP.messagepush.localdb.open().then(function(j){if(g!=null){if(LEAP.messagepush.localdb.exists(h)){return LEAP.messagepush.localdb.get(h,g);}else{return LEAP.messagepush.createTable(h,d).then(function(){return null;
});}}else{return Promise.resolve();}});}else{return Promise.resolve();}});}else{return Promise.resolve();}};LEAP.messagepush.setDatas=function(h,d){var g=LEAP.messagepush.tabledatas.getvalue(h);if(g!=null){return LEAP.messagepush.init().then(function(){if(LEAP.messagepush.localdb!=null){return LEAP.messagepush.localdb.open().then(function(j){if(d!=null){if(LEAP.messagepush.localdb.exists(h)){return LEAP.messagepush.localdb.put(h,d);
}else{return LEAP.messagepush.createTable(h,g).then(function(){return LEAP.messagepush.localdb.put(h,d);});}}else{return Promise.resolve();}});}else{return Promise.resolve();}});}else{return Promise.resolve();}};LEAP.messagepush.delDatas=function(h,g){var d=LEAP.messagepush.tabledatas.getvalue(h);if(d!=null){return LEAP.messagepush.init().then(function(){if(LEAP.messagepush.localdb!=null){return LEAP.messagepush.localdb.open().then(function(j){if(g!=null){if(LEAP.messagepush.localdb.exists(h)){return LEAP.messagepush.localdb.remove(h,g);
}else{return LEAP.messagepush.createTable(h,d).then(function(){return null;});}}else{return Promise.resolve();}});}else{return Promise.resolve();}});}else{return Promise.resolve();}};LEAP.button={};LEAP.checkbox={};LEAP.checkbox.d="checkbox";LEAP.checkbox.init=function(){if(document!=null&&document.body!=null){LEAP.checkbox._init();
}else{UIEventManager.addEvent(window,"load",LEAP.checkbox._init);}ElementEventManager.addManagedEventType(LEAP.checkbox.d,"valueChange");ElementEventManager.addManagedEventType(LEAP.checkbox.d,"clickItem");};LEAP.checkbox._init=function(){LEAP.addEvent(document.body,"click",LEAP.checkbox.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.checkbox._init);};LEAP.checkbox.uiProcess=function(u){var d=null;var o=null;var j=null;var r=null;var l=null;var n=null;var g=null;var h=null;var q=0;try{d=u.e.srcElement;if(null==d){return;}o=u.e.type;if(null==o){return;}j=LEAP._match(d,LEAP.checkbox.d);
if(null==j){return;}if("checkbox_label"!=d.getAttribute("ctf")){return;}if("1"==j.getAttribute("readonly")){return;}r=j.getAttribute("cmax");l=j.getAttribute("cmin");if(null==r||""==r){r=0;}else{try{r=parseInt(r);if(r<0){r=0;}}catch(m){r=0;}}if(null==l||""==l){l=0;}else{try{l=parseInt(l);if(l<0){l=0;
}}catch(m){l=0;}}if(l>r){l=r;}n=LEAP.getElements("[ctf=checkbox_item]",j);if(null==n){return;}if(null!=n){n=n.length;}if(l>n){l=n;}if(r>n){r=n;}if("click"==o){if("checkbox_disabled"==d.className){return;}q=LEAP.checkbox.getCheckedCount(j);var p;if("checkbox_unchecked"==d.className){p=true;if(r==0||r>q){g=LEAP.checkbox.getValue(j,false);
d.className="checkbox_checked";h=LEAP.checkbox.getValue(j,false);ElementEventManager.handleEvent(j,"valueChange",{newvalue:h,oldvalue:g,src:j,pv:g,lv:h});}}else{p=false;if(l<q){g=LEAP.checkbox.getValue(j,false);d.className="checkbox_unchecked";h=LEAP.checkbox.getValue(j,false);ElementEventManager.handleEvent(j,"valueChange",{newvalue:h,oldvalue:g,src:j,pv:g,lv:h});
}}ElementEventManager.handleEvent(j,"clickItem",{item:d,checked:p,value:d.getAttribute("value").Trim(),data:d.data});}}finally{h=g=n=r=l=j=d=u=o=null;}};LEAP.checkbox.getCheckedCount=function(j){var d=null;var h=0;try{j=LEAP._check(j,LEAP.checkbox.d);if(null==j){return h;}d=LEAP.getElements("[ctf=checkbox_label]",j);
if(null==d){return h;}for(var g=0;g<d.length;g++){if("checkbox_checked"==d[g].className){h++;}}g=null;return h;}finally{h=d=j=null;}};LEAP.checkbox.getNameByValue=function(h,j){var d=null;var g=null;try{h=LEAP._check(h,LEAP.checkbox.d);if(null==h){return null;}d=LEAP.getElements("[ctf=checkbox_label]",h);
if(null==d){return null;}for(g=0;g<d.length;g++){if(d[g].getAttribute("value").Trim()==j){return(LEAP.isIE?d[g].innerText:d[g].textContent);}}return null;}finally{g=h=null;}};LEAP.checkbox.getCheckedItem=function(h){var d=null;var g=null;var j=null;try{h=LEAP._check(h,LEAP.checkbox.d);if(null==h){return null;
}d=LEAP.getElements("[ctf=checkbox_label]",h);if(null==d){return null;}j=new hashtable();for(g=0;g<d.length;g++){if("checkbox_checked"==d[g].className){j.add(d[g].getAttribute("value").Trim(),(LEAP.isIE?d[g].innerText:d[g].textContent));}}return j.count>0?j:null;}finally{j=g=h=null;}};LEAP.checkbox.getCheckedItemElements=function(h){var d=null;
var g=null;var j=null;try{h=LEAP._check(h,LEAP.checkbox.d);if(null==h){return null;}d=LEAP.getElements(".checkbox_checked[ctf=checkbox_label]",h);return d;}finally{j=g=h=d=null;}};LEAP.checkbox.getValue=function(h,d){var n=",";var p=null;var j=null;var o=null;var l=0;try{h=LEAP._check(h,LEAP.checkbox.d);
if(null==h){return null;}o=LEAP.getElements("[ctf=checkbox_label]",h);if(null==o){return null;}if(null==d){d=false;}if(d){p=h.getAttribute("cmax");j=h.getAttribute("cmin");if(null==p||""==p){p=0;}else{try{p=parseInt(p);if(p<0){p=0;}}catch(m){p=0;}}if(null==j||""==j){j=0;}else{try{j=parseInt(j);if(j<0){j=0;
}}catch(m){j=0;}}if(j>p){j=p;}if(j>o.length){j=o.length;}if(p>o.length){p=o.length;}}for(var g=0;g<o.length;g++){if("checkbox_checked"==o[g].className){n+=o[g].getAttribute("value").Trim()+",";l++;}}g=null;if(d){if(j!=0&&j>l){throw"["+j+"],["+l+"]";}if(p!=0&&p<l){throw"["+p+"],["+l+"]";
}}return(","==n)?null:n.substring(0,n.length);}finally{d=l=j=p=o=n=h=null;}};LEAP.checkbox.setValue=function(l,m){var d=null;try{l=LEAP._check(l,LEAP.checkbox.d);if(null==l){return;}LEAP.checkbox.checkedAll(l,false);if(null==m||""==m){return;}d=LEAP.getElements("[ctf=checkbox_label]",l);if(null==d){return;
}m=m.split(",");for(var h=0;h<m.length;h++){for(var g=0;g<d.length;g++){if("checkbox_disabled"==d[g].className){continue;}if(d[g].getAttribute("value").Trim()==m[h].Trim()){d[g].className="checkbox_checked";break;}}g=null;}h=null;}finally{l=m=d=null;}};LEAP.checkbox.checkedAll=function(h,j){var d=null;
try{h=LEAP._check(h,LEAP.checkbox.d);if(null==h){return;}d=LEAP.getElements("[ctf=checkbox_label]",h);if(null==d){return;}for(var g=0;g<d.length;g++){if("checkbox_disabled"==d[g].className){continue;}d[g].className=(j?"checkbox_checked":"checkbox_unchecked");}g=null;}finally{j=h=d=null;}};LEAP.checkbox.addItem=function(j,h,o,m,n){var p=null;
var g=null;try{j=LEAP._check(j,LEAP.checkbox.d);if(null==j){return;}if(null==h||""==h){h="&nbsp;";}p=document.createElement("div");j.appendChild(p);p.className="checkbox_div";p.setAttribute("ctf","checkbox_item");g=document.createElement("label");p.appendChild(g);g.setAttribute("ctf","checkbox_label");
g.setAttribute("value",o);if(n){g.data=n;}g.innerHTML=h;if(null==m){m=false;}if("boolean"==typeof(m)){if(m){g.className="checkbox_checked";}else{g.className="checkbox_unchecked";}}else{g.className="checkbox_disabled";}return g;}finally{p=g=j=h=o=m=null;}};LEAP.checkbox.removeItems=function(h,d,j){var l=null;
try{h=LEAP._check(h,LEAP.checkbox.d);if(null==h){return;}l=LEAP.getElements("[ctf=checkbox_label]",h);if(null==l){return;}if(null!=d&&null!=j){for(var g=0;g<l.length;g++){if(l[g].getAttribute("value")==j&&l[g].innerHTML==d){h.removeChild(l[g].parentNode);}}g=null;}else{if(null!=d){for(var g=0;g<l.length;
g++){if(l[g].innerHTML==d){h.removeChild(l[g].parentNode);}}g=null;}else{if(null!=j){for(var g=0;g<l.length;g++){if(l[g].getAttribute("value")==j){h.removeChild(l[g].parentNode);}}g=null;}else{for(var g=0;g<l.length;g++){l[g].parentNode.parentNode.removeChild(l[g].parentNode);}g=null;}}}}finally{l=h=d=j=null;
}};LEAP.checkbox.setDisabled=function(h,m,d,j){var l=null;try{h=LEAP._check(h,LEAP.checkbox.d);if(null==h){return;}if("boolean"!=typeof(m)){return;}if(null!=d&&null!=j){l=LEAP.getElements("[ctf=checkbox_label]",h);if(null!=l){for(var g=0;g<l.length;g++){if(l[g].getAttribute("value")==j&&l[g].innerHTML==d){if(m){l[g].className="checkbox_disabled";
}else{l[g].className="checkbox_unchecked";}}}g=null;}}else{if(null!=d){l=LEAP.getElements("[ctf=checkbox_label]",h);if(null!=l){for(var g=0;g<l.length;g++){if(l[g].innerHTML==d){if(m){l[g].className="checkbox_disabled";}else{l[g].className="checkbox_unchecked";}}}g=null;}}else{if(null!=j){l=LEAP.getElements("[ctf=checkbox_label]",h);
if(null!=l){for(var g=0;g<l.length;g++){if(l[g].getAttribute("value")==j){if(m){l[g].className="checkbox_disabled";}else{l[g].className="checkbox_unchecked";}}}g=null;}}else{l=LEAP.getElements("[ctf=checkbox_label]",h);if(null!=l){for(var g=0;g<l.length;g++){if(m){l[g].className="checkbox_disabled";}else{l[g].className="checkbox_unchecked";
}}g=null;}}}}}finally{l=h=d=j=null;}};LEAP.checkbox.setReadOnly=function(d,g){try{d=LEAP._check(d,LEAP.checkbox.d);if(null==d){return;}if(g){d.setAttribute("readonly","1");}else{d.setAttribute("readonly","0");}}finally{d=g=null;}};LEAP.checkbox.init();LEAP.DataMap={};LEAP.DataMap.d="DataMap";LEAP.DataMap.f='<object id="@id" ctf="DataMap" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100%" height="100%" align="middle"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="wmode" value="Transparent" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="@vars"/><!--[if !IE]>--><object type="application/x-shockwave-flash" data="@url@gv" width="100%" height="100%"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="wmode" value="Transparent" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="@vars"/><!--<![endif]--><a href="http://www.adobe.com/go/getflash"><img src="@serverLEAP/Resource/flash/get_flash_player.gif" alt=" Adobe Flash Player" /></a><!--[if !IE]>--></object><!--<![endif]--></object><div style="z-index:-1;filter:alpha(opacity=80);-moz-opacity:0.8;width:100%;height:100%;background-color: white;position: absolute;left:0;top:0"></div>'.replaceall("@server",leapconfig.server).replaceall("@gv",leapclient.getVersionStr());
LEAP.DataMap.init=function(){ElementEventManager.addManagedEventType(LEAP.DataMap.d,"DataMap_initComplete");};LEAP.DataMap.i=function(l,d){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}if(l!=null){var r=function(){LEAP.DataMap.i(null,d);d=null;};setTimeout(r,l);return;}var h=d.parentElement;
var m=null;if(h!=null){m=h.getAttribute("ctid");if(!m){m=UUID.cID();h.setAttribute("ctid",m);}}else{return;}var q=h.getAttribute("isflex");if(q=="1"){q=true;}else{q=false;}var n=h.getAttribute(commfields.ct);if(n&&n==LEAP.DataMap.d){var x=new Object();x.showtype=2;x.server=leapconfig.server;x.sessionid=leapclient.getsid();
x.ctid=m;if(LEAP.getUserInfo()){x.areaid=LEAP.getUserInfo().areaid;x.areaname=LEAP.getUserInfo().areaCNName;}var j=[];var p=0;for(var w in x){var u=x[w];if(u&&typeof u!="function"){j.add(w+"="+encodeURIComponent(u));}}var o=j.join("&");var g=LEAP.DataMap.f.replaceall("@vars",o).replace("@id",m);if(q){g=g.replaceall("@url",leapconfig.server+"LEAP/Resource/flash/flex/LDataMap.swf");
}else{g=g.replaceall("@url",leapconfig.server+"LEAP/Resource/flash/LDataMap.swf");}h.innerHTML=g;}if(d){LEAP.removeElement(d,false);}h=d=null;};LEAP.DataMap._flashcallback=function(h,g,d){LEAP.asyn(LEAP.DataMap.__flashcallback,null,10,h,g,d);};LEAP.DataMap.__flashcallback=function(q,m,j){var h=LEAP.getElement("[ctid="+q+"]");
if(h){if(j){try{j=JSON.parse(j);}catch(A){}}if(m=="DataMap_initComplete"){h.setAttribute("flashinited","1");var r=document.getElementById(q);if(r){var o=r.getElementsByTagName("object");if(o&&o.length){r=o[0];}o=null;}if(r!=null){r.focus();}r=null;}var B=h.getAttribute("instance");try{if(B){var d=LEAP.getLoadedModule(B);
var u=null;if(d){var z=false;if(m=="DataMap_onClick"&&j){if(j.config&&j.config.pagemodule){z=true;var l=j.config.pagemodule;var x=j.config.pagemoduletype;var C=j.config;if(l){var w={name:l,title:null,autodispose:true,moduleLoadArg:{id:j.data.id},pageMode:y,height:C.pagemoduleheight,width:C.pagemodulewidth,datamapelement:h};
var y="view";if(!String.isEmpty(x)){y=x;}if(y&&y=="simpleview"){LEAP.loadSimpleModule(w);}else{try{var g=d.loadForm3(w);var p=g.module;if(p){if(p.pageModuleType){if(p.pageModuleType=="search"){}else{if(!String.isEmpty(x)&&(x=="view"||x=="modify")){p.setPageDataByPK(j.data.id);}else{if(p.pageModuleType=="tableinfo"){p.setPageDataByPK(j.data.id);
}}}}}}finally{w=null;}}}}}if(!z){var n=d[m];if(n){try{u=n.call(d,j);}catch(A){if(isdebug){throw A;}}finally{d=n=null;}}}d=null;}}}catch(A){}ElementEventManager.handleEvent(h,m,j);}h=null;};LEAP.DataMap._call=function(h,r){h=LEAP._check(h,LEAP.DataMap.d);if(h==null){return null;}try{var d=h.getAttribute("flashinited");
var g=null;if(d!=null&&d=="1"){var m=LEAP.ctid(h);g=document.getElementById(m);if(g){var l=g.getElementsByTagName("object");if(l&&l.length){g=l[0];}l=null;}if(g!=null&&g[r]){var p=null;if(arguments.length>2){p=[];for(var j=2;j<arguments.length;j++){var q=arguments[j];if(q!=null){var o=typeof(q);if(o!="number"&&o!="string"){p.add(JSON.stringify(q));
}else{p.add(q);}}else{p.add(null);}}}var n=null;try{if(p!=null){n=g[r].apply(g,p);}else{n=g[r].apply(g);}}catch(u){}if(n!=null){return JSON.parse(n);}}}}finally{g=h=null;}return null;};LEAP.DataMap.show=function(g,h,d){return LEAP.DataMap._call(g,"show",h,d);};LEAP.DataMap.showgroup=function(h,g,d){return LEAP.DataMap._call(h,"showgroup",g,d);
};LEAP.DataMap.clear=function(d){return LEAP.DataMap._call(d,"clear");};LEAP.DataMap.init();LEAP.input={};LEAP.input._hftElment=null;LEAP.input.init=function(){if(document!=null&&document.body!=null){LEAP.input._init();}else{UIEventManager.addEvent(window,"load",LEAP.input._init);}};LEAP.input._init=function(){LEAP.addEvent(document.body,"click",LEAP.input.uiProcess,null,null,true);
LEAP.addEvent(document.body,"keydown",LEAP.input.uiProcess,null,null,true);LEAP.addEvent(document.body,"keyup",LEAP.input.uiProcess,null,null,true);if(LEAP.isIE){LEAP.addEvent(document.body,"focusin",LEAP.input.uiProcess,null,null,true);}else{document.addEventListener("focus",LEAP.input.uiProcess,true);
}var g=document.createElement("div");g.id="leap___autocomplate_div_cons";g.style.display="none";g.style.position="absolute";g.style.overflow="hidden";g.style.height="auto";g.style.backgroundColor="white";g.style.borderColor="#CBCBCB";g.style.borderWidth="1px";g.style.borderTopWidth="0px";g.style.borderStyle="solid";
g.style.textAlign="left";g.style.zIndex="19000";document.body.appendChild(g);LEAP.addEvent(g,"mouseover",LEAP.input.uiProcess,null,null,true);LEAP.addEvent(g,"mouseout",LEAP.input.uiProcess,null,null,true);window.setInterval(LEAP.input.save,1000*30);g=null;};LEAP.input.save=function(){try{if(LEAP.input.t!=null){var h=new String(gcook());
var g=new Date();g.setTime(g.getTime()+30*24*3600000);scook("autocomplate="+JSON.stringify(LEAP.input.t).replaceall(";","|")+";expires="+g.toGMTString());}}catch(d){}};LEAP.input.getInstance=function(h){var d=null;d=h.parentNode;for(var g=0;g<99;g++){if(d==null){return;}if(d.tagName=="BODY"){return;}if(d.getAttribute("instance")!=null){return d;
}d=d.parentNode;if(d==null){return;}}};LEAP.input.uiProcess=function(arg){var e=null;var src=null;var k=null;var type=null;if(arg!=null&&arg.e!=null&&arg.e.type!=null){type=arg.e.type;}try{if(type!=null){src=arg.e.srcElement;e=arg.e;if(LEAP.isIE){k=e.keyCode;}else{k=e.which;}}else{e=arg;src=arg.target;
k=e.which;}type=e.type;if(src==null||src.getAttribute==null){return;}if(type=="click"){if(src.getAttribute("ctf")=="leap___autocomplate_item"){var element=LEAP._match(src,"leap___autocomplate_div_cons","id");if(element!=null){var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null){last.value=src.getAttribute("_value");
last.focus();last=null;element.style.display="none";}element=null;return;}}if(src.getAttribute("ctfe")=="__hftitem"){var module=LEAP.getLoadedModule(src.getAttribute("instance"));var ut=src.getAttribute("_inputut");var hftel=module.getElement("input[ut="+ut+"]");hftel.value=src.innerText;}if(LEAP.input._hftElment!=null){document.body.removeChild(LEAP.input._hftElment);
LEAP.input._hftElment=null;}if(src.getAttribute("ctf")=="m-input-label"){var contentEl=LEAP._match(src,"m-input-p-content","ctf",3);if(contentEl==null){return;}var inputEl=LEAP.getElement("input[ctf=m_input__value]",contentEl);if(inputEl!=null&&src.innerHTML){LEAP.setValue(inputEl,src.innerHTML);}if(inputEl!=null&&inputEl.getAttribute("st")){var item=LEAP._match(inputEl,inputEl.getAttribute("st"),"linkst",3);
if(item!=null){item.removeAttribute("visible");}}}else{if(LEAP.input.selectarr!=null){for(var i=0;i<LEAP.input.selectarr.length;i++){if(src.getAttribute&&src.getAttribute("st")==LEAP.input.selectarr[i].getAttribute("linkst")){continue;}LEAP.input.selectarr[i].removeAttribute("visible");}}}}if((type=="focusin"||type=="focus")&&(src.tagName=="INPUT"&&src.type.toLowerCase()=="text")&&src.getAttribute("ctf")=="m_input__value"){if(src.getAttribute("st")){var item=LEAP._match(src,src.getAttribute("st"),"linkst",3);
if(item!=null){item.setAttribute("visible","");}}}if(type=="keyup"&&(src.tagName=="INPUT"&&src.type.toLowerCase()=="text")&&src.getAttribute("ctf")=="m_input__value"){if(src.getAttribute("st")){LEAP.input.loadText(src);}}if(type=="keyup"&&(k==38||k==40||k==13)&&LEAP.getElement("#leap___autocomplate_div_cons").style.display!="none"){var element=LEAP.getElement("#leap___autocomplate_div_cons");
if(k==13){var items=LEAP.getElements("div[ctf=leap___autocomplate_item]",element);var s=-1;for(var i=0;i<items.length;i++){if(items[i].style.backgroundColor.toUpperCase()=="#B8E5FF"){items[i].style.backgroundColor="white";s=i;break;}}if(s!=-1){var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null){last.value=items[s]["_value"];
last=null;element.style.display="none";}last=null;}items=null;}else{var items=LEAP.getElements("div[ctf=leap___autocomplate_item]",element);var s=-1;for(var i=0;i<items.length;i++){if(items[i].style.backgroundColor.toUpperCase()=="#B8E5FF"){items[i].style.backgroundColor="white";s=i;break;}}if(s!=-1){if(items.length!=1){if(k==40){if(s==items.length-1){s=0;
}else{s+=1;}}else{if(k==38){if(s!=0){s-=1;}}}items[s].style.backgroundColor="#B8E5FF";var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null){last.value=items[s]["_value"];last=null;}last=null;}}else{items[0].style.backgroundColor="#B8E5FF";var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null){last.value=items[0]["_value"];
last=null;}last=null;}items=null;}element=null;return;}if(type=="keydown"&&((src.tagName=="INPUT"&&src.type.toLowerCase()=="text")||(src.tagName=="TEXTAREA"&&src.type.toLowerCase()=="textarea"))){var readonly=src.getAttribute("readonly");if(readonly=="1"||readonly=="readonly"||readonly==true||readonly=="true"){if(e.ctrlKey&&k==67){var selectText=null;
try{var start=src.selectionStart;var end=src.selectionEnd;if(end>start){selectText=src.value.substring(start,end);}}catch(err){}if(selectText){if(document.execCommand("copy")){document.execCommand("copy");console.log("");}}}}}if(type=="focus"&&((src.tagName=="INPUT"&&src.type.toLowerCase()=="text")||(src.tagName=="TEXTAREA"&&src.type.toLowerCase()=="textarea"))){var readonly=src.getAttribute("readonly");
var readonly2=src.getAttribute("readOnly");if(readonly=="true"||readonly=="1"||readonly2=="true"||readonly2=="1"){}}if((type!="click"||(type=="click"&&type.toLowerCase()=="text"&&src.getAttribute("auto_complate")=="1")||type=="focusin"||type=="focus"||type=="keyup")&&src.tagName=="INPUT"&&src.type.toLowerCase()=="text"&&src.getAttribute("auto_complate")=="1"){var items=null;
var md=src.getAttribute("md");if(md==null){var element=LEAP.getElement("#leap___autocomplate_div_cons");element.style.display="none";element=null;return;}var __flag=src.getAttribute("autocomplateflag");if(__flag==null||__flag.Trim()==""){__flag=md;}else{__flag=__flag+"__"+md;}try{if(LEAP.input.t==null){var cookieString=new String(gcook());
if(cookieString.indexOf("autocomplate=")>-1){if(LEAP.input.t==null){var strings=cookieString.split(";");for(var i=0;i<strings.length;i++){var string=strings[i];if(string.indexOf("autocomplate=")>-1){var str=string.replaceall("autocomplate=","");var object=eval("("+str+")");if(object!=null){LEAP.input.t=object;
}break;}}}}}}catch(err){}if(LEAP.input.t==null){LEAP.input.t=new Object();}if(LEAP.input.t[__flag]==null){LEAP.input.t[__flag]=[];}items=LEAP.input.t[__flag];var element=LEAP.getElement("#leap___autocomplate_div_cons");var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null&&src!=last){var _md=last.getAttribute("md");
if(_md==null){return;}var t__flag=last.getAttribute("autocomplateflag");if(t__flag==null||t__flag.Trim()==""){t__flag=_md;}else{t__flag=t__flag+"__"+_md;}var _v=last.value.Trim();if(_v!=null&&_v!=""){if(!LEAP.input.t[t__flag].contains(_v)){LEAP.input.t[t__flag].add(_v);if(LEAP.input.t.length>8){LEAP.input.t.removeindex(0);
}}}}var v=src.value.Trim();if(items!=null&&items.length>0){var tempitems=[];items.sort();if(v==""){var l=items.length;for(var i=0;i<l;i++){tempitems.add("<div _value='"+items[i]+"' ctf='leap___autocomplate_item' style='width:100%;height:25px;font-size:14px;line-height: 25px;cursor: pointer;position:relative'>"+items[i].replace(v,"<strong ctf='leap___autocomplate_item_strong'>"+v+"</strong>")+"<img src='"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_input/close.png' ctf='leap_cookie_delete' style='position:absolute;right:10px;top:50%;margin-top:-8px;width:16px;height:16px;'/></div>");
}}else{var l=items.length;for(var i=0;i<l;i++){if(items[i].indexOf(v)>-1&&items[i]!=v){tempitems.add("<div _value='"+items[i]+"' ctf='leap___autocomplate_item' style='width:100%;height:25px;font-size:14px;line-height: 25px;cursor: pointer;position:relative'>"+items[i].replace(v,"<strong ctf='leap___autocomplate_item_strong'>"+v+"</strong>")+"<img src='"+leapconfig.server+"LEAP/Resource/images/lcimages/LC_input/close.png' ctf='leap_cookie_delete' style='position:absolute;right:10px;top:50%;margin-top:-8px;width:16px;height:16px;'/></div>");
}}}if(tempitems.length>0){LEAP.input.t[__flag]=items;var html=tempitems.join("\n");var cons=LEAP.getElement("#leap___autocomplate_div_cons");cons.innerHTML="";cons.innerHTML=html;cons.style.display="";var p=LEAP.getAbsolutePos(src);cons.style.left=p.x+"px";cons.style.width=src.offsetWidth+"px";cons.style.height=tempitems.length*25+"px";
cons.style.top=p.y+src.offsetHeight+"px";if(src.getAttribute("ctid")==null){var id=UUID.cID();src.setAttribute("ctid",id);}cons.setAttribute("lastctid","[ctid="+src.getAttribute("ctid")+"]");cons=null;}else{var cons=LEAP.getElement("#leap___autocomplate_div_cons");cons.innerHTML="";cons.style.display="none";
if(src.getAttribute("ctid")==null){var id=UUID.cID();src.setAttribute("ctid",id);}cons.setAttribute("lastctid","[ctid="+src.getAttribute("ctid")+"]");}}else{var cons=LEAP.getElement("#leap___autocomplate_div_cons");cons.innerHTML="";cons.style.display="none";if(src.getAttribute("ctid")==null){var id=UUID.cID();
src.setAttribute("ctid",id);}cons.setAttribute("lastctid","[ctid="+src.getAttribute("ctid")+"]");cons=null;}}else{var ctf=src.getAttribute("ctf");if(ctf!="leap_cookie_delete"&&ctf!="leap___autocomplate_item"&&ctf!="leap___autocomplate_item_strong"&&!(src.tagName=="INPUT"&&src.type.toLowerCase()=="text"&&src.getAttribute("auto_complate")=="1")){var cons=LEAP.getElement("#leap___autocomplate_div_cons");
cons.innerHTML="";cons.style.display="none";var element=cons;var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null){var _md=last.getAttribute("md");if(_md==null){return;}var t__flag=last.getAttribute("autocomplateflag");if(t__flag==null||t__flag.Trim()==""){t__flag=_md;}else{t__flag=t__flag+"__"+_md;
}var _v=last.value.Trim();if(_v!=null&&_v!=""){if(!LEAP.input.t[t__flag].contains(_v)){LEAP.input.t[t__flag].add(_v);if(LEAP.input.t.length>8){LEAP.input.t.removeindex(0);}}}}cons.removeAttribute("lastctid");cons=null;}}if(type=="mouseover"){var ctf=src.getAttribute("ctf");if(ctf=="leap___autocomplate_item"||ctf=="leap___autocomplate_item_strong"){var element=LEAP._match(src,"leap___autocomplate_item","ctf");
var pele=element.parentElement;if(pele&&pele.children&&pele.children.length>0){var chid=pele.children;for(var i=0;i<chid.length;i++){chid[i].style.backgroundColor="white";}}if(element!=null){element.style.backgroundColor="#B8E5FF";element.setAttribute("sel","1");element=null;}}return;}if(type=="mouseleave"){var ctf=src.getAttribute("ctf");
if(ctf=="leap___autocomplate_item"||ctf=="leap___autocomplate_item_strong"){var element=LEAP._match(src,"leap___autocomplate_div_cons","id");if(element!=null){var element=LEAP._match(src,"leap___autocomplate_item","ctf");if(element!=null){element.setAttribute("sel","0");element.style.backgroundColor="white";
element=null;}}}return;}else{if(type=="keyup"&&src.tagName=="TEXTAREA"&&src.getAttribute("heightauto")=="1"){LEAP.input.setHeight(src);if(k==8){}}}if(type=="click"&&src.getAttribute("ctf")=="leap_cookie_delete"&&src.tagName=="IMG"){var element=LEAP.getElement("#leap___autocomplate_div_cons");var item=LEAP._match(src,"leap___autocomplate_item","ctf");
if(element&&item){var last=null;if((last=LEAP.getElement(element.getAttribute("lastctid")))!=null){var v=item.getAttribute("_value");var _md=last.getAttribute("md");if(_md==null){return;}var t__flag=last.getAttribute("autocomplateflag");if(t__flag==null||t__flag.Trim()==""){t__flag=_md;}else{t__flag=t__flag+"__"+_md;
}if(v&&LEAP.input.t[t__flag]){LEAP.input.t[t__flag].remove(v);element.style.display="none";}}last=null;}}}finally{arg=e=src=k=type=null;}};LEAP.input.tempdiv=null;LEAP.input.setHeight=function(n){if(!n){return;}var j=n.getAttribute("heightauto");if(j!="1"&&j!="true"){return;}var h=n;var y=h.getAttribute("minheight");
if(y){try{if(y.indexOf("px")>0){y=y.replace("px","");}y=parseInt(y);}catch(q){}}if(!y){y=40;}if(n.target||n.srcElement){h=n.target||n.srcElement;}if(h.style.overflow!="hidden"){h.style.overflow="hidden";}h.style["line-height"]=1.2;if(LEAP.input.tempdiv==null){var g=document.createElement("div");g.className="LC_input_tempdiv";
document.body.appendChild(g);LEAP.input.tempdiv=g;}var p=0;if(LEAP.input.tempdiv!=null){var l=h.style["font-size"];var o=h.style["padding-left"];var m=h.style["padding-right"];if(document.defaultView&&document.defaultView.getComputedStyle){if(!l){l=document.defaultView.getComputedStyle(h,null)["font-size"];
}if(!o){o=document.defaultView.getComputedStyle(h,null)["padding-left"];}if(!m){m=document.defaultView.getComputedStyle(h,null)["padding-right"];}}if(l){LEAP.input.tempdiv.style["font-size"]=l;}var x=h.clientWidth;if(o){o=o.replace("px","")*1;x-=o;}if(m){m=m.replace("px","")*1;x-=m;}LEAP.input.tempdiv.style.width=x+"px";
LEAP.input.tempdiv.style.display="block";var w=h.value;if(w){w=w.replaceall("\n","<br>");}LEAP.input.tempdiv.innerHTML=w;p=LEAP.input.tempdiv.clientHeight;}var u=h.style["padding-top"];var r=h.style["padding-bottom"];if(!u||!r){if(document.defaultView&&document.defaultView.getComputedStyle){if(!u){u=document.defaultView.getComputedStyle(h,null)["padding-top"];
}if(!r){r=document.defaultView.getComputedStyle(h,null)["padding-bottom"];}}}if(u!=null){u=u.replace("px","")*1;p+=u;}if(r!=null){r=r.replace("px","")*1;p+=r;}if(LEAP.input.tempdiv!=null){LEAP.input.tempdiv.style.display="none";}if(p<y){var d=h.clientHeight;if(d>y){h.style.height=y+"px";}return;}h.style.height=p+"px";
};LEAP.input.loadText=function(l){if(!l||!l.getAttribute){return;}var m=l.getAttribute("showSelect");if(m!="1"&&m!="true"){return;}var z=l.getAttribute("st");if(!z){return;}var j=LEAP.getLoadedModule(l.getAttribute("instance"));if(!j||!j.pageModuleName){return;}var g=LEAP.userInfo?LEAP.userInfo.userid:null;
if(!g){return;}var y=l.getAttribute("showSize");if(!y){y=5;}var u=null;var p=l.getAttribute("_hasinit");if(!p){u=LEAP.request("app_getHistoryText",{userid:g,pagemodule:j.pageModuleName,st:z,content:null,size:y});l.setAttribute("_hasinit","1");l._result=u;}else{u=l._result;}if(!u){return;}var C=(u.length>y)?y:u.length;
var x=l.value;if(x!=null&&x!=""&&u.length>0){var d=[];for(var B=0;B<u.length;B++){if(u[B].value&&u[B].value.indexof(x)>-1){d.add(u[B]);if(d.length==C){break;}}}u=d;C=u.length;}var h=l.getAttribute("ctf");var r=l.parentElement;var F=new StringBuffer();if(h&&h=="m_input__value"){var D=LEAP.getElement("div[ctf =m-input-option]",r);
if(D!=null){var q=0;for(var B=0;B<C;B++){F.append('<p class="m-input-option-item"  ctf="m-input-item"><span class="m-input-option-label" ctf="m-input-label">'+u[B].value+"</span> </p>");}D.innerHTML=F.toString();}}else{l.setAttribute("ctf","m_input__value");LEAP.addCSS(l,"m-input-core");var o="m-input";
var n=l.getAttribute("linkclasss");if(n){o=o+" "+n;}var A=document.createElement("div");A.className=o;A.setAttribute("conner","");A.setAttribute("linkst",z);F.append('<div class="m-input-content" ctf="m-input-p-content">');F.append('<div class="m-input-option" ctf ="m-input-option">');for(var B=0;B<C;
B++){F.append('<p class="m-input-option-item"><span class="m-input-option-label" ctf="m-input-label">'+u[B].value+"</span> </p>");}F.append("</div></div>");A.innerHTML=F.toString();var w=LEAP.getElement("div[ctf =m-input-option]",A);if(w!=null){w.parentElement.insertBefore(l,w);if(LEAP.isIE){LEAP.addEvent(l,"focusout",LEAP.input.uiProcess,null,null,true);
}else{l.addEventListener("blur",LEAP.input.uiProcess,true);}}r.appendChild(A);if(!LEAP.input.selectarr){LEAP.input.selectarr=new Array();}LEAP.input.selectarr.add(A);}};LEAP.input.saveText=function(m){if(!m||!m.getAttribute){return;}var j=m.getAttribute("showSelect");if(j!="1"&&j!="true"){return;}var p=m.getAttribute("st");
if(!p){return;}var o=LEAP.getValue(m);if(!o){return;}var q=m._result;if(q!=null&&q.length>0){for(var n=0;n<q.length;n++){if(o==q[n].value){return;}}}var d=LEAP.getLoadedModule(m.getAttribute("instance"));if(!d||!d.pageModuleName){return;}var h=d.pageModuleName;var l=LEAP.userInfo?LEAP.userInfo.userid:null;
if(!l){return;}var g=LEAP.request("app_saveHistoryText",{bean:{userid:l,pagemodule:h,pagest:p,inputvalue:o}});if(g){if(!q){q=[{value:o}];}else{q.add({value:o});}m._result=q;}};LEAP.input.savehft=function(d,w){if(d!=null){for(var l=0;l<d.length;l++){var j=d[l].getAttribute("ut");if(j!=null){var x=d[l].value;
if(x!=null&&x!=""){var u=w+"_"+j;var q=localStorage["__hftermss_"+u];var h=null;if(q!=null){var r=false;h=JSON.parse(q);for(var n=0;n<h.length;n++){if(x==h[n].value){var p=h[n].count;h[n].count=p+1;r=true;break;}}if(r==false){if(h.length==10){h.removeindex(h.length-1);}var m={value:x,count:1};h.add(m);
}}else{h=[];var m={value:x,count:1};h.add(m);}var g=function(A){return function(F,D){var C=F[A];var B=D[A];if(C>B){return -1;}else{if(C<B){return 1;}else{return 0;}}};};h=h.sort(g("count"));var o=[];for(var n=0;n<h.length;n++){o[n]=h[n].value;}var y=JSON.stringify(h);localStorage["__hftermss_"+u]=y;var z=JSON.stringify(o);
localStorage["__hfterms_"+u]=z;}}}}};LEAP.input.showhft=function(q,z){var l=q.getAttribute("ut");var j=localStorage["__hfterms_"+z+"_"+l];if(j!=null){var m=null;var n=null;if(window.innerWidth){m=window.innerWidth;}else{if((document.body)&&(document.body.clientWidth)){m=document.body.clientWidth;}}if(window.innerHeight){n=window.innerHeight;
}else{if((document.body)&&(document.body.clientHeight)){n=document.body.clientHeight;}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){n=document.documentElement.clientHeight;m=document.documentElement.clientWidth;}if(LEAP.input._hftElment==null){LEAP.input._hftElment=document.createElement("div");
}var A=q.clientWidth;var u=q.clientHeight;LEAP.input._hftElment.className="LC_select_main";LEAP.input._hftElment.style.zIndex="998";var y=LEAP.getAbsolutePos(q);var o=m-y.x;var d=(n-y.y)-q.clientHeight;LEAP.input._hftElment.style.width=(A-18.5)+"px";LEAP.input._hftElment.style.top=y.y+u+2+"px";LEAP.input._hftElment.style.left=y.x+"px";
LEAP.input._hftElment.style.fontSize="16px";LEAP.input._hftElment.setAttribute("_targetct",q.getAttribute("instance"));var r=new StringBuffer();r.append('<ul class="hftul">');var g=JSON.parse(j);for(var p=0;p<g.length;p++){var x=null;if(p==0){x="<li style='margin-top:0px' ctfe='__hftitem' _inputut='"+l+"' instance='"+q.getAttribute("instance")+"'>"+g[p]+"</li>";
}else{x="<li ctfe='__hftitem' _inputut='"+l+"' instance='"+q.getAttribute("instance")+"'>"+g[p]+"</li>";}r.append(x);}r.append("</ul>");LEAP.input._hftElment.innerHTML=r.toString();LEAP.input._hftElment.style.display="block";document.body.appendChild(LEAP.input._hftElment);}};LEAP.input.init();LEAP.tab={};
LEAP.tab.d="tab";LEAP.tab._init=function(){LEAP.addEvent(document.body,"click",LEAP.tab.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.tab._init);};LEAP.tab.init=function(){if(document!=null&&document.body!=null){LEAP.tab._init();}else{UIEventManager.addEvent(window,"load",LEAP.tab._init);
}ElementEventManager.addManagedEventType(LEAP.tab.d,"selectedIndexChange");}();LEAP.tab.getTabLables=function(m){var d=m.getAttribute("lctt");var h=null;if(d=="bottom"){h=LEAP.getElement(">div:last>UL",m);}else{h=LEAP.getElement(">div:first>UL",m);}if(h&&h.childNodes){var n=h.childNodes;var g=n.length;
var j=[];for(var l=0;l<g;l++){var o=n[l];if(o.tagName=="LI"&&o.getAttribute("ctf")=="tab_label"){j.add(o);}o=null;}m=h=n=null;try{return j;}finally{j=null;}}};LEAP.tab.addItem=function(m,q){m=LEAP._check(m,LEAP.tab.d);if(m==null){return;}var h=LEAP.getElements("[ctf=tab_label]",m);var j={};if(h){var u=h[h.length-1].outerText;
var n=h[h.length-1].outerHTML;n=n.replace(u,q);var g=document.createElement("div");g.innerHTML=n;var r=g.children[0];var p=r.cloneNode(true);LEAP.removeCSS(p,"hover",false);var o=h[h.length-1].parentElement;o.appendChild(p);j.tabli=p;var w=LEAP.getElements("[ctf=tab_content]",m);if(w){var d=document.createElement("div");
d.style.display="none";d.className="LC_tab2_item";d.setAttribute("ctf","tab_content");var l=w[w.length-1].parentElement;l.appendChild(d);j.tabcontent=d;}}return j;};LEAP.tab.removeItem=function(h,d){h=LEAP._check(h,LEAP.tab.d);if(h==null){return;}var m=LEAP.getElements("[ctf=tab_label]",h);var n=LEAP.getElements("[ctf=tab_content]",h);
if(m){if(m.length>1){var l=m[m.length-1].parentElement;var j=n[n.length-1].parentElement;for(var g=m.length-1;g>=0;g--){if(g==d){l.removeChild(m[g]);j.removeChild(n[g]);}}}}};LEAP.tab.getItem=function(g,d){g=LEAP._check(g,LEAP.tab.d);if(g==null){return;}var j=LEAP.getElements("[ctf=tab_label]",g);var l=LEAP.getElements("[ctf=tab_content]",g);
if(j){if(j.length>d){var h={};h.tabli=j[d];h.tabcontent=l[d];return h;}}return null;};LEAP.tab.uiProcess=function(z){var d=z.e.srcElement;var r=z.e.type;var A=d.tagName;var u=d.getAttribute(commfields.ctf);var o=d.getAttribute(commfields.ct);var x=d.getAttribute("tabtype");try{if(u==null||u!="tab_label"){return;
}var j=d.className.split(" ").contains("hover");if(j){return;}var g=LEAP._match(d,LEAP.tab.d);if(g==null){return;}var n=LEAP.tab.getTabLables(g);var p=-1;var h=n.length;var y=-1;var w=false;for(var m=0;m<h;m++){y++;if(n[m]==d){w=true;break;}}if(x=="imgtab"){for(var m=0;m<h;m++){var q=n[m].className.split(" ");
if(m==y){n[m].className=n[m].className.replace(q[0],q[0]+"1");}else{n[m].className=n[m].className.replace(q[0],q[0].replace("1",""));}}}if(w){p=y;}LEAP.tab.setSelectedIndex(g,p);n=null;}finally{d=z=null;}};LEAP.tab.getSelectedIndex=function(j){j=LEAP._check(j,LEAP.tab.d);if(j==null){return;}if(j==null){return;
}var m=LEAP.tab.getTabLables(j);var g=-1;var d=m.length;for(var h=0;h<d;h++){if(m[h].className.split(" ").contains("hover")){g=h;break;}}j=m=null;return g;};LEAP.tab.setSelectedIndex=function(m,q,y){if(q<0){return;}m=LEAP._check(m,LEAP.tab.d);if(m==null){return;}if(m==null){return;}var A=m.getAttribute("lctt");
var u=null;if(A=="bottom"){u=m.children[1].children[0];}else{u=m.children[0].children[0];}var j=null;if(A=="bottom"){j=m.children[0];}else{j=m.children[1];}var r=null;if(u.children.length!=0){for(var n=0;n<u.children.length;n++){if(u.children[n].className.indexOf("hover")!=-1){r=u.children[n].style.color;
break;}}}LEAP.removeCSS(u.children,"hover",true);LEAP.setStyle(u.children,{backgroundColor:"",color:"",borderColor:""},true);var p=LEAP.tab.getTabLables(m);var B=null;var h=p.length;var z=-1;var x=false;for(var n=0;n<h;n++){z++;if(q==z){B=p[n];break;}}if(A=="left"||A=="right"){j=j.children[0];}var g=j.children[q];
LEAP.addCSS(B,"hover",false);LEAP.setStyle(B,{color:r});if(LEAP.isIE){g.style.visibility="visible";}g.style.display="block";var o=g.getAttribute("ndis");if(o=="1"){g.style.transform="";g.style.height="";g.style.width="";}var h=j.children.length;for(var n=0;n<h;n++){if(n==q){continue;}var w=j.children[n];
var d=w.getAttribute("ndis");if(d=="1"){w.style.transform="translateX(-10000px)";LEAP.tab.___setSize(w,100);}else{if(LEAP.isIE){w.style.visibility="hidden";}w.style.display="none";}}if(y!=null&&y==false){}else{ElementEventManager.handleEvent(m,"selectedIndexChange",{tab:m,index:q,element_content:g,element_tab:B,flag:q,srcst:B.getAttribute("st")});
}cs=m=p=null;};LEAP.tab.___setSize=function(d,g){if(g){LEAP.asyn(LEAP.tab.___setSize,this,g,d);return;}d.style.height="1px";d.style.width="1px";};LEAP.tree={};LEAP.tree.d="tree";LEAP.tree.e1="><input type='checkbox'></a><a href='javascript:' class='tree_item_title' @title style='color:@color'>@text</a>";
LEAP.tree.e2="><input type='checkbox'></a><a href='javascript:' class='tree_item_title' @title>@text</a>";LEAP.tree.e11="><a onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' href='javascript:' style='color:@color;' class='tree_item_title' @title>@text</a>";LEAP.tree.e21="><a onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' href='javascript:' class='tree_item_title' @title>@text</a>";
LEAP.tree.iconimg="<img src='@img' style='float: inherit;margin-left:10px;display:@display;border:none;@style' ctf='tree_ctrl@liid' utf='@utf'/>";LEAP.tree.e3=" ctid='@id' ctf='tree_item'>";LEAP.tree.cf="<!--childs-->";LEAP.tree.e4=LEAP.tree.cf+"</li>";LEAP.tree.e5="<li onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' ctid='@id' _value='@value' _value2='@value2' _value3='@value3' _value4='@value4' _value5='@value5' _objid='@objid' ctf='tree_item' title=@tip>";
LEAP.tree.e5_2="<li onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' treestyle2=1 ctid='@id' _value='@value' _value2='@value2' _value3='@value3' _value4='@value4' _value5='@value5' _objid='@objid' ctf='tree_item' title=@tip>";LEAP.tree.e6="<a onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' class='tree_item_pre'><label onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' class='tree_child'></label><img style='margin-top:0;'";
LEAP.tree.e7="<h3 onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' class='tree_02_opened_bg'>";LEAP.tree.e72="<h3 onselectstart='return false;' unselectable=on onContextMenu='return false' hidefocus='true' class='tree_02_opened_bg'>";LEAP.tree.e8="</h3>";LEAP.tree._init=function(){LEAP.addEvent(document.body,"click",LEAP.tree.uiProcess,null,null,true);
LEAP.addEvent(document.body,"dblclick",LEAP.tree.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.tree.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseout",LEAP.tree.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.tree._init);};LEAP.tree.init=function(){if(document!=null&&document.body!=null){LEAP.tree._init();
}else{UIEventManager.addEvent(window,"load",LEAP.tree._init);}ElementEventManager.addManagedEventType(LEAP.tree.d,"selectedItemChange");ElementEventManager.addManagedEventType(LEAP.tree.d,"itemInit");ElementEventManager.addManagedEventType(LEAP.tree.d,"checkedChanged");ElementEventManager.addManagedEventType(LEAP.tree.d,"doubleClick");
ElementEventManager.addManagedEventType(LEAP.tree.d,"itemClick");ElementEventManager.addManagedEventType(LEAP.tree.d,"mousedown");ElementEventManager.addManagedEventType(LEAP.tree.d,"itemstateEvent");}();LEAP.tree.uiProcess=function(w){var g=w.e.srcElement;var p=w.e.type;var y=g.tagName;var n=g.getAttribute(commfields.ct);
var q=g.getAttribute(commfields.ctf);var u=LEAP._match(g,"tree_item","ctf",199);if(u!=null){var m=null;if(n==LEAP.tree.d){m=g;}else{m=LEAP._match(u,LEAP.tree.d,null,199);}if(m==null){return;}var l=m.getAttribute("dict");if(p=="click"){if(y=="LABEL"||y=="H3"){if((y=="LABEL"&&g.className=="tree_opened")||(y=="H3"&&g.className=="tree_02_opened_bg")){LEAP.tree.closeNode(u);
}else{if((y=="LABEL"&&g.className=="tree_closed")||(y=="H3"&&g.className=="tree_02_closed_bg")){LEAP.tree.expandNode(u);}}}else{if(y=="INPUT"){ElementEventManager.handleEvent(m,"checkedChanged",{tree:m,item:"[ctid="+u.getAttribute("ctid")+"]",value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),text:LEAP.tree.getItemText(u),checked:g.checked,data:u.data});
}else{if(q&&q.indexOf("tree_ctrl")>-1){LEAP.tree.setSelectedItem(m,u);ElementEventManager.handleEvent(m,"itemClick",{tree:m,item:"[ctid="+u.getAttribute("ctid")+"]",value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),ctrlutf:g.getAttribute("utf"),text:LEAP.tree.getItemText(u),event:w.e});
var d=m.getAttribute("checkauto");if(d!=null&&d=="1"){var r=LEAP.getElement("INPUT",u.children[0]);if(r!=null){if(r.checked==true){r.checked=false;}else{r.checked=true;}ElementEventManager.handleEvent(m,"checkedChanged",{tree:m,item:"[ctid="+u.getAttribute("ctid")+"]",value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),text:LEAP.tree.getItemText(u),checked:r.checked,data:u.data});
}}}else{if(y!="UL"&&q!="tree_item"){LEAP.tree.setSelectedItem(m,u);ElementEventManager.handleEvent(m,"itemClick",{tree:m,item:"[ctid="+u.getAttribute("ctid")+"]",value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),text:LEAP.tree.getItemText(u),event:w.e});
var d=m.getAttribute("checkauto");if(d!=null&&d=="1"){var r=LEAP.getElement("INPUT",u.children[0]);if(r!=null){if(r.checked==true){r.checked=false;}else{r.checked=true;}ElementEventManager.handleEvent(m,"checkedChanged",{tree:m,item:"[ctid="+u.getAttribute("ctid")+"]",value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),text:LEAP.tree.getItemText(u),checked:r.checked,data:u.data});
}}}}}}m=null;}else{if(p=="dblclick"){var h=LEAP.getElement("a:first",u);if(h){var o=LEAP.getElement("label:first",h);if(o){if(o.className=="tree_opened"){LEAP.tree.closeNode(u);}else{if(o.className=="tree_closed"){LEAP.tree.expandNode(u);}}}}if(y=="A"){ElementEventManager.handleEvent(m,"doubleClick",{tree:m,value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),text:LEAP.tree.getItemText(u),item:"[ctid="+u.getAttribute("ctid")+"]",data:u.data});
}}else{if(p=="mousedown"&&w.e.button==2){if(y=="A"){ElementEventManager.handleEvent(m,"mousedown",{tree:m,value:u.getAttribute("_value"),value2:u.getAttribute("_value2"),value3:u.getAttribute("_value3"),value4:u.getAttribute("_value4"),value5:u.getAttribute("_value5"),text:LEAP.tree.getItemText(u),item:"[ctid="+u.getAttribute("ctid")+"]",button:w.e.button});
}}else{if(p=="mouseover"&&(y=="LI"||y=="A"||y=="LABEL"||y=="IMG"||y=="FONT")){if(l=="1"){var x=u.getAttribute("_value");var j=LEAP.getElements("[ctf=tree_ctrl"+x.replace("@define","")+"]",u);if(j){LEAP.setStyle(j,{display:"inline-block"});}}}else{if(p=="mouseout"&&(y=="LI"||y=="A"||y=="LABEL"||y=="IMG"||y=="FONT")){if(l=="1"){var x=u.getAttribute("_value");
var j=LEAP.getElements("[ctf=tree_ctrl"+x.replace("@define","")+"]",u);if(j){LEAP.setStyle(j,{display:"none"});}}}}}}}}g=p=y=w=n=u=null;};LEAP.tree.expandNode=function(j){if(j==null){return;}if(typeof(j)=="string"){j=LEAP.getElement(j);}if(j==null){return;}var g=null;if(j.getAttribute(commfields.ct)==LEAP.tree.d){g=j;
}else{g=LEAP._match(j,LEAP.tree.d,null,199);}if(g==null){return;}var h=LEAP.getElement("a>label:first",j);if(h==null){h=LEAP.getElement("a>H3:first",j);}var d=h.tagName;if(d=="LABEL"){h.className="tree_opened";if(j.getAttribute("treestyle2")=="1"){h.parentNode.parentNode.className="tree_02_opened_bg";
}}else{if(d=="H3"){h.className="tree_02_opened_bg";LEAP.getElement(">a>label:first",h).className="tree_opened";}}LEAP.setStyle(LEAP.getElements(">ul",j),{display:"block"},true);if(j.getAttribute("init")==false||j.getAttribute("init")=="false"){if(j.getAttribute("ctid")==null){j.setAttribute("ctid",UUID.cID());
}j.setAttribute("init",true);ElementEventManager.handleEvent(g,"itemInit",{tree:g,value:j.getAttribute("_value"),value2:j.getAttribute("_value2"),value3:j.getAttribute("_value3"),value4:j.getAttribute("_value4"),value5:j.getAttribute("_value5"),text:LEAP.tree.getItemText(j),item:"[ctid="+j.getAttribute("ctid")+"]",data:j.data});
}ElementEventManager.handleEvent(g,"itemstateEvent",{tree:g});j=h=null;};LEAP.tree.closeNode=function(j){if(j==null){return;}if(typeof(j)=="string"){j=LEAP.getElement(j);}if(j==null){return;}var g=null;if(j.getAttribute(commfields.ct)==LEAP.tree.d){g=j;}else{g=LEAP._match(j,LEAP.tree.d,null,199);}if(g==null){return;
}var h=LEAP.getElement("a>label:first",j);var d=null;if(h==null){d=LEAP.getElement("a>H3:first",j);}var d=h.tagName;if(d=="LABEL"){if(h.className=="tree_opened"){h.className="tree_closed";if(j.getAttribute("treestyle2")=="1"){h.parentNode.parentNode.className="tree_02_closed_bg";}}}else{if(d=="H3"){if(h.className=="tree_02_opened_bg"){h.className="tree_02_closed_bg";
LEAP.getElement(">a>label:first",h).className="tree_closed";}}}LEAP.setStyle(LEAP.getElements(">ul",j),{display:"none"},true);ElementEventManager.handleEvent(g,"itemstateEvent",{tree:g});j=h=null;};LEAP.tree.closeAll=function(j){j=LEAP._check(j,LEAP.tree.d);if(j==null){return;}var g=LEAP.getElements("LI[ctf=tree_item]",j);
if(g){var d=g.length;for(var h=0;h<d;h++){var m=g[h];if(m){LEAP.tree.closeNode(m);m=null;}}g=null;}j=null;};LEAP.tree.bindData=function(u,m,x,w,n,y){u=LEAP._check(u,LEAP.tree.d);if(u==null){return;}if(x&&x.length>0){var o=x.length;var z=null;var A=false;if(x[0].hasOwnProperty("id")){z="id";A=true;}else{if(n){z=n.value;
}}var d=new hashtable();for(var r=0;r<x.length;r++){var C=x[r];if(n){for(var B in n){C[B]=C[n[B]];}}y(C);if(z){d.add(C[z],C);if(!A){C.id=C[z];}}}LEAP.tree.addItems(u,m,x,w);var h=u;if(m!=null){h=LEAP.getElement(m,u);}if(h){var q=h.getElementsByTagName("LI");if(q){var o=q.length;for(var r=0;r<o;r++){var j=q[r];
var g=j.getAttribute("_objid");if(g){j.data=d.getvalue(g);}j=null;}}q=h=null;}}u=null;};LEAP.tree.addItems=function(r,n,J,q){r=LEAP._check(r,LEAP.tree.d);if(r==null){return;}if(J==null||!J.length){return;}var m=n==null;if(n==null){n=r;}else{if(typeof(n)=="string"){n=LEAP.getElement(n,r);}if(n==null){return;
}var Q=LEAP.getElement("ul:first",n);if(Q==null){Q=document.createElement("UL");n.appendChild(Q);var I=n;if(n.getAttribute("treestyle2")=="1"){I=LEAP.getElement(">h3:first",n);}LEAP.getElement("a>label:first",I).className="tree_opened";n=null;n=Q;Q=null;}else{n=null;n=Q;Q=null;}}var U=false;U=LEAP.hasCSS(r,"tree_02");
if(q==null){if(m){q=1;}else{q=0;}}var z=new StringBuffer();var L=[];var G=LEAP.tree.e1;var D=LEAP.tree.e2;var B=!(r.getAttribute("showcheck")!="1");if(!B){G=LEAP.tree.e11;D=LEAP.tree.e21;}var V=null;if(J!=null&&J[0].syscode!=null){V=new hashtable();}var M=J.length;var h=[];for(var X=0;X<M;X++){h.add(LEAP.clone(J[X]));
}J=h;for(var X=0;X<M;X++){var y=J[X];var H=y.text;var S=y.value;var K=y.fontColor;var p=y.icon;var Y=y.ctrlimgs;if(U&&(p==null||p.Trim()=="")){if(!y.hasChild){p="LEAP/Resource/images/itemstyle/tree/rootnode2.gif";}else{p="LEAP/Resource/images/itemstyle/tree/rootnode1.gif";}}var O=y.hasChild;var g=y.showCheck;
if(g==null){g=B;}else{if(g!=true){g=false;}}var F=G;var C=D;if(B!=g){if(g){F=LEAP.tree.e1;C=LEAP.tree.e2;}else{F=LEAP.tree.e11;C=LEAP.tree.e21;}}if(H==null){continue;}var P=null;if(y.ctid==null){y.ctid=P=UUID.cID();}else{P=y.ctid;}var T=null;if(K==null){T=C;}else{T=F.replace("@color",K);}T=T.replace("@text",H);
if(r.getAttribute("showtitle")=="1"){T=T.replace("@title","title="+H+"");}else{T=T.replace("@title","");}if(p==null||p.Trim()==""){if(r.getAttribute("nidv")=="1"){p="LEAP/Resource/images/lcimages/LC_tree3/icon_tree3_title.png";}else{p="LEAP/Resource/images/itemstyle/tree/tree_icon.gif";}}if(p!=null&&p.Trim()!=""){if(p.indexOf("http://")==-1){p=PublishServerConfig.getURL(p);
}T=" src='"+p+"'"+T;}var x=r.getAttribute("dict");var u=null;if(Y!=null){var N=Y.split(",");for(var W=0;W<N.length;W++){if(x=="1"){if(W==0){u=LEAP.tree.iconimg.replace("@img",leapconfig.server+N[W]).replace("@utf","ctrl_"+(W+1)).replace("@liid",S).replace("@display","none").replace("@style","width:14px;height:14px;float:right;");
}else{u+=LEAP.tree.iconimg.replace("@img",leapconfig.server+N[W]).replace("@utf","ctrl_"+(W+1)).replace("@liid",S).replace("@display","none").replace("@style","width:14px;height:14px;float:right;");}}else{if(W==0){u=LEAP.tree.iconimg.replace("@img",leapconfig.server+N[W]).replace("@utf","ctrl_"+(W+1)).replace("@liid",S).replace("@display","inline-block");
}else{u+=LEAP.tree.iconimg.replace("@img",leapconfig.server+N[W]).replace("@utf","ctrl_"+(W+1)).replace("@liid",S).replace("@display","inline-block");}}}}else{u="";}T=LEAP.tree.e6+T+u;if(O==true){T=T.replace("tree_child","tree_closed");}var w=null;var d=0;if(V!=null){w=LEAP.getRealSyscode(y.syscode);
if(w!=null&&w.indexOf(".")>-1){var A=w.substring(w.indexOf(".")+1);d=A.length/3;d+=1;}else{d=1;}}if(!U||(U&&d>q)){T=LEAP.tree.e5+T;}else{if(y.hasChild){T=LEAP.tree.e5_2+LEAP.tree.e7+T;}else{T=LEAP.tree.e5_2+LEAP.tree.e72+T;}}if(S!=null){T=T.replace("@value",S);}else{T=T.replace("@value","");}if(y.value2!=null){T=T.replace("@value2",y.value2);
}else{T=T.replace("@value2","");}if(y.value3!=null){T=T.replace("@value3",y.value3);}else{T=T.replace("@value3","");}if(y.value4!=null){T=T.replace("@value4",y.value4);}else{T=T.replace("@value4","");}if(y.value5!=null){T=T.replace("@value5",y.value5);}else{T=T.replace("@value5","");}if(y.id!=null){T=T.replace("@objid",y.id);
}else{T=T.replace("@objid","");}if(!U||(U&&d>q)){T=T+LEAP.tree.e4;}else{T=T+LEAP.tree.e8+LEAP.tree.e4;}T=T.replace("@id",P);if(O){T=T.replace("<li ",'<li init="false" ');}var l=y.tip;if(!String.isEmpty(l)){T=T.replace("@tip",l);}else{T=T.replace("@tip","");}if(V==null){z.append(T);z.append("\n");}else{y._html=T;
if(w!=null){y._syscode=w;y._issys=true;V.add(w,y);}else{y._syscode=UUID.cID();y._issys=false;V.add(y._syscode,y);}}L.push("[ctid="+P+"]");y=H=S=K=p=T=P=null;}if(V==null){n.innerHTML=z.toString();}else{for(var X=M-1;X>-1;X--){var y=J[X];var w=y._syscode;if(y._issys==true){var R=LEAP.getParentSyscode(w);
if(R!=null){var o=V.getvalue(R);if(o!=null){y._html=y._html.replace(LEAP.tree.cf,"");if(o.hassetul!=true){o.hassetul=true;o._html=o._html.replace("tree_child","tree_opened").replace(LEAP.tree.cf,"<UL>"+LEAP.tree.cf+"</UL>");}o._html=o._html.replace(LEAP.tree.cf,LEAP.tree.cf+y._html);J[X]=null;}}}}for(var X=0;
X<M;X++){var y=J[X];if(y==null){continue;}z.append(y._html);}n.innerHTML=z.toString();}try{return L;}finally{r=n=J=z=L=null;}};LEAP.tree.addItem=function(h,y,w,B,g,G,F,m,r,q,p,o,D){h=LEAP._check(h,LEAP.tree.d);if(h==null){return;}if(w==null){return;}var H=document.createElement("LI");H[commfields.ctf]="tree_item";
var d=!(h.getAttribute("showcheck")!="1");if(m==null){m=d;}else{if(m!=true){m=false;}}var z=UUID.cID();H.ctid=z;H.setAttribute("ctid",z);H.ctf="tree_item";H.setAttribute("ctf","tree_item");if(B!=null){H._value=B;H.setAttribute("_value",B);}if(r!=null){H._value2=r;H.setAttribute("_value2",r);}if(q!=null){H._value3=q;
H.setAttribute("_value3",q);}if(p!=null){H._value4=p;H.setAttribute("_value4",p);}if(o!=null){H._value5=o;H.setAttribute("_value5",o);}var n=LEAP.tree.e1;var l=LEAP.tree.e2;if(h.getAttribute("showcheck")!="1"&&m==false){n=LEAP.tree.e11;l=LEAP.tree.e21;}var x=null;if(g==null){x=l;}else{x=n.replace("@color",g);
}x=x.replace("@text",w);if(h.getAttribute("showtitle")=="1"){x=x.replace("@title","title="+w+"");}else{x=x.replace("@title","");}if(G==null||G.Trim()==""){if(h.getAttribute("nidv")=="1"){G="LEAP/Resource/images/lcimages/LC_tree3/icon_tree3_title.png";}else{G="LEAP/Resource/images/itemstyle/tree/tree_icon.gif";
}}if(G!=null&&G.Trim()!=""){if(G.indexOf("http://")==-1){G=PublishServerConfig.getURL(G);}x=" src='"+G+"'"+x;}var j=h.getAttribute("dict");var I=null;if(D!=null){var A=D.split(",");for(var C=0;C<A.length;C++){if(j=="1"){if(C==0){I=LEAP.tree.iconimg.replace("@img",leapconfig.server+A[C]).replace("@utf","ctrl_"+(C+1)).replace("@liid",B.replace("@define","")).replace("@display","none").replace("@style","width:14px;height:14px;float:right;");
}else{I+=LEAP.tree.iconimg.replace("@img",leapconfig.server+A[C]).replace("@utf","ctrl_"+(C+1)).replace("@liid",B.replace("@define","")).replace("@display","none").replace("@style","width:14px;height:14px;float:right;");}}else{if(C==0){I=LEAP.tree.iconimg.replace("@img",leapconfig.server+A[C]).replace("@utf","ctrl_"+(C+1)).replace("@liid",B.replace("@define","")).replace("@display","inline-block");
}else{I+=LEAP.tree.iconimg.replace("@img",leapconfig.server+A[C]).replace("@utf","ctrl_"+(C+1)).replace("@liid",B.replace("@define","")).replace("@display","inline-block");}}}}else{I="";}x=LEAP.tree.e6+x+I;if(F==true){x=x.replace("tree_child","tree_closed");}H.setAttribute("init",false);H.innerHTML=x;
if(y==null){h.appendChild(H);}else{if(typeof(y)=="string"){y=LEAP.getElement(y,h);}if(y==null){return;}var u=LEAP.getElement("ul:first",y);if(u==null){u=document.createElement("UL");y.appendChild(u);LEAP.getElement("a>label:first",y).className="tree_opened";y=null;y=u;u=null;}else{y=null;y=u;u=null;}y.appendChild(H);
}x=h=y=w=B=g=G=null;return"[ctid="+z+"]";};LEAP.tree.getValue=function(g,d){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g,d);}if(g==null){return;}return g._value!=null?g._value:g.getAttribute("_value");};LEAP.tree.getValue2=function(h,g){if(h==null){return;}if(typeof(h)=="string"){h=LEAP.getElement(h,g);
}if(h==null){return;}var d={value:h._value!=null?h._value:h.getAttribute("_value"),value2:h._value2!=null?h._value2:h.getAttribute("_value2"),value3:h._value3!=null?h._value3:h.getAttribute("_value3"),value4:h._value4!=null?h._value4:h.getAttribute("_value4"),value5:h._value5!=null?h._value5:h.getAttribute("_value5"),objid:h._objid!=null?h._objid:h.getAttribute("_objid")};
return d;};LEAP.tree.setValue=function(d,g,h){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g,d);}if(g==null){return;}g._value=null;g.removeAttribute("_value");g._value=h;};LEAP.tree.setValue2=function(g,h,d){if(h==null){return;}if(typeof(h)=="string"){h=LEAP.getElement(h,g);}if(h==null){return;
}h._value2=null;h.removeAttribute("_value2");h._value2=d;};LEAP.tree.setValue3=function(g,h,d){if(h==null){return;}if(typeof(h)=="string"){h=LEAP.getElement(h,g);}if(h==null){return;}h._value3=null;h.removeAttribute("_value3");h._value3=d;};LEAP.tree.setValue4=function(d,g,h){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g,d);
}if(g==null){return;}g._value4=null;g.removeAttribute("_value4");g._value4=h;};LEAP.tree.setValue5=function(d,g,h){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g,d);}if(g==null){return;}g._value5=null;g.removeAttribute("_value5");g._value5=value5;};LEAP.tree.getValues=function(m){m=LEAP._check(m,LEAP.tree.d);
if(m==null){return;}var g=LEAP.getElements("li[ctf=tree_item]",m);if(g!=null){var h=[];var d=g.length;for(var j=0;j<d;j++){h.add(g[j]["_value"]!=null?g[j]["_value"]:g[j].getAttribute("_value"));}}g=m=null;return h;};LEAP.tree.getItemByValue=function(g,j){if(j==null){return;}g=LEAP._check(g,LEAP.tree.d);
if(g==null){return;}if(j==null){return;}var h=LEAP.getElement('li[ctf=tree_item][_value="'+j+'"]',g);if(h==null){return;}var l=h.getAttribute("ctid");if(l==null){l=UUID.cID();h.setAttribute("ctid",l);}var d="[ctid="+l+"]";h=null;return d;};LEAP.tree.hideItem=function(d,g){d=LEAP._check(d,LEAP.tree.d);
if(d==null){return;}if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g,d);}if(g==null){return;}g.style.display="none";};LEAP.tree.showItem=function(d,g){d=LEAP._check(d,LEAP.tree.d);if(d==null){return;}if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g,d);}if(g==null){return;
}g.style.display="";};LEAP.tree.getChild=function(m){if(m==null){return;}if(typeof(m)=="string"){m=LEAP.getElement(m);}if(m==null){return;}var l=m[commfields.ct]==LEAP.tree.d;if((m[commfields.ctf]=="tree_item"||m.getAttribute(commfields.ctf)=="tree_item")||l){var h=null;if(!l){h=LEAP.getElement("ul:first",m);
}else{h=m;}if(h==null){return null;}else{var j=LEAP.getElements(">li[ctf=tree_item]",h);if(j!=null){var d=[];for(var g=0;g<j.length;g++){if(j[g].getAttribute("ctid")==null){j[g].setAttribute("ctid",UUID.cID());}d.push("[ctid="+j[g].getAttribute("ctid")+"]");}try{return d;}finally{j=null;d=null;m=null;
}}}}m=null;};LEAP.tree.getAllChild=function(n){if(n==null){return;}if(typeof(n)=="string"){n=LEAP.getElement(n);}if(n==null){return;}var d=n[commfields.ct];if(d==null){d=n.getAttribute(commfields.ct);}var m=d==LEAP.tree.d;if((n[commfields.ctf]=="tree_item"||n.getAttribute(commfields.ctf)=="tree_item")||m){var j=null;
if(!m){j=LEAP.getElement("ul:first",n);}else{j=n;}if(j==null){return null;}var l=LEAP.getElements("li[ctf=tree_item]",j);if(l!=null){var g=[];for(var h=0;h<l.length;h++){if(l[h].getAttribute("ctid")==null){l[h].setAttribute("ctid",UUID.cID());}g.push("[ctid="+l[h].getAttribute("ctid")+"]");}try{return g;
}finally{l=null;g=null;n=null;}}}n=null;};LEAP.tree.getAllChildValues=function(g,o,n){if(o==null){o=g;}else{if(typeof(o)=="string"){o=LEAP.getElement(o,g);}}if(o==null){return;}var m=o[commfields.ct];if(m==null){m=o.getAttribute(commfields.ct);}var p=m==LEAP.tree.d;try{var l=[];if((o[commfields.ctf]=="tree_item"||o.getAttribute(commfields.ctf)=="tree_item")||p){var j=null;
if(!p){j=LEAP.getElement("ul:first",o);}else{j=o;}if(j!=null){var h=LEAP.getElements("li[ctf=tree_item]",j);if(h!=null){for(var d=0;d<h.length;d++){if(h[d].getAttribute("ctid")==null){h[d].setAttribute("ctid",UUID.cID());}l.push({value:h[d]["_value"]!=null?h[d]["_value"]:h[d].getAttribute("_value"),value2:h[d]["_value2"]!=null?h[d]["_value2"]:h[d].getAttribute("_value2"),value3:h[d]["_value3"]!=null?h[d]["_value3"]:h[d].getAttribute("_value3"),value4:h[d]["_value4"]!=null?h[d]["_value4"]:h[d].getAttribute("_value4"),value5:h[d]["_value5"]!=null?h[d]["_value5"]:h[d].getAttribute("_value5"),item:"[ctid="+h[d].getAttribute("ctid")+"]",objid:o._objid!=null?o._objid:o.getAttribute("_objid")});
}}}}if(n&&o.getAttribute("ctf")&&o.getAttribute("ctf")=="tree_item"){if(o.getAttribute("ctid")==null){o.setAttribute("ctid",UUID.cID());}l.push({value:o._value!=null?o._value:o.getAttribute("_value"),value2:o._value2!=null?o._value2:o.getAttribute("_value2"),value3:o._value3!=null?o._value3:o.getAttribute("_value3"),value4:o._value4!=null?o._value4:o.getAttribute("_value4"),value5:o._value5!=null?o._value5:o.getAttribute("_value5"),item:"[ctid="+o.getAttribute("ctid")+"]",objid:o._objid!=null?o._objid:o.getAttribute("_objid")});
}if(l.length==0){return null;}else{return l;}}finally{m=p=j=l=j=h=d=o=null;}};LEAP.tree.dispose=function(d){if(item==null){return;}d=LEAP._check(d,LEAP.tree.d);if(d==null){return;}LEAP.removeElement(d);};LEAP.tree.isExpand=function(h){if(h==null){return false;}if(typeof(h)=="string"){h=LEAP.getElement(h);
}if(h==null){return false;}var d=h;if(h.getAttribute("treestyle2")=="1"){d=LEAP.getElement(">h3:first",h);}var g=LEAP.getElement("a>label:first",d);if(g!=null&&g.className=="tree_opened"){g=h=null;return true;}return false;};LEAP.tree.removeItem=function(g,l,d){if(l==null){return;}g=LEAP._check(g,LEAP.tree.d);
if(g==null){return;}if(typeof(l)=="string"){l=LEAP.getElement(l,g);}if(l==null){return;}if(d==true){var j=LEAP.tree.getParent(l);var m=LEAP.tree.getChild(j);if(m!=null&&m.length==1){var h=LEAP.getElement("a>label:first",j);h.className="";m=h=null;}j=null;}LEAP.removeElement(l,false);g=l=null;};LEAP.tree.removeChilds=function(g,h){if(h==null){return;
}g=LEAP._check(g,LEAP.tree.d);if(g==null){return;}if(typeof(h)=="string"){h=LEAP.getElement(h,g);}if(h==null){return;}var d=LEAP.getElement("UL",h);if(d!=null){h.removeChild(d);}d=g=h=null;};LEAP.tree.clearItem=function(d){d=LEAP._check(d,LEAP.tree.d);if(d==null){return;}d.removeAttribute("selected");
d.innerHTML="";d=null;};LEAP.tree.setSelectedItem=function(h,j){if(h==null){return;}h=LEAP._check(h,LEAP.tree.d);if(h==null){return;}if(typeof(j)=="string"){j=LEAP.getElement(j,h);}if(j==null){h.removeAttribute("selected");LEAP.setAttribute(LEAP.getElements("a.tree_item_on",h),"className","");return;
}if(j.getAttribute("ctid")==null){j.setAttribute("ctid",UUID.cID());}LEAP.setAttribute(LEAP.getElements("a.tree_item_on",h),"className","");var g=j;if(j.getAttribute("treestyle2")=="1"){g=LEAP.getElement(">h3:first",j);}LEAP.getElement(">a:last",g).className="tree_item_on";var d=h.getAttribute("selected");
h.setAttribute("selected",j.getAttribute("ctid"));if(d!=h.getAttribute("selected")){ElementEventManager.handleEvent(h,"selectedItemChange",{tree:h,value:j.getAttribute("_value"),value2:j.getAttribute("_value2"),value3:j.getAttribute("_value3"),value4:j.getAttribute("_value4"),value5:j.getAttribute("_value5"),objid:j._objid!=null?j._objid:j.getAttribute("_objid"),text:LEAP.tree.getItemText(j),item:"[ctid="+j.getAttribute("ctid")+"]",data:j.data});
}h=j=null;};LEAP.tree.getSelectedItem=function(g){g=LEAP._check(g,LEAP.tree.d);if(g==null){return;}var d=LEAP.getElement("a.tree_item_on",g);if(d!=null){var h=LEAP._match(d,"tree_item",commfields.ctf,199);if(h!=null){if(h.getAttribute("ctid")==null){h.setAttribute("ctid",UUID.cID());}return"[ctid="+h.getAttribute("ctid")+"]";
}}g=d=null;};LEAP.tree.isHalfChecked=function(j,l){if(l==null){return;}j=LEAP._check(j,LEAP.tree.d);if(j==null){return;}if(typeof(l)=="string"){l=LEAP.getElement(l,j);}if(l==null){return;}var h=l;if(l.getAttribute("treestyle2")=="1"){h=LEAP.getElement(">h3:first",l);}var d=LEAP.getElement("a>input:first",h);
try{if(d!=null){var g=d.getAttribute("indeterminate");if(g=="true"||g==true){return true;}}return false;}finally{j=d=l=null;}};LEAP.tree.setItemHalfChecked=function(h,l,j){if(l==null){return;}h=LEAP._check(h,LEAP.tree.d);if(h==null){return;}if(typeof(l)=="string"){l=LEAP.getElement(l,h);}if(l==null){return;
}if(l.getAttribute("ctid")==null){l.setAttribute("ctid",UUID.cID());}if(j==null){j=true;}var g=l;if(l.getAttribute("treestyle2")=="1"){g=LEAP.getElement(">h3:first",l);}var d=LEAP.getElement("a>input:first",g);if(d!=null){if(j!=false){d.setAttribute("indeterminate",true);}else{d.setAttribute("indeterminate",null);
d.removeAttribute("indeterminate");}}h=l=d=null;};LEAP.tree.getHalfCheckedItems=function(m){m=LEAP._check(m,LEAP.tree.d);if(m==null){return;}var g=LEAP.getElements("input[indeterminate]",m);if(g!=null){var d=g.length;var h=[];for(var j=0;j<d;j++){var n=LEAP._match(g[j],"tree_item",commfields.ctf,199);
if(n.getAttribute("ctid")==null){n.setAttribute("ctid",UUID.cID());}h.push("[ctid="+n.getAttribute("ctid")+"]");n=g[j]=null;}return h;}};LEAP.tree.isChecked=function(j,l){if(l==null){return;}j=LEAP._check(j,LEAP.tree.d);if(j==null){return;}if(typeof(l)=="string"){l=LEAP.getElement(l,j);}if(l==null){return;
}var h=l;if(l.getAttribute("treestyle2")=="1"){h=LEAP.getElement(">h3:first",l);}var d=LEAP.getElement("a>input:first",h);try{if(d!=null){var g=d.getAttribute("checked")||d.checked;if(g=="true"||g==true){return true;}}return false;}finally{j=d=l=null;}};LEAP.tree.setItemChecked=function(j,m,l,g){if(m==null){return;
}j=LEAP._check(j,LEAP.tree.d);if(j==null){return;}if(typeof(m)=="string"){m=LEAP.getElement(m,j);}if(m==null){return;}if(m.getAttribute("ctid")==null){m.setAttribute("ctid",UUID.cID());}if(l==null){l=true;}var h=m;if(m.getAttribute("treestyle2")=="1"){h=LEAP.getElement(">h3:first",m);}var d=LEAP.getElement("a>input:first",h);
if(d!=null){if(l!=false){LEAP.setInputCheck(d);}else{LEAP.setInputUnCheck(d);}if(g==true){ElementEventManager.handleEvent(j,"checkedChanged",{tree:j,item:"[ctid="+m.getAttribute("ctid")+"]",value:m.getAttribute("_value"),value2:m.getAttribute("_value2"),value3:m.getAttribute("_value3"),value4:m.getAttribute("_value4"),value5:m.getAttribute("_value5"),text:LEAP.tree.getItemText(m),checked:d.checked,data:m.data});
}}j=m=d=null;};LEAP.tree.setCheckedItems=function(h,p){h=LEAP._check(h,LEAP.tree.d);if(h==null){return;}var l=LEAP.getElements("[ctf=tree_item]",h);if(l){for(var j=0;j<l.length;j++){var o=l[j];var d=o._value!=null?o._value:o.getAttribute("_value");var m=false;if(p!=null&&p.length>0){for(var g=0;g<p.length;
g++){if(p[g]==d){m=true;break;}}}var n=o.childNodes[0].childNodes[2];if(n){if(m){LEAP.setInputCheck(n);}else{LEAP.setInputUnCheck(n);}}}}};LEAP.setInputChecked=function(d,g){if(d&&d.tagName&&d.tagName=="INPUT"){if(g==true){d.checked=true;d.setAttribute("checked","true");}else{d.checked=false;d.removeAttribute("checked");
}}d=null;};LEAP.setInputUnCheck=function(d){LEAP.setInputChecked(d,false);};LEAP.setInputCheck=function(d){LEAP.setInputChecked(d,true);};LEAP.tree.setItemChildChecked=function(m,o,n){m=LEAP._check(m,LEAP.tree.d);if(m==null){return;}if(o!=null){if(typeof(o)=="string"){o=LEAP.getElement(o,m);}if(o==null){return;
}if(o.getAttribute("ctid")==null){o.setAttribute("ctid",UUID.cID());}}else{o=m;}if(n==null){n=true;}var h=LEAP.getElements("input[type=checkbox]",o);if(h!=null){var g=h.length;for(var j=0;j<g;j++){var d=h[j];if(n!=false){LEAP.setInputCheck(d);}else{LEAP.setInputUnCheck(d);}}}h=m=o=null;};LEAP.tree.getCheckedItems=function(m){m=LEAP._check(m,LEAP.tree.d);
if(m==null){return;}var g=LEAP.getElements("input:checked",m);if(g!=null){var d=g.length;var h=[];for(var j=0;j<d;j++){var n=LEAP._match(g[j],"tree_item",commfields.ctf,199);if(n.getAttribute("ctid")==null){n.setAttribute("ctid",UUID.cID());}h.push("[ctid="+n.getAttribute("ctid")+"]");n=g[j]=null;}return h;
}};LEAP.tree.getCheckedValues=function(m){m=LEAP._check(m,LEAP.tree.d);if(m==null){return;}var g=LEAP.getElements("input:checked",m);if(g!=null){var d=g.length;var h=[];for(var j=0;j<d;j++){var n=LEAP._match(g[j],"tree_item",commfields.ctf,199);h.push(n._value!=null?n._value:n.getAttribute("_value"));
n=g[j]=null;}return h;}};LEAP.tree.removeCheckedItems=function(j){j=LEAP._check(j,LEAP.tree.d);if(j==null){return;}var g=LEAP.getElements("input:checked",j);if(g!=null){var d=g.length;for(var h=0;h<d;h++){var m=LEAP._match(g[h],"tree_item",commfields.ctf,199);LEAP.removeElement(m,false);m=g[h]=null;}}};
LEAP.tree.getParent=function(d){if(d==null){return;}if(typeof(d)=="string"){d=LEAP.getElement(d);}if(d==null){return;}var g=null;try{if((d[commfields.ctf]=="tree_item"||d.getAttribute(commfields.ctf))&&d.parentNode!=null){g=LEAP._match(d.parentNode,"tree_item","ctf",199);if(g==null){return;}if(g.getAttribute("ctid")==null){g.setAttribute("ctid",UUID.cID());
}return"[ctid="+g.getAttribute("ctid")+"]";g=null;}}finally{g=d=null;}};LEAP.tree.updateItem=function(g,j,h){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}if(g[commfields.ctf]=="tree_item"||g.getAttribute(commfields.ctf)=="tree_item"){var d=LEAP.getElement(">a:last",g);
if(d!=null){d.innerText=j;}if(h==null){g.removeAttribute("_value");}else{g.setAttribute("_value",h);}d=null;}g=null;h=null;};LEAP.tree.getItemText=function(g){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}if(g[commfields.ctf]=="tree_item"||g.getAttribute(commfields.ctf)=="tree_item"){var d=LEAP.getElement(">a:last",g);
if(d!=null){return d.innerText;}d=null;}g=null;};LEAP.tree.setItemText=function(g,h){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}if(g[commfields.ctf]=="tree_item"||g.getAttribute(commfields.ctf)=="tree_item"){var d=LEAP.getElement(">a:last",g);if(d!=null){d.innerText=h;
}d=null;}g=null;h=null;};LEAP.areamap=new Object();LEAP.areamap.d="areamap";LEAP.areamap.all=new hashtable();LEAP.areamap.datas=new hashtable();LEAP.areamap.datalist=new hashtable();LEAP.areamap.tipDiv=null;LEAP.areamap._init=function(){var d=LEAP.areamap.tipDiv=document.createElement("div");d.className="areamaptip";
d.style.display="none";document.body.appendChild(d);d=null;UIEventManager.removeEvent(window,"load",LEAP.areamap._init);LEAP.addEvent(document.body,"click",LEAP.areamap.uiProcess,null,null,true);};LEAP.areamap.init=function(){if(document!=null&&document.body!=null){LEAP.areamap._init();}else{UIEventManager.addEvent(window,"load",LEAP.areamap._init);
}ElementEventManager.addManagedEventType(LEAP.areamap.d,"valueChange");};LEAP.areamap.administrativeAttr={fill:"#3FA9F5",stroke:"#ddd","stroke-width":1,"stroke-linejoin":"round"};LEAP.areamap.i=function(j,d){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}if(j!=null){var n=function(){LEAP.areamap.i(null,d);
d=null;};setTimeout(n,j);return;}var h=d.parentElement;var l=null;if(h!=null){l=h.getAttribute("ctid");if(!l){l=UUID.cID();h.setAttribute("ctid",l);}}else{return;}var m=h.getAttribute(commfields.ct);if(m&&m==LEAP.areamap.d){h.removeChild(d);d=null;var g=h.getAttribute("areaid");var o=h.getAttribute("countyid");
var p=h.getAttribute("arealevel");LEAP.areamap.draw(h,o,g,p);}};LEAP.areamap.uiProcess=function(p){var d=p.e.srcElement;var l=p.e.type;var q=d.tagName;if(l=="click"){var j=LEAP._match(d,LEAP.areamap.d);if(j){var g=d.getAttribute("_dataid");if(g){var h=LEAP.areamap.datalist.getvalue(g);if(h){if(h.arealevel>0&&h.areaid){LEAP.areamap.draw(j,h.countryid,h.areaid,null);
}else{if(h.arealevel==0&&h.countryid){LEAP.areamap.draw(j,h.countryid,h.areaid,1);}}}}var m=d.getAttribute("ctf");if(m&&m=="areamap_backbtn"){var o=j._keys;if(o&&o.length>1){var n=o[o.length-2];o.removeindex(o.length-1);LEAP.areamap.draw(j,n.countryid,n.parentID,n.arealevel);}}}}j=null;};LEAP.areamap.drawPin=function(j,m){var p=j.getBBox();
var o=Math.floor(p.x+p.width/2)-15;var n=Math.floor(p.y+p.height/2)-30;var d=m.path("M16,3.5c-4.142,0-7.5,3.358-7.5,7.5c0,4.143,7.5,18.121,7.5,18.121S23.5,15.143,23.5,11C23.5,6.858,20.143,3.5,16,3.5z M16,14.584c-1.979,0-3.584-1.604-3.584-3.584S14.021,7.416,16,7.416S19.584,9.021,19.584,11S17.979,14.584,16,14.584z");
j.pin=d;var g="t"+o+","+(n-15);var h="t"+o+","+(n);d.attr({fill:"#F92672",stroke:"#fff",opacity:0}).animate({opacity:1},1200);d.transform(g);d.toFront();var l=function(){var q=d.transform()==g?h:g;d.animate({transform:q},500,"<>",l);};l();};LEAP.areamap.getTransfromString=function(n,o,m,l){var h=Raphael.pathBBox(n);
var g=h.x*o+(h.x2*o-h.x*o)/2-h.cx;var d=h.y*o+(h.y2*o-h.y*o)/2-h.cy;var j={str:"t"+(g+m)+","+(d+l)+"s"+o,tx:g+m,ty:d+l,s:o,cx:h.cx,cy:h.cy};return j;};LEAP.areamap.getPostion=function(h,g,l){var d=g;if(l){d+="_"+l;}var j=LEAP.areamap.all.getvalue(LEAP.ctid(h));if(j){var n=j.paths;if(n){var m=n.getvalue(d);
if(m){return m.pos;}}}};LEAP.areamap.drawBackButton=function(g){var d=g.path("M21.122,22.041L38.5,32.074v-5.155c0,0,3.83,0,7.529,0c3.7,0,7.885,4.854,7.885,4.854s-1.141-11.417-5.326-13.32C44.399,16.551,38.5,17.161,38.5,17.161v-5.154L21.122,22.041z");d.attr({fill:"#929293",stroke:"none",title:"back to top area",cursor:"pointer"});
d.hover(function(){this.animate({stroke:"#8A8A8A","stroke-width":2},500);},function(){this.animate({stroke:"none","stroke-width":0},500);});d.node.setAttribute("ctf","areamap_backbtn");};LEAP.areamap.drawCallBack=function(T,y){var j=LEAP.getElement("[ctid="+y.ctid+"]");var F=LEAP.areamap.all.getvalue(y.ctid);
if(F==null){F={};F.gra=Raphael(j,"100%","100%");LEAP.areamap.all.add(y.ctid,F);F.paths=new hashtable();}else{if(T!=null){F.paths.clear();F.gra.clear();}}var V=y.countryid+"_"+y.parentID+"_"+y.arealevel;if(!LEAP.areamap.datas.contains(V)){LEAP.areamap.datas.add(V,{arg:y,datas:T});if(T){var J=T.length;
for(var P=0;P<J;P++){LEAP.areamap.datalist.add(T[P].id,T[P]);}}}if(T==null){return;}var M=j._keys;if(M==null){M=[];j._keys=M;M.add(y);}else{var J=M.length;var g=false;for(var P=0;P<J;P++){var V=M[P];if(V.countryid==y.countryid&&V.parentID==y.parentID&&V.arealevel==y.arealevel){g=true;break;}}if(!g){M.add(y);
}}if(M.length>1){LEAP.areamap.drawBackButton(F.gra);}var L=Raphael.animation({opacity:1},1200,"elastic");var J=T.length;var u,q,p,n;for(var P=0;P<J;P++){var B=Raphael.pathBBox(T[P].pathe);if(P==0){u=B.x;q=B.x2;p=B.y;n=B.y2;}else{if(B.x<u){u=B.x;}if(B.x2>q){q=B.x2;}if(B.y<p){p=B.y;}if(B.y2>n){n=B.y2;}}}var U=1;
var C=j.offsetWidth-50;var Q=j.offsetHeight-50;if(C-(q-u)>50&&Q-(n-p)>50){if((C-(q-u))<(Q-(n-p))){U=C/(q-u);}else{U=Q/(n-p);}}else{if(C-(q-u)<0||Q-(n-p)<0){if((C-(q-u))<(Q-(n-p))){U=C/(q-u);}else{U=Q/(n-p);}}}var x=-u*U+25+(C-(q-u)*U)/2;var r=-p*U+25+(Q-(n-p)*U)/2;var K=null;var S=j.instance||j.getAttribute("instance");
if(S){var d=LEAP.getLoadedModule(S);if(d&&d.onAreamapGetDataColors){try{K=d.onAreamapGetDataColors.call(d,T);}catch(R){}}}for(var P=0;P<J;P++){var m=T[P];var V=m.countryid;if(m.areaid){V+="_"+m.areaid;}if(m.pathe){var G={};G.pathe=F.gra.path(m.pathe);var I=LEAP.clone(LEAP.areamap.administrativeAttr);
if(K!=null&&K.contains(m.id)&&K.getvalue(m.id)){I.fill=K.getvalue(m.id);}G.pathe.attr(I).attr("opacity",0).animate(L.delay(500));var A=null;if(U!=1){A=LEAP.areamap.getTransfromString(m.pathe,U,x,r);G.pathe.transform(A.str);if(!isNaN(m.cx)){G.pos={x:Number(m.cx)+Number(A.tx),y:Number(m.cy)+Number(A.ty)};
}else{G.pos={x:Number(A.cx)+Number(A.tx),y:Number(A.cy)+Number(A.ty)};}}else{G.pathe.translate(x,r);if(!isNaN(m.cx)){G.pos={x:Number(m.cx)+Number(x),y:Number(m.cy)+Number(r)};}else{var H=Raphael.pathBBox(m.pathe);G.pos={x:Number(H.cx)+Number(x),y:Number(H.cy)+Number(r)};}}G.pathe.node.setAttribute("_dataid",m.id);
G.pathe.node.setAttribute("_ctid",y.ctid);G.obj=m;F.paths.add(V,G);var D=G.pathe;if(m.cx&&m.cy){G.adText=F.gra.text(m.cx,m.cy,m.name).attr({font:"12px  Arial","text-anchor":"start"});if(U!=1){G.adText.translate(A.tx,A.ty);}else{G.adText.translate(x,r);}}if(m.name=="China"){LEAP.asyn(LEAP.areamap.drawPin,null,500,G.pathe,F.gra);
}if(m.name){var O=function(X){var Y=this.cd.pathe;if(!Y.orgAttrs){Y.orgAttrs={};for(var Z in Y.attrs){Y.orgAttrs[Z]=Y.attrs[Z];}}Y.attr("cursor","pointer");if(this.hasOwnProperty("adText")){this.adText.attr("cursor","pointer");}Y.animate({"stroke-width":"4",fill:"red",stroke:"white",opacity:"0.7"},300,">");
var W,l;if(isNaN(X.pageX)){W=X.clientX+document.body.scrollLeft-document.body.clientLeft;l=X.clientY+document.body.scrollTop-document.body.clientTop;}else{W=X.pageX;l=X.pageY;}var o=false;var w=LEAP._match(Y.node,LEAP.areamap.d);if(w){var aa=w.instance||w.getAttribute("instance");if(aa){var h=LEAP.getLoadedModule(aa);
if(h&&h.onShowItemInfo){try{LEAP.areamap._lastII=h.onShowItemInfo(h,this.cd,W,l);if(LEAP.areamap._lastII){o=true;}}catch(X){}}}}if(!o){LEAP.areamap.tipDiv.innerHTML=this.cd.obj.name;LEAP.areamap.tipDiv.style.left=W+5+"px";LEAP.areamap.tipDiv.style.top=l+20+"px";LEAP.areamap.tipDiv.style.display="block";
}F.gra.safari();};var N=function(W){LEAP.areamap.tipDiv.style.display="none";var w=this.cd.pathe;w.animate({fill:w.orgAttrs.fill,stroke:w.orgAttrs.stroke,"stroke-width":"1",opacity:"1"},300,">");var o=LEAP._match(w.node,LEAP.areamap.d);if(o){var h=o.instance||o.getAttribute("instance");if(h){var l=LEAP.getLoadedModule(h);
if(l&&l.onHideItemInfo){try{l.onHideItemInfo(l,LEAP.areamap._lastII);hasShow=true;}catch(W){}}}}};var z=F.gra.set();z.push(D);if(m.name){z.push(m.name);}z.hover(O,N,{cd:G,arg:y},{cd:G,arg:y});}}}ElementEventManager.handleEvent(j,"valueChange",{caller:j,countryid:y.countryid,parentID:y.parentID,arealevel:y.arealevel});
};LEAP.areamap.onClick=function(h){var g=h.cd.obj;if(g.areaid||g.countryid){var d=g.countryid+"_"+g.areaid+"_null";var j=LEAP.areamap.datas.getvalue(d);if(j){LEAP.areamap.drawCallBack(j,{countryid:g.countryid,parentID:g.areaid,arealevel:null,ctid:h.arg.ctid});}else{LEAP.request2({name:"SVGArea_get",par:{countryid:g.countryid,parentID:g.areaid,arealevel:null},callback:LEAP.areamap.drawCallBack,arg:{countryid:g.countryid,parentID:g.areaid,arealevel:null,ctid:h.arg.ctid}});
}}};LEAP.areamap.draw=function(j,h,m,d){if(!h){h=null;}if(!m){m=null;}if(!d){d=null;}try{j=LEAP._check(j,LEAP.areamap.d);if(j==null){return;}var g=h+"_"+m+"_"+d;var l=LEAP.areamap.datas.getvalue(g);if(l){LEAP.areamap.drawCallBack(l.datas,l.arg);}else{LEAP.request2({name:"SVGArea_get",par:{countryid:h,parentID:m,arealevel:d},callback:LEAP.areamap.drawCallBack,arg:{countryid:h,parentID:m,arealevel:d,ctid:LEAP.ctid(j),key:g}});
}}finally{j=null;}};LEAP.areamap.init();LEAP.automodule={};LEAP.automodule.i=function(h){if(!h){if(!event){return;}h=event.srcElement;}var d=h.parentElement;d.innerHTML='<table cellpadding="0" cellspacing="0" border="0" style="height:100%;width:100%;"><td align="center" valign="middle"><img src="'+PublishServerConfig.getURL("LEAP/Resource/images/itemstyle/form/p.gif")+'" ></td></table>';
var g=d.getAttribute("modulename");var j=LEAP.ctid(d);if(g!=null){LEAP.asyn(LEAP.automodule.l,null,100,j,d.getAttribute("instance"),g);}d=h=null;};LEAP.automodule.l=function(l,d,h){var g=LEAP.getElement("DIV[ctid="+l+"]:first");try{if(h!=null){var d=g.getAttribute("instance");if(d!=null){LEAP.getLoadedModule(d).loadModule2({name:h,parent:g});
}else{LEAP.loadModule2({name:h,parent:g});}}}catch(j){if(isdebug){throw j;}}finally{g=null;}};LEAP.barcode=new Object();LEAP.barcode.d="barcode";LEAP.barcode.getValue=function(g){g=LEAP._check(g,LEAP.docedit.d);if(g==null){return;}try{var d=g.getAttribute(commfields._value);if(d==null||isNaN(d)||String.isEmpty(d)){return null;
}return d;}finally{g=null;}};LEAP.barcode.setValue=function(g,h){g=LEAP._check(g,LEAP.barcode.d);if(g==null){return;}try{var j=(g.tagName=="IMAGE"||g.tagName=="IMG");if(h==null||isNaN(h)||String.isEmpty(h)){g.removeAttribute(commfields._value);if(j){g.src="";}else{g.style.backGroundImage="";}}else{var d=new StringBuffer(leapconfig.server);
d.append("LEAP/Service/RPC/RPC.DO?sid=");d.append(leapclient.getsid());d.append("&service=leap&method=getBarCode&callService=leap&returnJSON=false&code=");d.append(h.trim());g.setAttribute(commfields._value,h.trim());if(j){g.src=d.toString();}else{g.style.backGroundImage=d.toString();}}}finally{g=null;
}};LEAP.chart={};LEAP.chart.loads=[];LEAP.chart.show=function(n,m,h){if(h==null||n==null){return;}try{var l=LEAP.request("getChartDataXML",{serviceName:n,searchParameters:m});if(l!=null){if(typeof(h)=="string"){h=LEAP.getElement(h);}var g=h.getAttribute("id");if(g==null||g==""||(typeof(g)=="string"&&g.Trim()=="")){g="chart_con_"+UUID.cID();
h.setAttribute("id",g);}var j="chart_"+UUID.cID();var q=l.type;var p=leapconfig.server;var d="LEAP/Resource/Chart/fun/";if(q==1){d+="bar";}else{if(q==2){d+="mbar";}else{if(q==3){d+="MSLine";}else{if(q==4){d+="Angular";}else{if(q=5){d+="barline";}}}}}d+=".swf";p+=d;if(!LEAP.chart.loads.contains(d)){leapclient.load(d);
LEAP.chart.loads.add(d);}var o=new FusionCharts(p,j,h.clientWidth+"",h.clientHeight+"","0","0");o.addParam("wmode","Opaque");o.setDataXML(l.data);o.render(g);o=null;}else{if(typeof(h)=="string"){h=LEAP.getElement(h);}h.innerHTML="";}}finally{h=null;}};LEAP.colorSelect=function(A,K,I,x,n,g,q){if(document.getElementById("colorBoard")){return;
}I=I||event;var C=LEAP.getScrollPos();var G=C.l+I.clientX;var D=C.t+I.clientY+10;if(G>LEAP.getBody().clientWidth-253){if(g=="1"){G=LEAP.getBody().clientWidth-350;}else{G=LEAP.getBody().clientWidth-253;}}if(D>LEAP.getBody().clientHeight-253){if(g=="1"){D=LEAP.getBody().clientHeight-350;}else{D=LEAP.getBody().clientHeight-253;
}}if(g=="2"){var o=LEAP.getAbsolutePos(q);var y=document.body.clientWidth;var H=document.body.clientHeight;G=o.x;D=o.y+20;if(y-G<300&&H-D<220){G=G-300;D=D-220;}else{if(y-G<300&&H-D>220){G=G-300;}else{if(y-G>300&&H-D<220){D=D-220;}}}}var d=new Array("00","33","66","99","CC","FF");var J=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF");
var j=document.createElement("div");j.setAttribute("id","colorBank");j.style.width="256px";j.setAttribute("unselectable","on");var p=document.createElement("div");p.setAttribute("id","colorViews");p.setAttribute("unselectable","on");var u=document.createElement("input");u.setAttribute("id","colorInput");
u.setAttribute("type","text");var z=document.createElement("input");z.setAttribute("id","colorClose");z.setAttribute("value","");z.setAttribute("type","button");z.setAttribute("unselectable","on");z.onclick=function(){document.body.removeChild(m);};var F=document.createElement("input");F.setAttribute("id","colorSuer");
F.setAttribute("value","");F.setAttribute("type","button");F.setAttribute("unselectable","on");F.onclick=function(){var h=u.value;if(K==null){K=window;}A.apply(K,[h.toUpperCase(),x,n]);document.body.removeChild(m);};var m=document.createElement("div");m.setAttribute("unselectable","on");m.id="colorBoard";
m.style.left=G+"px";m.style.top=D+"px";m.style.width="300px";m.style.zIndex="999999";m.appendChild(p);m.appendChild(u);m.appendChild(z);m.appendChild(F);m.appendChild(j);document.body.appendChild(m);var r=document.createElement("iframe");r.style.width="100%";r.style.height="220px";r.style.position="absolute";
r.style.top="0px";r.style.left="0px";r.style.zIndex="-1";r.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";r.style.opacity="0";m.appendChild(r);for(b=0;b<6;b++){for(a=0;a<3;a++){for(i=0;i<6;i++){colorItem=document.createElement("div");colorItem.setAttribute("unselectable","on");
colorItem.style.backgroundColor="#"+d[a]+d[i]+d[b];j.appendChild(colorItem);}}}for(b=0;b<6;b++){for(a=3;a<6;a++){for(i=0;i<6;i++){colorItem=document.createElement("div");colorItem.setAttribute("unselectable","on");colorItem.style.backgroundColor="#"+d[a]+d[i]+d[b];j.appendChild(colorItem);}}}for(i=0;
i<6;i++){colorItem=document.createElement("div");colorItem.setAttribute("unselectable","on");colorItem.style.backgroundColor="#"+d[0]+d[0]+d[0];j.appendChild(colorItem);}for(i=0;i<6;i++){colorItem=document.createElement("div");colorItem.setAttribute("unselectable","on");colorItem.style.backgroundColor="#"+d[i]+d[i]+d[i];
j.appendChild(colorItem);}for(i=0;i<6;i++){colorItem=document.createElement("div");colorItem.setAttribute("unselectable","on");colorItem.style.backgroundColor="#"+J[i];j.appendChild(colorItem);}var B=j.getElementsByTagName("div");for(i=0;i<B.length;i++){B[i].onmouseover=function(){a=this.style.backgroundColor;
if(a.length>7){a=formatRgb(a);}p.style.background=a.toUpperCase();u.value=a.toUpperCase();};B[i].onclick=function(){a=this.style.backgroundColor;if(a.length>7){a=formatRgb(a);}if(K==null){K=window;}A.apply(K,[a.toUpperCase(),x,n]);document.body.removeChild(m);};}};LEAP.colorColse=function(){var d=document.getElementById("colorBoard");
if(d){document.body.removeChild(d);}};function formatRgb(rgb){rgb=rgb.replace("rgb","");rgb=rgb.replace("(","");rgb=rgb.replace(")","");format=rgb.split(",");a=eval(format[0]).toString(16);b=eval(format[1]).toString(16);c=eval(format[2]).toString(16);rgb="#"+checkFF(a)+checkFF(b)+checkFF(c);function checkFF(str){if(str.length==1){str=str+""+str;
return str;}else{return str;}}return rgb;}LEAP.getBody=function(){var d;if(typeof document.compatMode!="undefined"&&document.compatMode!="BackCompat"){d=document.documentElement;}else{if(typeof document.body!="undefined"){d=document.body;}}return d;};LEAP.getScrollPos=function(){var h,d;if(typeof window.pageYOffset!="undefined"){h=window.pageYOffset;
d=window.pageXOffset;}else{h=LEAP.getBody().scrollTop;d=LEAP.getBody().scrollLeft;}var g={t:h,l:d};return g;};LEAP.command={};LEAP.command.d="command";LEAP.command.comform=null;LEAP.command.currElement=null;LEAP.command.idxElement=null;LEAP.command.template='<h2><div><a href="javascript:void(0)"><img src="close.png" alt="" ctf="command_close"></a></div></h2><div class="LC_command_info"><h3></h3><div class="LC_command_handler" id="handler"><img src="@image" alt=""></div><div class="LC_command_input"><h4 class="LC_command_tit"></h4><textarea rows="3" ctf="command_area"></textarea><div class="LC_command_input_btn"><a href="javascript:void(0)" ctf="command_clear"></a><a href="javascript:void(0)" ctf="command_submit"></a></div></div> </div> </div>';
LEAP.command._init=function(){UIEventManager.removeEvent(window,"load",LEAP.command._init);LEAP.addEvent(document.body,"click",LEAP.command.uiProcess,null,null,true);};LEAP.command.init=function(){if(document!=null&&document.body!=null){LEAP.command._init();}else{UIEventManager.addEvent(window,"load",LEAP.command._init);
}}();LEAP.command.uiProcess=function(d){if(!d||!d.e){return;}var j=d.e.srcElement;if(!j){return null;}var g=d.e.type;if(g!="click"){return;}if(j.getAttribute("ct")==LEAP.command.d){LEAP.command.openCommand();return;}var h=j.getAttribute("ctf");if(!h||h.indexOf("command_")!=0){return;}if(h=="command_close"){LEAP.command.showCommand(false);
}else{if(h=="command_clear"){LEAP.command.showCommand(false);}else{if(h=="command_submit"){LEAP.command.submitCommand();}}}};LEAP.command.openCommand=function(){if(LEAP.command.comform==null){LEAP.command.createForm();}LEAP.command.showCommand(true);var d=LEAP.getElement("[ctf=command_area]",LEAP.command.comform);
if(d!=null){LEAP.setValue(d,null);d.focus();}};LEAP.command.createForm=function(){var d=document.createElement("div");d.className="LC_command";var g=LEAP.command.template.replace("@image",leapconfig.server+"LEAP/Resource/images/index/voice.png");d.innerHTML=g;document.body.appendChild(d);LEAP.command.comform=d;
};LEAP.command.showCommand=function(d){if(!LEAP.command.comform){return;}if(d){LEAP.showMask();LEAP.command.comform.style.display="";}else{LEAP.command.comform.style.display="none";LEAP.hideMask();}};LEAP.command.clearCommand=function(){var d=LEAP.getElement("[ctf=command_area]",LEAP.command.comform);
if(d!=null){LEAP.setValue(d,null);}};LEAP.command.submitCommand=function(){var q=null;var r=LEAP.getElement("[ctf=command_area]",LEAP.command.comform);if(r!=null){q=LEAP.getValue(r);if(!q||q.trim().length==0){alert("");return;}}var o=q.replace("","");if(o.length==0){alert("");return;}var j=null;
var h=LEAP.getElements("[ct=form]");if(h!=null){var d=null;for(var l=0;l<h.length;l++){if(h[l].style.display=="block"){d=h[l];}}if(d!=null){j=LEAP.getElement("[value="+o+"]",d);}}if(!j){var u=LEAP.getElements("[ct=tab]",this.currElement);if(u!=null){for(var l=0;l<u.length;l++){var n=LEAP.getElements("li[ctf=tab_label]",u[l]);
var m=LEAP.getElements("[ctf=tab_content]",u[l]);if(!n||!m||n.length!=m.length){continue;}var p=LEAP.tab.getSelectedIndex(u[l]);if(p>-1){j=LEAP.getElement("[value="+o+"]",m[p]);if(j){break;}}for(var g=0;g<n.length;g++){if(n[g].innerHTML==o){j=n[g];break;}}}}}if(!j){j=LEAP.getElement("[value="+o+"]",this.currElement);
}if(!j){j=LEAP.getElement("[label="+o+"]",this.idxElement);}if(!j){j=LEAP.getElement("[cmd="+o+"]",this.idxElement);}if(j){LEAP.command.showCommand(false);j.click();}else{LEAP.messagebox.alert("");}};LEAP.command.setIndexElement=function(d){LEAP.command.idxElement=d;};LEAP.command.setCurrentElement=function(d){LEAP.command.currElement=d;
};LEAP.date={};LEAP.date.d="date";LEAP.date._pm=LEAPBrowser&&((LEAPBrowser.documentMode&&LEAPBrowser.documentMode<7)||(LEAPBrowser.IEVersion&&LEAPBrowser.IEVersion==7&&!LEAPBrowser.documentMode))?"absolute":"fixed";LEAP.date._init=function(){LEAP.addEvent(document.body,"click",LEAP.date.uiProcess,null,null,true);
LEAP.addEvent(document.body,"keypress",LEAP.date.uiProcess,null,null,true);LEAP.addEvent(document.body,"keyup",LEAP.date.uiProcess,null,null,true);if(LEAP.isIE){LEAP.addEvent(document.body,"focusin",LEAP.date.uiProcess,null,null,true);LEAP.addEvent(document.body,"focusout",LEAP.date.uiProcess,null,null,true);
}else{document.addEventListener("focus",LEAP.date.uiProcess,true);document.addEventListener("blur",LEAP.date.uiProcess,true);}UIEventManager.removeEvent(window,"load",LEAP.date._init);};LEAP.date.init=function(){if(document!=null&&document.body!=null){LEAP.date._init();}else{UIEventManager.addEvent(window,"load",LEAP.date._init);
}ElementEventManager.addManagedEventType(LEAP.date.d,"valueChange");}();LEAP.date.uiProcess=function(n){var F=null;var o=null;var z=null;var m=null;if(n!=null&&n.e!=null&&n.e.type!=null){m=n.e.type;}if(m!=null){o=n.e.srcElement;F=n.e;if(LEAP.isIE){z=F.keyCode;}else{z=F.which;}}else{F=n;o=n.target;z=F.which;
}var g=LEAP._match(o,LEAP.date.d);if(g==null&&m=="click"){var r=LEAP.getElement("#calendar");if(r){r.style.display="none";}return;}if(g==null){return;}var p=g.getAttribute("cdt");if(p=="1"){loadcalendar1(g);}else{loadcalendar(g);}if(m=="click"){var I=LEAP._match(o,"d_panel_group");if(I==null){LEAP.getElement("#calendar").style.display="none";
LEAP.getElement("#calendar_year").style.display="none";LEAP.getElement("#calendar_month").style.display="none";}}if(o==null||o.getAttribute==null){return;}var d=o.getAttribute(commfields.ctf);if(d==null){return;}if(d.indexOf("date_")==-1&&d.indexOf("dates_")==-1){return;}var H=g.getAttribute("bt");if(g.getAttribute("readonly")=="1"){return;
}if(m=="click"&&d=="date_show"){if(p=="1"&&H=="datetime"){showcalendar(F,o.parentNode,true);}else{showcalendar(F,o.parentNode);}}if(d!="date_show"){var C="";var u=-1;var q=o.value;var y=q.length;var h=d.substr(5,1)*1;var G=LEAP.getSelectedText(o);C=G.text;u=G.idx;if(m=="keypress"){var A=z-48;if(z==8||z==0||z==0||z==35||z==36||z==37||z==38||z==39||z==40){return;
}if(F.ctrlKey&&(z==67||z==99)){return;}if(z<48||z>57){if(LEAP.isIE){F.returnValue=false;}else{F.preventDefault();}return;}else{if((C==null||C=="")&&(u!=null)&&u!=-1&&u!=4){var q=o.value;if(u==q.length){return;}o.value=q.substr(0,u)+q.substr(u+1,q.length);LEAP.date._s(o,u);}}}var D=false;if(m=="keyup"||m=="focusout"||m=="blur"||m=="focusin"||m=="focus"||m=="click"){if(m=="keyup"){if(((z>=48&&z<=57)||(z>=96&&z<=105))&&((d=="date_1"&&y==4&&(u==null||u==4))||(d!="date_1"&&y==2&&(u==null||u==2)))){var x=LEAP.getElement("input[ctf=date_"+(h+1)+"]",o.parentNode);
if(x!=null){x.focus();if(!LEAP.isIE){D=true;}}if(h==6){if(!LEAP.isIE){D=true;}}x=null;}if(z==8&&A!=1&&u==0){var w=LEAP.getElement("input[ctf=date_"+(h-1)+"]",o.parentNode);if(w!=null){w.focus();if(h-1==1){LEAP.date._s(w,4);}else{LEAP.date._s(w,2);}}w=null;}}if(m=="focusin"||m=="focus"){o.select();}if(m=="click"){o.select();
}if(m=="focusout"||m=="blur"||D){o.value=LEAP.date._c(q,y,h,o);q=o.value;y=q.length;if(y==0){return;}if((h==1&&y<4)||(h>1&&y<2)){if(h==1){for(var A=y;A<4;A++){q="0"+q;}}else{q="0"+q;}o.value=q;return;}else{}var B=LEAP.date.getValue(g);var j=g._lv;if(j!=B){if(j!=B){ElementEventManager.handleEvent(g,"valueChange",{caller:g,pv:j,lv:B});
g._lv=B;}}}}}};LEAP.date._c=function(x,o,w,d){var g="";for(var p=0;p<o;p++){var u=x.charAt(p);if(u>="0"&&u<="9"){g+=u;}}if(g==""){d.value=g;return g;}var h=g*1;if(w==1&&h<1753){g="1753";}if(w==2&&h>12){g="12";}if(w==3&&h>28){var q=LEAP.getElement("[ctf=date_1]",d.parentNode).value*1;var j=LEAP.getElement("[ctf=date_2]",d.parentNode).value*1;
if(q!=0&&j==2){if(q%400==0){g=29;}else{if(q%100==0){g=28;}}if(q%4==0){g=29;}else{g=28;}}if(g*1>31){g="31";}}if(w<4&&g*1==0){g="01";if(w==1){g="00"+g;}}if(w==4&&h>23){g="23";}if((w==5||w==6)&&h>60){g="60";}return g+"";};LEAP.date._s=function(h,d){if(LEAP.isIE){var g=h.createTextRange();g.moveStart("character",d);
g.collapse(true);g.select();}else{h.selectionStart=h.selectionEnd=d;}};LEAP.date.setValue=function(n,r,w){n=LEAP._check(n,LEAP.date.d);if(n==null){return;}var p=n.getAttribute("readonly");if(p==true||p=="readonly"||p=="1"){LEAP.date.setReadOnly(n,true);}var q=LEAP.date.getValue(n);var o=LEAP.getElements("input[ctf^=date_]",n);
if(r!=null&&typeof r!="string"){r=LEAP.formatdate(r,0);}if(r==null||r.Trim()==""){LEAP.setAttribute(o,"value","");}else{var x=r.split(" ");var u=[];u=x[0].split("-");if(x.length>1){var g=x[1].split(":");for(var m=0;m<g.length;m++){u.add(g[m]);}}var z=u.length;if(o.length<z){z=o.length;}for(var m=0;m<z;
m++){if(m==0&&u[m].length<4){var d=u[m].length;for(var h=0;h<4-d;h++){u[m]="0"+u[m];}}if(m>0&&u[m].length<2){u[m]="0"+u[m];}o[m].value=u[m];o[m].setAttribute("value",u[m]);}if(o.length>u.length){for(var m=u.length;m<o.length;m++){o[m].value="00";o[m].setAttribute("value","00");}}}var y=LEAP.date.getValue(n);
if(q!=y){ElementEventManager.handleEvent(n,"valueChange",{caller:n,pv:q,lv:y});}n._lv=y;if(w==true){n.focus();}o=n=r=null;};LEAP.date.getValue=function(n){n=LEAP._check(n,LEAP.date.d);if(n==null){return null;}var p=LEAP.getElements("input[ctf^=date_]",n);var d=p.length;var o="";for(var h=0;h<d;h++){var m=p[h];
var g=m.value;if(g.Trim()==""){return null;}o+=g;if(h<2){o+="-";}if(h==2){o+=" ";}if(h>2&&h!=d-1){o+=":";}}if(d>3&&d<6){for(var m=d;m<6;m++){o+=":";o+="00";}}p=d=null;return o.Trim();};LEAP.date.setReadOnly=function(j,l){j=LEAP._check(j,LEAP.date.d);if(j==null){return;}if(l!=null&&l){j.setAttribute("readonly","1");
var d=LEAP.getElements("INPUT",j);if(d!=null){for(var h=0;h<d.length;h++){var g=d[h];g.setAttribute("readOnly","true");g.setAttribute("disabled","true");}}d=null;var m=LEAP.getElement("div:first",j);if(m!=null){m.style.display="none";}m=null;}else{j.removeAttribute("readonly");var d=LEAP.getElements("INPUT",j);
if(d!=null){for(var h=0;h<d.length;h++){var g=d[h];g.removeAttribute("readOnly");g.removeAttribute("disabled");}}d=null;var m=LEAP.getElement("div:first",j);if(m!=null){m.style.display="block";}m=null;}j=null;};var ie=navigator.appName=="Microsoft Internet Explorer"?true:false;var controlid=null;var currdate=null;
var startdate=null;var enddate=null;var yy=null;var mm=null;var hh=null;var ii=null;var ss=null;var cdt=null;var currday=null;var addtime=false;var today=new Date();var lastcheckedyear=false;var lastcheckedmonth=false;function _cancelBubble(d){e=d?d:window.event;if(ie){e.cancelBubble=true;}else{e.stopPropagation();
}}function getposition(g){var d=LEAP.getAbsolutePos(g);return d;}function loadcalendar(n){var g=n.getAttribute("startyear");var o=n.getAttribute("endyear");if(!g){g=1890;}if(!o){o=2089;}s="";s+='<div id="calendar" ct="d_panel_group" style="display:none; position:'+LEAP.date._pm+'; z-index:99999995;" onclick="_cancelBubble(event)">';
if(ie){s+='<iframe sandbox="allow-same-origin allow-scripts allow-top-navigation allow-forms" width="190" height="150" src="about:blank" style="position: absolute;z-index:-1;"></iframe>';}s+='<div style="width: 200px;"><table class="tableborder" cellspacing="0" cellpadding="0" width="100%" style="text-align: center">';
s+='<tr align="center" class="header"><td class="header"><a href="#" onclick="refreshcalendar(yy, mm-1);return false" title=""><<</a></td><td colspan="5" style="text-align: center" class="header"><a href="#" onclick="showdiv(\'year\');_cancelBubble(event);return false" title="" id="year"></a>  -  <a id="month" title="" href="#" onclick="showdiv(\'month\');_cancelBubble(event);return false"></a></td><td class="header"><A href="#" onclick="refreshcalendar(yy, mm+1);return false" title="">>></A></td></tr>';
s+='<tr class="category"><td>7</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>';for(var m=0;m<6;m++){s+='<tr class="altbg2">';for(var h=1;h<=7;h++){s+="<td id=d"+(m*7+h)+' height="19">0</td>';}s+="</tr>";}s+='<tr id="hourminute"><td colspan="7" align="center"><input type="text" size="1" value="" id="hour" onKeyUp=\'this.value=this.value > 23 ? 23 : zerofill(this.value);LEAP.date.setValue(controlid , LEAP.date.getValue(controlid).replace(/\\d+(:\\d+)/ig, this.value+"$1"),true)\'>  <input type="text" size="1" value="" id="minute" onKeyUp=\'this.value=this.value > 59 ? 59 : zerofill(this.value);LEAP.date.setValue(controlid, LEAP.date.getValue(controlid).replace(/(\\d+:)\\d+/ig, "$1"+this.value),true)\'> </td></tr>';
s+="</table></div></div>";s+='<div id="calendar_year" onclick="_cancelBubble(event)" style="position:'+LEAP.date._pm+';height:172px;width:195px;overflow-y:auto;overflow-x:hidden"><div class="col">';for(var d=g;d<=o;d++){s+=d!=1890&&d%10==0?'</div><div class="col">':"";s+='<a href="#" onclick="refreshcalendar('+d+", mm);dateid('calendar_year').style.display='none';return false\"><span"+(today.getFullYear()==d?' class="today"':"")+' id="calendar_year_'+d+'">'+d+"</span></a><br />";
}s+="</div></div>";s+='<div id="calendar_month" onclick="_cancelBubble(event)" style="position:'+LEAP.date._pm+';">';for(var d=1;d<=12;d++){s+='<a href="#" onclick="refreshcalendar(yy, '+(d-1)+");dateid('calendar_month').style.display='none';return false\"><span"+(today.getMonth()+1==d?' class="today"':"")+' id="calendar_month_'+d+'">'+d+(d<10?" ":"")+" </span></a><br />";
}s+="</div>";var l=document.createElement("div");l.innerHTML=s;document.body.appendChild(l);LEAP.getElement("#calendar").onclick=function(j){_cancelBubble(j);LEAP.getElement("#calendar_year").style.display="none";LEAP.getElement("#calendar_month").style.display="none";};}function parsedate(l){/(\d+)\-(\d+)\-(\d+)\s*(\d*):?(\d*)/.exec(l);
var j=(RegExp.$1&&RegExp.$1>1899&&RegExp.$1<2101)?parseFloat(RegExp.$1):today.getFullYear();var h=(RegExp.$2&&(RegExp.$2>0&&RegExp.$2<13))?parseFloat(RegExp.$2):today.getMonth()+1;var g=(RegExp.$3&&(RegExp.$3>0&&RegExp.$3<32))?parseFloat(RegExp.$3):today.getDate();var d=(RegExp.$4&&(RegExp.$4>-1&&RegExp.$4<23))?parseFloat(RegExp.$4):0;
var m=(RegExp.$5&&(RegExp.$5>-1&&RegExp.$5<60))?parseFloat(RegExp.$5):0;/(\d+)\-(\d+)\-(\d+)\s*(\d*):?(\d*)/.exec("0000-00-00 00:00");return new Date(j,h-1,g,d,m);}function cleartime(){LEAP.getElement("#calendar").style.display="none";LEAP.date.setValue(controlid,null,true);}function settime1(){var o=LEAP.getElement("#calendar").getAttribute("selectday");
if(!o){LEAP.messagebox.alert("!",3);return;}var h=null;var l=new Date();var j=l.getFullYear();var n=l.getMonth();var g=l.getDate();var p=LEAP.getElement("#year").value;var d=LEAP.getElement("#month").value;p=LEAP.tonum(p);d=LEAP.tonum(d);if(p==j&&d==n+1){h=p+"-"+zerofill(d)+"-"+zerofill(o)+(addtime?" "+zerofill(LEAP.getElement("#hour").value)+":"+zerofill(LEAP.getElement("#minute").value)+":"+zerofill(LEAP.getElement("#second").value):"");
}else{h=p+"-"+zerofill(d)+"-"+zerofill(o)+(addtime?" "+zerofill(LEAP.getElement("#hour").value)+":"+zerofill(LEAP.getElement("#minute").value)+":"+zerofill(LEAP.getElement("#second").value):"");}LEAP.getElement("#calendar").style.display="none";LEAP.date.setValue(controlid,h,true);}function settime(o){var x=null;
if(cdt=="1"){var p=LEAP.getElement("#date_time");if(p.style.display==""||p.style.display=="block"){var q=LEAP.getElement("#year");var r=LEAP.tonum(q.value);var n=LEAP.getElement("#month");var h=LEAP.tonum(n.value);var u=LEAP.getElement(".LC_date_body");var l=LEAP.getElements("td",u);for(var j=0;j<l.length;
j++){var A=LEAP.getElement("a",l[j]);if(A!=null){if(A.innerHTML==o){LEAP.getElement("#calendar").setAttribute("selectday",o);LEAP.setStyle(A,{color:"#fff"});LEAP.addCSS(l[j],"LC_active");}else{var w=LEAP.tonum(A.innerHTML);var g=new Date(r,(h-1),w);var z=g.getDay();if(z==0||z==6){if(g.getTime()<today.getTime()){LEAP.setStyle(A,{color:"#c9c9c9"});
}else{LEAP.setStyle(A,{color:"#1e88e5"});}}else{if(g.getTime()<today.getTime()){if(g.getFullYear()==today.getFullYear()&&g.getMonth()==today.getMonth()&&g.getDate()==today.getDate()){LEAP.setStyle(A,{color:"#000000"});}else{LEAP.setStyle(A,{color:"#c9c9c9"});}}else{LEAP.setStyle(A,{color:"#000000"});
}}LEAP.removeCSS(l[j],"LC_active",false);}}}x=yy+"-"+zerofill(mm+1)+"-"+zerofill(o)+(addtime?" "+zerofill(LEAP.getElement("#hour").value)+":"+zerofill(LEAP.getElement("#minute").value)+":"+zerofill(LEAP.getElement("#second").value):"");}else{LEAP.getElement("#calendar").style.display="none";x=yy+"-"+zerofill(mm+1)+"-"+zerofill(o)+(addtime?" "+zerofill(LEAP.getElement("#hour").value)+":"+zerofill(LEAP.getElement("#minute").value)+":"+zerofill(LEAP.getElement("#second").value):"");
LEAP.date.setValue(controlid,x,true);}}else{LEAP.getElement("#calendar").style.display="none";x=yy+"-"+zerofill(mm+1)+"-"+zerofill(o)+(addtime?" "+zerofill(LEAP.getElement("#hour").value)+":"+zerofill(LEAP.getElement("#minute").value):"");LEAP.date.setValue(controlid,x,true);}}function showcalendar(j,B,w,u,l){if(B.getAttribute("ctid")==null){B.setAttribute("ctid",UUID.cID());
}cdt=B.getAttribute("cdt");var h=B.getAttribute("isscd");var n=null;var q=null;if(window.innerWidth){n=window.innerWidth;}else{if((document.body)&&(document.body.clientWidth)){n=document.body.clientWidth;}}if(window.innerHeight){q=window.innerHeight;}else{if((document.body)&&(document.body.clientHeight)){q=document.body.clientHeight;
}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){q=document.documentElement.clientHeight;n=document.documentElement.clientWidth;}if(LEAP.getUserZoomSize&&LEAP.getUserZoomSize()>10){q=q*10/LEAP.getUserZoomSize();}controlid="[ctid="+B.getAttribute("ctid")+"]";
addtime=w;startdate=u?parsedate(u):false;enddate=l?parsedate(l):false;var y=LEAP.date.getValue(B);currday=y?parsedate(y):today;var o=currday.getHours();var z=currday.getMinutes();var A=currday.getSeconds();var m=getposition(B);LEAP.getElement("#calendar").style.display="block";_cancelBubble(j);refreshcalendar(currday.getFullYear(),currday.getMonth(),currday.getDate(),o>=10?o:("0"+o),z>=10?z:("0"+z),null,h);
if(cdt=="1"){LEAP.getElement("#date_time").style.display=addtime?"":"none";LEAP.getElement("#date_suer").style.display=addtime?"":"none";LEAP.getElement("#calendar_picker").style.display="none";}else{LEAP.getElement("#hourminute").style.display=addtime?"":"none";}var g=LEAP.getElement("#calendar").clientHeight;
var r=LEAP.getElement("#calendar").clientWidth;var x=B.clientHeight;var d=B.clientWidth;LEAP.getElement("#calendar").style.left=m.x+2+"px";if(cdt=="1"){if(q-(m.y+x)>g){LEAP.getElement("#calendar").style.top=(m.y+x)+"px";}else{LEAP.getElement("#calendar").style.top=(m.y-g)+"px";}if(n-m.x<r){LEAP.getElement("#calendar").style.left=m.x-(r-d)+"px";
}}else{LEAP.getElement("#calendar").style.top=(m.y+20)+"px";}if(lastcheckedyear!=false){LEAP.getElement("#calendar_year_"+lastcheckedyear).className="default";LEAP.getElement("#calendar_year_"+today.getFullYear()).className="today";}if(lastcheckedmonth!=false){LEAP.getElement("#calendar_month_"+lastcheckedmonth).className="default";
LEAP.getElement("#calendar_month_"+(today.getMonth()+1)).className="today";}if(cdt=="1"){LEAP.getElement("#calendar_year_"+currday.getFullYear()).className="LC_date_active";LEAP.getElement("#calendar_month_"+(currday.getMonth()+1)).className="LC_date_active";}else{LEAP.getElement("#calendar_year_"+currday.getFullYear()).className="checked";
LEAP.getElement("#calendar_month_"+(currday.getMonth()+1)).className="checked";}lastcheckedyear=currday.getFullYear();lastcheckedmonth=currday.getMonth()+1;}function refreshcalendar(w,j,z,l,q,F,h){if(h=="0"){LEAP.getElement("#second").style.display="none";LEAP.getElement("#minutemh").style.display="none";
}else{if(LEAP.getElement("#second")!=null){LEAP.getElement("#second").style.display="";LEAP.getElement("#minutemh").style.display="";}}LEAP.getElement("#calendar").removeAttribute("selectday");var n=z?z:today.getDate();var A=new Date(w,j,1);var C=A.getDay();var u=A.getDate();var B=null;yy=A.getFullYear();
mm=A.getMonth();if(cdt=="1"){LEAP.getElement("#year").value=yy;LEAP.getElement("#month").value=mm+1>9?(mm+1):"0"+(mm+1);}else{LEAP.getElement("#year").innerHTML=yy;LEAP.getElement("#month").innerHTML=mm+1>9?(mm+1):"0"+(mm+1);}for(var o=1;o<=C;o++){B=LEAP.getElement("#d"+o);B.innerHTML=" ";if(cdt=="1"){B.className="LC_not_this";
}else{B.className="";}}while(A.getMonth()==mm){B=LEAP.getElement("#d"+(u+C));if(cdt=="1"){var g=new Date(w,j,u);var D=g.getDay();B.style.height="30px";B.innerHTML='<a href="###" style="width:100%;height:100%;line-height:30px;display:block;outline:none;" onclick="settime('+u+');return false">'+u+"</a>";
if(D==0||D==6){B.firstChild.style.color="#1e88e5";}if(A.getFullYear()==yy&&A.getMonth()==mm&&A.getDate()==n){B.className="LC_active";B.firstChild.style.color="#fff";LEAP.getElement("#calendar").setAttribute("selectday",n);}else{if(A.getTime()<today.getTime()||(enddate&&A.getTime()>enddate.getTime())||(startdate&&A.getTime()<startdate.getTime())){B.firstChild.style.color="#c9c9c9";
B.className="";}else{B.className="";}}}else{B.innerHTML='<a href="###" onclick="settime('+u+');return false">'+u+"</a>";if(A.getTime()<today.getTime()||(enddate&&A.getTime()>enddate.getTime())||(startdate&&A.getTime()<startdate.getTime())){B.className="expire";}else{B.className="default";}if(A.getFullYear()==today.getFullYear()&&A.getMonth()==today.getMonth()&&A.getDate()==today.getDate()){B.className="today";
B.firstChild.title="";}if(A.getFullYear()==currday.getFullYear()&&A.getMonth()==currday.getMonth()&&A.getDate()==currday.getDate()){B.className="checked";}}A.setDate(++u);}while(u+C<=42){B=LEAP.getElement("#d"+(u+C));B.innerHTML=" ";if(cdt=="1"){var r=LEAP.getElement("#d36");if(r.innerHTML==" "||r.innerHTML==""){B.style.height="1px";
}else{B.style.height="30px";}B.className="LC_not_this";}u++;}if(cdt=="1"){if(addtime){var p=new Date();LEAP.getElement("#hour").value=l!=null?l:zerofill(p.getHours());LEAP.getElement("#minute").value=q!=null?q:zerofill(p.getMinutes());LEAP.getElement("#second").value=F!=null?F:zerofill(p.getSeconds());
}}else{if(addtime){LEAP.getElement("#hour").value=zerofill(l);LEAP.getElement("#minute").value=zerofill(ii);}}}function dateid(d){if(d!=null){return document.getElementById(d);}}function showdiv(j){var h=dateid(j);var d=LEAP.getElement("#calendar_"+j);var l=getposition(h);var m=220;var g=200;if(l.x+m>window.document.body.offsetWidth){l.x=l.x-(l.x+m-window.document.body.offsetWidth);
}if(l.y+m+16>window.document.body.offsetHeight){l.y=l.y-(l.y+g-window.document.body.offsetHeight);}if(cdt!="1"){d.style.left=l.x+"px";d.style.top=(l.y+16)+"px";if(j=="year"){d.scrollTop=525;}}d.style.display="block";if(cdt=="1"){var n=new Date();var q=n.getFullYear();var o=n.getMonth();if(j=="year"){LEAP.getElement("#calendar_year_"+q).focus();
}else{LEAP.getElement("#calendar_month_"+(o+1)).focus();}}h=d=null;}function showTimePicker(g){if(cdt=="1"){var r=LEAP.getElement("#calendar_picker");if(!r){return;}var n=(r.style.display=="block");if(!n){r.style.display="block";}else{r.style.display="none";}var A=170;var u=126;var d=LEAP.getElement("#calendar").offsetHeight;
if(d!=null&&d<270){LEAP.addCSS(r,"LC_date_picker2");LEAP.addCSS(LEAP.getElement(".LC_date_picker_list"),"LC_date_picker_list2");LEAP.addCSS(LEAP.getElements(".LC_date_picker_sublist"),"LC_date_picker_sublist2");A=140;u=110;}else{LEAP.removeCSS(r,"LC_date_picker2");LEAP.removeCSS(LEAP.getElement(".LC_date_picker_list"),"LC_date_picker_list2");
LEAP.removeCSS(LEAP.getElements(".LC_date_picker_sublist"),"LC_date_picker_sublist2");}var j=LEAP.getElements(".LC_date_picker_subitem.LC_active");if(j!=null){for(var o=0;o<j.length;o++){j[o].className="LC_date_picker_subitem";}}var l=LEAP.getElement("#hour").value;var m=LEAP.getElement("#minute").value;
var q=LEAP.getElement("#second").value;if(l!=null){var w=LEAP.getElement("#_h"+l+"");LEAP.addCSS(w,"LC_active");if(LEAP.scrollbar&&LEAP.scrollbar.showScrollBar){LEAP.scrollbar.showScrollBar(w.parentElement.parentElement,w.parentElement,72,"_date_h","#8EB1DE");var z=LEAP.getElement("[ctf=scrollBar_btn_date_h]",w.parentElement.parentElement);
if(z!=null){if(g=="0"){z.style.left="-130px";}else{z.style.left="-165px";}var p=z.offsetHeight;var y=(u-p)/24*l;var x=Math.round(A/24*l)>(u-p)?(u-p):Math.round(u/24*l);z.style.top=Math.round(A/24*l)>u?u+"px":Math.round(A/24*l)+"px";}}w.parentElement.scrollTop=(w.offsetTop-u)>0?(w.offsetTop-u):0;}if(m!=null){var w=LEAP.getElement("#_m"+m+"");
LEAP.addCSS(w,"LC_active");if(LEAP.scrollbar&&LEAP.scrollbar.showScrollBar){LEAP.scrollbar.showScrollBar(w.parentElement.parentElement,w.parentElement,72,"_date_m","#8EB1DE");var z=LEAP.getElement("[ctf=scrollBar_btn_date_m]",w.parentElement.parentElement);if(z!=null){if(g=="0"){z.style.left="-15px";
}else{z.style.left="-89px";}z.style.top=Math.round(A/60*m)>u?u+"px":Math.round(A/60*m)+"px";}}w.parentElement.scrollTop=(w.offsetTop-u)>0?(w.offsetTop-u):0;}if(q!=null){var w=LEAP.getElement("#_s"+q+"");LEAP.addCSS(w,"LC_active");if(LEAP.scrollbar&&LEAP.scrollbar.showScrollBar){LEAP.scrollbar.showScrollBar(w.parentElement.parentElement,w.parentElement,72,"_date_s","#8EB1DE");
var z=LEAP.getElement("[ctf=scrollBar_btn_date_s]",w.parentElement.parentElement);if(z!=null){z.style.left="-12px";z.style.top=Math.round(A/60*q)>u?u+"0px":Math.round(A/60*q)+"px";}}w.parentElement.scrollTop=(w.offsetTop-u)>0?(w.offsetTop-u):0;}}}function setHour(d){if(cdt=="1"){var h=LEAP.getElement("#hour");
var l=null;if(h!=null){l=h.value;h.value=d;}if(l!=null){var g=LEAP.getElement("#_h"+l+"");if(g!=null){g.className="LC_date_picker_subitem";}}var j=LEAP.getElement("#_h"+d+"");if(j!=null){LEAP.addCSS(j,"LC_active");}}}function setMinite(h){if(cdt=="1"){var g=LEAP.getElement("#minute");var l=null;if(g!=null){l=g.value;
g.value=h;}if(l!=null){var d=LEAP.getElement("#_m"+l+"");if(d!=null){d.className="LC_date_picker_subitem";}}var j=LEAP.getElement("#_m"+h+"");if(j!=null){LEAP.addCSS(j,"LC_active");}}}function setSecond(h){if(cdt=="1"){var j=LEAP.getElement("#second");var l=null;if(j!=null){l=j.value;j.value=h;}if(l!=null){var d=LEAP.getElement("#_s"+l+"");
if(d!=null){d.className="LC_date_picker_subitem";}}var g=LEAP.getElement("#_s"+h+"");if(g!=null){LEAP.addCSS(g,"LC_active");}}}function zerofill(d){var d=parseFloat(d.toString().replace(/(^[\s0]+)|(\s+$)/g,""));d=isNaN(d)?0:d;return(d<10?"0":"")+d.toString();}LEAP.desktip={};LEAP.desktip.win=null;LEAP.desktip.srcwin=window;
LEAP.desktip.con=null;LEAP.desktip.soundcon=null;LEAP.desktip.flag=0;LEAP.desktip.msgs=[];LEAP.desktip.s='<div onmouseleave="LEAP.desktip.beginHide();" onmouseover="LEAP.desktip.stopHide();" style="width:200px;height:120px;border: 1px solid black;position: relative;background-color: #E7E4E0;"><A style="font-size:8px;position: absolute;right:3px;top:0px;cursor: pointer;" onclick="LEAP.desktip.hide()" title="">X</A><div style="height:7px;font-size: 7px;filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#EAE8E4,endcolorstr=#A2A1A0,gradientType=0);text-align: center;"></div><div style="overflow: auto;height:110px"><table style="color:blue;width:100%;font-size:12px;text-decoration: underline;border: 0;padding-left: 10px;" cellpadding="0" cellspacing="0" ptf="dtcontable"></table></div></div>';
LEAP.desktip.i=null;LEAP.desktip.i2=null;LEAP.desktip.tipimg=null;LEAP.desktip._z=1;LEAP.desktip.init=function(){if(document!=null&&document.body!=null){LEAP.desktip._init();}else{UIEventManager.addEvent(window,"load",LEAP.desktip._init);}};LEAP.desktip._init=function(){if(LEAP.desktip.con==null){var h=LEAP.desktip.con=document.createElement("div");
h.style.right="0px";h.style.bottom="26px";h.style.zIndex="999999";h.style.position="absolute";h.style.display="none";document.body.appendChild(h);h.innerHTML=LEAP.desktip.s;h=null;}if(LEAP.desktip.soundcon==null){var h=LEAP.desktip.soundcon=document.createElement("div");h.style.display="none";document.body.appendChild(h);
h=null;}if(LEAP.desktip.tipimg==null){var g=LEAP.desktip.tipimg=document.createElement("IMG");g.style.width="23px";g.style.height="23px";g.style.cursor="pointer";g.style.marginTop="2px";g.style["float"]="right";g.src=leapconfig.server+"LEAP/Resource/generalIndex/images/tip.gif";var d=LEAP.getElement("DIV[stf=modulepart_tipcon]:first");
if(d!=null){d.appendChild(g);d=null;}LEAP.addEvent(g,"mouseover",LEAP.desktip.onMouseOver,null,null,true);g=null;setInterval(LEAP.desktip.showImg,500);}};LEAP.desktip.regRefreshEvent=function(g){if(g!=null){if(LEAP.desktip.onRefresh==null){LEAP.desktip.onRefresh=[];}LEAP.desktip.onRefresh.add(g);}};LEAP.desktip.onMouseOver=function(){if(LEAP.desktip.onRefresh!=null){for(var g=0;
g<LEAP.desktip.onRefresh.length;g++){var m=LEAP.desktip.onRefresh[g];var j=m.domain;if(j==null){j=window;}var h=m.fn;if(h!=null){try{h.call(j);}catch(l){LEAP.messagebox.alert(l.message,3);}}}}setTimeout(LEAP.desktip.show,300);};LEAP.desktip.show=function(){var h=LEAP.desktip.msgs.length;if(h.length==0){return;
}for(var j=h-1;j>-1;j--){var p=LEAP.desktip.msgs[j];var d=p.catgroy;if(p.isshow!=null&&p.isshow&&(d==null||d=="")){LEAP.desktip.msgs.splice(j,1);}}var h=LEAP.desktip.msgs.length;var u=LEAP.getElement('TABLE[ptf="dtcontable"]:first');var q=document;var m=LEAP.getElement("tbody",u);if(!m){m=document.createElement("tbody");
u.appendChild(m);}while(u.rows.length>0){u.rows[0].cells[0].onclick=null;m.removeChild(u.rows[0]);}var n=LEAP.desktip.msgs;for(var j=0;j<h;j++){var p=n[j];p.isshow=true;var r=p.msg;var d=p.catgroy;var o=q.createElement("TR");m.appendChild(o);o.style.height="20px";var g=q.createElement("TD");g.style.cursor="pointer";
g.innerHTML=r;o.appendChild(g);g.onclick=LEAP.desktip.onclick;if(!String.isEmpty(d)){g.setAttribute("cg",d);}p.ctid=LEAP.ctid(g);}n=null;q=m=u=null;LEAP.desktip.flag=0;if(LEAP.desktip.i!=null){clearInterval(LEAP.desktip.i);}LEAP.desktip.con.style.display="block";LEAP.desktip.beginHide();};LEAP.desktip.showImg=function(){if(LEAP&&LEAP.desktip){if(LEAP.desktip.msgs.length>0){LEAP.desktip.tipimg.style.display="block";
if(LEAP.desktip._z%2==0){LEAP.desktip.tipimg.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=30)";}else{if(LEAP.desktip.tipimg.style.removeAttribute){LEAP.desktip.tipimg.style.removeAttribute("filter");}else{delete LEAP.desktip.tipimg.style.filter;}}LEAP.desktip._z++;}else{LEAP.desktip.tipimg.style.display="none";
}}};LEAP.desktip.stopHide=function(){if(LEAP.desktip.i!=null){clearTimeout(LEAP.desktip.i);}};LEAP.desktip.beginHide=function(){if(LEAP.desktip.i!=null){clearTimeout(LEAP.desktip.i);}LEAP.desktip.i=setTimeout(LEAP.desktip.hide,3000);};LEAP.desktip.hide=function(){if(LEAP&&LEAP.desktip){if(LEAP.desktip.i!=null){clearTimeout(LEAP.desktip.i);
}LEAP.desktip.con.style.display="none";}};LEAP.desktip.delMsg=function(j){if(LEAP.desktip.msgs.length>0){var d=LEAP.desktip.msgs.length;for(var g=d-1;g>-1;g--){var m=LEAP.desktip.msgs[g];var h=m.catgroy;if(h==null||h==""){continue;}else{if(h==j){LEAP.desktip.msgs.splice(g,1);}}}}};LEAP.desktip.showMsg=function(h,j,d,A,w){var u={catgroy:h,msg:j,msgidlist:w,clickCallback:d,callBackDomain:A};
var g=false;var p=false;if(LEAP.desktip.msgs.length>0){var x=LEAP.desktip.msgs.length;for(var y=0;y<x;y++){var D=LEAP.desktip.msgs[y];var r=D.catgroy;if(r==null||r==""){continue;}else{if(r==h){var q=LEAP.desktip.msgs[y].msgidlist;var m=w;var p=false;if(w!=null){if(q==null){w=true;}else{var n=0;for(var o=0;
o<m.length;o++){if(q.contains(w[o])){n++;}}if(n!=m.length){p=true;}}}LEAP.desktip.msgs[y]=u;g=true;break;}}}}if(!g){LEAP.desktip.msgs.push(u);p=true;}if(p){var B=LEAP.getElements("embed",LEAP.desktip.soundcon);if(B){LEAP.removeElement(B,true);}var C=document.createElement("embed");C.setAttribute("src",leapconfig.server+"LEAP/Resource/sound/msg.wav");
C.setAttribute("loop","0");C.setAttribute("autostart","true");C.setAttribute("hidden","true");LEAP.desktip.soundcon.appendChild(C);}LEAP.desktip.show();};LEAP.desktip.onclick=function(){LEAP.desktip.srcwin.focus();var n=window.event;var o=null;if(n){o=n.srcElement;}var m=LEAP.ctid(o);var d=LEAP.desktip.msgs.length;
var j=null;for(var g=0;g<d;g++){var p=LEAP.desktip.msgs[g];if(p.ctid==m){j=p;break;}}if(j!=null&&j.clickCallback!=null){var h=j.callBackDomain;if(h==null){h=LEAP.desktip.srcwin;}j.clickCallback.call(h,j.msg,j.catgroy,j);h=null;}j=n=o=null;};LEAP.desktip.init();LEAP.docedit=new Object();LEAP.docedit.d="docedit";
LEAP.docedit.e="<input style='width:130px' type=text dectf='tableDesignDefine_caption'><br><input value='4' style='width:30px' type=text check='isint:true' dectf='tableDesignDefine_rowNum'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input value='4' style='width:30px' type=text check='isint:true' dectf='tableDesignDefine_colNum'><br><input value='100' style='width:30px' check='isint:true' type=text dectf='tableDesignDefine_width'><select dectf='tableDesignDefine_widthtype'><option value='%'></option><option value='px'></option></select><br><input value='' style='width:30px' check='isint:true' type=text dectf='tableDesignDefine_height'><select dectf='tableDesignDefine_heighttype'><option value='%'></option><option value='px'></option></select><br><input value='0' style='width:30px' type=text check='isint:true' dectf='tableDesignDefine_border'><br><input value='0' style='width:30px' type=text check='isint:true' dectf='tableDesignDefine_cellpadding'><br><input value='0' style='width:30px' type=text check='isint:true' dectf='tableDesignDefine_cellspacing'><br><input type=checkbox  dectf='tableDesignDefine_textstyle'><div style='float:right;' class='button_frame'><a href='javascript:void(0)' class='button'><p></p><span ctf='de_insert_table_submit' ht='button' unselectable='on' ctf='button'></span></a></div>";
LEAP.docedit.g1='<div style="width:100%;min-height:28px;"><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><SELECT ctf="de_format" onchange="LEAP.docedit._si(this);" style="float:left;font-size: 14px;font-family: ;" unselectable="on"><OPTION value="" unselectable="on">  </OPTION><OPTION value="p" unselectable="on">Normal</OPTION><OPTION value="h1" unselectable="on">Heading 1</OPTION><OPTION value="h2" unselectable="on">Heading 2</OPTION><OPTION value="h3" unselectable="on">Heading 3</OPTION><OPTION value="h4" unselectable="on">Heading 4</OPTION><OPTION value="h5" unselectable="on">Heading 5</OPTION><OPTION value="h6" unselectable="on">Heading 6</OPTION><OPTION value="address" unselectable="on">Address</OPTION><OPTION value="pre" unselectable="on">Formatted</OPTION></SELECT><SELECT ctf="de_font" onchange="LEAP.docedit._si(this);" unselectable="on" style="float:left;font-size: 14px;font-family: ;"><OPTION value="" unselectable="on">  </OPTION><OPTION value="arial,helvetica,sans-serif" unselectable="on">Arial</OPTION><OPTION value="courier new,courier,monospace" unselectable="on">Courier New</OPTION><OPTION value="georgia,times new roman,times,serif" unselectable="on">Georgia</OPTION><OPTION value="tahoma,arial,helvetica,sans-serif" unselectable="on">Tahoma</OPTION><OPTION value="times new roman,times,serif" unselectable="on">Times New Roman</OPTION><OPTION value="verdana,arial,helvetica,sans-serif" unselectable="on">Verdana</OPTION><OPTION value="" unselectable="on"></OPTION><OPTION value="fangsong" unselectable="on"></OPTION><OPTION value="" unselectable="on"></OPTION><OPTION value="kaiti" unselectable="on"></OPTION><OPTION value="impact" unselectable="on">impact</OPTION><OPTION value="wingdings" unselectable="on">WingDings</OPTION></SELECT><SELECT ctf="de_fontsize" onchange="LEAP.docedit._si(this);" style="float:left;font-size: 14px;font-family: ;" unselectable="on">';
LEAP.docedit.g2='<OPTION value="" unselectable="on">  </OPTION><OPTION value="1" unselectable="on">8 pt</OPTION><OPTION value="2" unselectable="on">10 pt</OPTION><OPTION value="3" unselectable="on">12 pt</OPTION><OPTION value="4" unselectable="on">14 pt</OPTION><OPTION value="5" unselectable="on">15 pt</OPTION><OPTION value="6" unselectable="on">24 pt</OPTION><OPTION value="7" unselectable="on">36 pt</OPTION></SELECT><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><img ctf="de_font_Bold" src="@server@LEAP/Resource/images/edit/text_b.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_font_strikethrough" src="@server@LEAP/Resource/images/edit/text_s.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_font_Underline" src="@server@LEAP/Resource/images/edit/text_x.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_font_italic" src="@server@LEAP/Resource/images/edit/text_xie.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><img ctf="de_forecolor" src="@server@LEAP/Resource/images/edit/bcolor.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_backcolor" src="@server@LEAP/Resource/images/edit/bcolor2.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><img ctf="de_superscript" src="@server@LEAP/Resource/images/edit/sub.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_subscript" src="@server@LEAP/Resource/images/edit/super.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ></div><div style="width:100%;min-height:28px;">';
LEAP.docedit.g3='<img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><img ctf="de_justifyleft" src="@server@LEAP/Resource/images/edit/text_left.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_justifyright" src="@server@LEAP/Resource/images/edit/text_right.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_justifycenter" src="@server@LEAP/Resource/images/edit/text_center.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_justifyfull" src="@server@LEAP/Resource/images/edit/text_lr.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><img ctf="de_insertorderedlist" src="@server@LEAP/Resource/images/edit/pro_sn.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_insertunorderedlist" src="@server@LEAP/Resource/images/edit/pro_sig.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><img ctf="de_outdent" src="@server@LEAP/Resource/images/edit/sjjs.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_indent" src="@server@LEAP/Resource/images/edit/sjzj.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_jswidth" src="@server@LEAP/Resource/images/edit/sx.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_zjwidth" src="@server@LEAP/Resource/images/edit/zj.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_changetablemode" src="@server@LEAP/Resource/images/edit/table_avgcols.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_link" src="@server@LEAP/Resource/images/imgbtn/www.gif" class="de_itembtn" title="" unselectable="on" style="float:left;" ><img ctf="de_changesourcemode" src="@server@LEAP/Resource/images/imgbtn/static.gif" class="de_itembtn" title="/" unselectable="on" style="float:left;" >   </div><div style="width:100%;min-height:28px;"><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;" ><div tct="docedit" ct="uploadbtn" style="width:60px;height:21px;float:left;" style="float:left;" ><img style="display:none" src=data:image:png,base64" onerror="LEAP.uploadbtn.i(0);" style="float:left;" ></div><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;">';
LEAP.docedit.g4='<img ctf="de_insert_table" src="@server@LEAP/Resource/images/edit/table_insert.gif" style="float:left;" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;"><img ctf="de_table_merge" src="@server@LEAP/Resource/images/edit/table_merge.gif" style="float:left;" class="de_itembtn" title="" unselectable="on"><img ctf="de_table_split" src="@server@LEAP/Resource/images/edit/table_split.gif" style="float:left;" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" unselectable="on" style="float:left;"><img ctf="de_table_inertcol_left" style="float:left;" src="@server@LEAP/Resource/images/edit/table_insertcolleft.gif" class="de_itembtn" title="" unselectable="on"><img ctf="de_table_inertcol_right" style="float:left;" src="@server@LEAP/Resource/images/edit/table_insertcolright.gif" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on"><img ctf="de_table_inertrow_top" style="float:left;" src="@server@LEAP/Resource/images/edit/table_insertrowup.gif" class="de_itembtn" title="" unselectable="on"><img ctf="de_table_inertrow_bottom" style="float:left;" src="@server@LEAP/Resource/images/edit/table_insertrowdown.gif" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on"><img ctf="de_table_delrow" style="float:left;" src="@server@LEAP/Resource/images/edit/table_delrow.gif" class="de_itembtn" title="" unselectable="on"><img ctf="de_table_delcol" style="float:left;" src="@server@LEAP/Resource/images/edit/table_delcol.gif" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on">';
LEAP.docedit.g5='<img ctf="de_table_avgrow" style="float:left;" src="@server@LEAP/Resource/images/edit/table_avgrows.gif" class="de_itembtn" title="" unselectable="on"><img ctf="de_table_avgcol" style="float:left;" src="@server@LEAP/Resource/images/edit/table_avgcols.gif" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on"><img ctf="de_insert_word" style="float:left;" src="@server@LEAP/Resource/images/edit/word.gif" class="de_itembtn" title="word" unselectable="on">    <img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on"><img src="@server@LEAP/Resource/images/edit/clear.gif" style="float:left;" ctf="de_clear" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on"><img src="@server@LEAP/Resource/images/edit/sjjs.gif" style="float:left;" ctf="de_pageup" class="de_itembtn" title="" unselectable="on"><img src="@server@LEAP/Resource/images/edit/split.gif" style="float:left;" unselectable="on"><img src="@server@LEAP/Resource/images/edit/sjzj.gif" style="float:left;" ctf="de_pagenext" class="de_itembtn" title="" unselectable="on"></div>';
LEAP.docedit.g6=[LEAP.docedit.g1,LEAP.docedit.g2,LEAP.docedit.g3,LEAP.docedit.g4,LEAP.docedit.g5];LEAP.docedit.g7=LEAP.docedit.g6.join("").replaceall("@server@",leapconfig.server);LEAP.docedit.g6=LEAP.docedit.g5=LEAP.docedit.g4=LEAP.docedit.g3=LEAP.docedit.g2=LEAP.docedit.g1=null;LEAP.docedit.paging=new hashtable();
LEAP.docedit.index=1;LEAP.docedit._init=function(){LEAP.addEvent(document.body,"mouseup",LEAP.docedit.uiProcess,null,null,true);LEAP.addEvent(document.body,"click",LEAP.docedit.uiProcess,null,null,true);LEAP.addEvent(document.body,"keypress",LEAP.docedit.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.docedit._init);
};LEAP.docedit.init=function(){if(document!=null&&document.body!=null){LEAP.docedit._init();}else{UIEventManager.addEvent(window,"load",LEAP.docedit._init);}}();LEAP.docedit.getDocument=function(d){var g=d.getAttribute("edittype");if(g!=null&&(g=="iframe"||g=="iframe1")){if(LEAPBrowser.isChrome||LEAPBrowser.isIE){return LEAP.getElement("div[ctf=de_edit_content]:first>iframe:first",d).contentWindow.document;
}else{return LEAP.getElement("div[ctf=de_edit_content]:first>iframe:first",d).contentDocument;}}else{return document;}};LEAP.docedit.getContent=function(g){var d=null;try{var h=g.getAttribute("edittype");if(h!=null&&h=="iframe"){if(LEAPBrowser.isChrome||LEAPBrowser.isIE){d=LEAP.getElement("div[ctf=de_edit_content]:first>iframe:first",g).contentWindow.document.body;
}else{d=LEAP.getElement("div[ctf=de_edit_content]:first>iframe:first",g).contentDocument.body;}}else{d=LEAP.getElement("div[ctf=de_edit_content]:first>div[ctf=de_edit_contentarea]",g);}return d;}finally{g=d=null;}};LEAP.docedit.getContentCon=function(g){var d=null;try{var h=g.getAttribute("edittype");
if(h!=null&&h=="iframe"){d=LEAP.getElement("div[ctf=de_edit_content]:first>iframe:first",g);}else{d=LEAP.getElement("div[ctf=de_edit_content]:first",g);}return d;}finally{g=d=null;}};LEAP.docedit.imgTypes=[".gif",".jpg",".jpeg",".bmp",".png"];LEAP.docedit.flashTypes=[".swf"];LEAP.docedit.flvshTypes=[".flv"];
LEAP.docedit.mediaTypes=[".midi",".wav",".aiff",".au",".mp3",".mp4",".wmv",".wma"];LEAP.docedit.mp4Types=[".mpg",".mpe",".mpeg",".mov",".rm",".rmvb",".mp4",".m4v",".avi",".wmv",".wav",".asf",".asx",".mtv"];LEAP.docedit.fs0="<embed src=@url width=@width height=@height type=application/x-shockwave-flash pluginspage=http://www.macromedia.com/go/getflashplayer  quality=high></embed>";
LEAP.docedit.fs='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" data="@url" width="@width" height="@height" align="middle">'+LEAP.docedit.fs0+'<a g=1 href="http://www.adobe.com/go/getflash"><img src="'+leapconfig.server+'LEAP/Resource/flash/get_flash_player.gif" alt=" Adobe Flash Player" /></a></object>';
LEAP.docedit.ms='<embed src="@url" width="@width" height="@height" loop="true" autostart="true"></embed>';LEAP.docedit.fls='<embed src="@url" width="@width" height="@height" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer"  quality="high"></embed>';LEAP.docedit.mp4='<embed src="@url" width="@width" height="@height" type="APPLICATION/OCTET-STREAM" loop="true" autostart="true"></embed>';
LEAP.docedit.onUploadComplete=function(l,g){try{var h=LEAP.upload.getShowPath(g);var m=false;if(h){var j=null;var o=null;var d=h.lastIndexOf(".");if(d>-1){o=h.substring(d).toLowerCase();}if(o!=null){if(LEAP.docedit.imgTypes.contains(o)){j=new StringBuffer('<img src="').append(h).append('">').toString();
}else{if(LEAP.docedit.flashTypes.contains(o)){LEAP.docedit.saveSelection(LEAP.docedit.getDocument(l));m=true;j=LEAP.docedit.fs.replaceall("@url",h).replace("@width",300).replace("@height",300);}else{if(LEAP.docedit.flvshTypes.contains(o)){LEAP.docedit.saveSelection(LEAP.docedit.getDocument(l));m=true;
j=LEAP.docedit.fls.replaceall("@url",h).replace("@width",500).replace("@height",500);}else{if(LEAP.docedit.mediaTypes.contains(o)){LEAP.docedit.saveSelection(LEAP.docedit.getDocument(l));m=true;j=LEAP.docedit.ms.replaceall("@url",h).replace("@width",500).replace("@height",500);}else{if(LEAP.docedit.mp4Types.contains(o)){LEAP.docedit.saveSelection(LEAP.docedit.getDocument(l));
m=true;j=LEAP.docedit.mp4.replaceall("@url",h).replace("@width",500).replace("@height",500);}else{var n=g.title;if(String.isEmpty(n)){n=g.name;}j=new StringBuffer('<a style="color:blue" href="').append(h).append('">').append(n).append("</a>").toString();}}}}}}LEAP.docedit.fucous(l);LEAP.docedit.insertHTML(LEAP.docedit.getDocument(l),j);
if(m){LEAP.asyn(LEAP.docedit.s1,null,100,LEAP.ctid(l));}}}finally{l=g;}};LEAP.docedit.s1=function(h){var d=LEAP.getElement("div[ctid="+h+"]");var g=d.___sel;LEAP.docedit.fucous(d);LEAP.docedit.restoreSelection(LEAP.docedit.getDocument(d),g);};LEAP.docedit.z=function(l){try{if(!l){if(!event){return;}l=event.srcElement;
}if(!l){return;}var d=l.parentElement;var j=LEAP.getElement("div[ctf=de_buttonscontent]:first",d);if(j){j.innerHTML=LEAP.docedit.g7;j=null;}if(LEAPBrowser.isChrome||LEAPBrowser.isIE){LEAP.getElement("div[ctf=de_edit_content]:first",d).contentEditable=false;}else{LEAP.getElement("div[ctf=de_edit_content]:first",d).designMode="off";
}var g=d.getAttribute("edittype");if(g!=null&&g=="iframe"){LEAP.getElement("div[ctf=de_edit_content]:first",d).innerHTML='<iframe sandbox="allow-same-origin allow-scripts allow-top-navigation allow-forms" ctf=de_edit_contentarea frameborder="0" style="width:100%;height:100%;word-break:break-all"></iframe>';
var h=LEAP.ctid(d);LEAP.asyn(LEAP.docedit.z1,null,30,h);}else{d.setAttribute("doceditinited","1");var m=document.createElement("div");m.className="lgp2doceditcontent";m.style.margin="0.5%";m.style.height="99%";m.style.width="99%";m.setAttribute("ctf","de_edit_contentarea");LEAP.getElement("div[ctf=de_edit_content]:first",d).appendChild(m);
if(LEAPBrowser.isChrome||LEAPBrowser.isIE){m.contentEditable=true;LEAP.getElement("div[ctf=de_edit_content]:first",d).contentEditable=false;}else{m.designMode="on";LEAP.getElement("div[ctf=de_edit_content]:first",d).designMode="off";}m=null;}}finally{d=l=null;}};LEAP.docedit.z1=function(h){var g=LEAP.getElement("div[ctid="+h+"]:first");
if(!g){return;}g.setAttribute("doceditinited","1");if(LEAPBrowser.isChrome||LEAPBrowser.isIE){LEAP.getElement("div[ctf=de_edit_content]:first",g).contentEditable=false;LEAP.docedit.getContent(g).contentEditable=true;}else{LEAP.getElement("div[ctf=de_edit_content]:first",g).designMode="off";LEAP.docedit.getDocument(g).designMode=="on";
}var d=LEAP.docedit.getContent(g);LEAP.addEvent(d,"mouseup",LEAP.docedit.uiProcess,null,null,true);LEAP.addEvent(d,"click",LEAP.docedit.uiProcess,null,null,true);LEAP.addEvent(d,"keypress",LEAP.docedit.uiProcess,null,null,true);leapclient.loadcss("LEAP/Resource/JavaScript/Control/docedit.css",LEAP.docedit.getDocument(g));
g=null;d=null;};LEAP.docedit.uiProcess=function(n){var M=null;var o=null;var G=null;var m=null;if(n!=null&&n.e!=null&&n.e.type!=null){m=n.e.type;}if(m!=null){o=n.e.srcElement;M=n.e;if(LEAP.isIE){G=M.keyCode;}else{G=M.which;}}else{M=n;o=n.target;G=M.which;}var H=LEAP._match(o,LEAP.docedit.d);if(!H){return;
}if(o==null||o.getAttribute==null){return;}var H=LEAP._match(o,LEAP.docedit.d);if(!H){return;}var r=null;var h=null;try{var d=o.getAttribute(commfields.ctf);if(m=="mouseup"&&LEAP.docedit.curEditorMode==2){if(LEAP.docedit.___lt2){var h=LEAP.getElement("div[ctid="+LEAP.docedit.___lt2+"]");if(h){r=LEAP.docedit.getCursoredParentElement(LEAP.docedit.getDocument(h));
if(r&&r.isContentEditable){LEAP.asyn(LEAP.docedit.mergeTableCells,LEAP.docedit,50,LEAP.docedit.getDocument(h),M.button);LEAP.stopEvent(M);return false;}}}return;}var O=M.keyCode;var J=M.shiftKey;var u=M.ctrlKey;var N=M.altKey;if(m=="keypress"&&LEAPBrowser.isIE&&!u&&!N&&!J&&O==13){if(o.document&&o.document.parentWindow!=window){o.document.body.focus();
LEAP.docedit.insertHTML(o.document,"<br/>");LEAP.stopEvent(M);return false;}}if(d==null){return;}if(m=="click"&&d=="de_insert_table_submit"){if(LEAP.docedit.___lt){var h=LEAP.getElement("div[ctid="+LEAP.docedit.___lt+"]");if(h){var F=h.___sel;LEAP.docedit.fucous(h);LEAP.docedit.restoreSelection(LEAP.docedit.getDocument(h),F);
LEAP.docedit.insertTable(LEAP.docedit.getDocument(h));}LEAP.form.hide(LEAP.docedit.desingeTablePropsForm);}LEAP.docedit.___lt=h=null;}else{if(m=="click"&&d=="de_insertword_clean"){var g=LEAP.getElement("[ctf=de_insertword_content]");var w=LEAP.cleanWordCode(g);if(w!=null){g.innerHTML=w;}else{g.innerHTML="";
}}else{if(m=="click"&&d=="de_insertword_ok"){if(LEAP.docedit.___lt){var h=LEAP.getElement("div[ctid="+LEAP.docedit.___lt+"]");if(h){var F=h.___sel;var P=LEAP.docedit.getDocument(h);LEAP.docedit.fucous(h);LEAP.docedit.restoreSelection(P,F);var w=LEAP.getElement("[ctf=de_insertword_content]").innerHTML;
if(!String.isEmpty(w)){LEAP.docedit.insertHTML(P,w);}}LEAP.form.hide(LEAP.docedit.inserWordForm);}LEAP.docedit.___lt=h=null;}}}h=LEAP._match(o,LEAP.docedit.d);if(h==null){return;}var P=LEAP.docedit.getDocument(h);if(!r){r=LEAP.docedit.getCursoredParentElement(P);}if(m=="click"){if(d=="de_changesourcemode"){var K=LEAP.getElement("textarea[ctf=de_edit_sourcearea]:first",h);
if(LEAP.docedit.getContentCon(h).style.display=="none"){LEAP.docedit.getContentCon(h).style.display="block";K.style.display="none";LEAP.docedit.getContent(h).innerHTML=K.value;}else{LEAP.docedit.getContentCon(h).style.display="none";if(K==null){var K=document.createElement("textarea");K.style.width="100%";
K.style.height="99%";K.setAttribute("ctf","de_edit_sourcearea");K.style.border="1px dashed blue";LEAP.docedit.getContentCon(h).parentElement.appendChild(K);K.style.overflow="auto";}K.style.display="block";var q=1;var C=" ";if(q==1){C="\t";}K.value=style_html(LEAP.docedit.getContent(h).innerHTML,q,C,999);
}K=null;}}if(!r.isContentEditable){return;}if(r.tagName=="INPUT"||r.tagName=="TEXTAREA"){if(r.getAttribute("ct")!=null||r.getAttribute("ht")!=null){return;}}if(m=="click"&&r.getAttribute("ctf")!="de_edit_sourcearea"){if(d=="de_font_Bold"){LEAP.docedit.execCommand(P,"Bold");LEAP.docedit.fucous(h);}else{if(d=="de_clear"){LEAP.docedit.getContent(h).innerHTML="";
}else{if(d=="de_pagenext"){if(LEAP.docedit.paging.contains(LEAP.docedit.index+1)){LEAP.docedit.paging.replace(LEAP.docedit.index,LEAP.docedit.getContent(h).innerHTML);LEAP.docedit.getContent(h).innerHTML="";var B=LEAP.docedit.paging.getvalue(LEAP.docedit.index+1);if(B!=null){LEAP.docedit.getContent(h).innerHTML=B;
}}else{var j=LEAP.docedit.getContent(h).innerHTML;if(j.trim()==""){alert("");return;}if(LEAP.docedit.paging.contains(LEAP.docedit.index)){LEAP.docedit.paging.replace(LEAP.docedit.index,LEAP.docedit.getContent(h).innerHTML);}else{LEAP.docedit.paging.add(LEAP.docedit.index,LEAP.docedit.getContent(h).innerHTML);
}LEAP.docedit.getContent(h).innerHTML="";}LEAP.docedit.index=LEAP.docedit.index+1;}else{if(d=="de_pageup"){if(LEAP.docedit.index==1){return;}var j=LEAP.docedit.getContent(h).innerHTML;if(LEAP.docedit.paging.contains(LEAP.docedit.index)){LEAP.docedit.paging.replace(LEAP.docedit.index,LEAP.docedit.getContent(h).innerHTML);
}else{LEAP.docedit.paging.add(LEAP.docedit.index,LEAP.docedit.getContent(h).innerHTML);}if(LEAP.docedit.paging.contains(LEAP.docedit.index-1)){LEAP.docedit.getContent(h).innerHTML="";var B=LEAP.docedit.paging.getvalue(LEAP.docedit.index-1);if(B!=null){LEAP.docedit.getContent(h).innerHTML=B;}}LEAP.docedit.index=LEAP.docedit.index-1;
}else{if(d=="de_font_strikethrough"){LEAP.docedit.execCommand(P,"strikethrough");LEAP.docedit.fucous(h);}else{if(d=="de_font_Underline"){LEAP.docedit.execCommand(P,"Underline");LEAP.docedit.fucous(h);}else{if(d=="de_font_italic"){LEAP.docedit.execCommand(P,"italic");LEAP.docedit.fucous(h);}else{if(d=="de_superscript"){LEAP.docedit.execCommand(P,"superscript");
LEAP.docedit.fucous(h);}else{if(d=="de_subscript"){LEAP.docedit.execCommand(P,"subscript");LEAP.docedit.fucous(h);}else{if(d=="de_justifyleft"){LEAP.docedit.execCommand(P,"justifyleft");LEAP.docedit.fucous(h);}else{if(d=="de_justifyright"){LEAP.docedit.execCommand(P,"justifyright");LEAP.docedit.fucous(h);
}else{if(d=="de_justifycenter"){LEAP.docedit.execCommand(P,"justifycenter");LEAP.docedit.fucous(h);}else{if(d=="justifyfull"){LEAP.docedit.execCommand(P,"justifyfull");LEAP.docedit.fucous(h);}else{if(d=="de_insertorderedlist"){LEAP.docedit.execCommand(P,"insertorderedlist");LEAP.docedit.fucous(h);}else{if(d=="de_insertunorderedlist"){LEAP.docedit.execCommand(P,"insertunorderedlist");
LEAP.docedit.fucous(h);}else{if(d=="de_outdent"){LEAP.docedit.execCommand(P,"outdent");LEAP.docedit.fucous(h);}else{if(d=="de_indent"){LEAP.docedit.execCommand(P,"indent");LEAP.docedit.fucous(h);}else{if(d=="de_forecolor"){LEAP.colorSelect(LEAP.docedit.setTextForeColor,LEAP.docedit,event,P);}else{if(d=="de_backcolor"){LEAP.colorSelect(LEAP.docedit.setTextBackGroundColor,LEAP.docedit,event,P);
}else{if(d=="de_table_inertcol_left"){LEAP.docedit.insertTableCol(P,true);}else{if(d=="de_table_inertcol_right"){LEAP.docedit.insertTableCol(P,false);}else{if(d=="de_table_inertrow_top"){LEAP.docedit.insertTableRow(P,true);}else{if(d=="de_table_inertrow_bottom"){LEAP.docedit.insertTableRow(P,false);}else{if(d=="de_table_delrow"){LEAP.docedit.removeTableRow(P);
}else{if(d=="de_table_delcol"){LEAP.docedit.removeTableCol(P);}else{if(d=="de_table_split"){LEAP.docedit.splitTableCells(P);}else{if(d=="de_table_merge"){LEAP.docedit.beginMergeTableCells(P,h);}else{if(d=="de_link"){LEAP.docedit.execCommand(P,"CreateLink");LEAP.docedit.fucous(h);var z=LEAP.docedit.getDocument(h).getElementsByTagName("A");
if(z!=null){var D=z.length;for(var I=0;I<D;I++){z[I].setAttribute("target","_blank");}z=null;}}else{if(d=="de_table_avgrow"){}else{if(d=="de_table_avgcol"){}else{if(d=="de_jswidth"){var F=LEAP.docedit.getCursoredParentElement(P);if(F){try{if(F!=LEAP.docedit.getContent(h)){if(F.parentElement&&F.parentElement.tagName=="TD"){F=F.parentElement;
}var A=F.style.width;F.style.width=(F.clientWidth-20)+"px";if(A==F.style.width){F.style.width=F.clientWidth-40;}}}catch(y){}}F=null;}else{if(d=="de_zjwidth"){var F=LEAP.docedit.getCursoredParentElement(P);if(F){try{if(F!=LEAP.docedit.getContent(h)){if(F.parentElement&&F.parentElement.tagName=="TD"){F=F.parentElement;
}var A=F.style.width;F.style.width=(F.clientWidth+20)+"px";if(A==F.style.width){F.style.width=F.clientWidth+40;}}}catch(y){}}F=null;}else{if(d=="de_changetablemode"){var F=LEAP.docedit.getCursoredParentElement(P);if(F){try{if(F!=LEAP.docedit.getContent(h)){var L=LEAP._match(F,"TABLE","tagName");if(L){if(L.style.tableLayout=="fixed"){L.style.tableLayout="auto";
}else{L.style.tableLayout="fixed";}L=null;}}}catch(y){}}F=null;}else{if(m=="click"&&d=="de_insert_table"){LEAP.docedit.beginInsertTable(P);var F=LEAP.docedit.saveSelection(P);h.___sel=F;var x=h.getAttribute("ctid");if(!x){x=UUID.cID();h.setAttribute("ctid",x);}LEAP.docedit.___lt=x;}else{if(m=="click"&&d=="de_insert_word"){LEAP.docedit.insertWord(P);
var F=LEAP.docedit.saveSelection(P);h.___sel=F;var x=h.getAttribute("ctid");if(!x){x=UUID.cID();h.setAttribute("ctid",x);}LEAP.docedit.___lt=x;}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}finally{M=o=n=h=r=null;}};LEAP.docedit.setValue=function(h,l){var n=null;try{if(!l){l="";}h=LEAP._check(h,LEAP.docedit.d);
if(h==null){return;}var d=h.getAttribute("doceditinited");if(d!=null&&d=="1"){n=LEAP.docedit.getContent(h);if(n){if(l){l=l.replaceall("@serveruirl@",leapconfig.server);}var j=l.split("<!--next-->");if(j!=null){if(j.length==1){n.innerHTML=l;}else{for(var g=0;g<j.length;g++){if(g==0){n.innerHTML=j[g];}LEAP.docedit.paging.add(g+1,j[g]);
}}}}}else{var m=LEAP.ctid(h);LEAP.asyn(LEAP.docedit.setValue,null,10,h.tagName+"[ctid="+m+"]",l);}}finally{n=h=null;}};LEAP.docedit.getValue=function(h){var r=null;try{h=LEAP._check(h,LEAP.docedit.d);if(h==null){return;}var w=h.getAttribute("doceditinited");if(w!=null&&w=="1"){r=LEAP.docedit.getContent(h);
if(r){var m=[];var o=LEAP.getElements("object[data]",LEAP.docedit.getDocument(h).body);if(o!=null){var g=o.length;for(var j=0;j<g;j++){m.add(o[j].getAttribute("data"));}}var n=null;var d=LEAP.docedit.paging;if(d.count!=0){var p=false;for(var j=0;j<d.count;j++){if(j==0){n=d.getvalue(j+1)+"<!--next-->";
}else{if(j==d.count-1){if(d.getvalue(j+1)==""){p=false;n+=r.innerHTML;}else{if(d.getvalue(j+1)==r.innerHTML){p=false;n+=d.getvalue(j+1);}else{p=true;n+=d.getvalue(j+1);}}}else{n+=d.getvalue(j+1)+"<!--next-->";}}}if(p==true){n=n+"<!--next-->"+r.innerHTML;}LEAP.docedit.index=1;LEAP.docedit.paging=new hashtable();
}else{LEAP.docedit.index=1;n=r.innerHTML;}if(String.isEmpty(n)){n=null;}else{var u=-1;var j=0;while((u=n.indexOf("<a g=1",u+1))>-1){var q=LEAP.docedit.fs0.replace("@url",m[j]);n=n.substring(0,u)+q+n.substring(u);u+=q.length;j++;}n=n.replaceall(" data="+leapconfig.server," data=@serveruirl@").replaceall(' value="'+leapconfig.server,' value="@serveruirl@').replaceall(' src="'+leapconfig.server,' src="@serveruirl@').replaceall(' href="'+leapconfig.server,' href="@serveruirl@');
}return n;}}else{return null;}}finally{r=h=null;}};LEAP.docedit.fucous=function(d){d=LEAP._check(d,LEAP.docedit.d);if(d==null){return;}LEAP.docedit.getContent(d).focus();};LEAP.docedit.insertWord=function(g){if(!LEAP.docedit.inserWordForm){var d='<div onresize="LEAPLG.bt();" class="lg_p2_bt"><div ctf="de_insertword_content" class="lg_p2_bt_top" CONTENTEDITABLE=true style="overflow:auto;"></div><div onresize="LEAPLG.bt_layout();" class="lg_p2_bt_bottom" style="height:22px;background-color: #CCC;text-align: center;"><a class="lgbtn" href="javascript:" style="float:right" ctf="de_insertword_ok"></a><a ctf="de_insertword_clean" class="lgbtn" href="javascript:" style="float:right"></a></div><img style="display:none" src="data:image:png,base64" onerror="LEAPLG.bt_img(0);"></div>';
LEAP.docedit.inserWordForm=LEAP.form.create(null,"Office",600,500,100,100,false).form;LEAP.form.setContent(LEAP.docedit.inserWordForm,d);LEAP.addEvent(LEAP.docedit.inserWordForm,"formHided",LEAP.docedit.inserWordFormHided);}LEAP.form.show(LEAP.docedit.inserWordForm);};LEAP.docedit.inserWordFormHided=function(){if(LEAP.docedit.___lt){var d=LEAP.getElement("div[ctid="+LEAP.docedit.___lt+"]");
if(d){var g=d.___sel;LEAP.docedit.fucous(d);LEAP.docedit.restoreSelection(LEAP.docedit.getDocument(d),g);}LEAP.docedit.___lt=d=null;}};LEAP.docedit._si=function(l){var g=null;var d=null;try{if(!l){return;}var h=l.getAttribute(commfields.ctf);if(!h){return;}d=LEAP._match(l,LEAP.docedit.d);if(d==null){return;
}var j=LEAP.docedit.getDocument(d);g=LEAP.docedit.getCursoredParentElement(j);if(!g.isContentEditable){return;}if(h=="de_format"){if(l.value){LEAP.docedit.execCommand(j,"formatblock","<"+l.value+">");}else{LEAP.docedit.execCommand(j,"formatblock","<p>");}}else{if(h=="de_font"){LEAP.docedit.execCommand(j,"fontName",l.value);
}else{if(h=="de_fontsize"){LEAP.docedit.execCommand(j,"fontSize",l.value);}}}l.options[0].selected=true;LEAP.docedit.fucous(d);}finally{g=d=l=null;}};LEAP.docedit.execCommand=function(j,h,d){try{j.execCommand(h,false,d);}catch(g){alert(g.message);}};LEAP.docedit.getSelection=function(d){if(LEAP.isIE){return d.selection;
}else{return window.getSelection();}};LEAP.docedit.createRange=function(h,g){if(LEAP.isIE){if(!g){g=LEAP.docedit.getSelection(h);}return g.createRange();}else{if(typeof g!="undefined"){try{return g.getRangeAt(0);}catch(d){return h.createRange();}}else{return h.createRange();}}};LEAP.docedit.getCursoredParentElement=function(o,l){try{if(LEAP.isIE){if(typeof l=="undefined"){l=LEAP.docedit.getSelection(o);
}var d=LEAP.docedit.createRange(o,l);switch(l.type){case"Text":var j=d.parentElement();while(true){var g=d.duplicate();g.moveToElementText(j);if(g.inRange(d)){break;}if((j.nodeType!=1)||(j.tagName.toLowerCase()=="body")){break;}j=j.parentElement;}return j;case"None":try{return d.parentElement();}catch(n){return o.body;
}case"Control":return d.item(0);default:return o.body;}}else{if(typeof l=="undefined"){l=LEAP.docedit.getSelection(o);}var d=LEAP.docedit.createRange(o,l);try{var m=d.commonAncestorContainer;if(!d.collapsed&&d.startContainer==d.endContainer&&d.startOffset-d.endOffset<=1&&d.startContainer.hasChildNodes()){m=d.startContainer.childNodes[d.startOffset];
}while(m.nodeType==3){m=m.parentNode;}return m;}catch(h){return null;}}}catch(n){}};LEAP.docedit.insertHTML=function(d,n){if(LEAPBrowser.isIE){try{var h=LEAP.docedit.getSelection(d);var o=LEAP.docedit.createRange(d,h);o.pasteHTML(n);}catch(p){alert("");}}else{var g=d.createElement("div");g.innerHTML=n;
var q=g.children;if(q!=null){var j=q.length;for(var m=j-1;m>-1;m--){LEAP.docedit.insertNodeAtSelection(d,q.item(m));}}g=null;}};LEAP.docedit.insertNodeAtSelection=function(l,g){var j=LEAP.docedit.getSelection(l);var d=LEAP.docedit.createRange(l,j);j.removeAllRanges();d.deleteContents();var h=d.startContainer;
var n=d.startOffset;var m=g;switch(h.nodeType){case 3:if(g.nodeType==3){h.insertData(n,g.data);d=LEAP.docedit.createRange(l);d.setEnd(h,n+g.length);d.setStart(h,n+g.length);j.addRange(d);}else{h=h.splitText(n);if(g.nodeType==11){m=m.firstChild;}h.parentNode.insertBefore(g,h);LEAP.docedit.setCurrentControl(l,m,true);
}break;case 1:if(g.nodeType==11){m=m.firstChild;}h.insertBefore(g,h.childNodes[n]);LEAP.docedit.setCurrentControl(l,m,true);break;default:l.body.appendChild(g);}};LEAP.docedit.setTextForeColor=function(d,g){LEAP.docedit.execCommand(g,"ForeColor",d);};LEAP.docedit.setTextBackGroundColor=function(d,g){LEAP.docedit.execCommand(g,"BackColor",d);
};LEAP.docedit.beginInsertTable=function(d){if(!LEAP.docedit.desingeTablePropsForm){LEAP.docedit.desingeTablePropsForm=LEAP.form.create(null,"",200,245,100,100,false).form;LEAP.form.setContent(LEAP.docedit.desingeTablePropsForm,LEAP.docedit.e);LEAP.addEvent(LEAP.docedit.desingeTablePropsForm,"formHided",LEAP.docedit.insetTableFormHided);
}LEAP.form.show(LEAP.docedit.desingeTablePropsForm);};LEAP.docedit.insetTableFormHided=function(){if(LEAP.docedit.___lt){var d=LEAP.getElement("div[ctid="+LEAP.docedit.___lt+"]");if(d){var g=d.___sel;LEAP.docedit.fucous(d);LEAP.docedit.restoreSelection(LEAP.docedit.getDocument(d),g);}LEAP.docedit.___lt=d=null;
}};LEAP.docedit.saveSelection=function(g,d){if(LEAPBrowser.isIE){return LEAP.docedit.IE_saveSelection(g,d);}else{return LEAP.docedit.webkit_saveSelection(g);}};LEAP.docedit.restoreSelection=function(g,d){if(LEAPBrowser.isIE){return LEAP.docedit.IE_restoreSelection(g,d);}else{return LEAP.docedit.webkit_restoreSelection(g,d);
}};LEAP.docedit.IE_saveSelection=function(g,d){return LEAP.docedit.createRange(g,d?d:LEAP.docedit.getSelection(g));};LEAP.docedit.IE_restoreSelection=function(d,w){if(!w){return;}var l=null;if(w.parentElement){l=w.parentElement();}else{l=w.item(0);}var h=LEAP.docedit.createRange(d,LEAP.docedit.getSelection(d));
var r=null;if(h.parentElement){r=h.parentElement();}else{r=h.item(0);}var n=function(z){for(var y=z;y;y=y.parentNode){if(y.tagName.toLowerCase()=="html"){return y.parentNode;}}return null;};if(w.parentElement&&n(l)==n(r)){if(h.isEqual(w)){return;}}try{w.select();}catch(j){}h=LEAP.docedit.createRange(d,LEAP.docedit.getSelection(d));
if(h.parentElement){r=h.parentElement();}else{r=h.item(0);}if(r!=l){var m=LEAP.docedit.config.selectWorkaround||"VisibleCue";switch(m){case"SimulateClick":case"InsertSpan":var o=n(l);var q=function(B){var A="";for(var z=0;z<26;++z){A+=String.fromCharCode("a".charCodeAt(0)+z);}var y="";for(var z=0;z<B;
++z){y+=A.substr(Math.floor(Math.random()*A.length+1),1);}return y;};var x=1;var u="__InsertSpan_Workaround_"+q(x);while(o.getElementById(u)){x+=1;u="__InsertSpan_Workaround_"+q(x);}w.pasteHTML('<span id="'+u+'"></span>');var p=o.getElementById(u);w.moveToElementText(p);w.select();break;case"JustificationHack":var g=String.fromCharCode(1);
w.pasteHTML(g);w.findText(g,-1);w.select();w.execCommand("JustifyNone");w.pasteHTML("");break;case"VisibleCue":default:var g=String.fromCharCode(1);w.pasteHTML(g);w.findText(g,-1);w.select();}}};LEAP.docedit.webkit_saveSelection=function(d){return LEAP.docedit.createRange(d,LEAP.docedit.getSelection(d)).cloneRange();
};LEAP.docedit.webkit_restoreSelection=function(h,d){var g=LEAP.docedit.getSelection(h);g.removeAllRanges();g.addRange(d);};LEAP.docedit.insertTable=function(d){LEAP.form.hide(LEAP.docedit.desingeTablePropsForm);var h=LEAP.getElement(LEAP.docedit.desingeTablePropsForm);var z=LEAP.getElement("[dectf=tableDesignDefine_caption]",h).value;
var u=LEAP.getElement("[dectf=tableDesignDefine_rowNum]",h).value*1;var g=LEAP.getElement("[dectf=tableDesignDefine_colNum]",h).value*1;var j=LEAP.getElement("[dectf=tableDesignDefine_width]",h).value.Trim();var A=LEAP.getElement("[dectf=tableDesignDefine_widthtype]",h).value.Trim();var y=LEAP.getElement("[dectf=tableDesignDefine_height]",h).value.Trim();
var x=LEAP.getElement("[dectf=tableDesignDefine_heighttype]",h).value.Trim();var m=LEAP.getElement("[dectf=tableDesignDefine_border]",h).value.Trim();var w=LEAP.getElement("[dectf=tableDesignDefine_cellpadding]",h).value.Trim();var q=LEAP.getElement("[dectf=tableDesignDefine_cellspacing]",h).value.Trim();
var r=LEAP.getElement("[dectf=tableDesignDefine_textstyle]",h).checked;h=null;if(z!=null){z=z.trim();}if(z!=null&&z.trim().length==0){z=null;}var o=new StringBuffer();o.append("<table ");if(r){o.append("istexttable=1 ");}o.append("style='word-break:break-all;");var n=null;if(j!=""){o.append("width:");
o.append(j);o.append(A);n=j/g+A;o.append(";");}else{o.append("width:100%;");}if(y!=""){o.append("height:");o.append(y);o.append(x);o.append(";");}o.append("' ");if(m!=""){o.append("border='");o.append(m);o.append("' ");}if(w!=""){o.append("cellpadding='");o.append(w);o.append("' ");}if(q!=""){o.append("cellspacing='");
o.append(q);o.append("' ");}o.append(">");if(z!=null){o.append("<caption>");o.append(z);o.append("</caption>");}o.append("<tbody>");for(var p=0;p<u;p++){if(p==0){o.append("<tr>");}for(var l=0;l<g;l++){if(l%2==0&&r){if(p!=0){o.append("<td class=lg3tabletext></td>");}else{o.append("<td class=lg3tabletext style='width:85px;'></td>");
}}else{o.append("<td></td>");}}o.append("</tr>");}o.append("</tbody>");o.append("</table>");LEAP.docedit.insertHTML(d,o.toString());};LEAP.docedit.insertTableRow=function(m,j){var l=LEAP.docedit.getCursoredParentElement(m);if(l==null){alert(",");return;}var g=LEAP._match(l,"TD","tagName",99);
if(g==null){alert(",");return;}var h=LEAP._match(l,"TABLE","tagName",99);if(h==null){alert(",");return;}var d=new LEAP.tableUtil(m);if(j==null){j=false;}d.insertRow(h,g,j);d.dispose();};LEAP.docedit.removeTableRow=function(l){var j=LEAP.docedit.getCursoredParentElement(l);
if(j==null){alert(",");return;}var g=LEAP._match(j,"TD","tagName",99);if(g==null){alert(",");return;}var h=LEAP._match(j,"TABLE","tagName",99);if(h==null){alert(",");return;}var d=new LEAP.tableUtil(l);d.removeRow(h,g);d.dispose();};LEAP.docedit.removeTableCol=function(l){var j=LEAP.docedit.getCursoredParentElement(l);
if(j==null){alert(",");return;}var g=LEAP._match(j,"TD","tagName",99);if(g==null){alert(",");return;}var h=LEAP._match(j,"TABLE","tagName",99);if(h==null){alert(",");return;}var d=new LEAP.tableUtil(l);d.removeCol(h,g);d.dispose();};LEAP.docedit.insertTableCol=function(m,h){var l=LEAP.docedit.getCursoredParentElement(m);
if(l==null){alert(",");return;}var g=LEAP._match(l,"TD","tagName",99);if(g==null){alert(",");return;}var j=LEAP._match(l,"TABLE","tagName",99);if(j==null){alert(",");return;}var d=new LEAP.tableUtil(m);if(h==null){h=false;}d.insertCol(j,g,h);d.dispose();};LEAP.docedit.beginMergeTableCells=function(h,d){alert("\n\n\n");
LEAP.docedit.curEditorMode=2;var g=d.getAttribute("ctid");if(!g){g=UUID.cID();d.setAttribute("ctid",g);}LEAP.docedit.___lt2=g;LEAP.docedit.editedTableDef=LEAP.docedit.editedTable=LEAP.docedit.lefttopcell=LEAP.docedit.rightbottomcell=null;};LEAP.docedit.mergeTableCells=function(n,j){if((LEAPBrowser.isIE&&j==1)||(LEAPBrowser.isChrome&&j==0)){var m=LEAP.docedit.getCursoredParentElement(n);
if(m==null){alert(",");return;}var g=LEAP._match(m,"TD","tagName",99);if(g==null){alert(",");return;}var l=LEAP._match(m,"TABLE","tagName",99);if(l==null){alert(",");return;}if(LEAP.docedit.lefttopcell==null){LEAP.docedit.lefttopcell=g;LEAP.docedit.editedTable=l;
LEAP.addCSS(g,LEAP.tableUtil.selectedTDClassName,false);}else{if(l==LEAP.docedit.editedTable){LEAP.removeCSS(LEAP.getElements("."+LEAP.tableUtil.selectedTDClassName,l),LEAP.tableUtil.selectedTDClassName,true);var d=new LEAP.tableUtil(n);if(LEAP.docedit.editedTableDef==null){LEAP.docedit.editedTableDef=d.getTableDef(l);
}d.fixSelectRect(LEAP.docedit.editedTableDef,[LEAP.docedit.lefttopcell,m],l);d.dispose();LEAP.docedit.rightbottomcell=g;}else{alert(",");}}}else{if(j==2){if(window.confirm("\n\n")){var d=new LEAP.tableUtil(n);var h=LEAP.getElements("."+LEAP.tableUtil.selectedTDClassName,LEAP.docedit.editedTable);
LEAP.removeCSS(h,LEAP.tableUtil.selectedTDClassName,true);d.mergeCells(LEAP.docedit.editedTable,h,LEAP.docedit.editedTableDef);d.dispose();}LEAP.docedit.curEditorMode=null;LEAP.docedit.editedTableDef=LEAP.docedit.lefttopcell=LEAP.docedit.rightbottomcell=LEAP.docedit.editedTable=null;}}};LEAP.docedit.splitTableCells=function(m){var l=LEAP.docedit.getCursoredParentElement(m);
if(l==null){alert(",");return;}var g=LEAP._match(l,"TD","tagName",99);if(g==null){alert(",");return;}var h=LEAP._match(l,"TABLE","tagName",99);if(h==null){alert(",");return;}var d=new LEAP.tableUtil(m);var j=d.getTableDef(h);d.splitCells(h,[l]);d.dispose();};
function style_html(m,g,j,l){var o,n;function o(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.tag_type="";this.token_text=this.last_token=this.last_text=this.token_type="";this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),extra_liners:"head,body,/html".split(","),in_array:function(r,p){for(var q=0;
q<p.length;q++){if(r===p[q]){return true;}}return false;}};this.get_content=function(){var p="";var r=[];var u=false;while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length){return r.length?r.join(""):["","TK_EOF"];}p=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(p,this.Utils.whitespace)){if(r.length){u=true;
}this.line_char_count--;continue;}else{if(u){if(this.line_char_count>=this.max_char){r.push("\n");for(var q=0;q<this.indent_level;q++){r.push(this.indent_string);}this.line_char_count=0;}else{r.push(" ");this.line_char_count++;}u=false;}}r.push(p);}return r.length?r.join(""):"";};this.get_script=function(){var p="";
var r=[];var u=new RegExp("<\/script>","igm");u.lastIndex=this.pos;var q=u.exec(this.input);var w=q?q.index:this.input.length;while(this.pos<w){if(this.pos>=this.input.length){return r.length?r.join(""):["","TK_EOF"];}p=this.input.charAt(this.pos);this.pos++;r.push(p);}return r.length?r.join(""):"";};
this.record_tag=function(p){if(this.tags[p+"count"]){this.tags[p+"count"]++;this.tags[p+this.tags[p+"count"]]=this.indent_level;}else{this.tags[p+"count"]=1;this.tags[p+this.tags[p+"count"]]=this.indent_level;}this.tags[p+this.tags[p+"count"]+"parent"]=this.tags.parent;this.tags.parent=p+this.tags[p+"count"];
};this.retrieve_tag=function(p){if(this.tags[p+"count"]){var q=this.tags.parent;while(q){if(p+this.tags[p+"count"]===q){break;}q=this.tags[q+"parent"];}if(q){this.indent_level=this.tags[p+this.tags[p+"count"]];this.tags.parent=this.tags[q+"parent"];}delete this.tags[p+this.tags[p+"count"]+"parent"];delete this.tags[p+this.tags[p+"count"]];
if(this.tags[p+"count"]==1){delete this.tags[p+"count"];}else{this.tags[p+"count"]--;}}};this.get_tag=function(){var p="";var r=[];var w=false;do{if(this.pos>=this.input.length){return r.length?r.join(""):["","TK_EOF"];}p=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(p,this.Utils.whitespace)){w=true;
this.line_char_count--;continue;}if(p==="'"||p==='"'){if(!r[1]||r[1]!=="!"){p+=this.get_unformatted(p);w=true;}}if(p==="="){w=false;}if(r.length&&r[r.length-1]!=="="&&p!==">"&&w){if(this.line_char_count>=this.max_char){this.print_newline(false,r);this.line_char_count=0;}else{r.push(" ");this.line_char_count++;
}w=false;}r.push(p);}while(p!==">");var x=r.join("");var u;if(x.indexOf(" ")!=-1){u=x.indexOf(" ");}else{u=x.indexOf(">");}var q=x.substring(1,u).toLowerCase();if(x.charAt(x.length-2)==="/"||this.Utils.in_array(q,this.Utils.single_token)){this.tag_type="SINGLE";}else{if(q==="script"){this.record_tag(q);
this.tag_type="SCRIPT";}else{if(q==="style"){this.record_tag(q);this.tag_type="STYLE";}else{if(q.charAt(0)==="!"){if(q.indexOf("[if")!=-1){if(x.indexOf("!IE")!=-1){var y=this.get_unformatted("-->",x);r.push(y);}this.tag_type="START";}else{if(q.indexOf("[endif")!=-1){this.tag_type="END";this.unindent();
}else{if(q.indexOf("[cdata[")!=-1){var y=this.get_unformatted("]]>",x);r.push(y);this.tag_type="SINGLE";}else{var y=this.get_unformatted("-->",x);r.push(y);this.tag_type="SINGLE";}}}}else{if(q.charAt(0)==="/"){this.retrieve_tag(q.substring(1));this.tag_type="END";}else{this.record_tag(q);this.tag_type="START";
}if(this.Utils.in_array(q,this.Utils.extra_liners)){this.print_newline(true,this.output);}}}}}return r.join("");};this.get_unformatted=function(q,u){if(u&&u.indexOf(q)!=-1){return"";}var p="";var w="";var x=true;do{p=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(p,this.Utils.whitespace)){if(!x){this.line_char_count--;
continue;}if(p==="\n"||p==="\r"){w+="\n";for(var r=0;r<this.indent_level;r++){w+=this.indent_string;}x=false;this.line_char_count=0;continue;}}w+=p;this.line_char_count++;x=true;}while(w.indexOf(q)==-1);return w;};this.get_token=function(){var q;if(this.last_token==="TK_TAG_SCRIPT"){var p=this.get_script();
if(typeof p!=="string"){return p;}try{q=js_beautify(p,this.indent_size,this.indent_character,this.indent_level);}catch(u){}return[q,"TK_CONTENT"];}if(this.current_mode==="CONTENT"){q=this.get_content();if(typeof q!=="string"){return q;}else{return[q,"TK_CONTENT"];}}if(this.current_mode==="TAG"){q=this.get_tag();
if(typeof q!=="string"){return q;}else{var r="TK_TAG_"+this.tag_type;return[q,r];}}};this.printer=function(u,r,p,w){this.input=u||"";this.output=[];this.indent_character=r||" ";this.indent_string="";this.indent_size=p||2;this.indent_level=0;this.max_char=w||999;this.line_char_count=0;for(var q=0;q<this.indent_size;
q++){this.indent_string+=this.indent_character;}this.print_newline=function(z,x){this.line_char_count=0;if(!x||!x.length){return;}if(!z){while(this.Utils.in_array(x[x.length-1],this.Utils.whitespace)){x.pop();}}x.push("\n");for(var y=0;y<this.indent_level;y++){x.push(this.indent_string);}};this.print_token=function(x){this.output.push(x);
};this.indent=function(){this.indent_level++;};this.unindent=function(){if(this.indent_level>0){this.indent_level--;}};};return this;}n=new o();n.printer(m,j,g);while(true){var h=n.get_token();n.token_text=h[0];n.token_type=h[1];if(n.token_type==="TK_EOF"){break;}switch(n.token_type){case"TK_TAG_START":case"TK_TAG_SCRIPT":case"TK_TAG_STYLE":n.print_newline(false,n.output);
n.print_token(n.token_text);n.indent();n.current_mode="CONTENT";break;case"TK_TAG_END":if(n.token_text.toLowerCase()!="</textarea>"){n.print_newline(true,n.output);}n.print_token(n.token_text);n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":n.print_newline(false,n.output);n.print_token(n.token_text);
n.current_mode="CONTENT";break;case"TK_CONTENT":if(n.token_text!==""){n.print_newline(false,n.output);n.print_token(n.token_text);}n.current_mode="TAG";break;}n.last_token=n.token_type;n.last_text=n.token_text;}var d=n.output;if(d!=null&&d.length>0){___trimHTML(d);}return d.join("");}function ___trimHTML(n){var d=n.length;
for(var h=0;h<d;h++){var m=n[h];if(m=="\n"||m=="\t"){continue;}if(m!=null&&m!=""&&m.charAt(0)!="<"&&m.charAt(m.length-1)!=">"){for(var g=h-1;g>-1;g--){if(n[g]=="\n"||n[g]=="\t"){n[g]="";}if(n[g].charAt(0)=="<"&&n[g].charAt(n[g].length-1)==">"){break;}}for(var g=h+1;g<d;g++){if(n[g]=="\n"||n[g]=="\t"){n[g]="";
}if(n[g].charAt(0)=="<"&&n[g].charAt(n[g].length-1)==">"){break;}}}}}LEAP.docedit2=new Object();LEAP.docedit2.d="docedit2";LEAP.docedit2.z=function(j){try{if(!j){if(!event){return;}j=event.srcElement;}if(!j){return;}var d=j.parentElement;var h=document.createElement("IFRAME");h.setAttribute("ctf","de_edit_contentarea");
h.frameBorder=0;var l=LEAP.ctid(h);h.setAttribute("id",l);h.style.width="100%";h.style.height="100%";h.style.border="0px";d.setAttribute("_fid",l);h.src=leapconfig.server+"LEAP/Resource/HTML/tinymce/edit.html?id="+l;d.insertBefore(h,j);LEAP.removeElement(j);d=j=null;}catch(g){}finally{j=null;}};LEAP.docedit2.getContent=function(d){try{d=LEAP._check(d,LEAP.docedit2.d);
if(d==null){return;}var h=d.getAttribute("_fid");if(h){f=document.getElementById(h);try{if(f){var g=f.contentWindow.document.getElementsByTagName("IFRAME");if(g&&g.length>0){try{return g[0].contentWindow.document.body;}finally{g=null;}}}}finally{f=null;}}}finally{d=ret=null;}};LEAP.docedit2.getValue=function(h){var j=null;
try{h=LEAP._check(h,LEAP.docedit2.d);if(h==null){return;}var l=h.getAttribute("_fid");if(l){j=document.getElementById(l);var g=j.getAttribute("doceditinited");if(g!=null&&g=="1"){var d=j.contentWindow.getValue();if(d){d=d.replaceall(' data="'+leapconfig.server,' data="@serveruirl@').replaceall(' value="'+leapconfig.server,' value="@serveruirl@').replaceall(' src="'+leapconfig.server,' src="@serveruirl@').replaceall(' href="'+leapconfig.server,' href="@serveruirl@');
d=d.replaceall(' data="../../../',' data="@serveruirl@LEAP/').replaceall(' value="../../../',' value="@serveruirl@LEAP/').replaceall(' src="../../../',' src="@serveruirl@LEAP/').replaceall(' href="../../../',' href="@serveruirl@LEAP/');}return d;}}return null;}finally{j=h=null;}};LEAP.docedit2.onUploadComplete=function(h,g){f=document.getElementById(g);
if(!f){return;}if(h==null){alert("");f.contentWindow.pu2();return;}else{var j=LEAP.upload.getShowPath(h);if(j){var l=null;var n=null;var d=j.lastIndexOf(".");if(d>-1){n=j.substring(d).toLowerCase();}if(n!=null){if(LEAP.docedit.imgTypes.contains(n)){l=new StringBuffer('<img src="').append(j).append('">').toString();
}else{if(LEAP.docedit.flashTypes.contains(n)){s=true;l=LEAP.docedit.fs.replaceall("@url",j).replace("@width",300).replace("@height",300);}else{if(LEAP.docedit.flvshTypes.contains(n)){s=true;l=LEAP.docedit.fls.replaceall("@url",j).replace("@width",500).replace("@height",500);}else{if(LEAP.docedit.mediaTypes.contains(n)){s=true;
l=LEAP.docedit.ms.replaceall("@url",j).replace("@width",500).replace("@height",500);}else{if(LEAP.docedit.mp4Types.contains(n)){s=true;l=LEAP.docedit.mp4.replaceall("@url",j).replace("@width",500).replace("@height",500);}else{var m=h.title;if(String.isEmpty(m)){m=h.name;}l=new StringBuffer('<a style="color:blue" href="').append(j).append('">').append(m).append("</a>").toString();
}}}}}}f.contentWindow.pu(l);}}};LEAP.docedit2._u=function(j){var h=document.getElementById(j);if(h){var d=h.parentElement;var g=LEAP.uploadbtn.pa(d);g.arg=j;g.callback=LEAP.docedit2.onUploadComplete;LEAP.uploadform.show(g);d=null;h=null;}};LEAP.docedit2.s1=function(h,g){var d=LEAP.getElement("div[ctid="+h+"]");
LEAP.docedit2.setValue(d,g);d=null;};LEAP.docedit2.setValue=function(g,j){var h=null;try{if(!j){j="";}g=LEAP._check(g,LEAP.docedit2.d);if(g==null){return;}h=document.getElementById(g.getAttribute("_fid"));if(h!=null){var d=h.getAttribute("doceditinited");if(d!=null&&d=="1"){try{j=j.replaceall("@serveruirl@",leapconfig.server);
h.contentWindow.setValue(j);}finally{return;}}}LEAP.asyn(LEAP.docedit2.s1,null,100,LEAP.ctid(g),j);}finally{h=g=null;}};LEAP.docedit3=new Object();LEAP.docedit3.d="docedit3";LEAP.docedit3.z=function(j){try{if(!j){if(!event){return;}j=event.srcElement;}if(!j){return;}var d=j.parentElement;var h=document.createElement("IFRAME");
h.setAttribute("ctf","de_edit_contentarea");h.frameBorder=0;var l=LEAP.ctid(h);h.setAttribute("id",l);h.style.width="100%";h.style.height="100%";h.style.border="0px";d.setAttribute("_fid",l);h.src=leapconfig.server+"LEAP/Resource/HTML/webeditor/editor.html?id="+l;d.insertBefore(h,j);LEAP.removeElement(j);
d=j=null;}catch(g){}finally{j=null;}};LEAP.docedit3.getContent=function(d){try{d=LEAP._check(d,LEAP.docedit3.d);if(d==null){return;}var h=d.getAttribute("_fid");if(h){f=document.getElementById(h);try{if(f){var g=f.contentWindow.document.getElementsByTagName("IFRAME");if(g&&g.length>0){try{return g[0].contentWindow.document.body;
}finally{g=null;}}}}finally{f=null;}}}finally{d=ret=null;}};LEAP.docedit3.getValue=function(l){var m=null;try{l=LEAP._check(l,LEAP.docedit3.d);if(l==null){return;}var n=l.getAttribute("_fid");if(n){m=document.getElementById(n);var h=m.getAttribute("doceditinited");if(h!=null&&h=="1"){var g=m.contentWindow.getValue();
if(g){var o=leapconfig.server.split("/");var j="/"+o[3]+"/";var d=3;if(o.length>5){j="/";while(d<(o.length-1)){j=j+o[d]+"/";d++;}}g=g.replaceall(' data="'+j,' data="@serveruirl@').replaceall(' value="'+j,' value="@serveruirl@').replaceall(' src="'+j,' src="@serveruirl@').replaceall(' href="'+j,' href="@serveruirl@');
g=g.replaceall(' data="../../../',' data="@serveruirl@LEAP/').replaceall(' value="../../../',' value="@serveruirl@LEAP/').replaceall(' src="../../../',' src="@serveruirl@LEAP/').replaceall(' href="../../../',' href="@serveruirl@LEAP/');}return g;}}return null;}finally{m=l=null;}};LEAP.docedit3.s1=function(h,g){var d=LEAP.getElement("div[ctid="+h+"]");
LEAP.docedit3.setValue(d,g);d=null;};LEAP.docedit3.setValue=function(j,m){var l=null;try{if(!m){m="";}j=LEAP._check(j,LEAP.docedit3.d);if(j==null){return;}l=document.getElementById(j.getAttribute("_fid"));if(l!=null){var g=l.getAttribute("doceditinited");if(g!=null&&g=="1"){try{var n=leapconfig.server.split("/");
var h="/"+n[3]+"/";var d=3;if(n.length>5){h="/";while(d<(n.length-1)){h=h+n[d]+"/";d++;}}m=m.replaceall("@serveruirl@",h);l.contentWindow.setValue(m);}finally{return;}}}LEAP.asyn(LEAP.docedit3.s1,null,100,LEAP.ctid(j),m);}finally{l=j=null;}};LEAP.dynaedit={};LEAP.dynaedit.d="dynaedit";LEAP.dynaedit.e="dynaedit_template";
LEAP.dynaedit.f="dynaedit_edit";LEAP.dynaedit.f="dynaedit_del";LEAP.dynaedit.f="dynaedit_add";LEAP.dynaedit.g="_isnew";LEAP.dynaedit.s="_sn";LEAP.dynaedit.init=function(){if(document!=null&&document.body!=null){LEAP.dynaedit._init();}else{UIEventManager.addEvent(window,"load",LEAP.dynaedit._init);}ElementEventManager.addManagedEventType(LEAP.dynaedit.d,"rowOperationClick");
};LEAP.dynaedit._init=function(){LEAP.addEvent(document.body,"click",LEAP.dynaedit.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.dynaedit._init);};LEAP.dynaedit.uiProcess=function(g){if(g==null){return;}var n=g.e.srcElement;if(n==null){return;}var m=n.getAttribute(commfields.ctf);
if(m=="dynaedit_tpo"){var h=LEAP._match(n,LEAP.dynaedit.d);if(h){var j=n.getAttribute("tpof");if(!String.isEmpty(j)){if(j=="del"){LEAP.dynaedit.removeRow(h,null,n);}else{if(j=="add"){LEAP.dynaedit.addRow(h);}else{var l=LEAP._getRowData(n,h);var d=l.isNew;l=l.data;if(d==null||d==1){d=true;}else{d=false;
}ElementEventManager.handleEvent(h,"rowOperationClick",{flag:j,data:l,isNew:d});}}}h=null;}}n=g=null;};LEAP.dynaedit.setValue=function(g,h){var g=LEAP._check(g,LEAP.dynaedit.d);if(g==null){return;}if(h==null){LEAP.dynaedit.clear(g);}else{LEAP.dynaedit.clear(g);var l=LEAP.convertResult(h);var j=l.length;
if(j>0){LEAP.dynaedit.setRowValue(LEAP.getElements("[ctf="+LEAP.dynaedit.e+"]",g),l[0],false);}for(var d=1;d<j;d++){LEAP.dynaedit.addRow(g,l[d],false);}}g=null;};LEAP.dynaedit.getValue=function(r){var r=LEAP._check(r,LEAP.dynaedit.d);if(r==null){return;}var u={change:[],create:[],del:r._dels};var d=LEAP.dynaedit._getValue(LEAP.getElements("[ctf="+LEAP.dynaedit.e+"]",r));
if(d){if(d.change){u.change.add(d.data);}else{if(d.data){u.create.add(d.data);}}}var m=LEAP.getElements("[_sn]",r);if(m){var h=null;var o=[];var w=0;var j=m.length;for(var q=0;q<j;q++){var x=m[q];var g=x.getAttribute(LEAP.dynaedit.s);var n=false;if(h!=g){h=g;n=true;w++;}if((n&&w>1)||q==j-1){if(q==j-1){o.add(x);
}var p=LEAP.dynaedit._getValue(o);if(p){if(p.change){u.change.add(p.data);}else{if(p.data){u.create.add(p.data);}}}o=[];}o.add(x);x=null;}}if(u.create.length>0||u.change.length>0||(u.del!=null&&u.del.length>0)){if(u.create.length==0){delete (u.craete);}if(u.change.length==0){delete (u.change);}return u;
}else{return null;}};LEAP.dynaedit._getValue=function(z){var h=z.length;var n=null;var u=null;var d=1;var q=0;var m=[];for(var o=0;o<h;o++){var y=z[o];if(o==0){d=y.getAttribute(LEAP.dynaedit.g);if(String.isEmpty(d)){d=1;}n=y.data;}var p=LEAP.getElements("[md]",y);if(p){var w=p.length;for(var j=0;j<w;
j++){m.add(p[j]);}p=null;}}var g=LEAP.getData(n,null,null,null,null,m,false);if(g){if(d==0){if(!Object.isEmpty(g.change)){var u={};for(var x in g.change){u[x]=g.change[x].value;}if(n&&n.id){u.id=n.id;}var r={change:true,data:u};return r;}}else{if(!Object.isEmpty(g.data)){var r={change:false,data:g.data};
return r;}}}};LEAP.dynaedit.setRowValue=function(u,j,d){if(d==null||d==true){d=1;}else{d=0;}var g=u.length;for(var m=0;m<g;m++){var r=u[m];r.setAttribute(LEAP.dynaedit.g,d);r.removeAttribute("data");if(m==0){r.data=j;}var n=LEAP.getElements("[md]",r);if(n){var p=n.length;for(var h=0;h<p;h++){if(j!=null){var o=n[h].getAttribute(commfields.md);
var q=j[o];LEAP.setValue(n[h],q);}else{LEAP.setValue(n[h]);}}n=null;}}u=null;};LEAP.dynaedit.addRow=function(n,m,g){var n=LEAP._check(n,LEAP.dynaedit.d);if(n==null){return;}var r=LEAP.getElements("[ctf="+LEAP.dynaedit.e+"]",n);if(r){var h=UUID.cID();var j=r.length;var p=[];for(var o=0;o<j;o++){var q=r[o];
var d=document.createElement("div");if(q.tagName=="TR"){d.innerHTML="<table><tbody>"+q.outerHTML+"</tbody></table>";}else{d.innerHTML=q.outerHTML;}var u=d.getElementsByTagName(q.tagName)[0];d=null;u.setAttribute(LEAP.dynaedit.s,h);u.removeAttribute(commfields.ctf);u.setAttribute("_seq",o+1);q.parentElement.appendChild(u);
p.add(u);d=u=q=null;}LEAP.dynaedit.setRowValue(p,m,g);p=r=null;}n=m=null;};LEAP._getRowData=function(d,j){var q=d.parentNode;d=null;var g=-1;var h=null;for(var l=0;l<99;l++){g++;if(q==null){break;}if(q.tagName=="BODY"){break;}var o=q.getAttribute(commfields.ctf);if(o!=null&&o==LEAP.dynaedit.e){if(j){var p=LEAP.getElement("[ctf=dynaedit_template]:first",j);
j=null;var m={data:p.data,isNew:p.getAttribute(LEAP.dynaedit.g)};return m;}break;}var n=q.getAttribute(LEAP.dynaedit.s);if(!String.isEmpty(n)){if(j){var p=LEAP.getElement("[_sn="+n+"]:first",j);j=null;var m={data:p.data,isNew:p.getAttribute(LEAP.dynaedit.g)};return m;}h=n;break;}q=q.parentNode;if(q==null){return;
}}};LEAP.dynaedit.removeRow=function(o,w,d){var o=LEAP._check(o,LEAP.dynaedit.d);if(o==null){return;}if(d==null){var m=LEAP.getElements("[_sn]",o);if(m){var r=-1;var j=null;var l=false;for(var p=0;p<m.length;p++){var x=m[p];var h=x.getAttribute(LEAP.dynaedit.s);var n=false;if(j!=h){n=true;j=h;r++;}if(j==h&&w==r){if(n&&x.getAttribute(LEAP.dynaedit.g)==0&&x.data!=null){if(o._dels==null){o._dels=[];
}o._dels.add(x.data);}LEAP.removeElement(x,false);l=true;continue;}x=null;if(l){break;}}}}else{var y=d.parentNode;var g=-1;for(var p=0;p<99;p++){g++;if(y==null){break;}if(y.tagName=="BODY"){break;}var u=y.getAttribute(commfields.ctf);if(u!=null&&u==LEAP.dynaedit.e){break;}var q=y.getAttribute(LEAP.dynaedit.s);
if(!String.isEmpty(q)){LEAP.removeElement(LEAP.getElements("[_sn="+q+"]",o),true);break;}y=y.parentNode;if(y==null){return;}}}d=o=null;};LEAP.dynaedit.clear=function(h){var h=LEAP._check(h,LEAP.dynaedit.d);if(h==null){return;}h._dels=null;var d=LEAP.getElements("[_sn]",h);if(d){LEAP.removeElement(d,true);
d=null;}var g=LEAP.getElements("[ctf="+LEAP.dynaedit.e+"]",h);if(g){LEAP.dynaedit.setRowValue(g,null,true);}h=null;};LEAP.dynaedit.init();LEAP.echarts={};LEAP.echarts.d="echarts";LEAP.echarts.loads={};LEAP.echarts.isLoading=false;LEAP.echarts.isLoaded=false;LEAP.echarts.lc=new hashtable();LEAP.echarts.getname=function(h){var d=h+"";
while(d.length<18){d+="0";}var g=LEAP.echarts.lc.getvalue(d);if(g){if(LEAP.getrealarea(d).length==6){if(g.name.endsWith("")){return g.name.substring(0,g.name.length-2);}if(g.name.endsWith("")){return g.name.substring(0,g.name.length-1);}}return g.name;}return h;};LEAP.echarts._getMoveOption=function(j,K,N){if(N&&(N.areaid||N.map)){var C=N.map;
if(C==null||C=="china"){C="china";}else{C+="";while(C.length<18){C+="0";}if(C=="440300000000000000"&&echarts.util.mapData.params.params[C]==null){echarts.util.mapData.params.params[C]={getGeoJson:function(l){l((JSON.parse(new base64_2().decode(leapclient.load("LEAP/Resource/data/4403.txt")))));}};}}var F=false;
if(N.selected){F=N.selected;}if(K==null){var x={selectedMode:F?"single":null,backgroundColor:N.bgcolor?N.bgcolor:"#1b1b1b",legend:{data:[]},series:[{selectedMode:F?"single":null,type:"map",mapType:C,itemStyle:{normal:{label:{show:true,color:N.labelcolor?N.labelcolor:"#fff",textStyle:{color:N.textcolor?N.textcolor:"#ccc"},formatter:function(l){return LEAP.echarts.getname(l);
}},borderColor:N.bordercolor?N.bordercolor:"rgba(100,149,237,1)",borderWidth:1,areaStyle:{color:N.areacolor?N.areacolor:"#1b1b1b"}},emphasis:{label:{show:true,textStyle:{color:N.seltextcolor?N.seltextcolor:"white"},formatter:function(l){return LEAP.echarts.getname(l);}}}},data:[]}]};if(N.chartselected){N.chartselected+="";
while(N.chartselected.length<18){N.chartselected+="0";}x.series[0].data.add({name:N.chartselected,selected:true});}return x;}var O=false;if(N.type&&N.type=="color"){O=true;}var n=LEAP.echarts.getAttr("showtitle","1",j,N);var S=LEAP.echarts.getAttr("title","",j,N);var p=LEAP.echarts.getAttr("subtitle","",j,N);
var P=null;var Q=0;var J=K.length;for(var L=0;L<J;L++){var m=K[L];var u=m.areaid;if(u&&m.value!=null){u+="";while(u.length<18){u+="0";}var y=LEAP.echarts.lc.getvalue(u);if(y){m.value=Number(m.value);if(P==null){P=m.value;}if(m.value>Q){Q=m.value;}if(m.value<P){P=m.value;}}}}Q=parseInt(Q+"");P=parseInt(P+"");
Q+=5;P-=5;if(P<0){P=0;}var M={selectedMode:F?"single":null,backgroundColor:N.bgcolor?N.bgcolor:"#1b1b1b",color:["gold","aqua","lime"],title:{text:S,subtext:p,x:"center",textStyle:{fontSize:N.tileFontSize?N.tileFontSize:null,color:"#fff"}},tooltip:{trigger:"item",formatter:function(l){var T=l[1].split(" ");
var U=Number(l[3]).toFixed(0);if(T.length>1){return LEAP.echarts.getname(T[0])+"  "+LEAP.echarts.getname(T[2])+"<br>    "+LEAP.formatnumber(U);}else{if(isNaN(U)){U=Number(l[2]).toFixed(0);}if(!isNaN(U)){return LEAP.echarts.getname(l[1])+"<br>    "+LEAP.formatnumber(U);}else{return LEAP.echarts.getname(l[1]);
}}}},dataRange:{min:P,max:Q,calculable:true,color:N.rangcolors?N.rangcolors:["#ff3333","orange","yellow","lime","aqua"],textStyle:{color:"#fff"},formatter:function(T,l){}}};if(n=="0"){delete (M.title);}if(O){if(N.rangcolors==null){M.dataRange.color=[];}var w=function(l){this.data=K;return LEAP.echarts.getname(l);
};var o=[{type:"map",selectedMode:F?"single":null,mapType:C,itemStyle:{normal:{label:{show:true,formatter:w,textStyle:{fontSize:N.textFontSize?N.textFontSize:null,color:N.textcolor?N.textcolor:"#fff"}},areaStyle:{color:N.areacolor?N.areacolor:"grey"},borderColor:N.bordercolor?N.bordercolor:"rgba(100,149,237,1)",borderWidth:0.5},emphasis:{label:{show:true,textStyle:{fontSize:N.selFontSize?N.selFontSize:null,color:N.seltextcolor?N.seltextcolor:"red"},formatter:w}}},data:[]}];
M.series=o;var J=K.length;for(var L=0;L<J;L++){var m=K[L];var u=m.areaid;if(u&&m.value!=null){u+="";while(u.length<18){u+="0";}var y=LEAP.echarts.lc.getvalue(u);if(y){m.value=Number(m.value);o[0].data.add({name:u,value:m.value,selected:m.chartselected?m.chartselected:null});}}}return M;}if(!N.type){N.type="in";
}var H=false;if(N.type=="in"){H=true;}var g={};var r=[];var z=[];var d=[];var R=N.areaid+"";while(R.length<18){R+="0";}var h=LEAP.echarts.lc.getvalue(R);if(!h){return null;}g[h.areaid]=[h.x,h.y];var J=K.length;var A=0;for(var L=0;L<J;L++){var m=K[L];var u=m.areaid;if(u&&m.value!=null){u+="";while(u.length<18){u+="0";
}var y=LEAP.echarts.lc.getvalue(u);if(y){m.value=Number(m.value);g[y.areaid]=[y.x,y.y];var q=A>10?r:z;q.add([{name:H?u:R},{name:H?R:u,value:m.value}]);if(A<=10){d.add({name:u,value:m.value});}}}A++;}var B=[];for(var L=0;L<z.length;L++){var I=z[L][1].value;var G=1;if((Q-P)!=0&&m.value!=0){G=1+4*((I-P)/(Q-P));
}var D={type:"map",mapType:C,data:[],markLine:{smooth:true,effect:{show:true,scaleSize:1,period:120,color:"#fff",shadowBlur:5},itemStyle:{normal:{borderWidth:G,lineStyle:{type:"solid",shadowBlur:10}}},data:[z[L]]}};B.add(D);}if(z.length>1){z=[z[0]];}var J=d.length;for(var L=0;L<J;L++){var m=d[L];if((Q-P)!=0&&m.value!=0){m.symbolSize=20+40*(m.value-P)/(Q-P);
}else{m.symbolSize=20;}}var x={series:[{type:"map",selectedMode:F?"single":null,roam:true,hoverable:false,mapType:C,tooltip:{show:true},itemStyle:{normal:{label:{show:true,color:N.labelcolor?N.labelcolor:"#fff",textStyle:{fontSize:N.textFontSize?N.textFontSize:null,color:N.textcolor?N.textcolor:"#ccc"},formatter:function(l){return LEAP.echarts.getname(l);
}},emphasis:{label:{show:true,textStyle:{fontSize:N.selFontSize?N.selFontSize:null,color:N.seltextcolor?N.seltextcolor:"white"},formatter:function(l){return LEAP.echarts.getname(l);}}},borderColor:N.bordercolor?N.bordercolor:"rgba(100,149,237,1)",borderWidth:0.5,areaStyle:{color:N.areacolor?N.areacolor:"#1b1b1b"}}},data:[],markLine:{smooth:true,symbol:["none","circle"],symbolSize:1,itemStyle:{normal:{color:"#fff",borderWidth:2,borderColor:"rgba(30,144,255,0.5)"}},data:r},geoCoord:g},{type:"map",mapType:C,data:[],markLine:{smooth:true,effect:{show:true,scaleSize:1,period:120,color:"#fff",shadowBlur:5},itemStyle:{normal:{borderWidth:1,lineStyle:{type:"solid",shadowBlur:10}}},data:z},markPoint:{symbol:"emptyCircle",symbolSize:10,effect:{show:true,shadowBlur:10,scaleSize:1},itemStyle:{normal:{label:{show:false,formatter:function(l){}}}},data:d}}]};
LEAP.mergeObject(x,M);for(var L=0;L<B.length;L++){x.series.add(B[L]);}return x;}return null;};LEAP.echarts.getAttr=function(d,j,h,l){if(j==undefined){j=null;}var g=null;if(l!=null&&l.chart&&l.chart.hasOwnProperty(d)){g=l.chart[d];}if(g==null){g=String.getString(h.getAttribute(d));}if(g==null){g=j;}return g;
};LEAP.echarts.getOption=function(y,L,w){y=LEAP._check(y,LEAP.echarts.d);if(y==null){return;}try{var d=LEAP.echarts.getAttr("type",null,y,w);var V=LEAP.ctid(y);if(L==null&&d!="map"){y.innerHTML="";return;}var aa=LEAP.echarts.getAttr("type","bar",y,w);if(aa=="map"){var O=LEAP.echarts._getMoveOption(y,L,w);
if(LEAPBrowser.isAndroid){O.animation=false;}return O;}var Q=LEAP.echarts.getAttr("pietype","radius",y,w);if(Q=="pie"){Q=null;}var u=LEAP.echarts.getAttr("timeline","0",y,w);var N=LEAP.echarts.getAttr("title","",y,w);var H=LEAP.echarts.getAttr("subtitle","",y,w);if(u=="1"){u=true;}else{u=false;}var D=LEAP.echarts.getAttr("showtitle","1",y,w);
var X=LEAP.echarts.getAttr("showlegend","1",y,w);var n=LEAP.echarts.getAttr("showtoolbox","1",y,w);var g=LEAP.echarts.getAttr("showlabe","1",y,w);if(g=="1"){g=true;}else{g=false;}var z=LEAP.echarts.getAttr("showminmax","0",y,w);if(z=="1"){z=true;}else{z=false;}var R=LEAP.echarts.getAttr("showaverage","0",y,w);
if(R=="1"){R=true;}else{R=false;}var A=LEAP.echarts.getAttr("showstack","0",y,w);if(A=="1"){A=true;}else{A=false;}var M=LEAP.echarts.getAttr("showarea","0",y,w);if(M=="1"){M=true;}else{M=false;}var I=LEAP.echarts.getAttr("namefiled",null,y,w);var C=LEAP.echarts.getAttr("axis","x",y,w);var o={tooltip:{trigger:"axis"},toolbox:{show:true,feature:{mark:{show:false},dataView:{readOnly:false},magicType:{show:true,type:["line","bar"]},restore:{show:true},saveAsImage:{show:true}}},calculable:true};
if(u){o.dataZoom={show:u,realtime:true,start:60,end:100};}if(A){o.toolbox.feature.magicType.type.push("stack");o.toolbox.feature.magicType.type.push("tiled");}if(!String.isEmpty(N)){o.title={text:N,x:"center"};if(!String.isEmpty(H)){o.title.subtext=H;}}if(aa=="pie"){o.legend={orient:"vertical",x:"left",data:[]};
if(o.title){o.title.x="center";}delete (o.toolbox.feature.magicType);o.tooltip.trigger="item";o.tooltip.formatter="{a} <br/>{b} : {c} ({d}%)";}else{o.legend={x:"center",y:"bottom",data:[]};}var j={type:"category",boundaryGap:true,power:1,data:[]};var G=-1;var F=-1;var J=[];if(aa!="pie"){if(C=="x"){o.xAxis=[j];
o.yAxis=[{power:1,type:"value"}];}else{o.yAxis=[j];o.xAxis=[{power:1,type:"value"}];}}var h=[];var K=null;var m=null;if(L.metaData){m=K=L.metaData;for(var U=0;U<K.length;U++){K[U]=K[U].name;}}else{K=[];for(var B in L[0]){K.push(B);}}if(L.result){L=L.result;}var q=L[0];var Z=-1;for(var U=0;U<K.length;
U++){var B=K[U];Z++;if(String.isEmpty(I)){I=B;}if(I&&I==B&&F==-1){F=Z;h.push(Z);}if(G==-1&&B=="id"){G=Z;h.push(Z);}if(B=="beanname"||B=="javaClass"||B=="charttype"||B.indexOf("chart")==0){h.push(Z);}}Z=-1;for(var T=0;T<K.length;T++){var B=K[T];if(!h.contains(T)){J.push(B);var x=B;if(m!=null){if(!String.isEmpty(m[T].cnName)){x=m[T].cnName;
}}j.data.push(x);if(aa=="pie"){o.legend.data.add(x);}}}o.series=[];var S=L.length;for(var U=0;U<S;U++){var q=L[U];if(aa!="pie"){o.legend.data.add(q[I]);}var W=aa;if(!String.isEmpty(q.charttype)){W=q.charttype;}var Y=null;if(aa=="pie"){var P=q.chartradius;if(!P){P="65%";}var r=q.charttop;var p=q.chartleft;
if(!r){r="60%";}if(!p){p="50%";}Y={name:q[I],type:aa,radius:["10%",P],center:[p,r],roseType:Q,itemStyle:{normal:{label:{show:g},labelLine:{show:g}},emphasis:{label:{show:true},labelLine:{show:false}}},data:[]};}else{Y={name:q[I],type:W,data:[],def:q};if(A){if(q.chartstack){Y.stack=q.chartstack;}else{Y.stack="";
}}if(R){Y.markLine={data:[{type:"average",name:""}]};}if(z){Y.markPoint={data:[{type:"max",name:""},{type:"min",name:""}]};}if(M){Y.itemStyle={normal:{areaStyle:{type:"default"}}};}}o.series.push(Y);for(var T=0;T<J.length;T++){if(aa=="pie"){Y.data.push({value:Number(q[J[T]]),name:J[T]});}else{Y.data.push(Number(q[J[T]]));
}}}if(X=="0"){delete (o.legend);}if(D=="0"){delete (o.title);}if(n=="0"){delete (o.toolbox);}if(LEAPBrowser.isAndroid){o.animation=false;}return o;}finally{y=null;}};LEAP.echarts.dispose=function(g){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}try{var j=LEAP.ctid(g);
var d="ectid_"+j;if(LEAP.echarts.loads.hasOwnProperty(d)){try{if(LEAP.echarts.loads[d]){LEAP.echarts.loads[d].obj.dispose();}}catch(h){}LEAP.echarts.loads[d]=null;delete LEAP.echarts.loads[d];}}finally{g=null;}};LEAP.echarts.clear=function(g){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);
}if(g==null){return;}try{var j=LEAP.ctid(g);var d="ectid_"+j;if(LEAP.echarts.loads.hasOwnProperty(d)){try{if(LEAP.echarts.loads[d]){LEAP.echarts.loads[d].obj.clear();}}catch(h){}}}finally{g=null;}};LEAP.echarts.checkOption=function(h){if(h&&typeof(h)=="object"){for(var g in h){var d=h[g];if(d==null||(typeof(d)=="string"&&d=="")){delete h[g];
}else{if(d!=null&&typeof(d)=="object"){LEAP.echarts.checkOption(d);}}}}};LEAP.echarts.setValue=function(j,l,x,p){if(j==null){return;}if(typeof(j)=="string"){j=LEAP.getElement(j);}if(!LEAP.echarts.isLoaded){if(!LEAP.echarts.isLoading){LEAP.echarts.isLoading=true;leapclient.loadjs("LEAP/Resource/HTML/echart/src/echarts-all.js");
LEAP.echarts.isLoaded=true;}else{var n=LEAP.ctid(j);LEAP.asyn(LEAP.echarts.setValue,null,1000,n,dataSset);}}LEAP.echarts.dispose(j);j=LEAP._check(j,LEAP.echarts.d);if(j==null){return;}try{var n=LEAP.ctid(j);var o=LEAP.echarts.getAttr("type",null,j,p);if(l==null&&x==null&&o!="map"){j.innerHTML="";return;
}var m=null;if(x){m=x;}else{m=LEAP.echarts.getOption(j,l,p);}if(m==null){return null;}LEAP.echarts.checkOption(m);var w="ectid_"+n;var q=LEAP.echarts.loads[w];if(!q){if(p&&p.theme&&p.theme=="echarts"){q=echarts.init(j,{});}else{q=echarts.init(j,LEAP.echarts.macaronstheme);}q.on("mapSelected",LEAP.echarts.onEvent);
q.on("click",LEAP.echarts.onEvent);q.on("legendSelected",LEAP.echarts.onEvent);}var d=false;if(p){d=p.refresh?true:false;}q.setOption(m,d);var h={obj:q,ctid:n,dispose:function(){this.obj.dispose();}};var q=LEAP.echarts.loads["ectid_"+n]=h;var u=j.getAttribute("instance");if(u){var g=LEAP.getLoadedModule(u);
if(g){if(!g.disposeList){g.disposeList=[];}g.disposeList.add(q);}}try{return q;}finally{q=null;}}finally{j=l=null;}};LEAP.echarts.onEvent=function(d){var g=null;var n=null;try{if(d){n=d.event.srcElement;}}catch(m){}try{if(n){g=LEAP._match(n,LEAP.echarts.d);}else{if(d&&d.__echartsId){g=LEAP.getElement("DIV[_echarts_instance_="+d.__echartsId+"]");
}else{if(this.id){g=LEAP.getElement("DIV[_echarts_instance_="+this.id+"]");}}}if(g!=null){var l={element:g,arg:d};try{var j=LEAP.echarts.getAPI(g);if(j){var h=j.getOption();if(d.type=="click"){l.value=d.value;l.data=d.data;l.name=h.series[d.seriesIndex].name;if(h.yAxis&&h.yAxis[0]&&h.yAxis[0].data){l.y=h.yAxis[0].data[d.dataIndex];
}if(h.xAxis&&h.xAxis[0]&&h.xAxis[0].data){l.x=h.xAxis[0].data[d.dataIndex];}if(!l.x&&l.data.name){l.x=l.data.name;}if(!l.name&&d.name){l.name=d.name;}}else{if(d.type=="legendSelected"){l.option=h;}}}}catch(m){}finally{j=null;}ElementEventManager.handleEvent(g,d.type,l);}g=null;}finally{d=n=g=null;}};
LEAP.echarts.getAPI=function(d){if(d==null){return;}var h=LEAP.ctid(d);var g=LEAP.echarts.loads["ectid_"+h];if(g){return g.obj;}};LEAP.echarts.macaronstheme={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{itemGap:8,textStyle:{fontWeight:"normal",color:"#008acd"}},legend:{itemGap:8},dataRange:{itemWidth:15,color:["#2ec7c9","#b6a2de"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500",itemGap:8},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{borderRadius:5},emphasis:{borderRadius:5}}},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{borderColor:"#fff",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:false,textStyle:{color:"rgba(139,69,19,1)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#f3d999"},label:{show:false,textStyle:{color:"rgba(139,69,19,1)"}}}}},force:{itemStyle:{normal:{linkStyle:{strokeColor:"#1e90ff"}}}},chord:{padding:4,itemStyle:{normal:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"},chordStyle:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"},chordStyle:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{startAngle:225,endAngle:-45,axisLine:{show:true,lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}},textStyle:{fontFamily:", Arial, Verdana, sans-serif"}};
LEAP.echarts.uninit=function(){UIEventManager.removeEvent(window,"unload",LEAP.echarts.uninit);for(var d in LEAP.echarts.loads){var g=LEAP.echarts.loads[d];if(g){g.dispose();}}};LEAP.echarts.init=function(){ElementEventManager.addManagedEventType(LEAP.echarts.d,"mapSelected");ElementEventManager.addManagedEventType(LEAP.echarts.d,"legendSelected");
ElementEventManager.addManagedEventType(LEAP.echarts.d,"click");var g=["",31,121.487899,31.249162,"",52,106.734996,26.902826,"",62,102.457625,38.103267,"",14,112.515496,37.866566,"",32,119.368489,33.013797,"",12,117.210813,39.14393,"",61,109.503789,35.860026,"",36,115.676082,27.757258,"",46,109.733755,19.180501,"",22,126.262876,43.678846,"",41,113.486804,34.157184,"",11,116.403874,39.914889,"",23,128.047414,47.356592,"",81,114.186124,22.293586,"",51,102.89916,30.367481,"",42,112.410562,31.209316,"",54,89.137982,31.367315,"",21,122.753592,41.6216,"",82,113.557519,22.204118,"",65,85.614899,42.127001,"",64,106.155481,37.321323,"",15,114.415868,43.468238,"",71,104.114129,37.550339,"",63,96.202544,35.499761,"",37,118.527663,36.09929,"",53,101.592952,24.864213,"",33,119.957202,29.159494,"",43,111.720664,27.695864,"",34,117.216005,31.859252,"",13,115.661434,38.61384,"",50,106.530635,29.544606,"",35,117.984943,26.050118,"",44,113.394818,23.408004,"",45,108.924274,23.552255,"",440317,114.36973,22.700041,"",440306,113.823116,22.636788,"",440307,114.217887,22.697641,"",440308,114.278483,22.606981,"",440304,114.055321,22.55222,"",440316,113.94215,22.770739,"",440326,114.042818,22.692377,"",440303,114.156359,22.58162,"",440327,114.516603,22.566368,"",440305,113.887076,22.468417,"",4403,114.025974,22.546054];
for(var d=0;d<g.length;d+=4){var h=g[d+1]+"";while(h.length<18){h+="0";}LEAP.echarts.lc.add(h,{areaid:h,name:g[d],x:g[d+2],y:g[d+3]});}UIEventManager.addEvent(window,"unload",LEAP.echarts.uninit);}();LEAP.flashchart={};LEAP.flashchart.d="chart";LEAP.flashchart.defaultChartType="Column3D";LEAP.flashchart.defaultColors=["FF9940","7FBF00","00C1E7","FF66FF","FF8A73","1FBF6F","4CA6FF","FFC61A","B366FF","E52E2E","37A600","4C6AFF","CCBB02","884CFF","FFEE33"];
LEAP.flashchart.w1chart=["Thermometer","Cylinder","HLinearGauge","HLinearGauge2","AngularGauge","AngularGauge2","AngularGauge4"];LEAP.flashchart.w2chart=["DragNode","Funnel","AngularGauge3","FCF_Column3D","Column2D","Column3D","Pie2D","Pie3D","Line","Area2D","Bar2D","Doughnut2D","Doughnut3D","Pyramid","Spline","SplineArea","SSGrid","StackedArea2D","StackedBar3D"];
LEAP.flashchart.w3chart=["MSColumn2D","MSColumn3D","MSArea","MSBar2D","MSBar3D","MSColumn3DLineDY","MSColumnLine3D","MSCombi2D","MSCombi3D","MSCombiDY2D","MSLine","MSSpline","MSSplineArea","StackedBar3D"];ElementEventManager.addManagedEventType(LEAP.flashchart.d,"click");LEAP.flashchart.getfontdef=function(h){if(!String.isEmpty(h)){var g=h.split(" ");
var d={};if(g.length>0){d.font=g[0];}if(g.length>1){d.size=g[1];}if(g.length>2){d.color=g[2];}return d;}};LEAP.flashchart.onClick=function(l,m,d,j,h){if(m){m=unescape(decodeURIComponent(base64decode(m)));}if(d){d=unescape(decodeURIComponent(base64decode(d)));}if(j){j=unescape(decodeURIComponent(base64decode(j)));
}if(h){h=unescape(decodeURIComponent(base64decode(h)));}var g=LEAP.getElement("div[ctid="+l+"]:first");if(g!=null){ElementEventManager.handleEvent(g,"click",{id:m,name:d,value:j,key:h});}g=null;};LEAP.flashchart.setValue=function(w,M){w=LEAP._check(w,LEAP.flashchart.d);if(w==null){return;}try{var ag=LEAP.ctid(w);
if(M==null){w.innerHTML="";return;}var C={};var an=C.type=String.getString(w.getAttribute("type"),LEAP.flashchart.defaultChartType);C.caption=w.getAttribute("caption");C.cylFillColor=String.getString(w.getAttribute("cylFillColor"),"0");C.labelStep=String.getString(w.getAttribute("labelStep"),"1");C.transparent=w.getAttribute("transparent");
if(C.transparent==null){C.transparent=false;}C.is2D=String.getString(w.getAttribute("is2D"),"0");C.divLineColor=String.getString(w.getAttribute("divLineColor"),"");C.divLineAlpha=String.getString(w.getAttribute("divLineAlpha"),"");C.alternateHGridColor=String.getString(w.getAttribute("alternateHGridColor"),"");
C.hoverCapBgColor=String.getString(w.getAttribute("hoverCapBgColor"),"");C.hoverCapBorderColor=String.getString(w.getAttribute("hoverCapBorderColor"),"");C.showLegend=w.getAttribute("showLegend");C.legendBgColor=w.getAttribute("legendBgColor");C.legendPosition=w.getAttribute("gaugeStartAngle");C.showLabels=w.getAttribute("showLabels");
C.ranglabels=String.getString(w.getAttribute("ranglabels"),"");C.gaugeStartAngle=w.getAttribute("gaugeStartAngle");C.gaugeEndAngle=w.getAttribute("gaugeEndAngle");C.useRoundEdges=w.getAttribute("useRoundEdges");C.canvasbgColor=w.getAttribute("canvasbgColor");C.canvasBorderAlpha=w.getAttribute("canvasBorderAlpha");
C.canvasbgAlpha=w.getAttribute("canvasbgAlpha");C.numDivlines=w.getAttribute("numDivlines");var V=String.getString(w.getAttribute("linkevent"),"1");C.subCaption=w.getAttribute("subcaption");C.xAxisName=w.getAttribute("xname");C.yAxisName=w.getAttribute("yname");C.yAxisNameWidth=String.getString(w.getAttribute("ywidth"),"16");
C.rotateYAxisName=String.getString(w.getAttribute("yrote"),"0");var I=w.getAttribute("namefiled");if(String.getString(w.getAttribute("xrote"),"0")=="1"){C.labelDisplay="ROTATE";C.slantLabels="1";C.rotateLabels="1";}C.numberPrefix=w.getAttribute("prefix");C.numberSuffix=w.getAttribute("subfix");C.decimalPrecision=String.getString(w.getAttribute("decimalplace"),"0");
C.majorTMNumber=String.getString(w.getAttribute("parts"),"10");C.formatNumberScale=String.getString(w.getAttribute("formatnumber"),"1");C.formatnumber="1";C.numberScaleValue="10000,10000";C.numberScaleUnit=",";C.decimals="3";C.thousandSeparator="";C.inThousandSeparator="";C.defaultNumberScale="";C.animation=String.getString(w.getAttribute("animation"),"1");
C.setAdaptiveYMin=String.getString(w.getAttribute("automin"),"1");C.bgColor=String.getString(w.getAttribute("bgColor"),"FFFFFF,FFFFFF");C.showBorder=0;C.showValues=String.getString(w.getAttribute("showValues"),"1");C.anchorRadius=String.getString(w.getAttribute("anchorRadius",5));C.showLimits="1";C.showhovercap="1";
C.hoverCapSepChar=" : ";C.showToolTipShadow=1;C.showDivLineValues=1;C.showShadow=1;C.showNames="1";if(C.useRoundEdges==null||C.useRoundEdges==""){C.useRoundEdges="1";}if(C.numDivlines==null||C.numDivlines==""){C.numVdivlines=0;}C.unescapeLinks="0";var g=w.getAttribute("rangs");var aa=w.getAttribute("colors");
var Y=String.getString(w.getAttribute("max"));var Q=String.getString(w.getAttribute("min"));var ai=w.getAttribute("font");ai=LEAP.flashchart.getfontdef(ai);if(ai!=null){C.baseFont=ai.font;C.baseFontSize=ai.size;C.baseFontColor=ai.color;}C.manageResize="1";C.majorTMColor=String.getString(w.getAttribute("majorTMColor"));
C.majorTMNumber=String.getString(w.getAttribute("majorTMNumber"));C.majorTMHeight=String.getString(w.getAttribute("majorTMHeight"));C.minorTMNumber=String.getString(w.getAttribute("minorTMNumber"));C.minorTMHeight=String.getString(w.getAttribute("minorTMHeight"));var ab=w.getAttribute("outfont");ab=LEAP.flashchart.getfontdef(ab);
if(ab!=null){C.outCnvBaseFont=ab.font;C.outCnvBaseFontSize=ab.size;C.outCnvBaseFontColor=ab.color;}var x=LEAP.flashchart.defaultColors;if(!String.isEmpty(aa)){x=aa.split(",");}if(an=="HLinearGauge"){C.lowerLimit=Q;C.upperLimit=Y;C.colorRange={};C.colorRange.color=[];var R=String.getString(w.getAttribute("rangdefs"));
var N=R.split(",");for(var af=0;af<N.length;af++){var m=N[af].split(":");var q=m[0].split("-");C.colorRange.color.add({minValue:q[0],maxValue:q[1],label:m[1],code:m[2],borderColor:m[2]});}}else{if(an=="Cylinder"){C.lowerLimit=Q;C.upperLimit=Y;}else{if(an=="HLinearGauge2"){C.lowerLimit=Q;C.upperLimit=Y;
C.colorRange={};C.colorRange.color=[];var R=String.getString(w.getAttribute("rangdefs"));var N=R.split(",");var m=N[0].split(":");var q=m[0].split("-");C.colorRange.color.add({minValue:q[0],maxValue:q[1]});}else{if(LEAP.flashchart.w1chart.contains(an)||an=="AngularGauge3"){C.lowerLimit=Q;C.upperLimit=Y;
C.colorRange={};C.colorRange.color=[];if(!String.isEmpty(g)){var N=g.split(",");var h=N.length;for(var af=0;af<h;af++){var o=null;if(x.length+1<af){o="";}else{o=x[af];}C.colorRange.color.add({maxValue:N[af],code:o});}}else{C.colorRange.color.add({code:LEAP.flashchart.defaultColors[0]});}}else{C.yAxisMinValue=Q;
C.yAxisMaxValue=Y;}}}}var aj=[];var am=[];var D=LEAP.convertResult(M);var n=D;if(!(D instanceof Array)){n=[n];}var ac=n.length;for(var af=0;af<ac;af++){var m=n[af];for(var r in m){if(r=="javaClass"||r=="beanname"){delete m[r];continue;}}}if(I==null){if(LEAP.flashchart.w3chart.contains(an)){if(D instanceof Array){for(var y in D[0]){I=y;
break;}}else{for(var y in D){I=y;break;}}}else{if(LEAP.flashchart.w2chart.contains(an)){var ak=D;if(ak instanceof Array){ak=ak[0];}for(var y in ak){X=LEAP.parsenum(ak[y]);if(X==null){I=y;}break;}}}}if(M.javaClass!=null&&M.metaData!=null){var T=D.length;if(M.metaData.contains("id")){M.metaData.remove("id");
}for(var ad=0;ad<T;ad++){var m=D[ad];var U=m.id;am.add(U);delete m.id;}var u=M.metaData.length;for(var af=0;af<u;af++){var z=M.metaData[af];var p=z.cnName;var r=z.name;if(String.isEmpty(p)){p=r;}if(!String.isEmpty(p)){for(var ad=0;ad<T;ad++){var m=D[ad];var X=m[r];delete m[r];if(r=="javaClass"||r=="beanname"){continue;
}if(I!=null&&r==I){aj.add(X);continue;}X=LEAP.parsenum(X);if(X==null){continue;}m[p]=X;}}}}else{var n=D;if(!(D instanceof Array)){n=[n];}var ac=n.length;for(var af=0;af<ac;af++){var m=n[af];var U=m.id;am.add(U);delete m.id;for(var r in m){if(r=="javaClass"||r=="beanname"){delete m[r];continue;}if(I!=null&&r==I){aj.add(m[r]);
delete m[r];continue;}var X=m[r];X=LEAP.parsenum(X);if(X==null){delete m[r];continue;}}}}var B=String.getString(w.getAttribute("swaprc"),"0");if(B=="1"){if(!LEAP.flashchart.w1chart.contains(an)){if(!(D instanceof Array)){D=[D];}var ac=D.length;var al=aj.length;var J=[];var G=[];for(var y in D[0]){J.add(y);
var m={};G.add(m);for(var af=0;af<ac;af++){m[aj[af]]=D[af][y];}}D=G;aj=J;}}if(an=="HLinearGauge"||an=="HLinearGauge2"){C.pointers={};C.pointers.pointer=[];if(D instanceof Array){var ac=D.length;for(var af=0;af<ac;af++){var o=null;if(x.length+1<af){o="";}else{o=x[af];}C.pointers.pointer.add({value:D[af]});
}}else{C.pointers.pointer.add({value:D,showvalue:0,toolText:D});}if(an=="HLinearGauge"){C.showShadow="0";C.pointerRadius="9";C.pointerBgColor="FFFFFF";C.pointerBorderColor="000000";C.gaugeBorderThickness="3";C.gaugeFillMix="{color},{FFFFFF}";C.gaugeFillRatio="50,50";}else{if(an=="HLinearGauge2"){C.type="HLinearGauge";
C.st="HLinearGauge2";C.manageresize="1",C.origw="420",C.origh="90",C.lowerlimit="0",C.upperlimit="100",C.numbersuffix="%",C.showborder="0",C.bgcolor="FFFFFF",C.ticksbelowgauge="1",C.valuepadding="0",C.gaugefillmix="",C.showgaugeborder="0",C.pointerontop="0",C.pointerradius="5",C.pointerbordercolor="000000",C.pointerbgcolor="000000",C.annrenderdelay="0",C.showshadow="0",C.minortmnumber="0",C.basefontcolor="000000",C.animation="0";
C.colorrange={color:[{minvalue:"0",maxvalue:"100",alpha:"0"}]},C.annotations={annotationGroup:[{id:"Grp1",showbelow:"0",x:"$chartCenterX",y:"-765",annotation:[{type:"circle",radius:"800",color:"FFFFFF"}]},{id:"Grp2",showbelow:"1",annotation:[{type:"rectangle",x:"$gaugeStartX",y:"$gaugeStartY",tox:"$gaugeEndX",toy:"$gaugeEndY",fillcolor:"678000,FCEF27,E00000"}]},{id:"Grp3",showbelow:"0",annotation:[{type:"text",x:"$gaugeStartX+25",y:"40",size:"10",color:"FFFFFF",bold:"1",label:"Good"},{type:"text",x:"$gaugeEndX-25",y:"40",size:"10",color:"FFFFFF",bold:"1",label:"Bad"}]}]};
C.styles={definition:[{style:{name:"LabelShadow",type:"shadow",distance:"1",strength:"3",color:"333333"}}],application:[{apply:{toobject:"Grp3",styles:"LabelShadow"}}]};}}}else{if(an=="Cylinder"||an=="Thermometer"){C.value=D;if(an=="Thermometer"){C.majorTMThickness="1";C.decmials="0";C.tickMarkDecmials="0";
C.thmFillColor="FF5904";C.chartLeftMargin="30";C.chartTopMargin="40";C.chartBottomMargin="40";if(!C.numberSuffix){C.numberSuffix="";}C.borderThickness="2";C.thmbulbRadius="20";C.gaugeOriginX="30";}}else{if(LEAP.flashchart.w1chart.contains(an)||an=="AngularGauge3"){C.dials={};C.dials.dial=[];if(an=="AngularGauge3"){if(D instanceof Array){D=D[0];
}var af=0;for(var y in D){var Z=D[y];var o=null;if(x.length+1<af){o="";}else{o=x[af];}C.dials.dial.add({name:y,value:Z,showvalue:0,bordercolor:"#FF3333",bgColor:"bebcb0,"+o+",bebcb0",borderAlpha:"0",toolText:y+" : "+Z});af++;}}else{if(D instanceof Array){var ac=D.length;for(var af=0;af<ac;af++){var o=null;
if(x.length+1<af){o="";}else{o=x[af];}C.dials.dial.add({value:D[af],showvalue:0,bordercolor:"#FF3333",bgColor:"bebcb0,"+o+",bebcb0",borderAlpha:"0",toolText:D[af]});}}else{C.dials.dial.add({value:D,showvalue:0,toolText:D});}}}else{if(an=="DragNode"){C.dataset=[];for(var y in D){var o=null;var U=null;
if(B==1){U=am[af];}else{U=am[0];}if(!U){U="";}var A={};C.dataset.add(A);}}else{if(LEAP.flashchart.w2chart.contains(an)){C.set=[];if(D instanceof Array){D=D[0];}var af=0;for(var y in D){var o=null;var U=null;if(B==1){U=am[af];}else{U=am[0];}if(!U){U="";}if(x.length+1<af){o="";}else{o=x[af];}af++;var A={name:y,value:D[y],color:o,toolText:y+"  :  "+D[y]};
if(V=="1"){A.link='javascript:LEAP.flashchart.onClick("'+ag+'","'+base64encode(encodeURIComponent(escape(U)))+'","'+base64encode(encodeURIComponent(escape(y)))+'","'+base64encode(encodeURIComponent(escape(D[y])))+'","'+base64encode(encodeURIComponent(escape(y)))+'");';}C.set.add(A);}}else{if(LEAP.flashchart.w3chart.contains(an)){var P=w.getAttribute("catfont");
P=LEAP.flashchart.getfontdef(P);if(P!=null){C.categories={font:P.font,fontSize:P.size,fontColor:P.color};}else{C.categories={font:"Arial",fontSize:"12",fontColor:"000000"};}C.categories.category=[];C.dataset=[];if(!(D instanceof Array)){D=[D];}var T=D.length;var ad=0;var K=String.getString(w.getAttribute("percentfield",""));
var F=0;var ah=0;var O=-1;if(K&&(O=aj.indexof(K))!=-1){for(var af=0;af<T;af++){if(O==af){continue;}var m=D[af];for(var y in m){var Z=m[y];if(Z<F){F=Z;}if(Z>ah){ah=Z;}}}}for(var af=0;af<T;af++){var o=null;if(x.length+1<af){o="";}else{o=x[af];}var m=D[af];var L=aj[af];var H={seriesname:aj[af],color:o,set:[]};
if(an=="MSColumnLine3D"){if(af>0){H.renderas="line";}C.lineThickness="3";if(!C.anchorRadius){C.anchorRadius="5";}}var ae=0;C.dataset.add(H);var W=String.getString(w.getAttribute("percentup","100"));var d=String.getString(w.getAttribute("minpercent",""));for(var y in m){if(B==0){U=am[af];}else{U=am[ae];
}var Z=m[y];var S=H.seriesname+" . "+y+"  :  "+Z;if(O==af){if(Z>W){Z=W;}Z=Z/W*100;Z=(ah-F)/100*Z+F;S+="%";if(d>=Z){Z=d;}}if(!U){U="";}if(af==0){C.categories.category.add({name:y});}H.set.add({value:Z,link:'javascript:LEAP.flashchart.onClick("'+ag+'","'+base64encode(encodeURIComponent(escape(U)))+'","'+base64encode(encodeURIComponent(escape(aj[af])))+'","'+base64encode(encodeURIComponent(escape(Z)))+'","'+base64encode(encodeURIComponent(escape(y)))+'");',toolText:S});
ad++;ae++;}}}}}}}}for(var y in C){if(C[y]==null){delete (C[y]);}}if(C.type=="AngularGauge3"){C.type="AngularGauge";C.st="AngularGauge3";}if(C.type=="AngularGauge2"){C.type="AngularGauge";C.gaugeInnerRadius="10";C.pivotRadius="10";C.displayValueDistance=10;C.showShadow=1;C.majorTMHeight="8";C.showGaugeBorder="1";
C.tickMarkDecimalPrecision="1";C.showPivotBorder="1";C.pivotBorderColor="94B7EB";C.pivotBorderThickness="2";}if(C.type=="AngularGauge4"){C.type="AngularGauge";C.st="AngularGauge4";}w.setAttribute("id",ag);w.innerHTML="";LEAP.asyn(LEAP.flashchart.__setValue,null,500,ag,C);return ag;}finally{w=null;}};
LEAP.flashchart.__setValue=function(D,x){var g=x.type;var j=document.getElementById(D);if(!j){return;}var p=j.offsetWidth;var L=j.offsetHeight;var I=[];var u=null;var q=[];var z=null;var C=L;if(p>0&&p>300){if(g=="AngularGauge"&&x.dials!=null&&x.dials.dial!=null){if(!x.st||x.st&&x.st!="AngularGauge4"){var H=x.dials.dial.length;
for(var J=0;J<H;J++){if(x.st=="AngularGauge3"){if(J==0){z=[];}z.add(x.dials.dial[J].name);}u=x.dials.dial[J].value;var M=x.dials.dial[J].bgColor;if(x.formatNumberScale!=null&&x.formatNumberScale=="1"){if(u>1000000){u=Math.round(u/10000)/100+"";}else{if(u>1000){u=Math.round(u/100)/10+"K";}}}I.add(u);
q.add(M);}}}if(x.st=="AngularGauge3"){C=(L-50)+"px";}}if(x.st){delete (x.st);}var B=null;var r=p;var K=C;if(r==0){r="100%";}if(K==0){K="100%";}B=new FusionCharts(leapconfig.server+"LEAP/Resource/flash/chart/swf/"+g+".swf","swf_"+D,r,K,"0","0");if(x.transparent){B.addParam("wmode","transparent");}else{B.addParam("wmode","Opaque");
}B.setDataJSON(x);B.render(D);if(I.length>0){var G=0;if(I.length>0){if(I.length%2==0){G=25;}}var o=null;if(z!=null){o=document.createElement("div");o.style.width="auto";o.style.textAlign="center";j.appendChild(o);}for(var J=0;J<I.length;J++){var m=q[J];if(m!=null&&m.indexOf(",")>-1){m=m.split(",")[1].trim();
}if(m!=null&&m.trim().charAt(0)!="#"){m="#"+m.trim();}var u=I[J];if(z!=null){var F=z[J];var y=document.createElement("span");y.style.height="16px";y.style.width="auto";y.style.border="1px solid #999999";y.style.marginRight="20px";y.style.fontFamily="";y.style.fontSize="14px";o.appendChild(y);if(m!=null){y.style.color=m;
}else{y.style.color="#000000";}y.innerHTML=F+"&nbsp;:&nbsp;"+u;}else{var d=0;var M=Math.floor(I.length/2);if(J+1<=M){if(G!=0){d-=(M-(J+1))*45+G;}else{d-=(M+1-(J+1))*45+G;}}else{if(G==0&&(J+1)-M==1){d=0;}else{d+=((J)-M)*45+G;}}j.style.position="relative";var y=document.createElement("div");y.style.position="absolute";
y.style.height="20px";y.style.border="1px solid #999999";if(I.length>1){y.style.bottom="0px";}else{y.style.bottom="40px";}j.appendChild(y);var A=document.createElement("font");A.style.fontFamily="";A.style.fontSize="14px";A.style.lineHeight="20px";A.style.marginLeft="3px";A.style.marginRight="3px";
if(m!=null){A.style.color=m;y.style.borderColor=m;}else{A.style.color="#000000";}A.innerHTML=u;y.appendChild(A);y.style.left=(p/2-y.offsetWidth/2+d)+"px";}}}j=null;B=null;};if(typeof infosoftglobal=="undefined"){var infosoftglobal=new Object();}if(typeof infosoftglobal.FusionChartsUtil=="undefined"){infosoftglobal.FusionChartsUtil=new Object();
}infosoftglobal.FusionCharts=function(j,d,q,n,u,l,o,r,g,m,p){if(!document.getElementById){return;}this.initialDataSet=false;this.params=new Object();this.variables=new Object();this.attributes=new Array();if(j){this.setAttribute("swf",j);}if(d){this.setAttribute("id",d);}q=q.toString().replace(/\%$/,"%25");
if(q){this.setAttribute("width",q);}n=n.toString().replace(/\%$/,"%25");if(n){this.setAttribute("height",n);}if(o){this.addParam("bgcolor",o);}this.addParam("quality","high");this.addParam("allowScriptAccess","always");this.addVariable("chartWidth",q);this.addVariable("chartHeight",n);u=u?u:0;this.addVariable("debugMode",u);
this.addVariable("DOMId",d);l=l?l:0;this.addVariable("registerWithJS",l);r=r?r:"noScale";this.addVariable("scaleMode",r);g=g?g:"EN";this.addVariable("lang",g);this.detectFlashVersion=m?m:1;this.autoInstallRedirect=p?p:1;this.installedVer=infosoftglobal.FusionChartsUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){infosoftglobal.FusionCharts.doPrepUnload=true;
}};infosoftglobal.FusionCharts.prototype={setAttribute:function(d,g){this.attributes[d]=g;},getAttribute:function(d){return this.attributes[d];},addParam:function(d,g){this.params[d]=g;},getParams:function(){return this.params;},addVariable:function(d,g){this.variables[d]=g;},getVariable:function(d){return this.variables[d];
},getVariables:function(){return this.variables;},getVariablePairs:function(){var d=new Array();var g;var h=this.getVariables();for(g in h){d.push(g+"="+h[g]);}return d;},getSWFHTML:function(){var j="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){j='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ';
j+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var h=this.getParams();for(var d in h){j+=[d]+'="'+h[d]+'" ';}var g=this.getVariablePairs().join("&");if(g.length>0){j+='flashvars="'+g+'"';}j+="/>";}else{j='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">';
j+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var h=this.getParams();for(var d in h){j+='<param name="'+d+'" value="'+h[d]+'" />';}var g=this.getVariablePairs().join("&");if(g.length>0){j+='<param name="flashvars" value="'+g+'" />';}j+="</object>";}return j;},setDataURL:function(d){if(this.initialDataSet==false){this.addVariable("dataURL",d);
this.initialDataSet=true;}else{var g=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));if(!g.setDataURL){__flash__addCallback(g,"setDataURL");}g.setDataURL(d);}},encodeDataXML:function(j){var n=["\\$","\\+"];var h=j.match(/=\s*\".*?\"/g);if(h){for(var l=0;l<h.length;l++){var o=h[l].replace(/^=\s*\"|\"$/g,"");
o=o.replace(/\'/g,"%26apos;");var m=j.indexOf(h[l]);var d="='"+o+"'";var g=j.substring(0,m);var p=j.substring(m+h[l].length);var j=g+d+p;}}j=j.replace(/\"/g,"%26quot;");j=j.replace(/%(?![\da-f]{2}|[\da-f]{4})/ig,"%25");j=j.replace(/\&/g,"%26");return j;},setDataXML:function(d){if(this.initialDataSet==false){this.addVariable("dataXML",this.encodeDataXML(d));
}else{var g=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));g.setDataXML(d);}},setTransparent:function(d){if(typeof d=="undefined"){d=true;}if(d){this.addParam("WMode","transparent");}else{this.addParam("WMode","Opaque");}},render:function(d){if((this.detectFlashVersion==1)&&(this.installedVer.major<6)){if(this.autoInstallRedirect==1){var g=window.confirm("You need Adobe Flash Player 6 (or above) to view the charts. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.");
if(g){__s__3.href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash";}else{return false;}}else{return false;}}else{var h=(typeof d=="string")?document.getElementById(d):d;h.innerHTML=this.getSWFHTML();if(!document.embeds[this.getAttribute("id")]&&!window[this.getAttribute("id")]){window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id"));
}return true;}},parseJSON:function(l,o){var n,m;for(var g in o){var h=typeof o[g];if(h=="function"){continue;}if(h=="object"){if(o[g].hasOwnProperty("length")){for(var d in o[g]){if(typeof o[g][d]=="function"){continue;}m=this.XML.createElement(g);this.parseJSON(m,o[g][d]);l.appendChild(m);}}else{m=this.XML.createElement(g);
this.parseJSON(m,o[g]);l.appendChild(m);}}else{if(h=="string"||h=="number"||h=="boolean"){n=this.XML.createAttribute(g);if(h=="boolean"){o[g]=(o[g]?"1":"0");}n.nodeValue=o[g];l.setAttributeNode(n);}}}},newXMLDocument:function(d){if(!d){d="graph";}if(document.implementation&&document.implementation.createDocument){return document.implementation.createDocument("",d,null);
}else{var g=new ActiveXObject("MSXML2.DOMDocument");var h="<"+d+"/>";g.loadXML(h);}return g;},setDataJSON:function(g){this.XML=this.newXMLDocument("graph");if(g.hasOwnProperty("value")){var d=this.XML.createElement("value");d.appendChild(this.XML.createTextNode(g.value));this.XML.documentElement.appendChild(d);
delete (g.value);}this.parseJSON(this.XML.documentElement,g);var h;if(typeof XMLSerializer=="function"){h=(new XMLSerializer()).serializeToString(this.XML);}else{h=this.XML.xml;}h=h.replace(/\'/g,"%26apos;");h=h.replace(/\"/g,"'");this.setDataXML(h);}};infosoftglobal.FusionChartsUtil.getPlayerVersion=function(){var h=new infosoftglobal.PlayerVersion([0,0,0]);
if(navigator.plugins&&navigator.mimeTypes.length){var d=navigator.plugins["Shockwave Flash"];if(d&&d.description){h=new infosoftglobal.PlayerVersion(d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var j=1;
var g=3;while(j){try{g++;j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+g);h=new infosoftglobal.PlayerVersion([g,0,0]);}catch(l){j=null;}}}else{try{var j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(l){try{var j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");h=new infosoftglobal.PlayerVersion([6,0,21]);
j.AllowScriptAccess="always";}catch(l){if(h.major==6){return h;}}try{j=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(l){}}if(j!=null){h=new infosoftglobal.PlayerVersion(j.GetVariable("$version").split(" ")[1].split(","));}}}return h;};infosoftglobal.PlayerVersion=function(d){this.major=d[0]!=null?parseInt(d[0]):0;
this.minor=d[1]!=null?parseInt(d[1]):0;this.rev=d[2]!=null?parseInt(d[2]):0;};infosoftglobal.FusionChartsUtil.cleanupSWFs=function(){var h=document.getElementsByTagName("OBJECT");for(var g=h.length-1;g>=0;g--){h[g].style.display="none";for(var d in h[g]){if(typeof h[g][d]=="function"){h[g][d]=function(){};
}}}};if(infosoftglobal.FusionCharts.doPrepUnload){if(!infosoftglobal.unloadSet){infosoftglobal.FusionChartsUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",infosoftglobal.FusionChartsUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",infosoftglobal.FusionChartsUtil.prepUnload);
infosoftglobal.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(d){return document.all[d];};}if(Array.prototype.push==null){Array.prototype.push=function(d){this[this.length]=d;return this.length;};}infosoftglobal.FusionChartsUtil.getChartObject=function(g){var d=null;
if(navigator.appName.indexOf("Microsoft Internet")==-1){if(document.embeds&&document.embeds[g]){d=document.embeds[g];}else{d=window.document[g];}}else{d=window[g];}if(!d){d=document.getElementById(g);}return d;};infosoftglobal.FusionChartsUtil.updateChartXML=function(h,g){var d=infosoftglobal.FusionChartsUtil.getChartObject(h);
d.SetVariable("_root.dataURL","");d.SetVariable("_root.isNewData","1");d.SetVariable("_root.newData",g);d.TGotoLabel("/","JavaScriptHandler");};var getChartFromId=infosoftglobal.FusionChartsUtil.getChartObject;var updateChartXML=infosoftglobal.FusionChartsUtil.updateChartXML;var FusionCharts=infosoftglobal.FusionCharts;
LEAP.imgattach={};LEAP.imgattach.d="imgattach";LEAP.imgattach.listimg='<li ctf="li_row" dataid="@dataid" datauser="@datauser"><div class="imgannex_imglist_del" ctf="li_del" dataid="@dataid" datauser="@datauser"></div><div ctf="li_mask" dataid="@dataid" datauser="@datauser" class="@class"></div><img ctf="li_img" dataid="@dataid" datauser="@datauser" src="@src" class="@imgclass"></li>';
LEAP.imgattach.imgli='<img ctf="img_view" class="@class" src="@src" datauser="@datauser">';LEAP.imgattach.flag=false;LEAP.imgattach.init=function(){if(document!=null&&document.body!=null){LEAP.imgattach._init();}else{UIEventManager.addEvent(window,"load",LEAP.imgattach._init);}ElementEventManager.addManagedEventType(LEAP.imgattach.d,"click");
};LEAP.imgattach._init=function(){UIEventManager.removeEvent(window,"load",LEAP.imgattach._init);LEAP.addEvent(document.body,"click",LEAP.imgattach.uiProcess,null,null,true);};LEAP.imgattach.initbtn=function(p,d){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}if(p!=null){var y=function(){LEAP.imgattach.initbtn(null,d);
d=null;};setTimeout(y,p);return;}var n=d.parentElement;if(n!=null){var g=n.getAttribute("ch");if(g!=null&&g!=""){n.style.height=(parseInt(g)-10)+"px";}else{var q=n.parentElement.parentElement.parentElement.clientHeight;n.style.height=(parseInt(q)-10)+"px";}var o=LEAP.getElement("[ctf=imgannex_main]",n);
if(o!=null){var x=new StringBuffer('<DIV style="HEIGHT: 100%; WIDTH: 100%" ctf="imgmain"><DIV class=lg_p_lr_right style="WIDTH: 110px"><DIV __target="go1" onresize=LEAPLG.bct(); class=lg_p2_bct><DIV onresize=LEAPLG.bct_layout(); class=lg_p2_bct_top>');x.append('<div class="imgannex_up"><img src="'+leapconfig.server+'LEAP/Resource/images/itemstyle/imgattach/upimg.png" ctf="listup"></div>');
var l=n.getAttribute("btntype");if(l=="false"){x.append('<div ct="uploadbtn" class="imgannexupload1" img="LEAP/Resource/images/itemstyle/imgattach/add1.jpg" imgwidth="80" imgheight="50">');}else{x.append('<div ct="uploadbtn" class="imgannexupload" img="LEAP/Resource/images/itemstyle/imgattach/add1.jpg" imgwidth="80" imgheight="50">');
}x.append('<img style="display:none" src="data:image:png,base64" onerror="LEAP.uploadbtn.i(0);" style="float:left;" ></div></DIV>');x.append('<DIV class=lg_p2_bct_center style="HEIGHT: 100%"><div class="imgannex_imglist" ctf="gundong"><ul ctf="listimg"></ul></div></DIV>');x.append('<DIV onresize=LEAPLG.bct_layout(); class=lg_p2_bct_bottom style="HEIGHT: 15px"><div class="imgannex_dowm"><img src="'+leapconfig.server+'LEAP/Resource/images/itemstyle/imgattach/dowmimg.png" ctf="listdowm"></div></DIV>');
x.append('<IMG onerror=LEAPLG.bct_img(0); style="DISPLAY: none" src="data:image:png,base64"></DIV></DIV>');x.append('<DIV class=lg_p_lr_fill><DIV class=lg_p_lr_fill_c><DIV onresize=LEAPLG.bct(); class=lg_p2_bct><DIV onresize=LEAPLG.bct_layout(); class=lg_p2_bct_top style="HEIGHT: 30px"></DIV>');x.append('<DIV class=lg_p2_bct_center style="HEIGHT: 100%"><DIV style="HEIGHT: 100%; WIDTH: 100%"><DIV class=lg_p_lr_left style="WIDTH: 30px"></DIV><DIV class=lg_p_lr_right style="WIDTH: 30px"></DIV>');
x.append('<DIV class=lg_p_lr_fill><DIV class=lg_p_lr_fill_c><div class="imgannex_imgmain" ctf="imglist"></div></DIV></DIV></DIV></DIV>');x.append('<DIV onresize=LEAPLG.bct_layout(); class=lg_p2_bct_bottom style="HEIGHT: 30px"></DIV><IMG onerror=LEAPLG.bct_img(0); style="DISPLAY: none" src="data:image:png,base64"></DIV></DIV></DIV></DIV>');
o.innerHTML=x.toString();}var A=n.getAttribute("quality");var m=n.getAttribute("viewsize");var w=n.getAttribute("viewwidth");var j=n.getAttribute("viewheight");var z=LEAP.getElement("[ct=uploadbtn]",n);if(A!=null){z.setAttribute("quality",A);}if(m!=null){z.setAttribute("viewsize",m);}if(w!=null){z.setAttribute("viewwidth",w);
}if(j!=null){z.setAttribute("viewheight",j);}LEAP.addEvent(z,"uploadBtnComplete",LEAP.imgattach.uploadComplete);var r=LEAP.getElement("[ctf=gundong]",n);LEAP.addEvent(r,"mousewheel",LEAP.imgattach.onScroll);var u=LEAP.getElement("[ctf=imgmain]",n);LEAP.addEvent(u,"mouseover",LEAP.imgattach.uiover,null,null,true);
LEAP.imgattach.flag=true;}};LEAP.imgattach.uiProcess=function(m){if(m==null){return;}var p=m.e.srcElement;if(p==null){return;}var l=m.e.type;if(l==null){return;}var G=p.tagName;if(G==null){return;}try{var g=p.getAttribute(commfields.ctf);var h=null;if(g=="li_mask"){h=LEAP._match(p,LEAP.imgattach.d);var x=p.getAttribute("dataid");
if(x!=null){var o=h.getAttribute("btndel");p.className="curre";var B=LEAP.getElements("[ctf=li_mask]",h);var j=LEAP.getElements("[ctf=img_view]",h);var u=LEAP.getElements("[ctf=li_del]",h);var r=LEAP.getElements("[ctf=li_img]",h);for(var C=0;C<B.length;C++){var y=B[C].getAttribute("dataid");if(y!=x){B[C].className="";
r[C].className="";j[C].className="";j[C].style.display="none";if(o=="false"){u[C].className="imgannex_imglist_del";}else{u[C].className="imgannex_imglist_del";}}else{r[C].className="imgcurre";j[C].className="curre";j[C].style.display="block";if(o=="false"){u[C].className="imgannex_imglist_del";}else{u[C].className="imgannex_imglist_del1";
}}}}}else{if(g=="listup"){h=LEAP._match(p,LEAP.imgattach.d);var z=LEAP.getElement("[ctf=gundong]",h);z.scrollTop-=55;}else{if(g=="listdowm"){h=LEAP._match(p,LEAP.imgattach.d);var z=LEAP.getElement("[ctf=gundong]",h);z.scrollTop+=55;}else{if(g=="li_del"){if(window.confirm("?")){h=LEAP._match(p,LEAP.imgattach.d);
var w=LEAP.getElement("[ctf=listimg]",h);var d=LEAP.getElements("[ctf=li_row]",h);var q=LEAP.getElement("[ctf=imglist]",h);var r=LEAP.getElements("[ctf=img_view]",h);var n=p.getAttribute("dataid");w.removeChild(d[parseInt(n)-1]);q.removeChild(r[parseInt(n)-1]);var A=h.value;var D=JSON.parse(A);D.removeindex(parseInt(n)-1);
h.value=JSON.stringify(D);var F=h.value;LEAP.imgattach.flag=true;LEAP.imgattach.setValue(h,F);}}}}}}finally{}};LEAP.imgattach.onScroll=function(){var g=LEAP.getElement("[ct=imgattach]");if(g!=null){var d=LEAP.getElement("[ctf=gundong]",g);if(d!=null){if(event.wheelDelta==-120){d.scrollTop+=55;}else{if(event.wheelDelta==120){d.scrollTop-=55;
}}}}};LEAP.imgattach.setValue=function(p,x){if(p==null){return;}if(typeof(p)=="string"){p=LEAP.getElement(p);}if(p==null){return;}if(LEAP.imgattach.flag==false){LEAP.asyn(LEAP.imgattach.setValue,null,100,p,x);if(x!=null){LEAP.imgattach.flag=true;}return;}var r=p.getAttribute("ct");if(r=="imgattach"){var A=x;
var q=null;if(x!=null&&x!=""){q=JSON.parse(A);p.value=A;}else{p.value="";}if(q!=null){var n=q.length;var h=LEAP.getElement("[ctf=listimg]",p);var y=LEAP.getElement("[ctf=imglist]",p);var w=new StringBuffer();var m=new StringBuffer();for(var o=0;o<n;o++){var z=q[o];var g=LEAP.upload.getPath(z);var j=null;
if(z.userName!=null&&z.userName!=""){j=z.userName;}else{j=z.creator;}var u=null;var d=null;if(o==0){u=LEAP.imgattach.listimg.replaceall("@dataid",(o+1)).replace("@class","curre").replace("@src",g).replace("@imgclass","imgcurre").replaceall("@datauser",j);d=LEAP.imgattach.imgli.replace("@class","curre").replace("@src",g).replaceall("@datauser",j);
}else{u=LEAP.imgattach.listimg.replaceall("@dataid",(o+1)).replace("@class","").replace("@src",g).replace("@imgclass","").replaceall("@datauser",j);d=LEAP.imgattach.imgli.replace("@class","").replace("@src",g).replaceall("@datauser",j);}w.append(u);m.append(d);}h.innerHTML=w.toString();y.innerHTML=m.toString();
imageindex=1;for(var o=0;o<y.childNodes.length;o++){LEAP.loadIMG(y.childNodes[o].src,y.childNodes[o],LEAP.imgattach.setimgwh,null);}}LEAP.imgattach.flag=false;}};LEAP.imgattach.getValue=function(d){if(d==null){return;}if(typeof(d)=="string"){d=LEAP.getElement(d);}if(d==null){return;}var g=d.value;return g;
};LEAP.imgattach.uploadComplete=function(u){var m=LEAP.getElement("[ct=imgattach]");var h=LEAP.getElement("[ctf=listimg]",m);var w=LEAP.getElement("[ctf=imglist]",m);var q=m.value;var o=null;var x=u.arg2.result;var n=1;if(q!=null&&q!=""){var o=JSON.parse(q);if(o!=null){o[o.length]=x;}n=o.length;}else{o=[];
o[0]=x;}var g=LEAP.upload.getPath(x);var r=document.createElement("li");r.setAttribute("ctf","li_row");r.setAttribute("dataid",n);var d=document.createElement("div");d.className="imgannex_imglist_del";d.setAttribute("ctf","li_del");d.setAttribute("dataid",n);r.appendChild(d);var p=document.createElement("div");
if(n==1){p.className="curre";}p.setAttribute("ctf","li_mask");p.setAttribute("dataid",n);r.appendChild(p);var l=document.createElement("img");if(n==1){l.className="imgcurre";}l.src=g;l.setAttribute("ctf","li_img");l.setAttribute("dataid",n);r.appendChild(l);h.appendChild(r);var j=document.createElement("img");
j.setAttribute("ctf","img_view");j.src=g;w.appendChild(j);if(n==1){j.className="curre";}LEAP.loadIMG(g,j,LEAP.imgattach.setimgwh,null);m.value=JSON.stringify(o);};var imageindex=1;LEAP.imgattach.setimgwh=function(l){var h=LEAP.getElement("[ctid="+l.target+"]");if(imageindex==1){h.style.display="block";
}if(l.height!=null&&l.width!=null&&l.height!=0&&l.width!=0){var o=h.parentNode.clientHeight;var g=h.parentNode.clientWidth;var j=l.width;var d=l.height;scale=j/d;if(j>g){j=g;d=j/scale;if(d>o){d=o;j=d*scale;}}if(d>o){d=o;j=d*scale;}var n=null;var m=null;if(d<o){m=(o-d)/2;}if(j<g){n=(g-j)/2;}h.style.width=j+"px";
h.style.height=d+"px";if(n!=null){h.style.left=n+"px";}if(m!=null){h.style.top=m+"px";}}if(h.style.width.toLowerCase()=="0px"){h.style.width="100%";}if(h.style.height.toLowerCase()=="0px"){h.style.height="100%";}imageindex++;};LEAP.imgattach.uiover=function(u){if(u==null){return;}var d=u.e.srcElement;
if(d==null){return;}var p=u.e.type;if(p==null){return;}var x=d.tagName;if(x==null){return;}try{var r=d.getAttribute(commfields.ctf);var o=null;o=LEAP._match(d,LEAP.imgattach.d);if(o!=null){var w=o.getAttribute("btntype");var q=o.getAttribute("btnuser");if(w=="false"){return;}else{if(q=="1"){var m=null;
if(LEAP.userInfo.userflag!=null&&LEAP.userInfo.userflag!=""){m=LEAP.userInfo.userflag;}else{if(LEAP.userInfo.fullName!=null&&LEAP.userInfo.fullName!=""){m=LEAP.userInfo.fullName;}}var j=d.getAttribute("datauser");if(m!=j){return;}}}}if(r=="li_mask"||r=="li_img"||r=="li_del"){var l=d.getAttribute("dataid");
if(l!=null){var h=LEAP.getElements("[ctf=li_del]",o);if(h!=null){for(var n=0;n<h.length;n++){var g=h[n].getAttribute("dataid");if(g!=l){h[n].className="imgannex_imglist_del";}else{h[n].className="imgannex_imglist_del1";}}}}}else{var h=LEAP.getElements("[ctf=li_del]",o);if(h!=null){for(var n=0;n<h.length;
n++){h[n].className="imgannex_imglist_del";}}}}finally{}};LEAP.imgattach.init();LEAP.inputext={};LEAP.inputext.div=null;LEAP.inputext._init=function(){LEAP.addEvent(document.body,"mousedown",LEAP.inputext.uiProcess,null,null,true);LEAP.addEvent(document.body,"keypress",LEAP.inputext.uiProcess,null,null,true);
LEAP.addEvent(document.body,"keyup",LEAP.inputext.uiProcess,null,null,true);if(LEAP.isIE){LEAP.addEvent(document.body,"focusin",LEAP.inputext.uiProcess,null,null,true);LEAP.addEvent(document.body,"focusout",LEAP.inputext.uiProcess,null,null,true);}else{document.addEventListener("focus",LEAP.inputext.uiProcess,true);
document.addEventListener("blur",LEAP.inputext.uiProcess,true);}var d=document.createElement("div");d.className="bdsug bdsugbg";d.style.height="auto";d.style.display="none";d.style.position="absolute";d.setAttribute("ctf","inputext_list");d.innerHTML='<ul ctf="inputext_list_con"></ul>';document.body.appendChild(d);
LEAP.inputext.div=d;d=null;LEAP.addEvent(LEAP.inputext.div,"mouseover",LEAP.inputext.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.inputext._init);};LEAP.inputext.lastctid=null;LEAP.inputext.uiProcess=function(r){var m=null;var d=null;var h=null;var n=null;if(r!=null&&r.e!=null&&r.e.type!=null){n=r.e.type;
}if(n!=null){d=r.e.srcElement;m=r.e;if(LEAP.isIE){h=m.keyCode;}else{h=m.which;}}else{m=r;d=r.target;h=m.which;n=r.type;}var o=d.getAttribute("ctf");try{if(!o||o.indexOf("inputext")!=0){return;}if(n=="mousedown"){if(o=="inputext_lif"){d=d.parentElement;}if(d.tagName=="LI"){LEAP.inputext._autosetv(LEAP.getElement("[ctid="+LEAP.inputext.lastctid+"]"),true);
LEAP.stopEvent(m);return;}}if(n=="keypress"){if(h==40||h==38){LEAP.stopEvent(m);}if(h==27){LEAP.inputext._autosetv(d,false);LEAP.stopEvent(m);}return;}if(n=="focusout"||n=="blur"){LEAP.inputext._autosetv(d,true);return;}if(n=="focusin"||n=="focus"){LEAP.inputext.lastctid=LEAP.ctid(d);LEAP.inputext.show(d,true);
return;}if(n=="mouseover"&&o&&o.indexOf("inputext_")==0){if(o=="inputext_lif"){d=d.parentElement;}if(d.tagName=="LI"){LEAP.removeCSS(LEAP.getElement(".bdsug-s",LEAP.inputext.div),"bdsug-s",false);LEAP.addCSS(d,"bdsug-s",false);}return;}if(n=="keyup"&&o=="inputext_main"){if(h==13){LEAP.inputext._autosetv(d,true);
LEAP.stopEvent(m);return;}LEAP.inputext.lastctid=LEAP.ctid(d);if(h==40){var q=LEAP.getElement(".bdsug-s",LEAP.inputext.div);if(q){var g=q.getAttribute("_sn");var l=LEAP.getElement("[_sn="+(g*1+1)+"]",LEAP.inputext.div);if(!l){l=LEAP.getElement("[_sn=1]",LEAP.inputext.div);}if(l){LEAP.addCSS(l,"bdsug-s",false);
}LEAP.removeCSS(q,"bdsug-s",false);l=q=null;}else{var j=LEAP.getElement("li:first",LEAP.inputext.div.children[0]);if(j){LEAP.addCSS(j,"bdsug-s",false);}}LEAP.stopEvent(m);return;}else{if(h==38){var q=LEAP.getElement(".bdsug-s",LEAP.inputext.div);if(q){var g=q.getAttribute("_sn");var l=LEAP.getElement("[_sn="+(g*1-1)+"]",LEAP.inputext.div);
if(!l){l=LEAP.getElement("li:last",LEAP.inputext.div);}if(l){LEAP.addCSS(l,"bdsug-s",false);}LEAP.removeCSS(q,"bdsug-s",false);l=q=null;}else{var p=LEAP.getElement("li:last",LEAP.inputext.div.children[0]);if(p){LEAP.addCSS(p,"bdsug-s",false);}}LEAP.stopEvent(m);return;}}if(h==27){LEAP.inputext._autosetv(d,false);
return;}else{if(h==39||h==40){return;}}LEAP.inputext.show(d);}}finally{d=r=null;}};LEAP.inputext._autosetv=function(h,g){if(!h){return;}LEAP.inputext.div.style.display="none";if(g){var d=LEAP.getElement(".bdsug-s",LEAP.inputext.div);if(d){h.value=d.getAttribute("_text");h.setAttribute("_value",d.getAttribute("_value"));
h.setAttribute("_text",d.getAttribute("_text"));}else{h.value="";h.setAttribute("_value","");h.setAttribute("_text","");}}else{h.value=h.getAttribute("_text");}};LEAP.inputext.lastsn=0;LEAP.inputext.show=function(d,g){if(d.value){var r=d.getAttribute("_pv");if(r==d.value&&!g){return;}d.setAttribute("_pv",d.value);
LEAP.inputext.lastsn++;var m=LEAP.ctid(d);var n=d.getAttribute("service");if(String.isEmpty(n)){n="systemui_searchorg";}var p=d.getAttribute("showfield");if(String.isEmpty(p)){p="cnname";}var l=d.getAttribute("valuefield");if(String.isEmpty(l)){l="syscode";}var h=null;var q=d.getAttribute("filterfn");
if(!String.isEmpty(q)){var j=LEAP.getLoadedModule(d.getAttribute("instance"));if(j!=null&&j[q]){try{h=j[q](d);}catch(o){}}}LEAP.request2({name:n,par:{showfield:p,valuefield:l,value:d.value,sp:h},callback:LEAP.inputext.callback,arg:{ctid:"[ctid="+m+"]",sn:LEAP.inputext.lastsn}});LEAP.request("systemui_searchorg",{par:d.value});
}else{LEAP.inputext.div.children[0].innerHTML="";LEAP.inputext.div.style.display="none";}d=null;};LEAP.inputext.callback=function(j,g){var n=LEAP.getElement(g.ctid);if(!n){return;}if(LEAP.inputext.lastsn!=g.sn){return;}if(j){var o=LEAP.getAbsolutePos(n);LEAP.inputext.div.style.zIndex="9999";LEAP.inputext.div.style.left=o.x+"px";
LEAP.inputext.div.style.top=(o.y+n.offsetHeight)+"px";LEAP.inputext.div.style.display="block";var d=n.getAttribute("showfield");if(String.isEmpty(d)){d="cnname";}var l=n.getAttribute("valuefield");if(String.isEmpty(l)){l="syscode";}var m=new StringBuffer();for(var h=0;h<j.length;h++){m.append('<li _text="'+j[h][d]+'" style="cursor:pointer;" ctf="inputext_li" _value="');
m.append(j[h][l]);m.append('" class="bdsug-overflow');if(h==0){m.append(" bdsug-s");}m.append('" _sn='+(h+1)+">");m.append(j[h].cnname);if(j[h].parent){m.append('<font ctf="inputext_lif" style="color:grey;float:right">< ').append(j[h].parent).append("</font>");}m.append("</li>");}LEAP.inputext.div.children[0].innerHTML=m.toString();
}else{LEAP.inputext.div.children[0].innerHTML="";LEAP.inputext.div.style.display="none";}};LEAP.inputext.getValue=function(g){try{var d=g.getAttribute("_value");if(String.isEmpty(d)){return null;}return d;}finally{g=null;}};LEAP.inputext.setValue=function(d){try{d.value="";d.setAttribute("_value","");
d.setAttribute("_text","");d.setAttribute("_pv","");}finally{d=null;}};LEAP.inputext.init=function(){if(document!=null&&document.body!=null){LEAP.inputext._init();}else{UIEventManager.addEvent(window,"load",LEAP.inputext._init);}ElementEventManager.addManagedEventType(LEAP.inputext.d,"valueChange");}();
LEAP.decry={};LEAP.decry.d="linkdecry";LEAP.decry._imgDiv=null;LEAP.decry._init=function(){};LEAP.decry.init=function(){}();LEAP.decry.uiProcess=function(o){var I=null;var p=null;var F=null;var l=null;if(o!=null&&o.e!=null&&o.e.type!=null){l=o.e.type;}if(l!=null){p=o.e.srcElement;}else{p=o.target;}var g=LEAP._match(p,LEAP.decry.d);
if(g==null){return;}if(p==null||p.getAttribute==null){return;}if(LEAP.decry._imgDiv==null){LEAP.decry._imgDiv=document.createElement("div");LEAP.setStyle(LEAP.decry._imgDiv,{display:"none",width:"auto",height:"auto","min-width":"100px",position:"absolute",zIndex:99999});LEAP.decry._imgDiv.innerHTML="<img src=''>";
document.body.appendChild(LEAP.decry._imgDiv);}if(l=="mouseout"){LEAP.setStyle(LEAP.decry._imgDiv,{display:"none"});var m=LEAP.getElement("IMG",LEAP.decry._imgDiv);if(m){m.src="";}}if(l=="mousemove"){if(LEAP.decry._imgDiv){if(LEAP.decry._imgDiv.style.display=="block"){return;}}var B=g.getAttribute("linkmd");
if(!g.parentNode||!g.parentNode.parentNode){return;}var j=LEAP.getElement("input[md="+B+"]",g.parentNode.parentNode);if(!j){return;}var d=LEAP.getLoadedModule(j.getAttribute("instance"));if(d==null){return;}var D=null;var r=d.moduleName;if(d.getParentModule()){D=d.getParentModule();r=D.moduleName;}if(!r){return;
}var C=d.getPageData();var q=null;if(C&&C.data){q=C.data.id;}if(!q){return;}var H=LEAP.request("studio_searchRealValue",{module:r,id:q,field:B});if(!H){return;}var y=p.clientWidth;var u=o.e.offsetX;var A=null;if(y<u+10||u<10){var n=o.e.clientX+3;if(u<10){n=o.e.clientX-7;}var z=o.e.clientY-10;var G=30;
if(p.getBoundingClientRect()){z=p.getBoundingClientRect().top;G=p.offsetHeight-2;}var m=LEAP.getElement("IMG",LEAP.decry._imgDiv);if(m){m.src=leapconfig.server+"LEAP/Download/"+H;}LEAP.setStyle(LEAP.decry._imgDiv,{display:"block",left:n-10+"px",top:z-50+"px",height:G+"px"});}}};LEAP.linkmodule2=new Object();
LEAP.linkmodule2.d="linkmodule2";LEAP.linkmodule2.dtpos=[{text:"",flag:1,issys:1},{text:"",flag:2,issys:1},{text:"",flag:3,issys:1}];LEAP.linkmodule2.menu=null;LEAP.linkmodule2.menuItemStr='<li issys=@issys ctf=linkmodule2_menuitem flag=@flag class="lg2menu_item"><a ctf=linkmodule2_menuitem flag=@flag href="javascript:">@text</a></li>';
LEAP.linkmodule2._init=function(){LEAP.addEvent(document.body,"click",LEAP.linkmodule2.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.linkmodule2._init);ElementEventManager.addManagedEventType(LEAP.linkmodule2.d,"rowOperationClick");};LEAP.linkmodule2.init=function(){if(document!=null&&document.body!=null){LEAP.linkmodule2._init();
}else{UIEventManager.addEvent(window,"load",LEAP.linkmodule2._init);}}();LEAP.linkmodule2.onRowOP=function(p,n,G,C,q,K,r,u,z,J){if(p!=null&&p=="1"){var B=LEAP.linkmodule2.getdef(n);if(B!=null){var A=null;var D=null;var I=n.getAttribute(commfields.instance);var l=null;if(I!=null){l=LEAP.getLoadedModule(I);
}if(l!=null){if(G=="1"){A="view";D=B.viewmodule;if(D==null){D=B.infomodule;}}else{if(G=="2"&&!LEAP.linkmodule2.isReadOnly(n)){A="modify";D=B.modifymodule;if(D==null){D=B.infomodule;}}else{if(G=="3"&&!LEAP.linkmodule2.isReadOnly(n)){if(window.confirm("?")){if(!C){var F=B.deletemodule;if(F==null){F=B.datamodule;
}K.beanname=F;if(l.WFMode!=null&&l.WFMode){var o=l.getDeleteBean(K,[B.deletepk]);var d=B.service_delete;if(String.isEmpty(d)){d="beanDelete";}var L=l.childModuleSubmit(d,K,2);if(L==true){LEAP.linkmodule2.removeRow(q);}}else{if(B.tsubmit=="1"){if(q.rowIndex==3&&q.nextElementSibling==null){if(l.tsummitdel==null){l.tsummitdel=[];
}l.tsummitdel.add(q.data);}LEAP.linkmodule2.removeRow(q);}else{if(l.beanDelete(K,[B.deletepk])==true){LEAP.linkmodule2.removeRow(q);}}}}else{LEAP.linkmodule2.removeRow(q);}}}}}if(A!=null){var j=l.forms(D,A);j.module.sysBeforeSubmit=null;j.module.sysSubmitSucess=null;j.module.___linkct=null;j.module.___linkrow=null;
j.module.outerSubmit=null;j.module.isInLinkModule2=null;if(l.WFMode!=null&&l.WFMode){j.module.isInLinkModule2=true;}var H=K;if(A=="modify"){j.module.___linkct=n;j.module.sysBeforeSubmit=LEAP.linkmodule2.sysBeforeSubmit;j.module.sysSubmitSucess=LEAP.linkmodule2.sysSubmitSucess;j.module.___linkrow=q;if(C!=null&&C=="1"){j.module.submitMode=2;
j.module.outerSubmit=LEAP.linkmodule2.outerSubmit;}else{if(B.tsubmit=="1"){j.module.submitMode=2;j.module.outerSubmit=LEAP.linkmodule2.outerSubmit;}else{j.module.submitMode=1;}}if(B.modfn!=null&&l[B.modfn]){H=l[B.modfn].call(l,K);}}j.module.setPageData(H);j.show();j=null;}}}}else{var w=null;var g=n.parentElement;
var y=LEAP.getElements("tr",g);var h=null;if(y!=null&&y.length>=2){h=y[1];var x=h.children[u.cellIndex];if(x!=null){w=x.getAttribute("st");}}ElementEventManager.handleEvent(n,"rowOperationClick",{row:q,cell:u,flag:G,src:r,index:q.sectionRowIndex,cellIndex:u.cellIndex,data:K,md:J,text:z,hasSaveData:C==null||C!="1",srcst:w});
}p=n=G=C=q=K=r=u=z=J=null;};LEAP.linkmodule2.uiProcess=function(n){var q=n.e.srcElement;var J=n.e;var l=n.e.type;var P=q.tagName;var h=null;var j=null;try{var g=q.getAttribute(commfields.ctf);if(l=="click"){LEAP.linkmodule2.hideMenu();}if(g!=null&&l=="click"&&g=="linkmodule2_tpo2"&&q.tagName=="A"){var j=LEAP.getElement(q.getAttribute("elementFind"));
var p=q.parentNode.parentNode;var N=p.data;var H=q.getAttribute("flag");var o=q.getAttribute("issys");var r=q.parentNode;var y=q.innerText;var M=null;var C=p.getAttribute("___islinknewrow");LEAP.linkmodule2.onRowOP(o,j,H,C,p,N,q,r,y,M);q=j=p=N=H=null;}if(g!=null&&l=="click"&&g.startWith("linkmodule2_btn")){var j=LEAP.getElement(q.parentNode.getAttribute("elementfind"));
if(j){var L=j.getAttribute("page_num");if(L==null){L=1;}var A=j.getAttribute("page_count");if(A==null){A=-1;}L=LEAP.tonum(L);A=LEAP.tonum(A);if(g=="linkmodule2_btnfirst"){L=1;}else{if(g=="linkmodule2_btnprev"){L-=1;}else{if(g=="linkmodule2_btnnext"){L+=1;}else{if(g=="linkmodule2_btnlast"){L=A;}}}}if(L<1){L=1;
}if(L>A){L=1;}LEAP.linkmodule2.refresh(j,L);}}if(g!=null&&l=="click"&&g=="linkmodule2_menuitem"){LEAP.linkmodule2.hideMenu();var x=q;if(x.tagName!="LI"){x=q.parentNode;}if(x.tagName!="LI"){x=x.parentNode;}var w=x.parentNode;var j=LEAP.getElement(w.getAttribute("elementFind"));var r=LEAP.getElement(w.getAttribute("TDFind"));
var p=r.parentNode;var G=LEAP.ctid(p);var I="TR[ctid="+G+"]";var N=p.data;var y=LEAP.getElement("A:first",x).innerText;var H=x.getAttribute("flag");var M=r.getAttribute("md");var o=x.getAttribute("issys");var C=p.getAttribute("___islinknewrow");LEAP.linkmodule2.onRowOP(o,j,H,C,p,N,q,r,y,M);x=w=j=r=p=N=null;
}else{if(g!=null&&g==LEAP.linkmodule2.d+"_tpo"){var z=q.tpos;if(z!=null){var F=q.getAttribute("elementctid");j=LEAP.getElement("[ctid="+F+"]:first");if(j!=null){var D=j.getAttribute("enablemenu");if(D==null||D!=0){var u=LEAP.ctid(q);LEAP.linkmodule2.showMenu("[ctid="+F+"]:first",q.tagName+"[ctid="+u+"]:first",z,J.clientX,J.clientY);
}}}}}if(g!=null&&g.indexOf(LEAP.linkmodule2.d+"_")==0){j=LEAP._match(q,LEAP.linkmodule2.d);if(j!=null){var O=j.getAttribute("tsubmit");var K=j.getAttribute(commfields.instance);if(K!=null){h=LEAP.getLoadedModule(K);}if(h!=null){if(g=="linkmodule2_add"&&!LEAP.linkmodule2.isReadOnly(j)){var B=q.getAttribute("module");
if(B!=null){var d=h.forms(B,"insert");d.module.outerSubmit=LEAP.linkmodule2.outerSubmit;d.module.sysBeforeSubmit=null;d.module.sysSubmitSucess=null;d.module.isInLinkModule2=null;if(h.pageMode!="insert"&&h.WFMode!=null&&h.WFMode){d.module.isInLinkModule2=true;}if(h.pageMode=="insert"||(h.pageMode=="modify"&&O=="1")){d.module.submitMode=2;
if(h.pageMode=="modify"&&O=="1"){d.module.sysBeforeSubmit=LEAP.linkmodule2.sysBeforeSubmit;}}else{d.module.sysBeforeSubmit=LEAP.linkmodule2.sysBeforeSubmit;d.module.sysSubmitSucess=LEAP.linkmodule2.sysSubmitSucess;d.module.submitMode=1;}d.module.___linkct=j;d.module.clearPageData();d.show();d=null;}}}}}}finally{J=q=n=h=j=null;
}};LEAP.linkmodule2.removeRow=function(j){var h=j.getAttribute("isinrange");if(h==null||h!="1"){j.parentNode.removeChild(j);}else{var d=j;var g=false;while(true){if(d!=null&&d.tagName=="TR"){var h=d.getAttribute("isinrange");if(h==null||h!="1"){break;}d=LEAP.linkmodule2._nextRow(d);}else{g=true;break;
}}LEAP.linkmodule2.clearRowData(j);if(g){j.parentNode.appendChild(j);}else{j.parentNode.insertBefore(j,d);}}j=null;};LEAP.linkmodule2.hideMenu=function(){if(LEAP.linkmodule2.menu!=null&&LEAP.linkmodule2.menu.style.display!="none"){LEAP.linkmodule2.menu.style.display="none";}};LEAP.linkmodule2.showMenu=function(n,z,p,w,q){var m=LEAP.getElement(n);
if(m&&p&&p.length>0){if(LEAP.linkmodule2.menu==null){var g=LEAP.linkmodule2.menu=document.createElement("UL");g.className="lg2menu_ul";LEAP.addEvent(g,"mouseleave ",LEAP.linkmodule2.hideMenu,null,null,true);document.body.appendChild(g);g=null;}LEAP.linkmodule2.menu.style.width="146px";LEAP.linkmodule2.menu.innerHTML="";
LEAP.linkmodule2.menu.style.left=w-10+"px";LEAP.linkmodule2.menu.style.top=q-10+"px";LEAP.linkmodule2.menu.setAttribute("elementFind",n);LEAP.linkmodule2.menu.setAttribute("TDFind",z);var h=p.length;var o=new StringBuffer();var d=LEAP.linkmodule2.isReadOnly(m);for(var j=0;j<h;j++){var B=p[j];var u=0;
if(B.issys!=null){u=B.issys;}if(d&&u!=null&&u==1){if(B.flag==2||B.flag==3){continue;}}var A=LEAP.linkmodule2.menuItemStr.replaceall("@flag",B.flag).replace("@text",B.text).replace("@issys",u);o.append(A);}LEAP.linkmodule2.menu.innerHTML=o.toString();LEAP.linkmodule2.menu.style.display="block";}m=null;
};LEAP.linkmodule2._nextRow=function(g){if(g){var d=g.nextElementSibling;if(d&&d.tagName=="TR"){return d;}}return null;};LEAP.linkmodule2.clear=function(j){var g=null;var q=null;if(j==null){return null;}try{j=LEAP._check(j,LEAP.linkmodule2.d);if(j==null){return;}j.data=null;var q=j;if(j.tagName!="TR"){q=LEAP._match(j,"TD","tagName",9);
}if(q==null){return;}var d=LEAP.linkmodule2.getdef(j);if(d==null){return;}if(d&&d.datamodule&&d.filtername){var n=j.getAttribute(commfields.instance);if(n){g=LEAP.getLoadedModule(n);if(!g){return;}var p=g.getElement(d.resultfind);var m=d.skiprow;var q=p;if(!q){return;}for(var l=0;l<m;l++){if(q&&q.getAttribute("iswaitrow")&&q.getAttribute("iswaitrow")==1){q=rowLEAP.linkmodule2._nextRow(q);
}if(q==null){break;}LEAP.linkmodule2.clearRowData(q);if(LEAP.linkmodule2._nextRow(q)==null){break;}q=LEAP.linkmodule2._nextRow(q);}if(m==0){m=1;}var h=q.parentNode.parentNode.rows[p.rowIndex+m];if(h!=null){if(h.getAttribute("iswaitrow")&&h.getAttribute("iswaitrow")==1&&LEAP.linkmodule2._nextRow(h)){h=LEAP.linkmodule2._nextRow(h);
}while(h.getAttribute("linmodule2_row")=="1"){var o=LEAP.linkmodule2._nextRow(h);h.parentNode.removeChild(h);if(o==null){break;}h=o;}h=null;}}}}finally{g=q=j=null;}};LEAP.linkmodule2.clearRowData=function(j){j.data=null;var g=j.cells.length;j.data=null;j.parameter=null;j.removeAttribute("___isbinddatarow");
j.removeAttribute("___islinknewrow");j.removeAttribute("linmodule2_row");j.removeAttribute("data");for(var h=0;h<g;h++){var d=j.cells[h];j.cells[h].innerHTML="";d.removeAttribute("title");d.removeAttribute("tpos");d.tpos=null;}j=null;};LEAP.linkmodule2.isReadOnly=function(d){try{if(d){var g=d.getAttribute("readonly");
if(g&&g=="1"){return true;}return false;}return false;}finally{d=null;}};LEAP.linkmodule2.getdef=function(h){var y=null;var o=h.getAttribute(commfields.ct);if(o==LEAP.linkmodule2.d){y=h._def;if(y==null){y=new Object();h._def=y;y.lcv=h.getAttribute("lcv");y.headerrow=h.getAttribute("headerrow");y.resultrow=h.getAttribute("resultrow");
y.skiprow=h.getAttribute("skiprow");y.datamodule=h.getAttribute("datamodule");y.filtername=h.getAttribute("filtername");y.instance=h.getAttribute(commfields.instance);y.tpo=h.getAttribute("tpo");y.callback=h.getAttribute("callBack");y.infomodule=h.getAttribute("infomodule");y.viewmodule=h.getAttribute("viewmodule");
y.modifymodule=h.getAttribute("modifymodule");y.deletemodule=h.getAttribute("deletemodule");y.deletepk=h.getAttribute("deletepk");y.search_fields=h.getAttribute("search_fields");y.modfn=h.getAttribute("modfn");y.tsubmit=h.getAttribute("tsubmit");var B=h.getAttribute("parentfield");if(B){y.parentfield=B;
}else{y.parentfield="id";}try{var Q=h.getAttribute("initvalue");if(Q){var S=Q.split(",");y.initvalue={};for(var L=0;L<S.length;L++){var M=S[L].split("=");y.initvalue[M[0]]=M[1];}}}catch(x){}if(!String.isEmpty(y.search_fields)){y.search_fields=y.search_fields.split(",");}else{y.search_fields=null;}y.service_delete=h.getAttribute("service_delete");
y.btnpart=h.getAttribute("btnpart");if(!String.isEmpty(y.btnpart)){var g=LEAP.getLoadedModule(h.getAttribute(commfields.instance));if(g!=null){var V=g.getST(y.btnpart);if(V){y.useSplitPage=true;V.setAttribute("elementfind",h.tagName+"[ctid="+LEAP.ctid(h)+"]");}}}y.pageSize=h.getAttribute("pageSize");
if(String.isEmpty(y.deletepk)){y.deletepk="id";}y.searchpar=h.getAttribute("searchpar");y.order=h.getAttribute("order");var K=LEAP.getElement("[ctf=linkmodule2_add]:first",h);if(K!=null){var D=K.getAttribute("module");if(!String.isEmpty(D)){y.insertmodule=D;}if(y.infomodule==null){y.infomodule=y.insertmodule;
}}if(y.infomodule!=null&&String.isEmpty(y.infomodule)){delete (y.infomodule);}if(y.viewmodule!=null&&String.isEmpty(y.viewmodule)){delete (y.viewmodule);}if(y.modifymodule!=null&&String.isEmpty(y.modifymodule)){delete (y.modifymodule);}if(y.deletemodule!=null&&String.isEmpty(y.deletemodule)){delete (y.deletemodule);
}if(y.headerrow==null){y.headerrow=0;}if(y.resultrow==null){y.resultrow=1;}if(y.skiprow==null){y.skiprow=0;}y.resultrow=y.resultrow*1;y.skiprow=y.skiprow*1;y.headerrow=y.headerrow*1;var P=LEAP.ctid(h);y.ctid=P;var q=h;if(h.tagName!="TR"){q=LEAP._match(h,"TD","tagName",9);}var F=q.getAttribute("ctid");
if(F==null){F=UUID.cID();q.setAttribute("ctid",F);}y.rowfind="TR[ctid="+F+"]:first";var U=q.parentNode.parentNode.rows[y.resultrow+q.rowIndex];var z=U.getAttribute("ctid");if(z==null){z=UUID.cID();U.setAttribute("ctid",z);}y.resultfind="TR[ctid="+z+"]:first";y.headers=[];var O=q.parentNode.parentNode.rows[y.headerrow+q.rowIndex];
var N=O.cells;var C=N.length;for(var L=0;L<C;L++){var J=new Object();var d=N[L];var m=d.getAttribute("colSpan");var n=d.getAttribute("rowSpan");J.colorexp=d.getAttribute("colorexp");J.imgexp=d.getAttribute("imgexp");var T=d.getAttribute("tpo");if(!String.isEmpty(T)){J.tpos=[];var A=T.split("|");var r=A.length;
for(var G=0;G<r;G++){var R=A[G];var w=R.split(":");var u=w[0];var I=w[1];var p=0;if(w.length>2&&w[2]=="1"){p=1;}J.tpos.add({text:u,flag:I,issys:p});}}if(n!=null&&y.skiprow>2&&n>=y.skiprow){J.isskip=true;var H=UUID.cID();d.setAttribute("ctid",H);J.find="TD[ctid="+H+"]:first";}else{J.isskip=false;}J.rowspan=n;
J.colspan=m;J.bt=d.getAttribute("bt");J.md=d.getAttribute("md");J.code=d.getAttribute("code");J.router=d.getAttribute("router");y.headers.add(J);}}return y;}h=null;};LEAP.linkmodule2.refresh=function(h,L){var g=null;var n=null;if(h==null){return null;}try{h=LEAP._check(h,LEAP.linkmodule2.d);if(h==null){return;
}LEAP.linkmodule2.clear(h);var n=h;if(h.tagName!="TR"){n=LEAP._match(h,"TD","tagName",9);}if(n==null){return;}var x=LEAP.linkmodule2.getdef(h);if(x==null){return;}if(x&&x.datamodule&&x.filtername){var K=h.getAttribute(commfields.instance);if(K){g=LEAP.getLoadedModule(K);if(!g||!g.data){return;}}var z=g.data[x.parentfield];
var G=new SearchParameters();G.setName(x.datamodule);G.addParameter(x.filtername,z,11);if(x.order){G.setOrder(x.order);}if(x.search_fields!=null){var u=x.search_fields.length;for(var F=0;F<u;F++){var y=x.search_fields[F];if(!String.isEmpty(y)){y=y.trim();G.addField(y);}}}var o=x.searchpar;if(!String.isEmpty(o)){G.extendQuery=o;
}var C=h.getAttribute("desfields");if(!String.isEmpty(C)){try{var I=JSON.parse(C);G.setDesFields(I);}catch(J){}}var A=h.getAttribute("st");if(A!=null){var B="buildSearchQuery_"+A;var r=g[B];if(r!=null){try{r.call(g,G);}catch(J){}}}var R=h.getAttribute("service_search");if(R==null){R="DynaSearch";}if(R.toLowerCase().startWith("lwfp")){G=[G];
}if(A!=null){var B="onGetSearchParameter_"+A;var r=g[B];if(r!=null){try{var P=r.call(g,G);if(P!=null){G=P;}}catch(J){}}}h.removeAttribute("page_num");h.removeAttribute("page_count");var O=h.getAttribute("btnpart");if(!String.isEmpty(O)){var g=LEAP.getLoadedModule(h.getAttribute(commfields.instance));
if(g!=null){O=g.getST(O);if(O){var q=LEAP.getElement("LABEL:first",O);if(q){q.innerHTML="...";}}}}var N=h.getAttribute("hasmask");if(N==null){h.setAttribute("hasmask","1");var n=null;n=document.createElement("tr");var m=h.getAttribute("_cellcount");if(m==null){var D=h.cells.length;for(var F=0;F<D;
F++){var M=h.cells[F];m+=M.colSpan;}}var p=document.createElement("td");p.colSpan=m;n.setAttribute("iswaitrow","1");n.appendChild(p);p.style.textAlign="center";p.innerHTML='<img src="'+leapconfig.server+'LEAP/Resource/images/info/p.gif" style="width:50px;height:16px;">&nbsp&nbsp...';if(h.rowIndex==h.parentNode.rows.length-1){h.parentNode.appendChild(n);
}else{h.parentNode.insertBefore(n,h.parentNode.rows[h.parentNode.rows.length-1]);}var j="TR[ctid="+LEAP.ctid(n)+"]:first";h.setAttribute("maskfind",j);}else{var d=LEAP.getElement(h.getAttribute("maskfind"),h.parentNode);d.style.display="block";var Q=LEAP.getElement("img:first",d);Q.src="";Q.src=leapconfig.server+"LEAP/Resource/images/info/p.gif";
}var H=h.getAttribute("_lsn");if(H==null){H=0;}H=H+1;h.setAttribute("_lsn",H);if(x.useSplitPage){if(L!=null){G.pageNum=L;}if(x.pageSize!=null){G.pageSize=x.pageSize*1;}if(G.pageNum==null||G.pageNum<1){G.pageNum=1;}if(G.pageSize==null||G.pageSize<1){G.pageSize=6;}}var w=g.request2({name:R,par:{par:G},callback:LEAP.linkmodule2.beginBindData,arg:{ctid:LEAP.ctid(h),sn:H}});
}}finally{n=g=h=null;}};LEAP.linkmodule2.setValue=function(j,l,g,h){if(l==null){LEAP.linkmodule2.clear(j);}var m=LEAP.ctid(j);var n=j.getAttribute("_lsn");if(n==null){n=0;}n=n+1;j.setAttribute("_lsn",n);var d={ctid:LEAP.ctid(j),sn:n};LEAP.linkmodule2.beginBindData(l,d,g,h);};LEAP.linkmodule2.beginBindData=function(y,x,q,j){var p=x.ctid;
var h=x.sn;var m=LEAP.getElement("[ctid="+p+"]");var g=null;try{if(h==m.getAttribute("_lsn")){if(y!=null){m.setAttribute("page_num",y.pageNum);m.setAttribute("page_count",y.pageCount);}else{m.removeAttribute("page_num");m.removeAttribute("page_count");}var o=m.getAttribute("btnpart");if(!String.isEmpty(o)){g=LEAP.getLoadedModule(m.getAttribute(commfields.instance));
if(g!=null){o=g.getST(o);if(o){var u=LEAP.getElement("LABEL:first",o);if(u){if(y==null){var w=LEAP.table.getPageText(m).replace("@pageNum",0).replace("@endNum",0).replace("@beginNum",0).replace("@pageCount",0).replace("@size",0).replace("@count",0).replaceall("@pageSize",0);u.innerHTML=w;}else{var w=LEAP.table.getPageText(m).replace("@pageNum",y.pageNum).replace("@endNum",y.endNum).replace("@beginNum",y.beginNum).replace("@pageCount",y.pageCount).replace("@pageSize",y.size).replace("@count",y.count);
u.innerHTML=w;}}}}}var r=LEAP.getElement(m.getAttribute("maskfind"),m.parentNode);if(r){r.style.display="none";}if(y!=null){var n=LEAP.convertResult(y);if(q==null){q=false;}for(var l=0;l<n.length;l++){LEAP.linkmodule2.addRow(m,null,n[l],q,j);}}}}finally{m.data=LEAP.convertResult(y);var d=m.getAttribute("completefn");
if(d&&g){g[d](LEAP.convertResult(y));}}};LEAP.linkmodule2.addRow=function(p,u,o,g,m){var h=LEAP.linkmodule2.getdef(p);if(h!=null){var x=p.getAttribute(commfields.instance);var j=LEAP.getLoadedModule(x);var y=j.getElement(h.resultfind);var A=y;var w=0;var r=false;while(true){var d=A.getAttribute("___isbinddatarow");
if(!r&&d!=null&&d=="1"){if(LEAP.linkmodule2._nextRow(A)!=null){A=LEAP.linkmodule2._nextRow(A);}else{r=true;}w++;continue;}else{if(r){var z=document.createElement("TR");for(var n=0;n<A.cells.length;n++){var l=document.createElement("TD");l.setAttribute("rowspan",A.cells[n].getAttribute("rowspan"));l.setAttribute("colspan",A.cells[n].getAttribute("colspan"));
l.className=A.cells[n].className;z.appendChild(l);}A.parentNode.appendChild(z);LEAP.linkmodule2.bindDataToRow(o,u,z,h,true,g,p,m);break;}else{if(w<h.skiprow){LEAP.linkmodule2.bindDataToRow(o,u,A,h,false,g,p,m);A.setAttribute("isinrange","1");break;}else{if(A.tagName=="TR"){var z=document.createElement("TR");
var q=A.previousSibling;if(q==null||q.tagName!="TR"){q=A;}for(var n=0;n<q.cells.length;n++){var l=document.createElement("TD");l.setAttribute("rowspan",q.cells[n].getAttribute("rowspan"));l.setAttribute("colspan",q.cells[n].getAttribute("colspan"));l.className=q.cells[n].className;z.appendChild(l);}q.parentNode.insertBefore(z,A);
LEAP.linkmodule2.bindDataToRow(o,u,z,h,true,g,p,m);break;}else{var z=document.createElement("TR");var q=A.previousSibling;if(q==null||q.tagName!="TR"){q=A;}for(var n=0;n<q.cells.length;n++){var l=document.createElement("TD");l.setAttribute("rowspan",q.cells[n].getAttribute("rowspan"));l.setAttribute("colspan",q.cells[n].getAttribute("colspan"));
z.appendChild(l);}A.previousSibling.parentNode.appendChild(z);LEAP.linkmodule2.bindDataToRow(o,u,z,h,true,g,p,m);break;}}}}}}p=o=null;};LEAP.linkmodule2.getValue=function(g){if(g==null){return null;}g=LEAP._check(g,LEAP.linkmodule2.d);if(g==null){return;}var u=g.getAttribute("ctid");if(u==null){return null;
}var I=g.getAttribute(commfields.instance);var d=LEAP.getLoadedModule(I);if(d==null){return null;}var w=LEAP.linkmodule2.getdef(g);var J=d.getElements("TR[elementctid="+u+"]");if(J!=null){var N={change:[],create:[],del:[],result:[]};var D=J.length;var o=g.data;var K=0;if(o!=null){K=o.length;}var L=new Array();
for(var H=0;H<D;H++){var h=J[H];var p=h.getAttribute("isRealNew");var y=false;if(h.data!=null){if(d.pageMode=="insert"&&h.data[w.parentfield]){}if(d.moduleVersion>1){var m=h.data;m.beanname=w.datamodule;m.parentField=w.filtername;var A=h.getAttribute("___islinknewrow");if(A!=null&&A=="1"&&p&&p=="1"){A="1";
var r=LEAP.converObject(m);var z=r[w.parentfield];if(z!=null){for(var G=0;G<K;G++){var x=o[G];if(x[w.parentfield]==z){A=null;break;}}}A="1";}else{A=null;}if(A!=null&&A=="1"){m.beanname=w.datamodule;m.parentField=w.filtername;N.create.add(m);y=true;var r=LEAP.converObject(m);var z=r[w.parentfield];if(z!=null){for(var G=0;
G<K;G++){var x=o[G];if(x[w.parentfield]==z){L.add(r[w.parentfield]);break;}}}}else{if(o!=null){var r=LEAP.converObject(m);var z=r[w.parentfield];if(z==null){m.name=w.datamodule;m.parentField=w.filtername;N.create.add(m);y=true;}else{var n=false;var M=false;for(var G=0;G<K;G++){var x=o[G];if(x[w.parentfield]==z){n=true;
var C=false;for(var F in x){if(F=="javaClass"||F=="parentField"||F=="beanname"||F=="name"){continue;}if(x[F]!=r[F]){M=true;C=true;break;}}if(C){break;}}}if(n){L.add(r[w.parentfield]);if(M){if(M){m.beanname=w.datamodule;m.parentField=w.filtername;N.change.add(m);y=true;}}}else{if(!n){m.beanname=w.datamodule;
m.parentField=w.filtername;N.create.add(m);y=true;}}}}}if(!y){N.result.add(m);}}else{var m=LEAP.convertDataResult(h.data);m.name=w.datamodule;m.parentField=w.filtername;var A=h.getAttribute("___islinknewrow");if(A!=null&&A=="1"&&p&&p=="1"){A="1";var r=LEAP.converObject(m);var z=r[w.parentfield];if(z!=null){for(var G=0;
G<K;G++){var x=o[G];if(x[w.parentfield]==z){A=null;break;}}}}else{A=null;}if(A!=null&&A=="1"){m.name=w.datamodule;m.parentField=w.filtername;N.create.add(m);y=true;var r=LEAP.converObject(m);var z=r[w.parentfield];if(z!=null){for(var G=0;G<K;G++){var x=o[G];if(x[w.parentfield]==z){L.add(r[w.parentfield]);
break;}}}}else{if(o!=null){var r=LEAP.converObject(m);var z=r[w.parentfield];if(z==null){m.name=w.datamodule;m.parentField=w.filtername;N.create.add(m);y=true;}else{var n=false;var M=false;for(var G=0;G<K;G++){var x=o[G];if(x[w.parentfield]==z){n=true;var C=false;for(var F in x){if(F=="javaClass"||F=="parentField"||F=="beanname"||F=="name"){continue;
}if(x[F]!=r[F]){M=true;C=true;break;}}if(C){break;}}}if(n){L.add(r[w.parentfield]);if(M){if(M){m.name=w.datamodule;m.parentField=w.filtername;N.change.add(m);y=true;}}}else{if(!n){m.name=w.datamodule;m.parentField=w.filtername;N.create.add(m);y=true;}}}}}if(!y){N.result.add(m);}}h=null;}}if(o!=null){for(var H=0;
H<K;H++){var h=o[H];h.parentField=w.filtername;var r=LEAP.converObject(h);var q=r[w.parentfield];if(q!=null){if(!L.contains(r[w.parentfield])){if(d.moduleVersion>1){h.beanname=w.datamodule;N.del.add(h);}else{var B=LEAP.convertDataResult(h);B.name=w.datamodule;B.parentField=w.filtername;N.del.add(B);}}}}}if(N.create.length>0||N.result.length>0||N.change.length>0){if(w.initvalue!=null){if(N.create.length>0){for(var H=0;
H<N.create.length;H++){for(var O in w.initvalue){N.create[H][O]=w.initvalue[O];}}}if(N.result.length>0){for(var H=0;H<N.result.length;H++){for(var O in w.initvalue){N.result[H][O]=w.initvalue[O];}}}if(N.change.length>0){for(var H=0;H<N.change.length;H++){for(var O in w.initvalue){N.change[H][O]=w.initvalue[O];
}}}}return N;}else{return null;}}};LEAP.linkmodule2.processExp=function(data,header,cell){if(header!=null&&!String.isEmpty(header.colorexp)){cell.style.color="black";var exp=header.colorexp;var ts=exp.split(";");var l=ts.length;for(var i=0;i<l;i++){var ce=ts[i];var ces=ce.split(":");ce="(data."+ces[0]+")";
var color=null;if(ces.length>1){color=ces[1];}else{continue;}var ret=false;try{ret=eval(ce);}catch(e){}if(ret==true){cell.style.color=color;break;}}}if(header!=null&&!String.isEmpty(header.imgexp)){var exp=header.imgexp;var ts=exp.split(";");var l=ts.length;for(var i=0;i<l;i++){var ce=ts[i];var ces=ce.split(":");
ce="(data."+ces[0]+")";var img=null;if(ces.length>1){img=ces[1];if(!img.toLowerCase().startWith("http://")){img=leapconfig.server+img;}}else{continue;}var ret=false;try{ret=eval(ce);}catch(e){}if(ret==true){cell.innerHTML="<img src="+img+' style="width:18px;height:18px;">'+cell.innerHTML;break;}}}header=cell=null;
};LEAP.linkmodule2.bindDataToRow=function(ab,M,x,A,g,ac,w,J){x.setAttribute("linmodule2_row","1");x.setAttribute("___isbinddatarow","1");x.setAttribute("elementctid",A.ctid);var Z=true;var y="auto";var ad=w.getAttribute("hideoverflow");if(ad!=null&&ad=="0"){x.style.height="auto";}else{Z=false;if(ad>1){y=x.style.height=ad+"px";
}else{x.style.height="24px";}x.style.overflow="hidden";}if(J==null){J=true;}if(!J){x.removeAttribute("isRealNew");}else{x.setAttribute("isRealNew","1");}if(x.style.height!="auto"){x.style.minHeight=x.clientHeight+"px";}if(ac!=null){if(ac==true){x.setAttribute("___islinknewrow","1");}else{x.removeAttribute("___islinknewrow");
}}x.data=ab;x.parameter=M;var q=w.getAttribute("showtpo");var B=x.cells;var S=B.length;var O=0;for(var V=0;V<S;V++){var m=A.headers[V];var z=m.md;var h=m.code;var G=B[V];G.style.width="auto";G.style.height=y;try{G.removeAttribute("md");if(g&&m.isskip&&m.rowspan>0&&m.find!=null){var n=LEAP.getElement(m.find,x.parentNode);
var H=n.getAttribute("rowSpan");H=H*1;if(H>1){n.setAttribute("rowSpan",(H+1)+"");}n=null;}if(String.isEmpty(z)&&m.tpos==null){continue;}O++;var p=m.tpos;if(O==1){if(p==null&&q!="0"){p=LEAP.linkmodule2.dtpos;}}var I=null;if(p!=null){if(O==1){G.style.textDecoration="underline";G.style.cursor="pointer";
G.style.color="blue";G.setAttribute(commfields.ctf,LEAP.linkmodule2.d+"_tpo");G.tpos=p;var r=G.getAttribute("elementctid");if(r==null){var W=w.getAttribute("ctid");if(W==null){W=UUID.cID();w.setAttribute("ctid",W);}r=W;G.setAttribute("elementctid",r);}}else{G.style.textDecoration="";G.style.cursor="pointer";
G.style.color="blue";var d=p.length;var L=new StringBuffer();for(var T=0;T<d;T++){var R=p[T];var F=R.text;var D=R.issys;if(D==null){D=0;}var K=R.flag;L.append('<A style="color:blue;height:14px;width:auto;margin-left:5px;font-size:12px" href="javascript:void(0)" ctf="linkmodule2_tpo2" flag="').append(K);
L.append('" issys="').append(D);L.append('" elementFind="').append("[ctid="+LEAP.ctid(w)+"]");L.append('">').append(F).append("</A>");}G.innerHTML=L.toString("");continue;}}else{G.style.textDecoration="";G.style.cursor="";G.style.color="";G.removeAttribute(commfields.ctf);G.tpos=null;G.removeAttribute("tpos");
}G.style.fontSize="12px";G.style.paddingLeft="5px";G.setAttribute("md",z);var X=m.router;var N=ab[z];var C=null;var o=null;o=N;C=ab[commfields.rsccv+z];if(o!=null){o=o+"";}if(C!=null){C=C+"";}if(N!=null){N=N+"";}if(C!=null){N=C;}else{if(h!=null&&N!=null){var Q=LEAP.getCodeText(h,N,null,X);if(Q==null){var u=N.split(",");
Q="";for(var U=0;U<u.length;U++){var Y=u[U];if(Y!=null&&Y.Trim()!=""){var P=LEAP.getCodeText(h,Y,null,X);if(P!=null&&P.Trim()!=""){if(Q!=""){Q+=",";}Q+=P;}}}}N=Q;}if(N==null){N=o;}}if(!String.isEmpty(N)&&m!=null&&m.bt!=null&&!String.isEmpty(m.bt)){if(m.bt=="date"){var aa=N.indexOf(" ");if(aa>-1){N=N.substring(0,aa);
}}else{if(m.bt=="datetime"){var aa=N.lastIndexOf(".");if(aa>-1){N=N.substring(0,aa);}}else{if(m.bt=="date_mon"){var aa=N.lastIndexOf("-");if(aa>-1){N=N.substring(0,aa);}}}}}if(N==null||N==""||N.Trim()==""){N="&nbsp";}if(N!="&nbsp"){if(N.length>=100){N=N.substring(0,100)+"...";I=N;}if(I==null){G.setAttribute("title",N);
}else{G.setAttribute("title",I);}}else{G.removeAttribute("title");}G.innerHTML=N;}finally{LEAP.linkmodule2.processExp(ab,m,G);G=null;}}};LEAP.linkmodule2.outerSubmit=function(d,l,m,h){if(h!=null&&h==2&&d.pageMode=="insert"){var j=null;if(d.moduleVersion<2){j=LEAP.converObject(m);}else{j=m;}LEAP.linkmodule2.addRow(d.___linkct,m,j,true);
}if(d.pageMode=="modify"){var g=this.___linkrow.getAttribute("isRealNew");if(g==null){g=false;}else{if(g==1){g=true;}}LEAP.linkmodule2.bindDataToRow(this.getPageData().data,null,this.___linkrow,LEAP.linkmodule2.getdef(this.___linkct),false,null,this.___linkct,g);}};LEAP.linkmodule2.sysBeforeSubmit=function(m,o){var l=this.___linkct;
var n=LEAP.linkmodule2.getdef(l);var j=null;if(n){if((this.pageMode=="insert"&&(this.submitMode==null||this.submitMode==1))||(this.pageMode=="insert"&&this.submitMode==2&&n.tsubmit=="1")){var d=l.getAttribute(commfields.instance);if(d!=null){j=LEAP.getLoadedModule(d);}if(j&&j.data&&j.data[n.parentfield]){var h=n.filtername;
var g=j.data[n.parentfield];m.parentField=h;if(j.moduleVersion>1){if(m.javaClass&&m.javaClass=="com.longrise.LEAP.Base.Objects.DataResult"){m.add(h,g);}else{m[h]=g;}}else{m.add(h,g);}}j=null;}}j=l=m=o=null;};LEAP.linkmodule2.sysSubmitSucess=function(d){var m=LEAP.linkmodule2.getdef(this.___linkct);if(this.pageMode=="insert"&&(this.submitMode==null||this.submitMode==1)){if(d){if(d[m.parentfield]){LEAP.linkmodule2.addRow(this.___linkct,null,d,false);
}else{var l=this.getPageData().data;l[m.parentfield]=d;LEAP.linkmodule2.addRow(this.___linkct,null,l,false);}}}if(this.pageMode=="modify"){var j=this.___linkrow.getAttribute("isRealNew");if(j==null){j=false;}else{if(j==1){j=true;}}if(d==true){LEAP.linkmodule2.bindDataToRow(this.getPageData().data,null,this.___linkrow,LEAP.linkmodule2.getdef(this.___linkct),false,null,this.___linkct,j);
}else{if(d[m.parentfield]){LEAP.linkmodule2.bindDataToRow(d,null,this.___linkrow,LEAP.linkmodule2.getdef(this.___linkct),false,null,this.___linkct,j);}}}if(m.callback){var h=m.callback;var g=LEAP.getLoadedModule(this.___linkct.getAttribute(commfields.instance));if(g!=null){g[h].apply(g);}}};LEAP.linkmodule2.timeoutCallBack=function(h){if(!h){return;
}var l=h.element;var g=h.result;var d=h.isNew;var j=h.isRealNew;LEAP.linkmodule2.refresh(l);};LEAP.linkmodule2.requestCallBack=function(g,d){};LEAP.linkmodule2.tSubmitFn=function(m,d){try{var z=null;var x=null;var w=null;if(d){var g=d.length;for(var o=0;o<g;o++){var q=d[o].getAttribute("tsubmit");if(q!="1"){continue;
}var n=LEAP.linkmodule2.getValue(d[o]);if(n!=null&&n.create!=null&&n.create.length>0){if(z==null){z=[];}for(var h=0;h<n.create.length;h++){z.add(n.create[h]);}}if(n!=null&&n.del!=null&&n.del.length>0){if(w==null){w=[];}for(var h=0;h<n.del.length;h++){w.add(n.del[h]);}}if(n!=null&&n.change!=null&&n.change.length>0){if(x==null){x=[];
}for(var h=0;h<n.change.length;h++){x.add(n.change[h]);}}}if((w==null||w.length==0)){if(m.tsummitdel&&m.tsummitdel.length>0){w=m.tsummitdel;}}if((z==null||z.length==0)&&(x==null||x.length==0)&&(w==null||w.length==0)){return -2;}var u="beanCreate";var r="beanModify";if(z&&z.length>0){for(var o=0;o<z.length;
o++){var y=m.request(u,{p:z[o],c:null});}}if(x&&x.length>0){for(var o=0;o<x.length;o++){var y=m.request(r,{p:x[o]});}}if(w&&w.length>0){for(var o=0;o<w.length;o++){if(m.beanDelete(w[o])==true){}}}return true;}}catch(p){LEAP.messagebox.alert(p.message,3);return -2;}};LEAP.linksearch={};LEAP.linksearch.d="linksearch";
LEAP.linksearch.preModule=null;LEAP.linksearch._init=function(){LEAP.addEvent(document.body,"click",LEAP.linksearch.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.linksearch._init);};LEAP.linksearch.init=function(){if(document!=null&&document.body!=null){LEAP.linksearch._init();
}else{UIEventManager.addEvent(window,"load",LEAP.linksearch._init);}}();LEAP.linksearch.uiProcess=function(m){var A=null;var o=null;var x=null;var h=null;if(m!=null&&m.e!=null&&m.e.type!=null){h=m.e.type;}if(h!=null){o=m.e.srcElement;A=m.e;if(LEAP.isIE){x=A.keyCode;}else{x=A.which;}}else{A=m;o=m.target;
x=A.which;}if(o==null||o.getAttribute==null){return;}var j=o.getAttribute(commfields.ct);if(j==null||j!=LEAP.linksearch.d){return;}try{var r=o.getAttribute("linkmd");var z=o.getAttribute("linkmodule");if(r&&z){var B=o.getAttribute(commfields.instance);if(B==null){return;}var d=LEAP.getLoadedModule(B);
if(d){var p=o.getAttribute("linkmoduletype");var q=o.getAttribute("linkmoduleheight");var n=o.getAttribute("linkmodulewidth");if(p==null){p="view";}var w=null;if(d.data){w=d.data[r];}if(w){if(LEAP.linksearch.preModule&&LEAP.linksearch.preModule.dispose){LEAP.linksearch.preModule.dispose();}var u={name:z,title:"",autodispose:true,moduleLoadArg:null,pageMode:"search",height:q,width:n,moduleLoadArg:{refreshonpageload:false}};
var l=null;if(p=="simpleview"){l=LEAP.linksearch.preModule=d.loadSimpleModule(u);}else{try{var g=d.loadForm3(u);l=g.module;}finally{u=null;}}if(l){var y=l.md(r);if(y&&y.element.tagName!="TH"){y.setValue(w);}else{l.buildSearchQueryStep3=function(C){C.addParameter(r,w,11);};if(l.buildSearchQuery){l.buildSearchQueryStep2=l.buildSearchQuery;
l.buildSearchQuery=function(C){l.buildSearchQueryStep3(C);return l.buildSearchQueryStep2(C);};}else{l.buildSearchQuery=l.buildSearchQueryStep3;}}l.innerSearch();}}else{LEAP.messagebox.alert(",",2);}}}}finally{o=m=null;}};LEAP.listattach={};LEAP.listattach.d="listattach";LEAP.listattach.flag=false;
LEAP.listattach.init=function(){if(document!=null&&document.body!=null){LEAP.partIndex._init();}else{UIEventManager.addEvent(window,"load",LEAP.listattach._init);}ElementEventManager.addManagedEventType(LEAP.listattach.d,"click");};LEAP.listattach.initbtn=function(l,m){if(!m){if(!event){return;}m=event.srcElement;
}if(!m){return;}if(l!=null){var h=function(){LEAP.listattach.initbtn(null,m);m=null;};setTimeout(h,l);return;}var g=m.parentElement;if(g!=null){LEAP.addCSS(g,"listannexmain",false);var j=LEAP.getElement("[ct=uploadbtn]",g);var d=g.getAttribute("btntype");if(d=="false"){j.style.display="none";}else{LEAP.addEvent(j,"uploadBtnComplete",LEAP.listattach.uploadComplete);
}LEAP.listattach.flag=true;}};LEAP.listattach._init=function(){UIEventManager.removeEvent(window,"load",LEAP.listattach._init);LEAP.addEvent(document.body,"click",LEAP.listattach.uiProcess,null,null,true);};LEAP.listattach.__addManagedEventType=function(d){ElementEventManager.addManagedEventType(LEAP.listattach.d,d);
};LEAP.listattach.uiProcess=function(r){if(r==null){return;}var d=r.e.srcElement;if(d==null){return;}var n=r.e.type;if(n==null){return;}var u=d.tagName;if(u==null){return;}try{var o=d.getAttribute(commfields.ctf);var h=null;if(o=="listattach_del"){if(window.confirm("?")){h=LEAP._match(d,LEAP.listattach.d);
var q=LEAP.getElement(">table:first",h);var m=LEAP.getElements("[ctf=listattach_row]",h);var l=d.getAttribute("index");q.removeChild(m[parseInt(l)]);var p=h.value;var j=JSON.parse(p);j.removeindex(parseInt(l));h.value=JSON.stringify(j);var g=h.value;LEAP.listattach.clear(h);LEAP.listattach.flag=true;
LEAP.listattach.setValue(h,g);}}}finally{}};LEAP.listattach.clear=function(h){if(h==null){return;}if(typeof(h)=="string"){h=LEAP.getElement(h);}if(h==null){return;}var j=LEAP.getElement(">table:first",h);var d=LEAP.getElements("[ctf=listattach_row]",h);if(d!=null){for(var g=0;g<d.length;g++){j.removeChild(d[g]);
}}};LEAP.listattach.setValue=function(h,B){if(h==null){return;}if(typeof(h)=="string"){h=LEAP.getElement(h);}if(h==null){return;}if(LEAP.listattach.flag==false){LEAP.asyn(LEAP.listattach.setValue,null,100,h,B);if(B!=null){LEAP.listattach.flag=true;}return;}LEAP.listattach.clear(h);var o=h.getAttribute("ct");
if(o=="listattach"){var q=B;var G=null;if(B!=null&&B!=""){G=JSON.parse(q);h.value=q;}else{h.value="";}if(G!=null){var C=G.length;var F=LEAP.getElement(">table:first",h);for(var D=0;D<C;D++){var z=G[D];var u=z.showName;var y=null;if(z.userName!=null&&z.userName!=""){y=z.userName;}else{y=z.creator;}var w=z.time;
if(typeof w=="number"){w=LEAP.formatdate(w,"yyyy-MM-dd hh:mm:ss");}var p=LEAP.upload.getShowPath(z);var d=document.createElement("tr");d.setAttribute("ctf","listattach_row");var x=document.createElement("td");x.innerHTML=(D+1);d.appendChild(x);var n=document.createElement("td");n.innerHTML=u;d.appendChild(n);
var m=document.createElement("td");m.innerHTML=y;d.appendChild(m);var j=document.createElement("td");j.innerHTML=w;d.appendChild(j);var g=document.createElement("td");var H=document.createElement("a");H.href=p;H.target="_blank";H.innerHTML="";g.appendChild(H);var A=h.getAttribute("btntype");var r=h.getAttribute("btnuser");
if(A=="true"){if(r=="0"){var J=document.createElement("a");J.href="javascript:";J.setAttribute("ctf","listattach_del");J.style.marginLeft="10px";J.innerHTML="";J.setAttribute("index",D);g.appendChild(J);}else{var I=null;if(LEAP.userInfo.userflag!=null&&LEAP.userInfo.userflag!=""){I=LEAP.userInfo.userflag;
}else{if(LEAP.userInfo.fullName!=null&&LEAP.userInfo.fullName!=""){I=LEAP.userInfo.fullName;}}if(I==y){var J=document.createElement("a");J.href="javascript:";J.setAttribute("ctf","listattach_del");J.style.marginLeft="10px";J.innerHTML="";J.setAttribute("index",D);g.appendChild(J);}}}d.appendChild(g);
F.appendChild(d);}}LEAP.listattach.flag=false;}};LEAP.listattach.getValue=function(d){if(d==null){return;}if(typeof(d)=="string"){d=LEAP.getElement(d);}if(d==null){return;}var g=d.value;return g;};LEAP.listattach.uploadComplete=function(o){var g=LEAP.getElement("[ct=listattach]");var A=LEAP.getElement(">table:first",g);
var y=g.value;var B=null;var w=o.arg2.result;var z=1;if(y!=null&&y!=""){var B=JSON.parse(y);if(B!=null){B[B.length]=w;}z=B.length;}else{B=[];B[0]=w;}var p=w.showName;var u=null;if(w.userName!=null&&w.userName!=""){u=w.userName;}else{u=w.creator;}var q=LEAP.formatdate(w.time,"yyyy-MM-dd hh:mm:ss");var n=LEAP.upload.getShowPath(w);
var d=document.createElement("tr");d.setAttribute("ctf","listattach_row");var r=document.createElement("td");r.innerHTML=z;d.appendChild(r);var m=document.createElement("td");m.innerHTML=p;d.appendChild(m);var l=document.createElement("td");l.innerHTML=u;d.appendChild(l);var j=document.createElement("td");
j.innerHTML=q;d.appendChild(j);var h=document.createElement("td");var C=document.createElement("a");C.href=n;C.target="_blank";C.innerHTML="";h.appendChild(C);var x=g.getAttribute("btntype");if(x=="true"){var D=document.createElement("a");D.href="javascript:";D.setAttribute("ctf","listattach_del");
D.style.marginLeft="10px";D.innerHTML="";D.setAttribute("index",z-1);h.appendChild(D);}d.appendChild(h);A.appendChild(d);g.value=JSON.stringify(B);};LEAP.listattach.init();LEAP.messagebox={};LEAP.messagebox.tempStr='<div class="msg_box" ctf="message_box" ><h2 class="msg_tit" ctf="message_title" style="display:none"><img src="" alt="" ctf="message_tipicon"><span ctf="message_tiptitle"></span></h2><a href="javascript:;" class="msg_box_close" ctf="message_close"></a><div class="msg_con" ctf="message_icon"><p class="msg_con_img"><img src="'+leapconfig.server+'LEAP/Resource/images/itemstyle/messagebox/msg_tip.png" ctf="message_img" alt=""></p><p class="msg_con_txt" ctf="message_txt"></p><p class="msg_btn" ctf="message_btn" style="display:none"><a class="msg_btn_item msg_btn_large" href="javascript:;" ctf="message_confirm"></a></p></div></div>';
LEAP.messagebox.tipStr='<h2 class="msg_tit"><img src="" alt="" ctf="message_tip_icon"><span ctf="message_titletip"></span></h2><a href="javascript:;" class="msg_box_close" ctf="message_tip_close"></a><div class="msg_con"><div class="msg_inner" ctf="message_tip_content"></div></div>';LEAP.messagebox.div=null;
LEAP.messagebox.t=null;LEAP.messagebox.lm=null;LEAP.messagebox.titlecolor=null;LEAP.messagebox.fontcolor=null;LEAP.messagebox.bgcolor=null;LEAP.messagebox.runtime=null;LEAP.messagebox.showicon=null;LEAP.messagebox.timeinterval=150;LEAP.messagebox.ts=null;LEAP.messagebox.init=function(){if(document!=null&&document.body!=null){LEAP.messagebox._init();
}else{UIEventManager.addEvent(window,"load",LEAP.messagebox._init);}};LEAP.messagebox._init=function(){UIEventManager.removeEvent(window,"load",LEAP.messagebox._init);var d=document.createElement("div");document.body.appendChild(d);d.style.display="none";d.className="leap_floatmsg";d.innerHTML=LEAP.messagebox.tempStr;
LEAP.addEvent(d,"mouseover",LEAP.messagebox.uiProcess,null,null,true);LEAP.addEvent(d,"mouseleave",LEAP.messagebox.uiProcess,null,null,true);LEAP.addEvent(d,"click",LEAP.messagebox.uiProcess,null,null,true);LEAP.messagebox.div=d;d=null;};LEAP.messagebox.uiProcess=function(g){var n=g.e.srcElement;var h=g.e.type;
var d=n.tagName;var l=LEAP.messagebox.lm;if(n.className&&n.className=="leap_floatmsg"){if(l&&l.tipstyle==1){if(h=="mouseover"){window.clearInterval(LEAP.messagebox.t);LEAP.messagebox.div.style.right="15px";LEAP.messagebox.div.style.opacity=100;LEAP.messagebox.div.style.filter="Alpha(Opacity=100)";}else{if(h=="mouseleave"){LEAP.messagebox.alert(l.msg,l.type,l.title,l.tipstyle);
}}}}else{if(h=="click"){var m=n.getAttribute("ctf");if(m=="message_close"||m=="message_confirm"){LEAP.setStyle(LEAP.messagebox.div,{display:"none"});LEAP.messagebox.lm=null;LEAP.messagebox.showMask(false);}else{if(m=="message_tip_close"){var j=LEAP._match(n,"message_tip_container","ctf",10);if(j){document.body.removeChild(j);
}LEAP.messagebox.showMask(false);}}}}};LEAP.messagebox.setStyle=function(g,l,d,j,h){LEAP.messagebox.titlecolor=g;LEAP.messagebox.fontcolor=l;LEAP.messagebox.bgcolor=d;LEAP.messagebox.runtime=j;LEAP.messagebox.showicon=h;};LEAP.messagebox.alert=function(o,n,J,A){if(o==null){o="null";}if(arguments!=null){if(arguments.length==1){}else{if(arguments.length==2){}else{if(arguments.length==3){}else{if(arguments.length==4&&A==2){LEAP.messagebox.viewalert(o,J);
return;}}}}}if(LEAP.messagebox.t!=null){window.clearInterval(LEAP.messagebox.t);LEAP.messagebox.t=null;}LEAP.messagebox.tc=0;if(n==null){n=1;}if(A==null){A=1;}var j=LEAP.messagebox.div;j.setAttribute("style",null);LEAP.setStyle(j,{display:"none"});var G=LEAP.getElement("[ctf=message_txt]",j);if(G==null){return;
}var y=LEAP.getElement("[ctf=message_box]",j);if(y==null){return;}var C=LEAP.getElement("[ctf=message_title]",j);var H=LEAP.getElement("[ctf=message_btn]",j);if(n==4){console.error(o);o="";}if(A==1){o=o.replaceall("\n","<br>").replaceall(" ","&nbsp");var B=null;if(J!=null){if(n==3){B='<span class="msg_box_small_tit msg_color_red" ctf="message_txt_title">'+J+"</span>"+o;
}else{B='<span class="msg_box_small_tit"  ctf="message_txt_title">'+J+"</span>"+o;}}else{B=o;}G.innerHTML=B;G.className="msg_con_txt1";G.setAttribute("title",o);y.className="msg_box msg_box_small";LEAP.setStyle(j,{right:"15px",filter:"Alpha(Opacity=100)",opacity:1,display:"block",top:"auto",left:"auto"});
var I=LEAP.getElement("[ctf=message_txt]",j);if(I!=null){if(LEAP.messagebox.fontcolor!=null){LEAP.setStyle(I,{color:LEAP.messagebox.fontcolor});}}var z=LEAP.getElement("[ctf=message_txt_title]",j);if(z!=null){if(LEAP.messagebox.titlecolor!=null){LEAP.setStyle(z,{color:LEAP.messagebox.titlecolor});}}if(LEAP.messagebox.bgcolor){LEAP.setStyle(j,{background:LEAP.messagebox.bgcolor});
var D=LEAP.getElement("[ctf=message_box]",j);if(D!=null){LEAP.setStyle(D,{background:LEAP.messagebox.bgcolor});}}if(LEAP.messagebox.showicon){var p=LEAP.getElement("[ctf=message_img]",j);if(p!=null){if(LEAP.messagebox.showicon==false){p.style.display="none";}}}LEAP.setStyle(C,{display:"none"});LEAP.setStyle(H,{display:"none"});
LEAP.messagebox.t=setInterval(LEAP.messagebox._m1,LEAP.messagebox.timeinterval);}else{if(A==2){var d="msg_box msg_open msg_tit_blue";var q="msg_icon_blue.png";if(n>1){d="msg_box msg_open msg_tit_red";q="msg_icon_red.png";}y.className=d;var g=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/"+q;
var r=LEAP.getElement("[ctf=message_tipicon]",C);r.src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/msg_icon_blue.png";if(J==null){J="";}var x=LEAP.getElement("[ctf=message_tiptitle]",C);x.innerHTML=J;o=o.replaceall("\n","<br>").replaceall(" ","&nbsp");G.innerHTML=o;G.className="msg_con_txt";
G.setAttribute("title",o);LEAP.setStyle(C,{display:"block"});LEAP.setStyle(H,{display:"block"});LEAP.messagebox.showMask(true);LEAP.setStyle(j,{display:"block"});var u=(document.documentElement.clientWidth-400)/2;var F=(document.documentElement.clientHeight-260)/2;LEAP.setStyle(j,{top:F+"px",left:u+"px",opacity:1,filter:"Alpha(Opacity=100)"});
}}LEAP.messagebox.lm={msg:o,title:J,type:n,tipstyle:A};var l=LEAP.getElement("[ctf=message_img]",j);if(n==2){l.src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/msg_warn.png";}else{if(n==3){l.src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/msg_error.png";}else{if(n==4){l.src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/msg_error.png";
}else{l.src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/msg_tip.png";}}}};LEAP.messagebox.tip=function(m,p,d,x){var r=document.createElement("div");r.className="msg_box large";r.innerHTML=LEAP.messagebox.tipStr;r.setAttribute("ctf","message_tip_container");var j=LEAP.getElement("[ctf=message_tip_icon]",r);
j.src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/msg_icon_blue.png";if(!p){p="";}var l=LEAP.getElement("[ctf=message_titletip]",r);l.innerHTML=p;var g=LEAP.getElement("[ctf=message_tip_content]",r);g.innerHTML=m;var n=800;var u=500;if(d){n=d;}if(x){u=x;}LEAP.setStyle(r,{width:n+"px",height:u+"px"});
LEAP.messagebox.showMask(true);document.body.appendChild(r);var q=(document.documentElement.clientWidth-n)/2;var o=(document.documentElement.clientHeight-u)/2;LEAP.setStyle(r,{top:o+"px",left:q+"px"});LEAP.addEvent(r,"click",LEAP.messagebox.uiProcess,null,null,true);};LEAP.messagebox.tc=0;LEAP.messagebox._m1=function(){LEAP.messagebox.tc++;
var d=10;if(LEAP.messagebox.runtime!=null){d=LEAP.messagebox.runtime;}if(LEAP.messagebox.tc>d&&LEAP.messagebox.t){var g=(10-(LEAP.messagebox.tc-7))*30;if(g<10){LEAP.messagebox.div.style.display="none";if(LEAP.messagebox.t!=null){window.clearInterval(LEAP.messagebox.t);}LEAP.messagebox.tc=0;}else{LEAP.messagebox.div.style.right=(10-305/(g/30))+"px";
LEAP.messagebox.div.style.opacity=g/100;LEAP.messagebox.div.style.filter="Alpha(Opacity="+g+")";}}};LEAP.messagebox.showMask=function(d){if(d){LEAP.showMask();if(LEAP._maskdiv!=null){LEAP._maskdiv.style.filter="alpha(opacity = 30)";LEAP._maskdiv.style.opacity="0.3";}}else{LEAP._hideMask();if(LEAP._maskdiv!=null){LEAP._maskdiv.style.filter="alpha(opacity = 50)";
LEAP._maskdiv.style.opacity="0.5";}}};LEAP.messagebox.setLoacation=function(g,l,h,d){var j=LEAP.messagebox.div;if(j){j.style["box-shadow"]="0 0 10px #ccc";j.style.left=h+g-300+"px";j.style.top=d+l-105+"px";j.style.width=300+"px";j.style["border-radius"]="5px";j.style.border="1px solid #ccc";j.style["background-color"]="#cccc";
}};LEAP.messagebox.noticeel=null;LEAP.messagebox.notification=function(p,o,g,h,d){if(LEAP.messagebox.noticeel==null){var n=document.createElement("div");n.className="notification-bottom-right";var m='<div placement="bottom-right" class="mc-notification" visible="true" style="display: block; min-height: 144px; transition: all 0.3s ease 0s;"><div class="mc-notification-content"><div class="mc-notification-prefix"></div><div class="mc-notification-view"><div class="mc-notification-close"></div><h2 class="mc-notification-title"  ctf="mc-notification-title"></h2><p class="mc-notification-label" ctf="mc-notification-msg"></p></div></div></div>';
n.innerHTML=m;document.body.appendChild(n);LEAP.messagebox.noticeel=n;}if(o!=null){var j=LEAP.getElement("[ctf=mc-notification-title]",LEAP.messagebox.noticeel);if(j!=null){j.innerHTML=o;}}if(p!=null){var l=LEAP.getElement("[ctf=mc-notification-msg]",LEAP.messagebox.noticeel);if(l!=null){l.innerHTML=p;
}}};LEAP.messagebox.simplealert=function(h,m,n,l){var j=null;if(arguments!=null&&arguments.length>4){var d=[];for(var g=4;g<arguments.length;g++){d[g-4]=arguments[g];}j=d;}return LEAP.messagebox.__confirm.show("alert",m,h,n,l,j);};LEAP.messagebox.viewalert=function(d,g){if(!g){g="";}LEAP.messagebox.__confirm.show("alert",g,d);
};LEAP.messagebox.confirm=function(m,h,n,l){var j=null;if(arguments!=null&&arguments.length>4){var d=[];for(var g=4;g<arguments.length;g++){d[g-4]=arguments[g];}j=d;}LEAP.messagebox.__confirm.show("confirm",m,h,n,l,j);};LEAP.messagebox.__confirm={func:null,element:null,domain:null,args:null,show:function(j,n,l,h,m,g){if(this.element!=null){return;
}var d=this.build(j,n,l);LEAP.showMask();document.body.appendChild(d);var o=null;if(h!=null&&h!=undefined&&typeof(h)=="function"){o=h;}this.func=o;this.element=d;this.domain=m;this.args=g;return d;},build:function(g,m,h){var j=document.createElement("div");j.className="mc-dialog mc-project";j.setAttribute("visible","1");
var d=new StringBuffer();d.append('<div class="mc-dialog-head"><h2 class="mc-dialog-title"><span>@title</span></h2><div class="mc-dialog-handle"></div></div>');d.append('<div class="mc-dialog-content"><p class="mc-dialog-text" padding="12">@message</p></div><div class="mc-dialog-footer"><div class="mc-dialog-footer-item">');
if(g=="confirm"){d.append('<div class="mc-dialog-button" conner="1" role="cancel" ctf="mc-dialog-cancel" onclick="LEAP.messagebox.__confirm.hide()"> <span class="mc-dialog-button-label" role="cancel" ctf="mc-dialog-cancel"></span> </div>');}d.append('<div class="mc-dialog-button" conner="1" role="confirm" ctf="mc-dialog-confirm" onclick="LEAP.messagebox.__confirm.callback()"><span class="mc-dialog-button-label" role="confirm" ctf="mc-dialog-confirm"></span></div></div></div> </div>');
var l=d.toString();if(null!=m){l=l.replace("@title",m);}l=l.replace("@message",h);j.innerHTML=l;return j;},hide:function(){if(this.element!=null&&this.element!=undefined){document.body.removeChild(this.element);this.element=null;}LEAP.messagebox.showMask(false);},callback:function(){if(this.func!=null&&typeof(this.func)=="function"){if(this.args==null||this.args.length==0){this.func.apply(this.domain);
}else{this.func.apply(this.domain,this.args);}}this.hide();}};LEAP.messagebox.toast=function(m,h){if(!m){return;}var g=["info","success","error"];if(!h||!g.contains(h)){h=g[0];}var l=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/toast_"+h+".png";if(LEAP.messagebox.ts==null){var j=document.createElement("div");
j.className="mc-toast-tab";document.body.appendChild(j);LEAP.messagebox.ts=j;}LEAP.messagebox.ts.style.display="block";var d=document.createElement("div");d.className="mc-toast";d.setAttribute("ref","message");d.innerHTML='<div class="mc-toast-content"><span class="mc-toast-icon"><img src='+l+'></img></span><span class="mc-toast-label" ctf="ctf=mc-toast-label">'+m+"</span></div>";
LEAP.messagebox.ts.appendChild(d);d.style.display="block";LEAP.asyn(function(){d.setAttribute("visible","true");},this,20);LEAP.asyn(function(){d.removeAttribute("visible");LEAP.asyn(function(){if(LEAP.messagebox.ts!=null){LEAP.messagebox.ts.removeChild(d);}},this,200);if(LEAP.messagebox.ts.childNodes.length==0){LEAP.messagebox.ts.style.display="none";
}},this,2000);};LEAP.messagebox.init();LEAP.modulebar={};LEAP.modulebar.d="modulebar";LEAP.modulebar.hasbar=null;LEAP.modulebar.p="parameter";LEAP.modulebar.itemStr='<span class="bs_tabbar_fix" ctf="baritem_fix_span"><img hasfix="@hasfix" ctf="baritem_fix_img" src="@srcFix" class="bs_bar_fixed" style="display:none"></span><em class="bs-tabbar_label" ctf="tabbar_label" label="@showname">@showname</em><span class="bs_tabbar_close" ctf="baritem_close"><img src="@src1" ctf="baritem_close"><img src="@src2" ctf="baritem_close"></span>';
LEAP.modulebar.modulehash=null;LEAP.modulebar._init=function(){LEAP.addEvent(document.body,"click",LEAP.modulebar.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.modulebar.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseout",LEAP.modulebar.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.modulebar._init);};LEAP.modulebar.init=function(){if(document!=null&&document.body!=null){LEAP.modulebar._init();}else{UIEventManager.addEvent(window,"load",LEAP.modulebar._init);}ElementEventManager.addManagedEventType(LEAP.modulebar.d,"moduleloaded");ElementEventManager.addManagedEventType(LEAP.modulebar.d,"modulebarChange");
ElementEventManager.addManagedEventType(LEAP.modulebar.d,"barItemClick");}();LEAP.modulebar.uiProcess=function(m){var y=null;var n=null;var j=null;if(m!=null&&m.e!=null&&m.e.type!=null){j=m.e.type;}try{if(j!=null){n=m.e.srcElement;y=m.e;if(LEAP.isIE){y=window.event;}}else{y=m;n=m.target;}j=y.type;if(n==null||n.getAttribute==null){return;
}if(j=="click"){var h=LEAP._match(n,LEAP.modulebar.d,"ct");if(!h){return;}var x=LEAP._match(n,"tabbar_item_closeall","ctf");if(x){LEAP.modulebar.removeBarItems(h);}var d=n.getAttribute("ctf");if(!d){return;}if(d=="baritem_close"){var B=LEAP._match(n,"tabbar_item_btn","ctf");if(!B){return null;}LEAP.modulebar.removeBarItem(h,B,false);
LEAP.modulebar.popListBar(h);}else{if(d.indexOf("baritem_fix")>-1){var B=LEAP._match(n,"tabbar_item_btn","ctf");if(!B){return null;}var l=n;if(d=="baritem_fix_span"){l=LEAP.getElement("[ctf==baritem_fix_img]",n);}if(!l){return;}var q=l.getAttribute("hasfix");var o=(q=="1");LEAP.modulebar.FixBarItem(B,l,!o);
}else{if(d=="hl_tabbar_close"){var A=n.getAttribute("linkbar");if(A){LEAP.modulebar.removeListBar(h,A);}}else{var B=null;if(d=="hl_tabbar_item"){var A=n.getAttribute("linkbar");if(A){B=LEAP.getElement("[linkrs="+A+"]",h);}}else{B=LEAP._match(n,"tabbar_item_btn","ctf");}if(B){var r=B.getAttribute("linkrs");
if(!r){return;}var p=B[LEAP.modulebar.p];var g=null;if(p!=null){var u=B.getAttribute("reload");var w=B.getAttribute("fresh");if(w!="0"&&w!="false"&&w!=0&&w!=false){g=LEAP.modulebar.LoadAsynModule(h,p,u);if(g!=null){ElementEventManager.handleEvent(h,"moduleloaded",{module:g,element:h});}}}LEAP.modulebar._setSelectBar(h,B,false);
if(g!=null){ElementEventManager.handleEvent(h,"barItemClick",{module:g,element:h,barItem:B});}return;}}}}}else{if(j=="mouseover"||j=="mouseout"){var d=n.getAttribute("ctf");if(!d){return;}var h=LEAP._match(n,LEAP.modulebar.d,"ct");if(!h){return;}var B=LEAP._match(n,"tabbar_item_btn","ctf");if(!B){return null;
}var z=false;if(j=="mouseover"){z=true;}LEAP.modulebar._showFix(h,B,z);}}}finally{y=n=m=null;}};LEAP.modulebar.checkHasItem=function(o,u,l,p,r,m){if(!o){return null;}var j=LEAP.getElement("[linkrs="+u+"]",o);var h=null;if(j!=null){var g=null;if(undefined!=p&&p!=null){if(p===false){g=0;}else{if(p===true){g=1;
}}}if(undefined!=r){j.setAttribute("fresh",r);}if(m){var q=LEAP.getElement("[hasselect=1]",o);if(q!=null){if(l&&l.holdParent!=null&&l.holdParent==true){q.setAttribute("reload",0);}j.parent=q;if(l&&l.closeCallback!=null){j.parentlink=q.getAttribute("linkrs");j.closecall=l.closeCallback;}}}var n=j[LEAP.modulebar.p];
if(n&&l){n.arg=l;}if(n!=null){var d=(g!=null)?g:j.getAttribute("reload");h=LEAP.modulebar.LoadAsynModule(o,n,d);if(h!=null){ElementEventManager.handleEvent(o,"moduleloaded",{module:h,element:o});}}}return h;};LEAP.modulebar.addModuleBar=function(d,o,h){if(LEAP.modulebar.barelement==null){LEAP.messagebox.alert("");
return;}if(!h){LEAP.messagebox.alert("");return;}if(h.holdParent==null||h.holdParent==undefined){h.holdParent=true;}var l=LEAP.modulebar.barelement;var n=h.domain;if(!n){n=LEAP.getLoadedModule(l.getAttribute("instance"));}var m=(h.reload==0||h.reload===false)?false:true;var g=(h.fresh==1||h.fresh===true)?true:false;
if(h.domain&&h.domain.pom){if(!h.moduleParameter){h.moduleParameter={};}h.moduleParameter.___pageObjectModel=h.domain.pom;}l.setAttribute("isdefault","1");var j=LEAP.modulebar.addBarItem(l,d,o,h,true,false,n,m,false,g);l.removeAttribute("isdefault");if(j!=null&&h.domain!=null){j.parentPageModule=h.domain;
}return j;};LEAP.modulebar.closeModuleBar=function(h,g){if(LEAP.modulebar.barelement==null){LEAP.messagebox.alert("");return;}if(!h){LEAP.messagebox.alert("");return;}var d=LEAP.modulebar.barelement;var j=LEAP.getElement("A[linkrs="+h+"]",d);if(j!=null){if(g!=null&&g===false){j.parentlink=null;
j.closecall=null;}LEAP.modulebar.removeBarItem(d,j,false);}};LEAP.modulebar.getModuleByItemID=function(d){if(LEAP.modulebar.modulehash.contains(d)){return LEAP.modulebar.modulehash.getvalue(d);}return null;};LEAP.modulebar.addBarItem=function(A,y,w,h,O,R,B,W,N,I){if(!A||!y||!w){return null;}A=LEAP._check(A,LEAP.modulebar.d);
if(!A){return null;}var x=LEAP.modulebar.checkHasItem(A,w,h,W,I,O);if(x){LEAP.modulebar.setSelectItem(A,w);return x;}var G=document.createElement("A");G.setAttribute("ctf","tabbar_item_btn");G.className="bs_tabbar_item";G.setAttribute("linkrs",w);G.setAttribute("showname",y);G.setAttribute("title",y);
G.setAttribute("fresh",I);var H=LEAP.modulebar.itemStr;var u=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/close.png";var r=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/close-active.png";var q=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/unselect.png";var L="0";
if(R===true){q=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/select.png";L="1";}if(N!=null&&N===false){q="";}H=H.replaceall("@showname",y).replace("@src1",u).replace("@src2",r);H=H.replace("@hasfix",L).replace("@srcFix",q);G.innerHTML=H;G.setAttribute("hasfix",L);var X=1;if(W!=null&&W===false){X=0;
}G.setAttribute("reload",X);var l=LEAP.getElement("[ctf=modulebar_container]",A);if(!l){return null;}var Q=A.offsetWidth;l.appendChild(G);LEAP.modulebar._showFix(A,G,R);var K=l.offsetWidth;var d=false;if(K>0&&Q>0&&(K+155)>Q){d=true;}var o=A.getAttribute("linkut");var T=A.getAttribute("isdefault");if(T=="1"){var D=A.getAttribute("defaultut");
if(D!=null){o=D;}}if(!o){return null;}var z=LEAP.getElement("[ut="+o+"]");if(!z){return;}var C={resid:w,arg:h,domain:B,parent:z};G[LEAP.modulebar.p]=C;if(R&&!O&&!d){return null;}var j=LEAP.modulebar.addModule(A,w,h,z,B,X);if(O){var U=LEAP.getElement("[hasselect=1]",A);if(U!=null){if(h&&h.holdParent!=null&&h.holdParent==true){U.setAttribute("reload",0);
}G.parent=U;if(h&&h.closeCallback!=null){G.parentlink=U.getAttribute("linkrs");G.closecall=h.closeCallback;}}LEAP.modulebar.setSelectItem(A,w);}else{LEAP.modulebar.hideModule(w,z,X,I);}if(d){var n=l.children;if(!n){return;}var g=null;var V=0;var p=null;for(var S=0;S<n.length;S++){var L=n[S].getAttribute("hasfix");
var F=n[S].getAttribute("inlist");if(F=="1"){continue;}if(L!="1"){g=n[S];break;}if(p==null){p=n[S];}}if(!g){g=p;}if(!g){return;}var m=LEAP.getElement("[ctf=bs_tabbar_list]",A);if(n.length<=20&&m){LEAP.modulebar.addListBar(A,g);}else{LEAP.messagebox.alert("");LEAP.modulebar.removeBarItem(A,g,true);
}}LEAP.modulebar.setCloseButton(A);if(LEAP.modulebar.barelement==null){LEAP.modulebar.barelement=A;var M=A.getAttribute("enableDrag");if(M&&M=="1"){var J=LEAP.getElement("[ctf=modulebar_container]",A);if(J){LEAP.addEvent(J,"mousedown",LEAP.modulebar.dragFunc,null,null,true);}}}var P=A.getAttribute("closemode");
if(P=="1"&&j&&j.name){if(j.name=="indexassembly"){G.setAttribute("isindex","1");}}return j;};LEAP.modulebar.addListBar=function(h,m){var d=document.createElement("li");var l=m.getAttribute("linkrs");d.setAttribute("linkbar",l);d.setAttribute("ctf","hl_tabbar_item");d.innerHTML="<h2 ctf=hl_tabbar_item linkbar="+l+" title="+m.getAttribute("showname")+">"+m.getAttribute("showname")+"</h2><span ctf=hl_tabbar_close linkbar="+l+"></span>";
var j=LEAP.getElement("[ctf=bs_tabbar_list]",h);if(!j){return;}var g=LEAP.getElement("[ctf=modulebar_list]",j);if(g){j.style.display="inline-block";g.appendChild(d);m.style.display="none";m.setAttribute("inlist","1");}};LEAP.modulebar.removeListBar=function(h,m){var j=LEAP.getElement("[ctf=bs_tabbar_list]",h);
if(!j){return;}var g=LEAP.getElement("[ctf=modulebar_list]",j);if(!g){return;}var d=LEAP.getElement("li[linkbar="+m+"]",g);if(d!=null){g.removeChild(d);if(g.children&&g.children.length==0){j.style.display="none";}var l=LEAP.getElement("A[linkrs="+m+"]",h);if(!l){return null;}LEAP.modulebar.removeBarItem(h,l,false);
}};LEAP.modulebar.popListBar=function(h){var j=LEAP.getElement("[ctf=bs_tabbar_list]",h);if(!j){return;}var g=LEAP.getElement("[ctf=modulebar_list]",j);if(!g){return;}if(g.children&&g.children.length>0){var d=g.children[0];var m=d.getAttribute("linkbar");if(m){var l=LEAP.getElement("A[linkrs="+m+"]",h);
if(l&&l.getAttribute("inlist")=="1"){l.style.display="";l.removeAttribute("inlist");}}g.removeChild(d);if(g.children&&g.children.length==0){j.style.display="none";}}};LEAP.modulebar.setCloseButton=function(j){if(!j){return;}var h=LEAP.getElement("[ctf=modulebar_container]",j);if(!h){return;}var m=h.children;
if(!m){return;}var d=0;for(var g=0;g<m.length;g++){var n=m[g].getAttribute("hasfix");if(n!="1"){d++;}}var l=LEAP.getElement("[ctf=tabbar_item_closeall]",j);if(l){if(d>1){l.style.display="";}else{l.style.display="none";}}};LEAP.modulebar.LoadAsynModule=function(j,n,l){if(!j||!n){return;}var h=LEAP.modulebar.addModule(j,n.resid,n.arg,n.parent,n.domain,l);
if(h&&n.arg&&n.arg.moduleLoadArg){var g=n.arg.moduleLoadArg;if(g.resource){var m=g.resource;if(m.isTrust){var o=m;if(m.isv6){o={url:m._url};}h.LoadFrame(o);}}}return h;};LEAP.modulebar.addModule=function(p,u,o,q,m,d){if(!u){return null;}if(LEAP.modulebar.modulehash==null){LEAP.modulebar.modulehash=new hashtable();
}if(LEAP.modulebar.modulehash.contains(u)){if(d==0||d===false){return LEAP.modulebar.modulehash.getvalue(u);}var w=LEAP.modulebar.modulehash;if(w&&w.contains(u)){var h=w.getvalue(u);if(h){if(h.___forms){var j=h.___forms.length;for(var n=0;n<j;n++){LEAP.form.close(h.___forms[n]);}}if(h.dispose){h.dispose();
}else{if(h.module&&h.module.dispose){h.module.dispose();}}h=null;}w.remove(u);var g=LEAP.getElement("[linkrs="+u+"]",q);if(g){q.removeChild(g);}}}var r=document.createElement("div");r.className="bs_tabbar_container";r.style.width="100%";r.style.height="100%";r.style["margin-top"]="2px";r.setAttribute("linkrs",u);
o.parent=r;q.appendChild(r);var h=LEAP.loadModule2(o);if(h!=null){h.baritemid=u;LEAP.modulebar.modulehash.add(u,h);}return h;};LEAP.modulebar.removeBarItems=function(l){if(!l){return;}var n=LEAP.getElement("[ctf=modulebar_container]",l);if(!n){return;}var r=l.getAttribute("closemode");var q=(r&&r=="1");
var o=LEAP.getElements("[linkrs]",n);if(o!=null){for(var m=o.length-1;m>-1;m--){var j=o[m];var w=j.getAttribute("hasselect");var y=j.getAttribute("hasfix");var u=j.getAttribute("isindex");if(r&&r=="1"){if(w=="1"&&y=="1"){q=false;}if(u=="1"||y=="1"){continue;}}else{if(r&&r=="2"){if(u=="1"||y=="1"||w=="1"){continue;
}}else{if(w=="1"||y=="1"){continue;}}}n.removeChild(j);var x=j.getAttribute("linkrs");if(x){var z=LEAP.modulebar.modulehash;if(z&&z.contains(x)){var h=z.getvalue(x);if(h){if(h.dispose){h.dispose();}else{if(h.module&&h.module.dispose){h.module.dispose();}}h=null;}z.remove(x);}}if(x){var p=null;if(j&&j[LEAP.modulebar.p]){p=j[LEAP.modulebar.p].parent;
}if(!p){return;}var g=LEAP.getElement("[linkrs="+x+"]",p);if(g){p.removeChild(g);}}}}if(q){var o=LEAP.getElements("[linkrs]",n);if(o!=null&&o.length>0){LEAP.modulebar._setSelectBar(l,o[o.length-1]);}}var d=LEAP.getElement("[ctf=tabbar_item_closeall]",l);if(d){d.style.display="none";}};LEAP.modulebar.removeBarItem=function(l,L,z){if(!L){return;
}var K=L.getAttribute("linkrs");if(l){var m=L.getAttribute("hasselect");var g=null;var A=null;var h=L.parentElement.children;var o=(h!=null&&h.length==1);if(o){return;}if(m=="1"&&!z){if(h){var G=h.length;for(var F=0;F<G;F++){if(h[F]==L){if(F<(G-1)){g=h[F+1];}if(F>0){A=h[F-1];}}}}}var d=L.parent;var w=(d!=null);
if(w&&(d==L)){w=false;}if(w){var D=d.getAttribute("linkrs");if(D!=null&&D==K){w=false;}if(D!=null){var B=LEAP.getElement("[linkrs="+D+"]",l);if(!B){w=false;}}}var H=L.parentlink;var r=L.closecall;var C=LEAP.getElement("[ctf=modulebar_container]",l);if(C){C.removeChild(L);}if(K){var q=LEAP.modulebar.modulehash;
if(q&&q.contains(K)){var j=q.getvalue(K);if(j){if(j.dispose){j.dispose();}else{if(j.module&&j.module.dispose){j.module.dispose();}}j=null;}LEAP.modulebar.modulehash.remove(K);}}if(K){var n=LEAP.modulebar._getMParent(l,L);if(!n){return;}var p=LEAP.getElement("[linkrs="+K+"]",n);if(p){var J=n.removeChild(p);
}}if(!z){if(w){var K=d.getAttribute("linkrs");if(K&&LEAP.modulebar.checkHasItem(l,K)){LEAP.modulebar._setSelectBar(l,d);}}else{if(g){var K=g.getAttribute("linkrs");if(K&&LEAP.modulebar.checkHasItem(l,K)){LEAP.modulebar._setSelectBar(l,g);}}else{if(A){var K=A.getAttribute("linkrs");if(K&&LEAP.modulebar.checkHasItem(l,K)){LEAP.modulebar._setSelectBar(l,A);
}}}}}if(H&&r){var I=LEAP.modulebar.modulehash.getvalue(H);var y=L[LEAP.modulebar.p];if(I!=null&&r!=null&&typeof(r)=="function"){var u=I;if(y&&y.domain){u=y.domain;}if(y&&y.arg&&y.arg.domain){u=y.arg.domain;}var x=null;if(y&&y.arg&&y.arg.moduleLoadArg){x=y.arg.moduleLoadArg;}if(u){if(x){r.apply(u,[x]);
}else{r.apply(u);}}}}LEAP.modulebar.setCloseButton(l);}};LEAP.modulebar.setSelectItem=function(d,h){var g=LEAP.getElement("[linkrs="+h+"]",d);if(!g){return;}LEAP.modulebar._setSelectBar(d,g);};LEAP.modulebar.getSelectItem=function(g){g=LEAP._check(g,LEAP.modulebar.d);if(!g){return null;}var d=LEAP.getElement("[hasselect=1]",g);
return d;};LEAP.modulebar._setSelectBar=function(h,g){if(!g||!h){return;}var n=g.getAttribute("hasselect");if(n=="1"){return;}var l=LEAP.modulebar._getMParent(h,g);if(!l){return;}var q=LEAP.getElement("[hasselect=1]",h);if(q){q.removeAttribute("hasselect");q.className="bs_tabbar_item";}g.setAttribute("hasselect","1");
g.className="bs_tabbar_item active";if(q){var m=q.getAttribute("linkrs");var d=q.getAttribute("reload");var o=q.getAttribute("fresh");if(m){var j=LEAP.modulebar._getMParent(h,q);LEAP.modulebar.hideModule(m,j,d,o);}}var p=g.getAttribute("linkrs");var d=g.getAttribute("reload");if(p){LEAP.modulebar.showModule(p,l,d);
}if(h.getAttribute("barChange")=="true"){ElementEventManager.handleEvent(h,"modulebarChange",{element:h,curParent:l,lastParent:LEAP.modulebar._getMParent(h,q)});}LEAP.modulebar.callClickFn(g);};LEAP.modulebar.callClickFn=function(h){if(!h||!h[LEAP.modulebar.p]){return;}var j=h[LEAP.modulebar.p];if(!j.arg){return;
}var p=j.arg.clickFn!=null;var o=(j.arg.moduleLoadArg!=null&&j.arg.moduleLoadArg.par!=null&&typeof(j.arg.moduleLoadArg.par)=="string"&&(j.arg.moduleLoadArg.par.indexOf("clickFn")>0));var d=null;if(p){d=j.arg.clickFn;}else{if(o){var n=j.arg.moduleLoadArg.par;try{var l=JSON.parse(n);if(l!=null&&l.clickFn){d=l.clickFn;
}}finally{}}}if(!d){return;}var m=h.getAttribute("linkrs");if(!m){return;}var g=LEAP.modulebar.modulehash.getvalue(m);if(!g){return;}if(typeof(d)=="string"&&g[d]!=null&&typeof(g[d])=="function"){g[d].apply(g);}else{if(typeof(d)=="function"){d.apply(g);}}};LEAP.modulebar.hideModule=function(d,j,n,o){var g=LEAP.getElement("[linkrs="+d+"]",j);
if(g){var l=LEAP.getElements("div[ct=form]");if(l&&l.length>0){var m=l.length;for(var h=0;h<m;h++){var p=l[h];if(LEAP.form.isHide(p)){continue;}LEAP.form.hide(p);}}if(n==0||n===false||o===false||o=="false"){g.style.display="none";}else{j.removeChild(g);var q=LEAP.modulebar.modulehash;if(q&&q.contains(d)){LEAP.modulebar.modulehash.remove(d);
}}}};LEAP.modulebar.showModule=function(g,h){var d=LEAP.getElement("[linkrs="+g+"]",h);if(d){d.style.display="";}};LEAP.modulebar.FixBarItem=function(l,h,g){if(!h||!l){return;}var j=l.getAttribute("linkrs");if(!j){return;}var d=LEAP.request("studiov6_FixModule",{resourceid:j,bool:g});if(d){if(!g){h.src=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/unselect.png";
h.setAttribute("hasfix","0");l.setAttribute("hasfix","0");}else{h.src=leapconfig.server+"LEAP/Resource/images/itemstyle/partindex/select.png";h.setAttribute("hasfix","1");l.setAttribute("hasfix","1");}}};LEAP.modulebar._showFix=function(j,l,d){if(!j||!l){return null;}var h=l.getAttribute("hasfix");if(h=="1"){d=true;
}var g=LEAP.getElement("[ctf=baritem_fix_img]",l);if(g){if(d){g.style.display="";}else{g.style.display="none";}}LEAP.modulebar.setCloseButton(j);};LEAP.modulebar.dragFunc=function(d){var g=d.e.srcElement;if(!g){return;}g=LEAP._match(g,"tabbar_item_btn","ctf");if(g==null){return;}g.ondragstart=function(){return false;
};LEAP.modulebar.dragMousedownFunc(d.e);};LEAP.modulebar.dragMousedownFunc=function(l){var o=l.srcElement;o=LEAP._match(o,"tabbar_item_btn","ctf");if(o==null){return;}var h=null;var g=l.clientX;var d=l.clientX-o.offsetLeft;var n=null;var j=function(p){if(h!=null){h.parentNode.removeChild(h);h=null;}if(n!=null){var u=null;
var B=o.parentElement;var r=B.children;for(var y=0;y<r.length;y++){if(o.innerHTML===r[y].innerHTML){u=y;break;}}var A=null;for(var y=r.length-1;y>-1;y--){if(r[y].offsetLeft<=n){A=y;break;}}if(!A){A=0;}A=u<A?A+1:A;if(o.getAttribute("hasfix")=="1"){r=B.children;var w=u>A,q=w?A:u,x=w?u:A,z=[];for(var y=w?q:q+1;
y<x;y++){var C=r[y].getAttribute("hasfix");if(C=="1"){z.add(r[y].getAttribute("linkrs"));}}if(z.length>0){var D=LEAP.request("studiov6_rankFixModule",{arr:z,resourceid:o.getAttribute("linkrs"),bool:w});}}B.insertBefore(o,r[A]);}document.onmousedown=null;document.onmousemove=null;};var m=function(q){if(q.clientX===g){return;
}n=q.clientX-d;var p=document.documentElement||document.body;if(n<0){n=0;}if(n>p.offsetWidth-o.offsetWidth){n=p.offsetWidth-o.offsetWidth;}if(h==null){h=o.cloneNode(true);h.style.cssText+=";cursor:move;position:absolute;border:dashed 1px lightgray;";h.ondragstart=function(){return false;};}h.style.left=n+"px";
o.parentElement.appendChild(h);};document.onmousemove=m;document.onmouseup=j;return false;};LEAP.modulebar.initCloseOtherBtn=function(d){if(!d.arg||!d.arg.domain||!d.arg.element){return;}if(this.closeBtn!=null){this.closeBtn.style.display="block";return;}var n=d.arg.domain;var h=d.arg.element;n.ut("lg_modulebar").element.setAttribute("closemode","1");
var o=n.ut("tabbar_closebtn").element;if(!o){return;}var m=o.cloneNode(true);var l=LEAP.getAbsolutePos(o);if(l){m.className=m.className+" bs_tabbar_closeall";m.style.display="block";m.style.right="0px";m.style.top=(l.y+o.clientHeight)+"px";m.style.position="absolute";m.style.background="none";m.style["z-index"]="9999";
m.style.height=o.clientHeight+"px";m.style.width=o.clientWdth+"px";document.body.appendChild(m);var g=LEAP.getElement("[ctf=tabbar_item_closeall]",m);if(g){g.style["border-radius"]="0 0 4px 4px";LEAP.addEvent(g,"click",function(p){h.setAttribute("closemode","2");LEAP.modulebar.removeBarItems(h);h.setAttribute("closemode","1");
},null,this,true);}var j=LEAP.getElement("[ctf=tabbar_label]",m);if(j){j.innerHTML="";}LEAP.addEvent(m,"mouseover",function(p){p.caller.style.display="block";},null,this,true);LEAP.addEvent(o,"mouseout",function(p){if(this.closeBtn!=null){this.closeBtn.style.display="none";}},null,this,true);LEAP.addEvent(m,"mouseout",function(p){p.caller.style.display="none";
},null,this,true);this.closeBtn=m;}};LEAP.modulebar._getMParent=function(d,l){if(!d||!l){return null;}var h=null;var j=l[LEAP.modulebar.p];if(j){h=j.parent;}if(!h){var g=d.getAttribute("linkut");if(!g){return;}h=LEAP.getElement("[ut="+g+"]");}return h;};LEAP.newsearch={};LEAP.newsearch.d="newsearch";
LEAP.newsearch.res=null;LEAP.newsearch.childli='<li ctf="setlist_li" nodevalue="@nodevalue" nodefield="@nodefield" nodetext="@nodetext" dataid="@dataid"><span nodetext="@nodetext" nodevalue="@nodevalue" nodefield="@nodefield" nodetype="@nodetype" ctf="setlist_span">@text</span><span style="padding-right: 10px;color: #A5A5A5;font-size: 12px">@text1</span><img style="@style" src="'+leapconfig.server+'LEAP/Resource/images/itemstyle/newsearch/jiantou1.png"></li>';
LEAP.newsearch.childpagediv='<div ctf="child_div" dataid="@dataid" nodevalue="@nodevalue" nodefield="@nodefield" nodetext="@nodetext" nodetype="@nodetype">@text</div>';LEAP.newsearch.childpagetime='<div ctf="child_time" datatype="newdate"></div><div ctf="child_time"  datatype="newmonth"></div><div ctf="child_time" datatype="newji"></div><div ctf="child_time" datatype="newyear"></div><div ctf="child_time" datatype="olddate"></div><div ctf="child_time" datatype="oldmonth"></div><div ctf="child_time" datatype="oldji"></div><div ctf="child_time" datatype="oldyear"></div><span style="width: 100%;float: left;background-color: transparent;border:none"><label style="float: left;margin-left: 10px;margin-right: 10px;margin-top: 10px;"></label><span class="date lgiact" style="WIDTH: 80% !important;margin-top: 10px;" ct="date" mdcn="" mdtype="date" bt="date" md="" search="12"><INPUT class="date_y " maxLength=4 ctf="date_1"><A>-</A><INPUT class=date_i maxLength=2 ctf="date_2"><A>-</A><INPUT class=date_i maxLength=2 ctf="date_3"><span class=date_img ctf="date_show"></span></span><label style="float: left;margin-left: 10px;margin-right: 10px;margin-top: 10px;"></label><span class="date lgiact" style="WIDTH: 80% !important;margin-top: 10px;" ct="date" mdcn="" mdtype="date" bt="date" md="" search="12"><INPUT class="date_y " maxLength=4 ctf="date_1"><A>-</A><INPUT class=date_i maxLength=2 ctf="date_2"><A>-</A><INPUT class=date_i maxLength=2 ctf="date_3"><span class=date_img ctf="date_show"></span></span></span>';
LEAP.newsearch.valuehash=new hashtable();LEAP.newsearch.init=function(){if(document!=null&&document.body!=null){LEAP.newsearch._init();}else{UIEventManager.addEvent(window,"load",LEAP.newsearch._init);}ElementEventManager.addManagedEventType(LEAP.newsearch.d,"click");};LEAP.newsearch._init=function(){UIEventManager.removeEvent(window,"load",LEAP.newsearch._init);
LEAP.addEvent(document.body,"click",LEAP.newsearch.uiProcess,null,null,true);};LEAP.newsearch.uiProcess=function(q){if(q==null){return;}var u=q.e.srcElement;if(u==null){return;}var n=q.e.type;if(n==null){return;}var K=u.tagName;if(K==null){return;}try{var h=u.getAttribute(commfields.ctf);var m=null;if(h=="date_show"){return;
}else{if(h=="child_time"){}else{if(h=="tip"){m=LEAP._match(u,LEAP.newsearch.d);var z=LEAP.getElement("[ctf=tip]",m);var D=LEAP.getElement("[ctf=searchinput]",m);z.style.display="none";D.focus();}else{if(h=="searchinput"){m=LEAP._match(u,LEAP.newsearch.d);var z=LEAP.getElement("[ctf=tip]",m);z.style.display="none";
if(u.value!=null&&u.value!=""){var y=LEAP.newsearch.getPositionForInput(u);var o=null;if(y.indexOf(":")>-1){var G=LEAP.getElement("[ctf=setlist]",m);var I=LEAP.getElement("[ctf=titlets]",m);I.innerHTML='"'+u.value+'"     ';G.style.marginTop="24px";I.style.display="block";var j=m.getAttribute("modulename");
if(j==null||j==""){var x=LEAP.getElement("[moduletype=search]");j=x.getAttribute("module");}var F=y.split(":");if(F.length==1){o=F[0];}else{o=F[1];}var p=m.getAttribute("likefields");var d=m.getAttribute("searchfields");if(p==null||p==""){p="";}if(d==null||d==""){d="";}var A=null;if(d==""&&p==""){A="";
}else{if(p!=""&&d==""){A=p;}else{if(p==""&&d!=""){A=d;}else{A=p+","+d;}}}var l=LEAP.newsearch.getFields(A);A=A+","+l;LEAP.newsearch.xuh++;LEAP.request2({name:"pagemodule_searchKeyword",par:{key:o,name:j,fields:A,xuh:LEAP.newsearch.xuh},callback:LEAP.newsearch.callbackbuilding,arg:LEAP.ctid(m)});u.removeAttribute("search");
}var g=LEAP.getElement("[ctf=newsearchset]",m);g.style.display="block";}else{var g=LEAP.getElement("[ctf=newsearchset]",m);var G=LEAP.getElement("[ctf=setlist]",m);var I=LEAP.getElement("[ctf=titlets]",m);I.innerHTML="   ";G.style.marginTop="24px";I.style.display="block";g.style.display="block";
}}else{if(h=="setlist_li"||h=="setlist_span"){m=LEAP._match(u,LEAP.newsearch.d);var D=LEAP.getElement("[ctf=searchinput]",m);var C=null;if(h=="setlist_li"){C=LEAP.newsearch.changestr(D.value,u.childNodes[0],m);}else{C=LEAP.newsearch.changestr(D.value,u,m);}D.value=C;D.focus();var w=u.getAttribute("nodetext");
var H=u.getAttribute("nodevalue");var r=u.getAttribute("nodefield");var J={};J.value=H;J.field=r;J.text=w;var B=C.split(" ");LEAP.newsearch.valuehash.add(B[B.length-1],J);D.setAttribute("search","1");}else{if(h=="child_div"){m=LEAP._match(u,LEAP.newsearch.d);var D=LEAP.getElement("[ctf=searchinput]",m);
var C=LEAP.newsearch.changestr(D.value,u,m);D.value=C;D.focus();var w=u.getAttribute("nodetext");var H=u.getAttribute("nodevalue");var r=u.getAttribute("nodefield");var J={};J.value=H;J.field=r;J.text=w;var B=C.split(" ");LEAP.newsearch.valuehash.add(B[B.length-1],J);D.setAttribute("search","1");}else{m=LEAP._match(u,LEAP.newsearch.d);
if(m!=null){var D=LEAP.getElement("[ctf=searchinput]",m);if(D.value!=null&&D.value!=""){var z=LEAP.getElement("[ctf=tip]",m);z.style.display="none";}else{var z=LEAP.getElement("[ctf=tip]",m);z.style.display="block";}var g=LEAP.getElement("[ctf=newsearchset]",m);g.style.display="none";}}}}}}}}finally{m=null;
}};LEAP.newsearch.getValue=function(m,o){if(o==null){o=new SearchParameters();}var d=LEAP.getElement("[ctf=searchinput]",m);var r=m.getAttribute("likefields");var q=m.getAttribute("searchfields");var h=null;var g=null;if(r!=null&&r!=""){h=r.split(",");}if(q!=null&&q!=""){g=q.split(",");}var u=d.value;
if(u!=null&&u!=""){var x=u.split(" ");for(var l=0;l<x.length;l++){var w=LEAP.newsearch.valuehash.getvalue(x[l]);if(w!=null){if(r==null||r==""){r="";}if(q==null||q==""){q="";}var p=null;if(q==""&&r==""){p="";}else{if(r!=""&&q==""){p=r;}else{if(r==""&&q!=""){p=q;}else{p=r+","+q;}}}var j=LEAP.newsearch.getFields(p);
p=p+","+j;if(p.indexOf(w.field.toLowerCase())>-1){o.addParameter(w.field,w.value,12);}else{if(w.field=="areaid"){var y=LEAP.getrealarea(w.value);var n=y;while(y.length<18){y+="0";}while(n.length<18){n+="9";}o.addParameter(w.field,y,16);o.addParameter(w.field,n,17);}else{o.addParameter(w.field,w.value,11);
}}}}}return o;};LEAP.newsearch.getValue1=function(o,q){if(q==null){q=new SearchParameters();}var d=LEAP.getElement("[ctf=searchinput]",o);var w=o.getAttribute("likefields");var u=o.getAttribute("searchfields");var h=null;var g=null;if(w!=null&&w!=""){h=w.split(",");}if(u!=null&&u!=""){g=u.split(",");
}var x=d.value;if(x!=null&&x!=""){var z=x.split(" ");for(var n=0;n<z.length;n++){var y=LEAP.newsearch.valuehash.getvalue(z[n]);if(y!=null){if(w==null||w==""){w="";}if(u==null||u==""){u="";}var r=null;if(u==""&&w==""){r="";}else{if(w!=""&&u==""){r=w;}else{if(w==""&&u!=""){r=u;}else{r=w+","+u;}}}var m=LEAP.newsearch.getFields(r);
r=r+","+m;if(r.indexOf(y.field.toLowerCase())>-1){q.addParameter(y.field,y.value,12);}else{if(y.field=="areaid"){var A=LEAP.getrealarea(y.value);var p=A;while(A.length<18){A+="0";}while(p.length<18){p+="9";}q.addParameter(y.field,A,16);q.addParameter(y.field,p,17);}else{q.addParameter(y.field,y.value,11);
}}}else{if(h!=null){for(var l=0;l<h.length;l++){q.addParameter(h[l],z[n],218).setGroup("sys.ft_ctx");}}if(g!=null){for(var l=0;l<g.length;l++){q.addParameter(g[l],z[n],21).setGroup("sys.ft_ctx");}}}}}return q;};LEAP.newsearch.initControl=function(p,d){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;
}if(p!=null){var r=function(){LEAP.newsearch.initControl(null,d);d=null;};setTimeout(r,p);return;}var n=d.parentElement;if(n!=null){var l=LEAP.getElement("[ctf=newsearchset]",n);var q=new StringBuffer('<div class="newsearchset_title" ctf="titlets"></div>');q.append('<div class="newsearchset_childpage" ctf="childpage">');
q.append('<div class="newsearchset_childpage_title" ctf="restitle"></div>');q.append('<div class="newsearchset_childpage_main" ctf="reschilds"></div></div>');q.append('<ul ctf="setlist"></ul>');l.innerHTML=q.toString();var j=LEAP.getElement("[ctf=searchinput]",n);var u=LEAP.getElement("[ctf=setlist]",n);
var g=LEAP.getElement("[ctf=reschilds]",n);var m=LEAP.getElement("[ctf=gjsstj]",n);var h=LEAP.getElement("[ctf=gjss]",n);LEAP.addEvent(j,"keyup",LEAP.newsearch.keyup,null,true);LEAP.addEvent(h,"mouseover",LEAP.newsearch.mouseover,null,true);LEAP.addEvent(m,"mouseleave",LEAP.newsearch.mouseout,null,true);
LEAP.addEvent(u,"mouseout",LEAP.newsearch.ulmouseover,null,true);LEAP.addEvent(l,"keyup",LEAP.newsearch.ulkeyup,null,true);LEAP.addEvent(g,"mouseover",LEAP.newsearch.reschildsover,null,true);var z=j.style.width;var y=z.replace("px","");var x=parseInt(y)+78;var o=parseInt(y)+76;l.style.width=o+"px";var m=LEAP.getElement("[ctf=gjsstj]",n);
m.style.left=x+"px";LEAP.newsearch.isfocus(n);}};LEAP.newsearch.ulkeyup=function(l){if(l==null){return;}var n=l.e.srcElement;if(n==null){return;}var j=l.e.type;if(j==null){return;}var H=n.tagName;if(H==null){return;}var g=n.getAttribute("ctf");var h=null;if(g=="newsearchset"){h=LEAP._match(n,LEAP.newsearch.d);
if(h==null){return;}var C=LEAP.getElement("[ctf=setlist]",h);var B=LEAP.getElement("[ctf=searchinput]",h);var z=LEAP.getElements("[ctf=setlist_li]",h);var q=LEAP.getElements("[ctf=child_div]",h);var I=window.event.keyCode;if(I==37){LEAP.newsearch.keyevent(I,null,B,z,C,q,h);}else{if(I==39){LEAP.newsearch.keyevent(I,null,B,z,C,q,h);
}else{if(I==38){LEAP.newsearch.keyevent(I,LEAP.newsearch.res,B,z,C,q,h);}else{if(I==40){LEAP.newsearch.keyevent(I,LEAP.newsearch.res,B,z,C,q,h);}else{if(I==13){if(z!=null){for(var A=0;A<z.length;A++){z[A].style.backgroundColor="transparent";}}var y=null;var w=B.getAttribute("childid");var u=B.getAttribute("dataid");
if(w!=null){var r=q[parseInt(w)];y=LEAP.newsearch.changestr(B.value,r,h);B.value=y;B.focus();var o=r.getAttribute("nodetext");var D=r.getAttribute("nodevalue");var m=r.getAttribute("nodefield");var F={};F.value=D;F.field=m;F.text=o;var x=y.split(" ");LEAP.newsearch.valuehash.add(x[x.length-1],F);}else{if(u!=null){var G=LEAP.newsearch.res[parseInt(u)];
if(G.type=="time"){return;}var p=z[parseInt(u)];y=LEAP.newsearch.changestr(B.value,p.childNodes[0],h);B.value=y;B.focus();var o=p.getAttribute("nodetext");var D=p.getAttribute("nodevalue");var m=p.getAttribute("nodefield");var F={};F.value=D;F.field=m;F.text=o;var x=y.split(" ");LEAP.newsearch.valuehash.add(x[x.length-1],F);
}}B.setAttribute("search","1");B.removeAttribute("dataid");B.removeAttribute("childid");var d=LEAP.getElement("[ctf=newsearchset]",h);d.style.display="none";}}}}}}};LEAP.newsearch.keyevent=function(x,r,g,q,w,p,n){if(x==37){var j=g.getAttribute("childid");if(p!=null){for(var m=0;m<p.length;m++){p[m].style.backgroundColor="white";
p[m].style.color="#4B4B4B";}if(j==null){p[p.length-1].style.backgroundColor="#FF7700";p[p.length-1].style.color="#FFFFFF";g.setAttribute("childid",p.length-1);g.setAttribute("childid1",p.length-1);}else{if(j>0){j=parseInt(j)-1;p[j].style.backgroundColor="#FF7700";p[j].style.color="#FFFFFF";g.setAttribute("childid",j);
g.setAttribute("childid1",j);}else{if(j==0){p[p.length-1].style.backgroundColor="#FF7700";p[p.length-1].style.color="#FFFFFF";g.setAttribute("childid",p.length-1);g.setAttribute("childid1",p.length-1);}}}var l=LEAP.getElement("[ctf=newsearchset]",n);l.focus();g.blur();}}else{if(x==39){var j=g.getAttribute("childid");
if(p!=null){for(var m=0;m<p.length;m++){p[m].style.backgroundColor="white";p[m].style.color="#4B4B4B";}if(j==null){p[0].style.backgroundColor="#FF7700";p[0].style.color="#FFFFFF";g.setAttribute("childid",0);g.setAttribute("childid1",0);}else{if(j<p.length-1){j=parseInt(j)+1;p[j].style.backgroundColor="#FF7700";
p[j].style.color="#FFFFFF";g.setAttribute("childid",j);g.setAttribute("childid1",j);}else{if(j==p.length-1){p[0].style.backgroundColor="#FF7700";p[0].style.color="#FFFFFF";g.setAttribute("childid",0);g.setAttribute("childid1",0);}}}var l=LEAP.getElement("[ctf=newsearchset]",n);l.focus();g.blur();}}else{if(x==38){var d=g.getAttribute("dataid");
if(q!=null){for(var m=0;m<q.length;m++){q[m].style.backgroundColor="transparent";q[m].childNodes[2].className="";}if(d==null){q[q.length-1].style.backgroundColor="#EEEEEE";g.setAttribute("dataid",q.length-1);LEAP.newsearch.buildchildpage(r,q[q.length-1],q.length-1,n);}else{if(d>0){d=parseInt(d)-1;q[d].style.backgroundColor="#EEEEEE";
g.setAttribute("dataid",d);LEAP.newsearch.buildchildpage(r,q[d],d,n);w.scrollTop-=24;}else{if(d==0){q[q.length-1].style.backgroundColor="#EEEEEE";g.setAttribute("dataid",q.length-1);LEAP.newsearch.buildchildpage(r,q[q.length-1],q.length-1,n);w.scrollTop=parseInt(q.length)*24;}}}g.removeAttribute("childid");
var l=LEAP.getElement("[ctf=newsearchset]",n);l.focus();g.blur();}}else{if(x==40){var d=g.getAttribute("dataid");if(q!=null){for(var m=0;m<q.length;m++){q[m].style.backgroundColor="transparent";q[m].childNodes[2].className="";}if(d==null){q[0].style.backgroundColor="#EEEEEE";g.setAttribute("dataid",0);
LEAP.newsearch.buildchildpage(r,q[0],0,n);}else{if(d<q.length-1){d=parseInt(d)+1;q[d].style.backgroundColor="#EEEEEE";g.setAttribute("dataid",d);LEAP.newsearch.buildchildpage(r,q[d],d,n);}else{if(d==q.length-1){q[0].style.backgroundColor="#EEEEEE";g.setAttribute("dataid",0);LEAP.newsearch.buildchildpage(r,q[0],0,n);
w.scrollTop=0;}}g.removeAttribute("childid");var l=LEAP.getElement("[ctf=newsearchset]",n);l.focus();g.blur();var o=11*24;var u=(parseInt(d)+1)*24;if(u>o){w.scrollTop+=24;}}}}}}}};LEAP.newsearch.isfocus=function(d){try{if(document.activeElement&&document.activeElement.getAttribute){var j=document.activeElement.getAttribute("ctf");
if(j=="searchinput"){var g=LEAP.getElement("[ctf=tip]",d);g.style.display="none";}}}catch(h){}d=null;};LEAP.newsearch.reschildsover=function(p){if(p==null){return;}var d=p.e.srcElement;if(d==null){return;}var n=p.e.type;if(n==null){return;}var q=d.tagName;if(q==null){return;}var o=d.getAttribute("ctf");
var j=null;if(o=="child_div"){j=LEAP._match(d,LEAP.newsearch.d);var g=LEAP.getElement("[ctf=searchinput]",j);var m=d.getAttribute("dataid");var l=LEAP.getElements("[ctf=child_div]",j);if(l!=null){for(var h=0;h<l.length;h++){l[h].style.backgroundColor="white";l[h].style.color="#4B4B4B";}d.style.backgroundColor="#FF7700";
d.style.color="#FFFFFF";g.setAttribute("childid",m);}}};LEAP.newsearch.ulmouseover=function(q){if(q==null){return;}var d=q.e.srcElement;if(d==null){return;}var n=q.e.type;if(n==null){return;}var r=d.tagName;if(r==null){return;}var o=d.getAttribute("ctf");var l=null;if(o=="setlist_li"){l=LEAP._match(d,LEAP.newsearch.d);
var h=LEAP.getElement("[ctf=searchinput]",l);var g=h.getAttribute("dataid");var p=d.getAttribute("dataid");var m=LEAP.getElements("[ctf=setlist_li]",l);if(m!=null){for(var j=0;j<m.length;j++){m[j].style.backgroundColor="transparent";m[j].childNodes[1].className="";}d.style.backgroundColor="#EEEEEE";h.setAttribute("dataid",p);
LEAP.newsearch.buildchildpage(LEAP.newsearch.res,d,p,l);}}};LEAP.newsearch.xuh=0;LEAP.newsearch.keyup=function(C){if(C==null){return;}var B=C.e.srcElement;if(B==null){return;}var Z=C.e.type;if(Z==null){return;}var Q=B.tagName;if(Q==null){return;}var G=B.getAttribute("ctf");var q=null;if(G=="searchinput"){q=LEAP._match(B,LEAP.newsearch.d);
if(q==null){return;}var l=LEAP.getElement("[ctf=setlist]",q);var z=LEAP.getElement("[ctf=searchinput]",q);var X=LEAP.getElements("[ctf=setlist_li]",q);var m=LEAP.getElements("[ctf=child_div]",q);var x=window.event.keyCode;if(x==37){LEAP.newsearch.keyevent(x,null,z,X,l,m,q);}else{if(x==39){LEAP.newsearch.keyevent(x,null,z,X,l,m,q);
}else{if(x==38){LEAP.newsearch.keyevent(x,LEAP.newsearch.res,z,X,l,m,q);}else{if(x==40){LEAP.newsearch.keyevent(x,LEAP.newsearch.res,z,X,l,m,q);}else{if(x==13){var T=z.getAttribute("search");if(T==null){if(X!=null){var H=LEAP.newsearch.res[0];if(H.type=="time"){return;}var J=X[0];if(J.childNodes.length!=0){var I=LEAP.newsearch.changestr(z.value,J.childNodes[0],q);
z.value=I;var y=J.getAttribute("nodetext");var L=J.getAttribute("nodevalue");var n=J.getAttribute("nodefield");var W={};W.value=L;W.field=n;W.text=y;var u=I.split(" ");LEAP.newsearch.valuehash.add(u[u.length-1],W);}}}var P=q.getAttribute("instance");try{if(P){try{var j=LEAP.getLoadedModule(P);j.innerSearch();
}finally{j=null;}}}catch(U){}if(X!=null){for(var S=0;S<X.length;S++){X[S].style.backgroundColor="transparent";}}z.removeAttribute("dataid");z.removeAttribute("childid");var o=LEAP.getElement("[ctf=newsearchset]",q);o.style.display="none";}else{if(x==27){var M=z.value;z.value=M;var o=LEAP.getElement("[ctf=newsearchset]",q);
o.style.display="none";}else{var M=z.value;if(x==8){var Y=M.split(" ");if(Y!=null){var p=false;var F="";for(var S=0;S<Y.length;S++){if(Y[S]!=""){var A=Y[S].split(":");if(A[1]!=""){F+=Y[S]+" ";}else{p=true;}}}if(p==true){z.value=F;M=z.value;}}}if(M==null||M==""){l.style.marginTop="0px";var r=LEAP.getElement("[ctf=titlets]",q);
r.innerHTML="";r.style.display="none";l.innerHTML="";l.style.width="100%";var d=LEAP.getElement("[ctf=childpage]",q);d.style.display="none";var o=LEAP.getElement("[ctf=newsearchset]",q);o.style.display="none";return;}if(M.lastIndexOf(" ")==M.length-1){var R=LEAP.newsearch.getPositionForInput1(z);if(x!=8){if(M.length>R){var K=LEAP.newsearch.getPositionForInput(z);
var h=null;if(K.indexOf(":")>-1){var l=LEAP.getElement("[ctf=setlist]",q);var r=LEAP.getElement("[ctf=titlets]",q);r.innerHTML='"'+z.value+'"     ';l.style.marginTop="24px";r.style.display="block";var j=q.getAttribute("modulename");if(j==null||j==""){var T=LEAP.getElement("[moduletype=search]");
j=T.getAttribute("module");}var V=K.split(":");if(V.length==1){h=V[0];}else{h=V[1];}var N=q.getAttribute("likefields");var O=q.getAttribute("searchfields");if(N==null||N==""){N="";}if(O==null||O==""){O="";}var g=null;if(O==""&&N==""){g="";}else{if(N!=""&&O==""){g=N;}else{if(N==""&&O!=""){g=O;}else{g=N+","+O;
}}}var D=LEAP.newsearch.getFields(g);g=g+","+D;LEAP.newsearch.xuh++;LEAP.request2({name:"pagemodule_searchKeyword",par:{key:h,name:j,fields:g,xuh:LEAP.newsearch.xuh},callback:LEAP.newsearch.callbackbuilding,arg:LEAP.ctid(q)});}}var T=z.getAttribute("search");if(T==null){if(X!=null){var H=LEAP.newsearch.res[0];
if(H.type=="time"){return;}var J=X[0];if(J.childNodes.length!=0){var w=z.getAttribute("childid1");if(w==null){var I=LEAP.newsearch.changestr(z.value,J.childNodes[0],q);z.value=I;var y=J.getAttribute("nodetext");var L=J.getAttribute("nodevalue");var n=J.getAttribute("nodefield");var W={};W.value=L;W.field=n;
W.text=y;I=LEAP.newsearch.trim(I);var u=I.split(" ");LEAP.newsearch.valuehash.add(u[u.length-1],W);}z.removeAttribute("childid1");}}}}if(M.length<=R){l.innerHTML="";l.style.width="100%";var d=LEAP.getElement("[ctf=childpage]",q);d.style.display="none";var r=LEAP.getElement("[ctf=titlets]",q);r.innerHTML="";
r.style.display="none";var o=LEAP.getElement("[ctf=newsearchset]",q);o.style.display="none";z.removeAttribute("search");}}else{if(M!=null&&M!=""){var K=null;var Y=M.split(" ");if(Y.length>1){K=Y[Y.length-1];}else{K=M;}var r=LEAP.getElement("[ctf=titlets]",q);r.innerHTML='"'+z.value+'"     ';
l.style.marginTop="24px";r.style.display="block";var j=q.getAttribute("modulename");if(j==null||j==""){var T=LEAP.getElement("[moduletype=search]");j=T.getAttribute("module");}var h=null;var V=K.split(":");if(V.length==1){h=V[0];}else{h=V[1];}var N=q.getAttribute("likefields");var O=q.getAttribute("searchfields");
if(N==null||N==""){N="";}if(O==null||O==""){O="";}var g=null;if(O==""&&N==""){g="";}else{if(N!=""&&O==""){g=N;}else{if(N==""&&O!=""){g=O;}else{g=N+","+O;}}}var D=LEAP.newsearch.getFields(g);g=g+","+D;LEAP.newsearch.xuh++;LEAP.request2({name:"pagemodule_searchKeyword",par:{key:h,name:j,fields:g,xuh:LEAP.newsearch.xuh},callback:LEAP.newsearch.callbackbuilding,arg:LEAP.ctid(q)});
z.removeAttribute("search");}else{l.style.marginTop="0px";var r=LEAP.getElement("[ctf=titlets]",q);r.innerHTML="";r.style.display="none";l.innerHTML="";l.style.width="100%";var d=LEAP.getElement("[ctf=childpage]",q);d.style.display="none";}var o=LEAP.getElement("[ctf=newsearchset]",q);o.style.display="block";
}}}}}}}}};LEAP.newsearch.getFields=function(d){var h=LEAP.getElements("[ctf=table_header]");if(h!=null){var l="";for(var g=0;g<h.length;g++){if(h[g].getAttribute("bt")!=null){if(h[g].getAttribute("bt")=="text"&&h[g].getAttribute("code")==null){if(d.indexOf(h[g].getAttribute("md"))==-1){if(g==0){l=h[g].getAttribute("md");
}else{l+=","+h[g].getAttribute("md");}}}}}var j=l.substring(0,1);if(j==","){l=l.substring(1,l.length);}return l;}};LEAP.newsearch.getPositionForInput=function(m){var j=0;if(document.selection){m.focus();var h=document.selection.createRange();h.moveStart("character",-m.value.length);j=h.text.length;var l=m.value;
l=l.substring(0,j);var g=null;var d=l.split(" ");if(d.length>1){g=d[d.length-1];}else{g=l;}return g;}else{if(m.selectionStart||m.selectionStart=="0"){j=m.selectionStart;}}return j;};LEAP.newsearch.getPositionForInput1=function(h){var g=0;if(document.selection){h.focus();var d=document.selection.createRange();
d.moveStart("character",-h.value.length);g=d.text.length;}else{if(h.selectionStart||h.selectionStart=="0"){g=h.selectionStart;}}return g;};LEAP.newsearch.trim=function(d){return d.replace(/(^\s*)|(\s*$)/g,"");};LEAP.newsearch.callbackbuilding=function(p,o){var j=LEAP.getElement("[ctid="+o+"]");var u=LEAP.getElement("[ctf=setlist]",j);
var g=LEAP.getElement("[ctf=searchinput]",j);if(p!=null){if(p[0].xuhao!=LEAP.newsearch.xuh){return;}LEAP.newsearch.res=p;var h=new StringBuffer();for(var l=0;l<LEAP.newsearch.res.length;l++){var w=LEAP.newsearch.res[l];var r=null;if(w.type==null||w.type=="time"){r="";}else{r=w.type;}var q=null;if(w.childnode!=null){q=LEAP.newsearch.childli.replace("@text",w.text).replace("@style","").replace("@dataid",l).replaceall("@nodevalue",w.value).replaceall("@nodefield",w.fieldname).replaceall("@nodetext",w.text).replace("@text1",r).replace("@nodetype",w.type);
}else{q=LEAP.newsearch.childli.replace("@text",w.text).replace("@style","display:none").replace("@dataid",l).replaceall("@nodevalue",w.value).replaceall("@nodefield",w.fieldname).replaceall("@nodetext",w.text).replace("@text1",r).replace("@nodetype",w.type);}h.append(q);}u.innerHTML=h.toString();if(LEAP.newsearch.res.length>11){u.style.height=(11*24)+"px";
u.style.overflowY="auto";u.style.overflowX="hidden";}else{u.style.height="";u.style.overflow="hidden";}var n=LEAP.getElements("[ctf=setlist_li]",j);LEAP.newsearch.keyevent(40,p,g,n,u,null,j);g.removeAttribute("dataid");g.removeAttribute("childid");}else{u.style.marginTop="0px";var m=LEAP.getElement("[ctf=titlets]",j);
m.innerHTML='"'+g.value+'"     ';u.innerHTML="";u.style.width="100%";var d=LEAP.getElement("[ctf=childpage]",j);d.style.display="none";}};LEAP.newsearch.buildchildpage=function(p,n,o,m){if(p!=null){if(p[o].childnode=="timechild"){var g=LEAP.getElement("[ctf=reschilds]",m);g.innerHTML=LEAP.newsearch.childpagetime;
var r=LEAP.getElement("[ctf=setlist]",m);r.style.width="60%";n.childNodes[2].className="curre";var d=LEAP.getElement("[ctf=childpage]",m);d.style.display="block";}else{if(p[o].childnode!=null){var h=LEAP.getElement("[ctf=restitle]",m);h.innerHTML=n.childNodes[0].innerHTML;var j=new StringBuffer();for(var l=0;
l<p[o].childnode.length;l++){var u=p[o].childnode[l];var q=null;q=LEAP.newsearch.childpagediv.replace("@text",u.text).replace("@nodevalue",u.value).replace("@dataid",l).replace("@nodefield",u.fieldname).replace("@nodetext",u.text).replace("@nodetype",u.type);j.append(q);}var g=LEAP.getElement("[ctf=reschilds]",m);
g.innerHTML=j.toString();var r=LEAP.getElement("[ctf=setlist]",m);r.style.width="60%";n.childNodes[2].className="curre";var d=LEAP.getElement("[ctf=childpage]",m);d.style.display="block";}else{var r=LEAP.getElement("[ctf=setlist]",m);r.style.width="100%";var d=LEAP.getElement("[ctf=childpage]",m);d.style.display="none";
}}}};LEAP.newsearch.changestr=function(w,l,h){var m=h.getAttribute("likefields");var d=h.getAttribute("searchfields");var g=null;if(m==null||m==""){m="";}if(d==null||d==""){d="";}if(d==""&&m==""){g="";}else{if(m!=""&&d==""){g=m;}else{if(m==""&&d!=""){g=d;}else{g=m+","+d;}}}var C=LEAP.newsearch.getFields(g);
g=g+","+C;var n=l.getAttribute("nodefield");var o=l.getAttribute("nodetext");var z=l.getAttribute("nodevalue");var D=l.getAttribute("nodetype");var B=w.length;var j=w.split(" ");var y=j.length;var r=j[y-1];var p=false;if(r==""){j.removeindex(j.length-1);p=true;}var A=LEAP.newsearch.getPositionForInput1(LEAP.getElement("[ctf=searchinput]",h));
if(B>A){if(j.length>1){var u="";for(var x=0;x<j.length;x++){if(x==j.length-1){if(g.indexOf(n.toLowerCase())>-1){var q=o.substring(0,o.indexOf(""));u+=" "+q+":"+z;}else{if(n=="areaid"){u+=" :"+l.innerHTML;}else{u+=" "+D+":"+l.innerHTML;}}}else{if(x==0){u+=j[x];}else{u+=" "+j[x];}}}if(p==true){return u+" ";
}else{return u;}}else{if(g.indexOf(n.toLowerCase())>-1){var q=o.substring(0,o.indexOf(""));if(p==true){return q+":"+z+" ";}else{return q+":"+z;}}else{if(n=="areaid"){if(p==true){return":"+l.innerHTML+" ";}else{return":"+l.innerHTML;}}else{if(p==true){return D+":"+l.innerHTML+" ";}else{return D+":"+l.innerHTML;
}}}}}else{if(j.length>1){var u="";for(var x=0;x<j.length;x++){if(x==j.length-1){if(g.indexOf(n.toLowerCase())>-1){var q=o.substring(0,o.indexOf(""));u+=" "+q+":"+z;}else{if(n=="areaid"){u+=" :"+l.innerHTML;}else{u+=" "+D+":"+l.innerHTML;}}}else{if(x==0){u+=j[x];}else{u+=" "+j[x];}}}if(p==true){return u+" ";
}else{return u;}}else{if(g.indexOf(n.toLowerCase())>-1){var q=o.substring(0,o.indexOf(""));if(p==true){return q+":"+z+" ";}else{return q+":"+z;}}else{if(n=="areaid"){if(p==true){return":"+l.innerHTML+" ";}else{return":"+l.innerHTML;}}else{if(p==true){return D+":"+l.innerHTML+" ";}else{return D+":"+l.innerHTML;
}}}}}};LEAP.newsearch.mouseout=function(g){if(g==null){return;}var o=g.e.srcElement;if(o==null){return;}var j=g.e.type;if(j==null){return;}var d=o.tagName;if(d==null){return;}var m=o.getAttribute("ctf");var h=null;if(m=="gjsstj"){h=LEAP._match(o,LEAP.newsearch.d);var l=LEAP.getElement("[ctf=gjss]",h);
var n=LEAP.getElement("[ctf=gjsstj]",h);n.style.display="none";l.style.cssText="background:url('"+leapconfig.server+"LEAP/Resource/images/itemstyle/newsearch/down.png') 72px center no-repeat !important;background-color:#EEEEEE !important;border-bottom-color: #d4d4d4";}};LEAP.newsearch.mouseover=function(o){if(o==null){return;
}var d=o.e.srcElement;if(d==null){return;}var m=o.e.type;if(m==null){return;}var p=d.tagName;if(p==null){return;}var n=d.getAttribute("ctf");var l=null;l=LEAP._match(d,LEAP.newsearch.d);var g=LEAP.getElement("[ctf=gjss]",l);var j=LEAP.getElement("[ctf=gjsstj]",l);g.style.cssText="background:url('"+leapconfig.server+"LEAP/Resource/images/itemstyle/newsearch/up.png') 72px center no-repeat !important;background-color:#EEEEEE !important;border-bottom-color: #EEEEEE";
j.style.display="block";var h=LEAP.getElement("[ctf=newsearchset]",l);h.style.display="none";};LEAP.newsearch.inputblur=function(d){var h=d.arg;var l=LEAP.getElement("[ctf=searchinput]",h);var j=LEAP.getElement("[ctf=tip]",d.arg);var g=LEAP.getElement("[ctf=newsearchset]",h);if(l.value==""){j.style.display="block";
}g.style.display="none";};LEAP.newsearch.inputfocus=function(d){var g=d.arg;var h=LEAP.getElement("[ctf=tip]",g);h.style.display="none";};LEAP.newsearch.setTipText=function(d,j){var h=LEAP.getElement("[ctf=tip]",d);h.innerHTML=j;h.style.display="block";var g=LEAP.getElement("[ctf=tip]",d);g.value="";
};LEAP.newsearch.setModule=function(g,h,j,d){if(g!=null){if(h!=null){g.setAttribute("modulename",h);}if(j!=null){g.setAttribute("likefields",j);}if(d!=null){g.setAttribute("searchfields",d);}}};LEAP.newsearch.init();LEAP.popupMenu={};LEAP.popupMenu.d="popupmenu";LEAP.popupMenu.it=null;LEAP.popupMenu.icons=null;
LEAP.popupMenu.tp=null;LEAP.popupMenu.currentut=null;LEAP.popupMenu.init=function(){if(document!=null&&document.body!=null){LEAP.popupMenu._init();}else{UIEventManager.addEvent(window,"load",LEAP.popupMenu._init);}UIEventManager.addEvent(window,"unload",LEAP.popupMenu._unload);ElementEventManager.addManagedEventType(LEAP.popupMenu.d,"OnClick");
};LEAP.popupMenu._unload=function(){var item=null;var sid=null;try{UIEventManager.removeEvent(window,"unload",LEAP.popupMenu._unload);ElementEventManager.removeEvent(LEAP.popupMenu.d,"OnClick");if(null!=LEAP.popupMenu.it){for(sid in LEAP.popupMenu.it.keys){LEAP.popupMenu.dispose(LEAP.popupMenu.it.getvalue(sid));
}}for(sid in LEAP.popupMenu){eval("LEAP.popupMenu."+sid+"=null;");}}finally{item=sid=null;}};LEAP.popupMenu._init=function(){var n=null;var l=null;var g=null;var m=null;var p=null;var h=null;var o=null;var d=null;try{LEAP.addEvent(document.body,"click",LEAP.popupMenu.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.popupMenu._init);
n=LEAP.getElements("[ctf=pop_item]");if(null!=n){for(l=0;l<n.length;l++){n[l].onmouseover=function(){this.className+=(this.className.length>0?" ":"")+"sfhover";};n[l].onmouseout=function(){this.className=this.className.replace(new RegExp("( ?|^)sfhover\\b"),"");};}}n=LEAP.getElements("ul[ct=popupmenu]");
if(null!=n){LEAP.popupMenu.it=new hashtable();for(l=0;l<n.length;l++){m=n[l].getAttribute("ut");if(null!=m){h=LEAP.getElements("[popupmenubtn]");if(null!=h){for(g=0;g<h.length;g++){o=h[g].getAttribute("popupmenubtn");if(null!=o){o=o.split(" ");if(m==o[0]){if(null!=o[1]){d={p:o[1],obj:n[l]};}else{d={p:null,obj:n[l]};
}LEAP.addEvent(h[g],"click",LEAP.popupMenu.click,d,null,true);}}}}LEAP.popupMenu.it.add(m,n[l]);}}}}finally{d=h=o=m=p=l=g=n=null;}};LEAP.popupMenu.click=function(d){var h=0;var j=0;var m=null;var g=null;try{if(null==d){return;}if(null==d.arg){return;}if(null==d.arg.obj){return;}if(null!=d.arg.p){m=LEAP.getElement("[popupmenusl="+d.arg.p+"]");
}if(null==m){m=d.caller;}g=m;while(true){if(null==g){break;}h+=g.offsetLeft;j+=g.offsetTop;g=g.offsetParent;}d.arg.obj.style.display="block";d.arg.obj.style.left=((h+d.arg.obj.offsetWidth)>document.body.offsetWidth?(h+m.offsetWidth-d.arg.obj.offsetWidth):h)+"px";d.arg.obj.style.top=((j+m.offsetHeight+d.arg.obj.offsetHeight)>document.body.offsetHeight?(j-d.arg.obj.offsetHeight):j+m.offsetHeight)+"px";
}finally{h=j=d=null;}};LEAP.popupMenu.uiProcess=function(u){var d=null;var l=null;var m=null;var g=null;var n=null;var j=null;var o=null;var r=false;var q=null;var p=null;var h=null;try{d=u.e.srcElement;if(null==d){return;}n=LEAP._match(d,LEAP.popupMenu.d);if(null==n){if(null!=LEAP.popupMenu.it){if(null==LEAP.popupMenu.currentut){for(g in LEAP.popupMenu.it.keys){m=LEAP.popupMenu.it.getvalue(g);
if(null!=m){h=d.getAttribute("popupmenubtn");if(null!=h){h=h.split(" ");if(g!=h[0]&&!r){m.style.display="none";LEAP.popupMenu.__uncover();}}else{m.style.display="none";LEAP.popupMenu.__uncover();}}}}else{for(g in LEAP.popupMenu.it.keys){m=LEAP.popupMenu.it.getvalue(g);if(null!=m){if(g!=LEAP.popupMenu.currentut){m.style.display="none";
LEAP.popupMenu.__uncover();}}}LEAP.popupMenu.currentut=null;}}return;}while(true){if(null==d){break;}if("BODY"==d.tagName){break;}if("pop_item"==d.getAttribute("ctf")){o=d.getAttribute("itemname");break;}d=d.parentNode;}if(null!=o){ElementEventManager.handleEvent(n,"OnClick",{itemname:o,data:d.data,eventobj:d});
if(m!=null){m.style.display="none";LEAP.popupMenu.__uncover();}}}finally{h=q=p=r=n=j=g=l=d=null;}};LEAP.popupMenu.getPop=function(g,j){var h=null;try{if(null==g||""==g){g="_globle_popbutton_v1.0";}h=LEAP.getElement("ul[ut="+g+"][ct=popupmenu]");if(h==null){if(null==j){if("CSS1Compat"==document.compatMode){j="nav_pop_DOCTYPE";
}else{if(LEAP.isIE){j="nav_pop";}else{j="nav_pop_DOCTYPE";}}}h=document.createElement("UL");document.body.appendChild(h);h.setAttribute("ut",g);h.setAttribute("ct","popupmenu");h.setAttribute("ctf","popupmenu_ul");h.className=j;if(null==LEAP.popupMenu.it){LEAP.popupMenu.it=new hashtable();}LEAP.popupMenu.it.add(g,h);
}LEAP.popupMenu.setWidth(h,"auto");LEAP.popupMenu.setHeight(h,"auto");return h;}catch(d){return null;}finally{j=h=g=null;}};LEAP.popupMenu.__cover=function(d){LEAP.asyn(LEAP.popupMenu.___cover,this,50,d);};LEAP.popupMenu.___cover=function(d){try{var j=LEAP.getElement("[ctf=popupmenu_cover]",d);if(j==null){j=document.createElement("iframe");
j.style.cssText="left: 0px; top: 0px; width: 100%; height: 100%; border:none; visibility: inherit; position: absolute; z-index: -1;";j.setAttribute("ctf","popupmenu_cover");j.src="javascript:false;";d.appendChild(j);}var g=d.getBoundingClientRect();j.style.top="0px";j.style.left="0px";j.style.width=(g.clientWidth-2)+"px";
j.style.height=(g.clientHeight-2)+"px";j.style.display="block";j.src="javascript:void(0)";try{j.contentWindow.document.write("");j.contentWindow.document.clear();j.contentWindow.close();}catch(h){}}finally{j=g=null;}};LEAP.popupMenu.__uncover=function(){};LEAP.popupMenu.rf=function(){var m=null;var o=null;
var u=null;var q=null;var y=null;var r=null;var B=null;var h=null;var g=null;var d=null;var w=null;var n=0;var C=0;var z=null;var A=null;try{if(null!=LEAP.popupMenu.it){for(m in LEAP.popupMenu.it.keys){r=LEAP.popupMenu.it.getvalue(m);if(null==r){continue;}y=r[ElementEventManager.e];if(null==y){LEAP.addEvent(r,"OnClick",LEAP.popupMenu.itemclick);
}else{if(0==y.keys.length){LEAP.addEvent(r,"OnClick",LEAP.popupMenu.itemclick);}}}}B=LEAP.getElements("[popupmenuicon]");if(null!=B){for(u=0;u<B.length;u++){d=false;if(null!=LEAP.popupMenu.icons){for(q=0;q<LEAP.popupMenu.icons.length;q++){if(B[u]==LEAP.popupMenu.icons[q]){d=true;break;}}}if(d){continue;
}h=B[u].getAttribute("popupmenuicon");g=h.split(" ");h=null;if(2>g.length){continue;}w=document.createElement("div");B[u].parentNode.insertBefore(w,B[u]);if(null!=g[3]&&""!=g[3]){w.className=g[3];}else{w.className="nav_pop_icon";}w.style.display="block";w.setAttribute("title","");w.iconposition=g[2];
w.style.width="16px";w.style.height="16px";if(null==LEAP.popupMenu.icons){LEAP.popupMenu.icons=new Array();}LEAP.popupMenu.icons.add(B[u]);LEAP.addEvent(w,"click",LEAP.popupMenu.icclick,{pic:g[0],pm:g[1]},null,true);if(null==B[u].onresize){LEAP.addEvent(B[u],"resize",LEAP.popupMenu.icresize,{obj:w,trgobj:B[u],type:g[2]},null,true);
}n=0;C=0;if("CSS1Compat"==document.compatMode||!LEAP.isIE){z=B[u];while(true){if(null==z){break;}n+=z.offsetLeft;C+=z.offsetTop;z=z.offsetParent;}z=null;}switch(g[2]){case"lefttop":w.style.left=n+"px";w.style.top=C+"px";break;case"righttop":w.style.left=(n+B[u].offsetWidth-w.offsetWidth)+"px";w.style.top=C+"px";
break;case"bottomleft":w.style.left=n+"px";w.style.top=(C+B[u].offsetHeight-w.offsetHeight)+"px";break;case"bottomright":w.style.left=(n+B[u].offsetWidth-w.offsetWidth)+"px";w.style.top=(C+B[u].offsetHeight-w.offsetHeight)+"px";break;default:w.style.left=(n+B[u].offsetWidth-w.offsetWidth)+"px";w.style.top=C+"px";
}o=LEAP.getElements("[popupmenuvalue="+g[0]+"]");if(null!=o){r=LEAP.getElement("UL[ut="+g[1]+"][ct=popupmenu]");if(null!=r){if(1<o.length){w.setAttribute("isprivite",false);for(q=0;q<o.length;q++){if(null==o[q].onfocus){o[q].tag_obj=r;LEAP.addEvent(o[q],"focus",LEAP.popupMenu.ckv,null,null,true);}}}else{w.setAttribute("isprivite",true);
}}r=null;}}}}catch(x){}finally{A=g=z=w=d=B=y=u=q=o=m=null;}};LEAP.popupMenu.icresize=function(d){var m=null;var n=null;var g=0;var j=0;try{if(null==d){return;}if(null==d.arg){return;}if(null==d.arg.obj){return;}if(null==d.arg.trgobj){return;}if("CSS1Compat"==document.compatMode){n=d.arg.trgobj;while(true){if(null==n){break;
}g+=n.offsetLeft;j+=n.offsetTop;n=n.offsetParent;}n=null;}switch(d.arg.type){case"lefttop":d.arg.obj.style.left=g+"px";d.arg.obj.style.top=j+"px";break;case"righttop":d.arg.obj.style.left=(g+d.arg.trgobj.offsetWidth-d.arg.obj.offsetWidth)+"px";d.arg.obj.style.top=j+"px";break;case"bottomleft":d.arg.obj.style.left=g+"px";
d.arg.obj.style.top=(j+d.arg.trgobj.offsetHeight-d.arg.obj.offsetHeight)+"px";break;case"bottomright":d.arg.obj.style.left=(g+d.arg.trgobj.offsetWidth-d.arg.obj.offsetWidth)+"px";d.arg.obj.style.top=(j+d.arg.trgobj.offsetHeight-d.arg.obj.offsetHeight)+"px";break;default:d.arg.obj.style.left=(g+d.arg.trgobj.offsetWidth-d.arg.obj.offsetWidth)+"px";
d.arg.obj.style.top=j+"px";}}catch(h){}finally{n=m=d=null;}};LEAP.popupMenu.icclick=function(d){var l=null;var h=null;var j=null;try{if(null==d.caller){return;}if(null==d.arg||""==d.arg){return;}if(null==d.arg.pm||""==d.arg.pm){return;}l=LEAP.getElement("UL[ut="+d.arg.pm+"][ct=popupmenu]");if(null==l){return;
}l.iconbtn=d.caller;if(d.caller.getAttribute("isprivite")){if(null==d.arg.pic||""==d.arg.pic){return;}h=LEAP.getElement("[popupmenuvalue="+d.arg.pic+"]");if(null==h){return;}l.tag_obj=h;}j=d.caller.iconposition;switch(j){case"lefttop":LEAP.popupMenu.show(l,d.caller,null,"leftbottomright");break;case"righttop":LEAP.popupMenu.show(l,d.caller,null,"rightbottomleft");
break;case"bottomleft":LEAP.popupMenu.show(l,d.caller,null,"lefttopright");break;case"bottomright":LEAP.popupMenu.show(l,d.caller,null,"righttopleft");break;default:LEAP.popupMenu.show(l,d.caller,null,"rightbottomleft");}}catch(g){}finally{l=d=null;}};LEAP.popupMenu.itemclick=function(d){var g=null;try{if(null==d){return;
}if(null==d.caller){return;}if(null==d.arg2){return;}if(null==d.arg2.eventobj){return;}if(null==d.caller.tag_obj){return;}g=LEAP.popupMenu.getText(d.arg2.eventobj);g=null==g?"":g;if(null!=d.caller.tag_obj.value){d.caller.tag_obj.value+=g;}else{d.caller.tag_obj.innerText+=g;}if(null==d.caller.iconbtn){return;
}if(!d.caller.iconbtn.getAttribute("isprivite")){d.caller.tag_obj=null;}}catch(h){return;}finally{g=d=null;}};LEAP.popupMenu.ckv=function(d){try{if(null==d){return;}if(null==d.caller){return;}if(null==d.caller.tag_obj){return;}d.caller.tag_obj.tag_obj=d.caller;}catch(g){return;}finally{d=null;}};LEAP.popupMenu.getText=function(h){var g=null;
var j=null;try{j=LEAP._match(h,LEAP.popupMenu.d);if(null==j){return null;}g=LEAP.getElement("[ctf=pop_text]",h);if(null==g){return null;}return g.innerText;}catch(d){return null;}finally{h=g=j=null;}};LEAP.popupMenu.show=function(r,g,w,x){var j=null;var o=null;var m=0;var y=0;var n=null;var h=null;try{r=LEAP._match(r,LEAP.popupMenu.d);
if(null==r){return;}j=r.getAttribute("ut");if(null==j){return;}n="CSS1Compat"==document.compatMode?document.documentElement:document.body;if(null!=g&&"object"==typeof(g)){if(null!=w&&"object"==typeof(w)){w.setAttribute("popupmenubtn",j);}else{g.setAttribute("popupmenubtn",j);}var q=LEAP._match(g,"tree","ct",99);
o=g;while(true){if(null==o){break;}m+=o.offsetLeft;y+=o.offsetTop;o=o.offsetParent;}r.style.display="block";if(r.clientHeight>document.body.clientHeight-200){LEAP.popupMenu.setHeight(r,document.body.clientHeight-200);}var p=0;var d=0;if(q!=null&&q.scrollLeft){p=q.scrollLeft;}if(q!=null&&q.scrollTop){d=q.scrollTop;
}switch(x){case"lefttopleft":r.style.left=(m>r.offsetWidth?m-r.offsetWidth:m)-p+"px";r.style.top=(y>r.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";break;case"lefttopright":r.style.left=(m+r.offsetWidth>n.offsetWidth?m-r.offsetWidth:m)-p+"px";r.style.top=(y>r.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";
break;case"righttopleft":r.style.left=(m+g.offsetWidth>r.offsetWidth?m+g.offsetWidth-r.offsetWidth:m+g.offsetWidth)-p+"px";r.style.top=(y>r.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";break;case"righttopright":r.style.left=(m+g.offsetWidth+r.offsetWidth>n.offsetWidth?m+g.offsetWidth-r.offsetWidth:m+g.offsetWidth)-p+"px";
r.style.top=(y>r.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";break;case"rightbottomleft":r.style.left=(m+g.offsetWidth>r.offsetWidth?m+g.offsetWidth-r.offsetWidth:m+g.offsetWidth)-p+"px";r.style.top=(y+g.offsetHeight+r.offsetHeight>n.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";break;
case"rightbottomright":r.style.left=(m+g.offsetWidth+r.offsetWidth>n.offsetWidth?m+g.offsetWidth-r.offsetWidth:m+g.offsetWidth)-p+"px";r.style.top=(y+g.offsetHeight+r.offsetHeight>n.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";break;case"leftbottomleft":r.style.left=(m>r.offsetWidth?m-r.offsetWidth:m)-p+"px";
r.style.top=(y+g.offsetHeight+r.offsetHeight>n.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";break;case"leftbottomright":r.style.left=(m+r.offsetWidth>n.offsetWidth?m-r.offsetWidth:m)-p+"px";r.style.top=(y+g.offsetHeight+r.offsetHeight>n.offsetHeight?y-r.offsetHeight:y+g.offsetHeight)-d+"px";
break;default:r.style.left=((m+r.offsetWidth)>n.offsetWidth?(m+g.offsetWidth-r.offsetWidth):m)-p+"px";r.style.top=((y+g.offsetHeight+r.offsetHeight)>n.offsetHeight?(y-r.offsetHeight):y+g.offsetHeight)-d+"px";}}else{h=LEAP.popupMenu._getEvent();LEAP.popupMenu.currentut=j;r.style.display="block";if(r.clientHeight>document.body.clientHeight-200){LEAP.popupMenu.setHeight(r,document.body.clientHeight-200);
}r.style.left=((r.offsetWidth+h.clientX>document.body.clientWidth?h.clientX-r.offsetWidth:h.clientX)+n.scrollLeft)+"px";r.style.top=((r.offsetHeight+h.clientY>document.body.clientHeight?h.clientY-r.offsetHeight:h.clientY)+n.scrollTop)+"px";}LEAP.popupMenu.__cover(r);}catch(u){}finally{h=n=m=y=o=j=r=g=w=null;
}};LEAP.popupMenu._getEvent=function(){var h=null;try{if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion<10){return window.event;}h=LEAP.popupMenu._getEvent.caller;while(h!=null){var g=h.arguments[0];if(g){if((g.constructor==Event||g.constructor==MouseEvent)||(typeof(g)=="object"&&g.preventDefault&&g.stopPropagation)){return g;
}}h=h.caller;}return null;}catch(d){}finally{h=null;}};LEAP.popupMenu.setWidth=function(l,d){var g=null;var j=null;try{l=LEAP._match(l,LEAP.popupMenu.d);if(null==l){return false;}if(d!="auto"){d=d+"px";}l.style.width=d;g=LEAP.getElements("LI",l);if(null!=g){for(j=0;j<g.length;j++){g[j].style.width=d;
}}g=LEAP.getElements("[ctf=pop_text]",l);if(null!=g){for(j=0;j<g.length;j++){g[j].style.width=d;}}return true;}catch(h){return false;}finally{j=g=l=d=null;}};LEAP.popupMenu.setHeight=function(j,g){try{j=LEAP._match(j,LEAP.popupMenu.d);if(null==j){return false;}if(g=="auto"){if(!LEAP.isIE){j.style.overflowY="hidden";
}j.style.height="auto";}else{j.style.overflowY="auto";if(!LEAP.isIE){j.style.overflowX="hidden";}j.style.height=g+"px";}}catch(d){return false;}finally{j=g=null;}};LEAP.popupMenu.getChildNodesCount=function(g){try{g=LEAP._match(g,LEAP.popupMenu.d);if(null==g){return 0;}return g.childNodes.length;}catch(d){return 0;
}finally{g=null;}};LEAP.popupMenu._getnewitem=function(l,h,g){var m=null;var d=null;try{if(null!=LEAP.popupMenu.tp&&""!=LEAP.popupMenu.tp){m=document.createElement("ul");m.innerHTML=LEAP.popupMenu.tp;m=m.childNodes[0];}else{m=document.createElement("LI");}m.style.width=l.style.width;m.style.height="25px";
m.setAttribute("ctf","pop_item");m.setAttribute("itemname",h);m.setAttribute("title",g);m.className="nav_pop_li";d=LEAP.getElement("A[ctf=pop_text]",m);if(null==d){d=document.createElement("A");if(LEAP.isIE){d.className="nav_pop_a";}d.setAttribute("ctf","pop_text");d.style.width=l.style.width;d.style.height="16px";
m.appendChild(d);}d.appendChild(document.createTextNode(g));if(null==m.onmouseover){m.onmouseover=function(){this.className+=(this.className.length>0?" ":"")+"sfhover";};}if(null==m.onmouseout){m.onmouseout=function(){this.className=this.className.replace(new RegExp("( ?|^)sfhover\\b"),"");};}return m;
}catch(j){return null;}finally{m=l=h=g=null;}};LEAP.popupMenu.insertBefore=function(o,h,g,m){var p=null;var d=null;var l=null;try{o=LEAP._match(o,LEAP.popupMenu.d);if(null==o){return false;}p=LEAP.popupMenu._getnewitem(o,h,g);if(null==p){return false;}d=LEAP.getElement("LI[itemname="+m+"]",o);if(null==d){return false;
}l=d.parentNode;if(null==l){return false;}if("UL"!=l.tagName){return false;}l.insertBefore(p,d);return true;}catch(j){return false;}finally{l=d=p=o=h=g=m=null;}};LEAP.popupMenu.addItem=function(r,g,l,q){var h=null;var m=null;var o=null;var j=null;try{m=LEAP._match(r,LEAP.popupMenu.d);if(null==m){return null;
}if(LEAP.popupMenu.d==r.getAttribute("ct")){o=m;}else{for(j=0;j<r.childNodes.length;j++){if("UL"==r.childNodes[j].tagName){o=r.childNodes[j];break;}}if(null==o){o=document.createElement("UL");r.appendChild(o);}}if(null==o){return null;}if("UL"!=o.tagName){return null;}h=LEAP.popupMenu._getnewitem(m,g,l);
if(null==h){return null;}if(null!=q){h.data=q;}o.appendChild(h);return h;}catch(p){return null;}finally{j=q=h=o=m=g=l=r=null;}};LEAP.popupMenu.removeItem=function(l,d){var m=null;var j=null;var h=null;try{l=LEAP._match(l,LEAP.popupMenu.d);if(null==l){return false;}m=LEAP.getElement("LI[itemname="+d+"]",l);
if(null==m){return false;}j=m.parentNode;if(null==j){return false;}for(h=0;h<m.childNodes.length;h++){if("UL"==m.childNodes[h].tagName){LEAP.popupMenu._removeF(m.childNodes[h]);}}m.onmouseout=null;m.onmouseover=null;j.removeChild(m);return true;}catch(g){return false;}finally{h=m=l=d=null;}};LEAP.popupMenu.dispose=function(j){var d=null;
var h=null;try{j=LEAP._match(j,LEAP.popupMenu.d);if(null==j){return;}h=j.getAttribute("ut");d=j.parentNode;if(null==d){return;}LEAP.popupMenu._removeF(j);d.removeChild(j);if(null!=LEAP.popupMenu.it){LEAP.popupMenu.it.remove(h);}}catch(g){}finally{j=null;}};LEAP.popupMenu.removeAll=function(h){var g=null;
try{h=LEAP._match(h,LEAP.popupMenu.d);if(null==h){return;}LEAP.popupMenu._removeF(h);for(g=h.childNodes.length-1;g>=0;g--){h.removeChild(h.childNodes[g]);}}catch(d){return false;}finally{g=h=null;}};LEAP.popupMenu.removeChild=function(j,d){var l=null;var h=null;try{j=LEAP._match(j,LEAP.popupMenu.d);if(null==j){return false;
}l=LEAP.getElement("LI[itemname="+d+"]",j);if(null==l){return false;}for(h=l.childNodes.length-1;h>=0;h--){if("UL"==l.childNodes[h].tagName){LEAP.popupMenu._removeF(l.childNodes[h]);l.removeChild(l.childNodes[h]);}}return true;}catch(g){return false;}finally{h=l=j=d=null;}};LEAP.popupMenu.updateText=function(l,g,j){var m=null;
var d=null;try{l=LEAP._match(l,LEAP.popupMenu.d);if(null==l){return false;}m=LEAP.getElement("LI[itemname="+g+"]",l);if(null==m){return false;}d=m.getElementsByTagName("A");if(null==d){if(null!=m.firstChild){m.firstChild.nodeValue=j;}else{m.innerText=j;}}else{if(d.length>0){d[0].innerText=j;}else{if(null!=m.firstChild){m.firstChild.nodeValue=j;
}else{m.innerText=j;}}}return true;}catch(h){return false;}finally{d=m=l=g=j=null;}};LEAP.popupMenu._removeF=function(j){var d=null;var h=null;try{if(null==j){return false;}d=LEAP.getElements("LI[ctf=pop_item]",j);if(null==d){return false;}for(h=0;h<d.length;h++){d[h].onmouseout=null;d[h].onmouseover=null;
}}catch(g){return false;}finally{h=d=j=null;}};LEAP.popupMenu.hidden=function(){LEAP.popupMenu.__uncover();var d=null;var g=null;try{if(null!=LEAP.popupMenu.it){for(d in LEAP.popupMenu.it.keys){g=LEAP.popupMenu.it.getvalue(d);if(null!=g){g.style.display="none";}}}}finally{g=d=null;}};LEAP.popupMenu.init();
LEAP.safeString=function(){this._ihl="\u0069\u006e\u006e\u0065\u0072\u0048\u0054\u004d\u004c";this._src="\u0073\u0072\u0063";this._location="\u006c\u006f\u0063\u0061\u0074\u0069\u006f\u006e";this._href="\u0068\u0072\u0065\u0066";this._key="\u006b\u0065\u0079";this._ck="\u0063\u006f\u006f\u006b\u0069\u0065";
this.buildInnerHTML=function(j,h){if(j!=null){j[this._ihl]=h;}};this.buildSRC=function(j,h){if(j!=null){j[this._src]=h;}};this.href=function(g){window[this._location][this._href]=g;};this.openW=function(){window["\u006f\u0070\u0065\u006e"].apply(null,arguments);};};var safestring=new LEAP.safeString();
LEAP.safeString.getCK=function(){return safestring._ck;};var scrollbar=function(d){this._wheelData=-1;this.scrollDiv=null;this.mainBox=d.boxel;this.contentBox=d.contentel;this.scrollwidth=d.width;this.scrollcolor=d.color;this.flag=0;this.rate=0;this.wheelFlag=0;this.scrollFlag=false;this.init=function(){this.scrollDiv=this._createScroll();
this._resizeScorll();LEAP.addEvent(this.scrollDiv,"mousedown",this._tragScroll,null,this,true);LEAP.addEvent(this.mainBox,"mousewheel",this._tragScroll,null,this,true);LEAP.addEvent(this.scrollDiv.parentNode,"click",this._tragScroll,null,this,true);this.bindResizeEvent();};this.bindResizeEvent=function(){var g=UUID.cID();
this.contentBox.setAttribute("__scrollid",g);this.contentBox.setAttribute("__resizeheight",this.contentBox.clientHeight);};this._createScroll=function(){var h=document.createElement("div");var g=document.createElement("div");h.setAttribute("ctf","scrollbarbox");h.style.zIndex="99";h.appendChild(g);g.className="scrollDiv";
if(this.scrollwidth!=null){g.style.width=this.scrollwidth;}if(this.scrollcolor!=null){g.style.background=this.scrollcolor;}this.mainBox.appendChild(h);return g;};this.initValue=function(){if(this.scrollFlag==false){this._wheelData=-1;this.flag=0;this.rate=0;this.wheelFlag=0;if(this.contentBox.style.position=="absolute"){this.contentBox.style.top="0px";
}else{this.contentBox.style.marginTop="0px";}this.scrollDiv.style.top="";}};this._resizeScorll=function(){var n=this.scrollDiv.parentNode;var h=this.contentBox.offsetHeight;var g=this.mainBox.clientWidth;var j=this.mainBox.clientHeight;var m=parseInt(j*(j/h));if(m>=this.mainBox.clientHeight){LEAP.removeCSS(this.scrollDiv,"scrolldis",false);
this.scrollFlag=false;}else{LEAP.addCSS(this.scrollDiv,"scrolldis");this.scrollFlag=true;}var o=this.scrollDiv.offsetWidth;if(this.scrollFlag==false){o=0;}var l=g-o;n.style.width=o+"px";n.style.height=j+"px";n.style.left=l+"px";n.style.position="absolute";n.style.zIndex="99";n.style.top="0px";this.contentBox.style.width=(this.mainBox.offsetWidth-o)+"px";
this.initValue();this.scrollDiv.style.height=m+"px";};this._tragScroll=function(B){var g=B.e.srcElement;var p=B.e;var w=g.getAttribute("ctf");var q=B.e.type;var x=null;var j=null;var h=null;if(B.arg!=null){x=B.arg.mainHeight;j=B.arg.etop;h=B.arg.scrollTop;}if(!this.scrollDiv){return;}if(q=="mousedown"){var u=this.mainBox.clientHeight;
var m=this.scrollDiv.offsetTop;var r=p.clientY;var l={};l.mainHeight=u;l.etop=r;l.scrollTop=m;LEAP.addEvent(document.body,"mousemove",this._tragScroll,l,this,true);LEAP.addEvent(document.body,"mouseup",this._tragScroll,l,this,true);}if(q=="mousemove"){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();
var A=p.clientY;var z=A-j+h;if(z>(x-this.scrollDiv.offsetHeight)){z=x-this.scrollDiv.offsetHeight;}if(z<=0){z=0;}this.scrollDiv.style.top=z+"px";var o=-z*(this.contentBox.offsetHeight/this.mainBox.offsetHeight)+"px";if(this.contentBox.style.position=="absolute"){this.contentBox.style.top=o;}else{this.contentBox.style.marginTop=o;
}this._wheelData=z;}if(q=="mouseup"){LEAP.removeEvent(document.body,"mousemove",this._tragScroll,true);LEAP.removeEvent(document.body,"mouseup",this._tragScroll,true);}if(q=="mousewheel"){if(this.scrollFlag==true){var n=-(p.wheelDelta?p.wheelDelta:p.detail*40);this.wheelFlag+=n;if(this._wheelData>=0){this.flag=this._wheelData;
this.scrollDiv.style.top=this.flag+"px";this.wheelFlag=this._wheelData*12;this._wheelData=-1;}else{this.flag=this.wheelFlag/12;}if(this.flag<=0){this.flag=0;this.wheelFlag=0;}if(this.flag>=(this.mainBox.offsetHeight-this.scrollDiv.offsetHeight)){this.flag=(this.mainBox.clientHeight-this.scrollDiv.offsetHeight);
this.wheelFlag=(this.mainBox.clientHeight-this.scrollDiv.offsetHeight)*12;}this.scrollDiv.style.top=this.flag+"px";var o=-this.flag*(this.contentBox.offsetHeight/this.mainBox.offsetHeight)+"px";if(this.contentBox.style.position=="absolute"){this.contentBox.style.top=o;}else{this.contentBox.style.marginTop=o;
}if(document.all){window.event.returnValue=false;}else{event.preventDefault();}}}if(q=="click"){var y=document.documentElement.scrollTop>0?document.documentElement.scrollTop:document.body.scrollTop;var r=this.mainBox.offsetTop;var A=p.clientY+y-r-this.scrollDiv.offsetHeight/2;if(A<=0){A=0;}if(A>=(this.mainBox.clientHeight-this.scrollDiv.offsetHeight)){A=this.mainBox.clientHeight-this.scrollDiv.offsetHeight;
}if(g!=this.scrollDiv){this.scrollDiv.style.top=A+"px";var o=-A*(this.contentBox.offsetHeight/this.mainBox.offsetHeight)+"px";if(this.contentBox.style.position=="absolute"){this.contentBox.style.top=o;}else{this.contentBox.style.marginTop=o;}this._wheelData=A;}}};this.init();};LEAP.simplecheck={};LEAP.simplecheck.d="simplecheck";
LEAP.simplecheck.init=function(){if(document!=null&&document.body!=null){LEAP.simplecheck._init();}else{UIEventManager.addEvent(window,"load",LEAP.simplecheck._init);}ElementEventManager.addManagedEventType(LEAP.simplecheck.d,"valueChange");};LEAP.simplecheck._init=function(){LEAP.addEvent(document.body,"click",LEAP.simplecheck.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.simplecheck._init);};LEAP.simplecheck.uiProcess=function(B){var d=B.e.srcElement;var u=B.e.type;var A=null;try{A=LEAP.simplecheck.getGroupItems(d);var n=null;var h=null;if(A!=null){var m=A.length;var z=null;if(m>0){var w=d.getAttribute("checktype");if(w==null||w!="check"){w="radio";
}var r=true;if(w=="check"){r=false;}var x=d.checked;if(x){d.checked=false;h=LEAP.simplecheck.getValue(d);d.checked=true;}else{d.checked=true;h=LEAP.simplecheck.getValue(d);d.checked=false;}if(r){if(x){for(var p=0;p<m;p++){var y=A[p];if(y!=d&&y.checked){y.checked=false;}y=null;}}}else{}var g=false;for(var o=0;
o<m;o++){z=A[o];var q=z[ElementEventManager.e];if(q!=null&&q.contains("valueChange")){g=true;break;}}n=LEAP.simplecheck.getValue(d);if(g){ElementEventManager.handleEvent(z,"valueChange",{newvalue:n,oldvalue:h,src:d,pv:h,lv:n});}}}}finally{A=d=B=n=h=q=null;}};LEAP.simplecheck.getGroupItems=function(d,o){var j=null;
try{var l=d.getAttribute(commfields.ctg);if(l==null||l!=LEAP.simplecheck.d){return;}var m=d.getAttribute(commfields.md);if(m==null){return;}var p=d.getAttribute(commfields.instance);if(p==null){return;}var n=d.getAttribute(commfields.value);if(n==null){return;}var g=LEAP.getLoadedModule(p);if(g==null){return;
}var h="input[md="+m+"][instance="+p+"]";if(o!=null){h+=":checked";}j=LEAP.getElements(h,g.parentElement);return j;}finally{d=g=null;}};LEAP.simplecheck.getValue=function(m){var n=null;try{n=LEAP.simplecheck.getGroupItems(m,true);if(n!=null){var d=n.length;var h=[];for(var j=0;j<d;j++){var o=n[j];var g=o.getAttribute(commfields.value);
if(!String.isEmpty(g)){h.add(g);}o=null;}if(h.length>0){return h.join(",");}return null;}else{return null;}}finally{n=m=null;}};LEAP.simplecheck.setValue=function(m,o){var n=null;try{n=LEAP.simplecheck.getGroupItems(m);if(n!=null){var h=null;if(!String.isEmpty(o)){h=o.trim().split(",");}var d=n.length;
for(var j=0;j<d;j++){var p=n[j];var g=p.getAttribute(commfields.value);if(h==null){p.checked=false;}else{if(!String.isEmpty(g)&&h.contains(g)){p.checked=true;}else{p.checked=false;}}p=null;}}}finally{n=m=null;}};LEAP.simplecheck.init();LEAP.stat={};LEAP.stat.d="stat";LEAP.stat.init=function(){ElementEventManager.addManagedEventType(LEAP.stat.d,"statclick");
if(document!=null&&document.body!=null){LEAP.stat._init();}else{UIEventManager.addEvent(window,"load",LEAP.stat._init);}};LEAP.stat._init=function(){LEAP.addEvent(document.body,"click",LEAP.stat.uiProcess,null,null,true);};LEAP.stat.uiProcess=function(d){var o=d.e.srcElement;var n=o.getAttribute("ctf");
var l=d.e.type;if(n!=null&&o.getAttribute("canclick")=="1"&&n.startsWith("stat_")){var j=LEAP._match(o,LEAP.stat.d);if(j!=null&&j.getAttribute("ct")=="stat"){var m=o.getAttribute("_cols");var g=o.getAttribute("_cells");if(String.isEmpty(m)){m=null;}else{m=m.split(",");}if(String.isEmpty(g)){g=null;}else{g=g.split(",");
}var h=null;if(m!=null){h=m[m.length-1];}ElementEventManager.handleEvent(j,"statclick",{caller:o,type:n.substring(5),cols:m,cells:g,x:o.getAttribute("x"),y:o.getAttribute("y"),value:o.innerHTML,id:o.getAttribute("_id"),name:o.getAttribute("_name"),key:h});}j=null;}d=o=null;};LEAP.stat.clear=function(h){var j=LEAP.getElement("thead",h);
LEAP.removeElement(j.rows,true);j=null;var g=LEAP.getElement("tbody",h);LEAP.removeElement(g.rows,true);g=null;var d=LEAP.getElement("div.flashchart:first",h);if(d!=null){LEAP.flashchart.setValue(d,null);d=null;}};LEAP.stat.setValue=function(z,ag){if(ag==null){LEAP.stat.clear(z);return;}var o=ag.result!=null;
if(!o){LEAP.messagebox.alert("ResultSet!",2);return;}var aj=null;var L=ag.metaData;var h=z.getAttribute("namefiled");var ac=ag.result.length;var V=null;var R=null;var af=null;if(ag.metaData!=null){var y=ag.metaData.length;for(var ae=0;ae<y;ae++){var C=ag.metaData[ae];var x=C.name;if(x=="id"){aj=[];
for(var ad=0;ad<ac;ad++){aj.add(ag.result[ad][ae]);}V=ae;}else{if(String.isEmpty(h)){h=x;}if(h==x){af=[];for(var ad=0;ad<ac;ad++){af.add(ag.result[ad][ae]);}R=ae;}}if(aj!=null&&!String.isEmpty(h)){break;}}if(V!=null){ag.metaData.removeindex(V);for(var ad=0;ad<ac;ad++){ag.result[ad].removeindex(V);}}}var aa=LEAP.convertResult(ag);
var D=String.getString(z.getAttribute("swaprc"),"0");if(D=="1"){if(!(F instanceof Array)){F=[F];}var ab=F.length;var ah=ag.metaData.length;var L=[];var H=[];for(var ae=0;ae<ah;ae++){var C=ag.metaData[ae];var p=C.cnName;if(String.isEmpty(p)){p=C.name;}if(ae==0){L[0]={name:C.name,cnName:C.cnName};}else{H[ae-1]=[];
H[ae-1][0]=p;}}var o=ag.result!=null;if(!o){var F=aa;for(var ae=0;ae<ab;ae++){var q=F[ae];var Y=0;for(var B in q){var W=q[B];if(Y==0){L[ae+1]={name:W};}else{H[Y-1][ae+1]=W;}Y++;}}}else{var ab=ag.result.length;var y=ag.metaData.length;for(var ae=0;ae<ab;ae++){var q=ag.result[ae];var Y=0;for(var ad=0;ad<y;
ad++){var W=q[ad];if(ad==0){L[ae+1]={name:W};}else{H[ad-1][ae+1]=W;}Y++;}}}ag={metaData:L,result:H,javaClass:commfields.rsc};aa=LEAP.convertResult(ag);}else{D=0;}var X=z.getAttribute("headers");var G=z.getAttribute("cells");var w=z.getAttribute("headerclick");var U=z.getAttribute("cellclick");var Q=z.getAttribute("resultclick");
var r=String.getString(z.getAttribute("rowspan"),"1")=="1";if(w==null){w=0;}if(U==null){w=0;}if(Q==null){w=0;}z[LEAP.table.a]=null;dyna=true;if(String.isEmpty(X)){X=0;}else{X=X*1;}if(String.isEmpty(G)){G=0;}else{G=G*1;}var m=LEAP.getElement("thead",z);LEAP.removeElement(m.rows,true);var u=[];if(X==0){var A=document.createElement("TR");
m.appendChild(A);var y=ag.metaData.length;var T=null;for(var ae=0;ae<y;ae++){var C=ag.metaData[ae];var x=C.name;u[ae]=[];u[ae].add(x);if(T!=null&&x==T.innerHTML){T.colSpan+=1;continue;}var p=C.cnName;if(String.isEmpty(p)){p=x;}var g=document.createElement("TH");A.appendChild(g);g.innerText=p;g.md=x;g.setAttribute("isstat","1");
g._colspan="1";if((ae+1)<G){g._rowspan="1";}T=g;g.style.borderTopWidth="0px";if(ae==0){g.style.borderLeft="1px solid #8ca2c9";}else{g.style.borderLeftWidth="0px";}g.setAttribute("ctf","stat_header");g.x=1;g.y=ae+1;if(w==1){g.setAttribute("canclick","1");g.style.textDecoration="underline";g.style.cursor="pointer";
}if(D==1&&ae>0){if(aj!=null){g.setAttribute("_id",aj[ae]);}if(af!=null){g.setAttribute("_name",af[ae]);}}}T=null;}if(X>0){var y=ag.metaData.length;var T=null;var J=[];for(var ae=0;ae<X;ae++){if(ae>=ag.result.length){break;}J[ae]=[];var A=document.createElement("TR");m.appendChild(A);var K=ag.result[ae];
for(var ad=0;ad<y;ad++){var x=K[ad];if(ae==0){u[ad]=[];}u[ad].add(x);if(r&&T!=null&&x==T.innerHTML){T.colSpan+=1;J[ae][ad]=T;continue;}var M=document.createElement("TH");J[ae][ad]=M;M.innerHTML=x;M.setAttribute("isstat","1");M.setAttribute("ctf","stat_header");A.appendChild(M);T=M;M.style.borderTopWidth="0px";
if(ae==0){M.style.backgroundColor="#cbe4fa";}else{if(ae==1){M.style.backgroundColor="#DFEDFC";}else{M.style.backgroundColor="#EDF4FC";}}if(ad==0){M.style.borderLeft="1px solid #8ca2c9";}else{M.style.borderLeftWidth="0px";}if(w==1){M.setAttribute("canclick","1");M.style.textDecoration="underline";M.style.cursor="pointer";
}if(ad==0){M.style.borderLeftWidth="1px";M.style.borderLeftColor="#8ca2c9";}M.x=ae+1;M.y=ad+1;if(D==0){if(aj!=null){M.setAttribute("_id",aj[ae]);}if(af!=null){M.setAttribute("_name",af[ae]);}}else{if(ad>0){if(aj!=null){M.setAttribute("_id",aj[ad]);}}}if(af!=null){M.setAttribute("_name",af[ad]);}}}if(X>1){for(var ae=0;
ae<X-1;ae++){for(var ad=0;ad<y;ad++){var M=J[ae][ad];var N=J[ae+1][ad];if(M==N){continue;}if(M.innerHTML==N.innerHTML){M.rowSpan+=1;J[ae+1][ad]=M;LEAP.removeElement(N);}}}}T=null;}var O=ag.result.length;var S=LEAP.getElement("tbody",z);LEAP.removeElement(S.rows,true);var P=[];for(var ae=X;ae<O;ae++){var A=document.createElement("TR");
S.appendChild(A);if((ae%2)==0){A.style.backgroundColor=LEAP.table.spcolor;}else{A.style.backgroundColor=LEAP.table.scolor;}P[ae]=[];var K=ag.result[ae];var I=null;for(var ad=0;ad<y;ad++){var x=K[ad];if(G>ad){if(I==null){I=[];}I.add(x);}if(r&&G>ad&&ae>X){var d=P[ae-1][ad];if(x==d.innerHTML){d.setAttribute("_cells",I.toString());
P[ae][ad]=d;d.rowSpan+=1;continue;}}var M=document.createElement("TD");M.setAttribute("_cols",u[ad].toString());if(I!=null){M.setAttribute("_cells",I.toString());}if(String.isEmpty(x)){x="0";}M.innerHTML=x;M.style.textAlign="center";A.appendChild(M);if(G>0){P[ae][ad]=M;}M.x=ae+1;M.y=ad+1;M.style.borderTopWidth="0px";
if(ad==0){M.style.borderLeft="1px solid #ccc";}else{M.style.borderLeftWidth="0px";}if(G>ad){M.setAttribute("ctf","stat_cell");M.setAttribute("iscol","1");if(U==1){M.setAttribute("canclick","1");M.style.textDecoration="underline";M.style.cursor="pointer";}M.style.color="#999999";}else{M.setAttribute("ctf","stat_result");
var Z=LEAP.tonum(x);if(Z!=0){M.style.color="blue";if(Q==1){M.setAttribute("canclick","1");M.style.textDecoration="underline";M.style.cursor="pointer";}}}if(D==0){if(aj!=null){M.setAttribute("_id",aj[ae]);}if(af!=null){M.setAttribute("_name",af[ae]);}}else{if(ad>0){if(aj!=null){M.setAttribute("_id",aj[ad]);
}if(af!=null){M.setAttribute("_name",af[ad]);}}}}}for(var ae=X;ae<O;ae++){for(var ad=1;ad<y;ad++){if(G>ad){var M=P[ae][ad];var d=P[ae][ad-1];if(M.rowSpan>1||d.rowSpan>1){continue;}if(r&&M.innerHTML==d.innerHTML){LEAP.removeElement(M);d.colSpan+=1;P[ae][ad]=d;}}}}P=m=S=null;var ai=LEAP.getElement("div.flashchart:first",z);
if(ai!=null){ai.setAttribute("namefield",h);if(X>0){var L=[];var y=ag.metaData.length;ag.metaData=L;for(var ae=0;ae<y;ae++){var C={name:ag.result[X-1][ae]};L.add(C);}for(var ae=0;ae<X;ae++){ag.result.removeindex(0);}}if(ag.result.length>0){LEAP.flashchart.setValue(ai,ag);}else{LEAP.flashchart.setValue(ai,null);
}}};LEAP.stat.init();LEAP.statchart={};LEAP.statchart.d="statchart";LEAP.statchart.init=function(){ElementEventManager.addManagedEventType(LEAP.statchart.d,"click");}();LEAP.statchart.initLinkChart=function(d){if(d==null){return;}d=LEAP._check(d,LEAP.statchart.d);if(null==d){return;}var h=d.getAttribute("linkstatname");
if(h==null||h==""||h.indexOf(".")<0){return;}var g=h.split(".");if(g==null||g.length!=2){return;}if(!g[0]||!g[1]){return;}LEAP.request2({name:"stat_searchStatResult",par:{headname:g[0],statname:g[1]},callback:LEAP.statchart.initChartConfig,arg:d});};LEAP.statchart.initChartConfig=function(bean,element){if(bean==null){return;
}var viewpanel=false;var values=bean.data;if(values==null){viewpanel=true;}var statsource=bean.statsource;var conditions=bean.conditions;if(conditions==null){return;}var config={};config.stattype=conditions.stattype;var statx=conditions.statx;if(statx!=null&&statx.length>0){config.statx=statx.split(";");
}var staty=conditions.staty;if(staty!=null){config.staty=staty.split(";");}var fieldsBean=bean.fields;var fields={};if(fieldsBean!=null&&fieldsBean.length>0){var stype=config.stattype;var fieldvalue=null;for(var i=0;i<fieldsBean.length;i++){if(stype.indexof("map")>-1){fieldvalue=fieldsBean[i].fieldtype;
}else{fieldvalue=fieldsBean[i].cnname;}fields[fieldsBean[i].name]=fieldvalue;}}config.fields=fields;config.hassaved=true;config.statsource=statsource;if(conditions.option){config.option=eval("("+conditions.option+")");}config.viewpanel=viewpanel;LEAP.statchart.setValue(element,config,values);};LEAP.statchart.setValue=function(l,d,o){if(l==null){return;
}l=LEAP._check(l,LEAP.statchart.d);if(null==l){return;}var n=d.stattype;var g="<div ut='_stateditor' style='width:100%;height: 100%;overflow:auto'></div>";var m="<div ut='_stateditor' ct='echarts' style='width:100%;height: 100%;' timeline=0 showminmax='0' showaverage='0' showtoolbox=0></div>";var p="<div ut='_stateditor' style='width:100%;height: 100%;' ct='GIS'></div>";
var j=null;var h=d.statx;if(!h||h.length==0){LEAP.countStat.setValue(l,d.staty,o);}else{if(n.indexOf("table")>-1){l.innerHTML=g;j=LEAP.getElement("[ut=_stateditor]",l);LEAP.tableStat.setValue(j,d,o);}else{if(n.indexOf("map")>-1){l.innerHTML=p;j=LEAP.getElement("[ut=_stateditor]",l);LEAP.mapStat.setValue(j,d,o);
}else{l.innerHTML=m;j=LEAP.getElement("[ut=_stateditor]",l);if(!j){return;}if(n.indexOf("bar")>-1){LEAP.barStat.setValue(j,d,o);}else{if(n.indexOf("line")>-1){LEAP.lineStat.setValue(j,d,o);}else{if(n.indexOf("pie")>-1){LEAP.pieStat.setValue(j,d,o);}else{if(n.indexOf("mashup")>-1){LEAP.mashupStat.setValue(j,d,o);
}}}}LEAP.addEvent(j,"click",LEAP.statchart.subProcess,null,null,true);}}}};LEAP.statchart.subProcess=function(d){if(d==null||d.arg2==null){return;}var h=d.arg2;var l=h.element;if(!l){return;}var g=LEAP._match(l,LEAP.statchart.d);if(!g){return;}var j={element:g};j.data=h.data;j.name=h.name;j.value=h.value;
j.x=h.x;j.arg=h.arg;ElementEventManager.handleEvent(g,"click",j);};LEAP.tableUtil=function(g,d){this.selectedTDClassName=d;this.defaultContent="";this.targetDocument=g;if(this.targetDocument==null){this.targetDocument=document;}this.dispose=function(){this.targetDocument=null;};this.getTableDef=function(G){var h=G.rows[0];
var m=0;for(var F=0;F<h.cells.length;F++){var l=h.cells[F];m+=l.colSpan;}var o=G.rows.length;var A=[];for(var F=0;F<o;F++){var z=[];z.length=m;A.add(z);}for(var F=0;F<G.rows.length;F++){var u=G.rows[F];var y=u.rowIndex;var q=u.cells;var C=A[F];var n=0;for(var B=0;B<m;B++){if(C[B]==null){break;}n=B+1;
}for(var D=0;D<q.length;D++){var l=q[D];var x=D;var r=l.rowSpan;var w=l.colSpan;for(var B=0;B<w;B++){for(var p=0;p<r;p++){while(A[y+p][n+D+B]!=null){n+=1;}A[y+p][n+D+B]={rowIndex:y,cellIndex:x,rowSpan:r,colSpan:w,y:y+p,x:n+D+B};}}n+=w-1;}}var H={tableArray:A,cellBound:m,rowBound:o};return H;};this.getCellsBound=function(o,B){var n=99999;
var z=999999;var l=0;var A=0;var u=[];var y=B.length;for(var w=0;w<B.length;w++){u.add({cellIndex:B[w].cellIndex,rowIndex:B[w].parentNode.rowIndex});}var h=o.tableArray;for(var w=0;w<o.rowBound;w++){for(var q=0;q<o.cellBound;q++){var p=h[w][q];for(var r=0;r<y;r++){var m=u[r];if(m.cellIndex==p.cellIndex&&m.rowIndex==p.rowIndex){if(n>p.x){n=p.x;
}if(z>p.y){z=p.y;}if(A<p.x){A=p.x;}if(l<p.y){l=p.y;}}}}}var x={left:n,top:z,bottom:l,right:A,rowBound:l-z+1,cellBound:A-n+1};return x;};this.validateRect=function(l,x){var j=this.getCellsBound(l,x);var r=[];for(var p=0;p<j.rowBound;p++){var q=[];q.length=j.cellBound;r.add(q);}for(var p=j.top;p<=j.bottom;
p++){var o=l.tableArray[p];for(var n=j.left;n<=j.right;n++){var m=o[n];r[p-j.top][n-j]=o[n];var w=false;for(var h=0;h<x.length;h++){var u=x[h];if(m.cellIndex==u.cellIndex&&u.parentNode.rowIndex==m.rowIndex){w=true;break;}}if(w==false){return false;}}}return true;};this.fixSelectRect=function(j,u,r){var h=this.getCellsBound(j,u);
var p=null;for(var o=h.top;o<=h.bottom;o++){var n=j.tableArray[o];for(var m=h.left;m<=h.right;m++){if(p==null){p=[];}var l=n[m];var q=r.rows[l.rowIndex].cells[l.cellIndex];p.add(q);if(this.selectedTDClassName!=null){LEAP.addCSS(q,this.selectedTDClassName,false);}}}try{return p;}finally{p=null;}};this.mergeCells=function(q,r,j){if(r==null){return;
}if(j==null){j=this.getTableDef(q);}r=this.fixSelectRect(j,r,q);if(this.validateRect(j,r)==false){return;}var h=this.getCellsBound(j,r);var n=0;var m=0;for(var l=r.length-1;l>0-1;l--){var p=r[l];m+=p.colSpan;var o=p.parentNode.rowIndex;if(l==0){p.rowSpan=h.rowBound;p.colSpan=h.cellBound;}if(l!=0){p.parentNode.removeChild(p);
}}};this.splitCells=function(G,o){if(o==null){return;}var n=this.getTableDef(G);var z=o.length;for(var D=z-1;D>-1;D--){var h=o[D];var w=h.cellIndex;var r=h.colSpan-1;var p=h.rowSpan-1;var x=h.parentNode.rowIndex;if(r>0&&p==0){var q=h.parentNode;h.colSpan=1;for(var A=0;A<r;A++){var u=null;if(q.cells.length==0){u=this.targetDocument.createElement("td");
}else{u=this.targetDocument.createElement(q.cells[0].tagName);}u.innerHTML=this.defaultContent;if(h==q.cells[q.cells.length-1]){q.appendChild(u);}else{q.insertBefore(u,q.cells[w+1]);}}}else{if(r==0&&p>0){for(var A=1;A<p+1;A++){var q=G.rows[A+x];var F=A+x;var B=n.tableArray[A+x];var H=null;for(var C=n.cellBound-1;
C>-1;C--){var y=B[C];if(y.rowIndex==F&&y.cellIndex==w){if(C!=n.cellBound-1){for(var m=C;m<n.cellBound;m++){if(B[m].rowIndex==q.rowIndex){H=q.cells[y.cellIndex];break;}}}break;}}var u=null;if(q.cells.length==0){u=this.targetDocument.createElement("td");}else{u=this.targetDocument.createElement(q.cells[0].tagName);
}u.innerHTML=this.defaultContent;if(H!=null){q.insertBefore(u,H);}else{q.appendChild(u);}h.rowSpan=1;}}else{if(r>0&&p>0){var q=h.parentNode;for(var A=0;A<r;A++){var u=null;if(q.cells.length==0){u=this.targetDocument.createElement("td");}else{u=this.targetDocument.createElement(q.cells[0].tagName);}u.innerHTML=this.defaultContent;
if(h==q.cells[q.cells.length-1]){q.appendChild(u);}else{q.insertBefore(u,q.cells[w+1]);}}for(var A=1;A<p+1;A++){var q=G.rows[A+x];var F=A+x;var B=n.tableArray[A+x];var H=null;for(var C=n.cellBound-1;C>-1;C--){var y=B[C];if(y.rowIndex==F&&y.cellIndex==w){if(C!=n.cellBound-1){for(var m=C;m<n.cellBound;
m++){if(B[m].rowIndex==q.rowIndex){H=q.cells[y.cellIndex];break;}}}break;}}for(var m=0;m<r+1;m++){var u=null;if(q.cells.length==0){u=this.targetDocument.createElement("td");}else{u=this.targetDocument.createElement(q.cells[0].tagName);}u.innerHTML=this.defaultContent;if(H!=null){q.insertBefore(u,H);}else{q.appendChild(u);
}}h.rowSpan=1;h.colSpan=1;}}}}}};this.insertCol=function(G,j,h){var l=this.getTableDef(G);var x=l.tableArray;var A=null;for(var D=0;D<l.rowBound;D++){var H=false;for(var C=0;C<l.cellBound;C++){var B=x[D][C];if(B.cellIndex==j.cellIndex&&B.rowIndex==j.parentNode.rowIndex){A=B;H=true;break;}}if(H){break;
}}var m=A.x;var z=A.y;try{var r=LEAP.getElement(">colgroup:last",G);var u=null;if(r!=null){u=LEAP.getElements("col",r);if(u!=null){var y=null;var w=false;if(h){if(u.length>=m){y=m;}}else{if(u.length>=m+1){if(u.length>m+1){y=m+1;}else{w=true;}}}if(y!=null||w){var o=G.document.createElement("COL");if(o){if(w){r.appendChild(o);
}else{r.insertBefore(o,u[y]);}}o=null;}}}r=cools=null;}catch(F){}if(h){}else{m=m+A.colSpan;}if(m==0){for(var D=0;D<l.rowBound;D++){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;if(G.rows[D].cells.length>0){G.rows[D].insertBefore(q,G.rows[D].cells[0]);}else{G.rows[D].appendChild(q);
}}}else{if(m==l.cellBound){for(var D=0;D<l.rowBound;D++){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;G.rows[D].appendChild(q);}}else{var n=false;for(var D=0;D<l.rowBound;D++){if(x[D][m].colSpan>1||x[D][m].rowSpan>1){n=true;break;}}if(!n){for(var D=0;D<l.rowBound;D++){if(x[D][m].rowIndex==D){var q=this.targetDocument.createElement("td");
q.innerHTML=this.defaultContent;G.rows[D].insertBefore(q,G.rows[D].cells[x[D][m].cellIndex]);}}}else{var p=[];for(var D=l.rowBound-1;D>-1;D--){var B=x[D][m];var I=B.rowIndex+"_"+B.cellIndex;if(p.contains(I)){continue;}if(B.rowIndex==D&&B.colSpan){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;
G.rows[D].insertBefore(q,G.rows[D].cells[x[D][m].cellIndex]);}else{G.rows[B.rowIndex].cells[B.cellIndex].colSpan+=1;p.add(I);}}}}}};this.insertRow=function(C,j,r){var l=this.getTableDef(C);var u=l.tableArray;var x=null;var B=C.getAttribute("istexttable");if(B=="1"){B=true;}for(var A=0;A<l.rowBound;A++){var D=false;
for(var z=0;z<l.cellBound;z++){var y=u[A][z];if(y.cellIndex==j.cellIndex&&y.rowIndex==j.parentNode.rowIndex){x=y;D=true;break;}}if(D){break;}}var m=x.x;var w=x.y;if(r){}else{w=w+x.rowSpan;}if(w==0){var h=LEAP.getElement("tbody",C);var p=this.targetDocument.createElement("tr");for(var A=0;A<l.cellBound;
A++){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;if(A%2==0&&B){q.className="lg3tabletext";}p.appendChild(q);}if(C.rows.length==0){h.appendChild(p);}else{h.insertBefore(p,C.rows[0]);}}else{if(w==l.rowBound){var h=LEAP.getElement("tbody",C);var p=this.targetDocument.createElement("tr");
for(var A=0;A<l.cellBound;A++){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;if(A%2==0&&B){q.className="lg3tabletext";}p.appendChild(q);}h.appendChild(p);}else{var n=false;for(var A=0;A<l.cellBound;A++){if(u[w][A].colSpan>1||u[w][A].rowSpan>1){n=true;break;}}if(!n){var h=LEAP.getElement("tbody",C);
var p=this.targetDocument.createElement("tr");for(var A=0;A<l.cellBound;A++){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;if(A%2==0&&B){q.className="lg3tabletext";}p.appendChild(q);}h.insertBefore(p,C.rows[w]);}else{var o=[];var h=LEAP.getElement("tbody",C);var p=this.targetDocument.createElement("tr");
for(var A=l.cellBound-1;A>-1;A--){var y=u[w][A];var F=y.rowIndex+"_"+y.cellIndex;if(o.contains(F)){continue;}if(y.rowIndex==y.y){var q=this.targetDocument.createElement("td");q.innerHTML=this.defaultContent;if(A%2==0&&B){q.className="lg3tabletext";}p.appendChild(q);}else{C.rows[y.rowIndex].cells[y.cellIndex].rowSpan+=1;
o.add(F);}}h.insertBefore(p,C.rows[w]);}}}};this.removeCol=function(z,y){var j=this.getTableDef(z);if(j.cellBound==1){alert(",!");return;}var h=j.tableArray;var q=y.cellIndex;var u=y.parentNode.rowIndex;var o=[];for(var n=0;n<j.rowBound;n++){var l=h[n][q];if(n==0){try{var m=LEAP.getElement(">colgroup:last",z);
var r=null;if(m!=null){r=LEAP.getElements("col",m);if(r!=null){var w=l.x;if(w<=r.length){m.removeChild(r[w]);}}}m=cools=null;}catch(p){}}var x=l.rowIndex+"_"+l.cellIndex;if(o.contains(x)){continue;}if(l.colSpan==1){z.rows[n].removeChild(z.rows[n].cells[q]);o.add(x);}else{if(l.colSpan>1){z.rows[l.rowIndex].cells[l.cellIndex].colSpan-=1;
o.add(x);}}}};this.removeRow=function(z,y){var l=this.getTableDef(z);if(l.rowBound==1){alert(",!");return;}var h=l.tableArray;var w=y.parentNode.rowIndex;var p=h[w];var r=[];for(var q=0;q<l.cellBound;q++){var n=p[q];var x=n.rowIndex+"_"+n.cellIndex;if(r.contains(x)){continue;}if(n.rowSpan>1){if(n.rowIndex==n.y){z.rows[n.rowIndex].cells[n.cellIndex].rowSpan-=1;
r.add(x);var j=this.targetDocument.createElement("td");j.innerHTML=z.rows[n.rowIndex].cells[n.cellIndex].innerHTML;j.colSpan=z.rows[n.rowIndex].cells[n.cellIndex].colSpan;j.rowSpan=z.rows[n.rowIndex].cells[n.cellIndex].rowSpan;var o=false;for(var m=n.x;m<l.cellBound;m++){var u=h[n.y+1][m];if(u.rowIndex==u.y&&u.cellIndex==u.y){z.rows[u.rowIndex].insertBefore(j,z.rows[u.rowIndex].cells[u.cellIndex]);
o=true;break;}}if(!o){z.rows[u.rowIndex].appendChild(j);}r.add(x);}else{z.rows[n.rowIndex].cells[n.cellIndex].rowSpan-=1;r.add(x);}}}z.rows[w].parentElement.removeChild(z.rows[w]);};this.removeCols=function(m,j){if(j==null){return;}var n=[];for(var l=0;l<j.length;l++){var h=j[l];if(n.contains(h.cellIndex)){continue;
}this.removeCol(m,h);}};this.removeRows=function(m,j){if(j==null){return;}var n=[];for(var l=0;l<j.length;l++){var h=j[l];if(h.parentNode==null||n.contains(h.parentNode.rowIndex)){continue;}this.removeRow(m,h);}this.restoreDevCellHeaderText(m);};};LEAP.tableUtil.selectedTDClassName="tableUtilDevSelected";
LEAP.tip={};LEAP.tip.d="tip";LEAP.tip.str='<div class="leap_floattip_con"></div>';LEAP.tip.div=null;LEAP.tip.t=null;LEAP.tip.lm=null;LEAP.tip.close=false;LEAP.tip.init=function(){if(document!=null&&document.body!=null){LEAP.tip._init();}else{UIEventManager.addEvent(window,"load",LEAP.tip._init);}};LEAP.tip._init=function(){UIEventManager.removeEvent(window,"load",LEAP.tip._init);
var d=document.createElement("div");document.body.appendChild(d);d.style.display="none";d.className="leap_floattip";d.setAttribute("ct",LEAP.tip.d);d.innerHTML=LEAP.tip.str;LEAP.addEvent(d,"mouseleave",LEAP.tip.uiProcess,null,null,true);LEAP.addEvent(document.body,"click",LEAP.tip.uiProcess,null,null,true);
ElementEventManager.addManagedEventType(LEAP.tip.d,"tipClick");LEAP.tip.div=d;d=null;};LEAP.tip.uiProcess=function(h){var m=h.e.srcElement;var j=h.e.type;var g=m.tagName;if(j=="mouseleave"&&m.className&&m.className=="leap_floattip"&&LEAP.tip.close==false){LEAP.tip.div.style.display="none";return;}else{if(j=="click"){var l=m.getAttribute(commfields.ctf);
if(l&&l.indexOf("tip_")>-1){ElementEventManager.handleEvent(LEAP.tip.div,"tipClick",{data:LEAP.tip.lastData,ctf:l});}else{if(l=="tipc_sendsms"){var d=LEAP.getElement("[ctf=tipc_text]",LEAP.tip.div).value;if(String.isEmpty(d)){LEAP.messagebox.alert("!",3,"");}else{if(LEAP.request("system_sendsms",{tel:LEAP.tip.tel,content:d})){LEAP.messagebox.alert("!",1,"");
LEAP.tip.div.style.display="none";}else{LEAP.messagebox.alert("!",3,"");}}}else{if(l=="tipc_close"){LEAP.tip.hidden();}}}}}};LEAP.tip.hidden=function(){if(LEAP.tip.div){LEAP.tip.div.style.display="none";}};LEAP.tip.sendsms=function(g){LEAP.tip.tel=g;var j=new StringBuffer();j.append("<br>&nbsp&nbsp:").append("<br>");
j.append('<textarea style="width:150px;height:60px;" ctf=tipc_text></textarea><br>');j.append('<input ctf="tipc_sendsms" type=button value=><input ctf="tipc_close" type=button value=>');var h=window.event;LEAP.tip.close=true;var d=h.clientX-100;var l=h.clientY-60;LEAP.tip.alert(j.toString(),null,null,d,l);
};LEAP.tip.lastT=null;LEAP.tip.alert=function(n,m,h,d,o,l){if(d==null||o==null){if(!h){h=window.event;}d=h.clientX;o=h.clientY;}d-=10;o-=10;var g=LEAP.getElement(".leap_floattip_con",LEAP.tip.div);g.innerHTML=n;LEAP.tip.lastData=m;LEAP.tip.div.style.left=d+"px";LEAP.tip.div.style.top=o+"px";LEAP.tip.div.style.display="block";
try{if(d+LEAP.tip.div.offsetWidth>document.body.offsetWidth){d=document.body.offsetWidth-LEAP.tip.div.offsetWidth-20;LEAP.tip.div.style.left=d+"px";}}catch(j){}if(LEAP.tip.lastT){window.clearTimeout(LEAP.tip.lastT);}if(l){LEAP.tip.lastT=setTimeout(LEAP.tip.hidden,l);}};LEAP.tip.init();LEAP.tree2={};LEAP.tree2.d="tree2";
LEAP.tree2.sli='<li _dataid="@id" _codelevel="@level"><a title="@tip" _dataid="@id" _codelevel="@level" ctf="tree2_item" href="javascript:void(0)"><b></b><i></i><img _dataid="@id" _codelevel="@level" ctf="tree2_item" src="@icon"><font _dataid="@id" _codelevel="@level" ctf="tree2_item">@text</font><span style="font-size:14px;position: absolute;right:30px;top:9px" id="@numberid"></span><img _dataid="@id" _codelevel="@level" class="ls_tree2_status" src="@status" ctf="tree2_item_status"></a><!--childs--></li>';
LEAP.tree2.slic='<li _dataid="@id" _codelevel="@level"><a title="@tip" style="@style" _dataid="@id" _codelevel="@level" ctf="tree2_item" href="javascript:void(0)"><b></b><i></i><img _dataid="@id" _codelevel="@level" ctf="tree2_item" src="@icon"><input class="@_class" type="checkbox"><font style="margin-left:60px;line-height:33px" _dataid="@id" _codelevel="@level" ctf="tree2_item">@text</font><span style="font-size:14px;position: absolute;right:30px;top:9px" id="@numberid"></span><img _dataid="@id" _codelevel="@level" class="ls_tree2_status" src="@status" ctf="tree2_item_status"></a><!--childs--></li>';
LEAP.tree2.slisz='<li _dataid="@id" _codelevel="@level"><a title="@tip" style="@style" _dataid="@id" _codelevel="@level" ctf="tree2_item" href="javascript:void(0)"><b></b><i></i><img _dataid="@id" _codelevel="@level" ctf="tree2_item" src="@icon"><font style="margin-left:60px;line-height:33px" _dataid="@id" _codelevel="@level" ctf="tree2_item">@text</font><span style="font-size:14px;position: absolute;right:30px;top:9px" id="@numberid"></span><img _dataid="@id" _codelevel="@level" class="ls_tree2_status" src="@status" ctf="tree2_item_status"></a><!--childs--></li>';
LEAP.tree2.cf="<!--childs-->";LEAP.tree2.setValue=function(x,O,N){if(O==null){return;}if(typeof(O)=="string"){O=LEAP.getElement(O,x);}if(O==null){return;}if(O==null||!O.length||O[0].syscode==null){return;}var U=new hashtable();var C=new hashtable();if(N==null){N=x.getAttribute("closeLevel");}if(N!=null&&N!="0"){try{N=parseInt(N);
}catch(W){}if(N==undefined||(N!=null&&isNaN(N))){N=null;}}var P=O.length;var K=0;var A=null;var h=null;A=new Array();h=new hashtable();for(var V=0;V<P;V++){var D=O[V];var T=D.customize;var M=D.showname?D.showname:D.name;var r=null;if(window.treetype==true){r=D.icon?D.icon:"LEAP/Resource/images/itemstyle/tree/nav2.png";
}else{r=D.icon?D.icon:"LEAP/Resource/images/itemstyle/tree/li.png";}r=leapconfig.server+r;var j=D.remarks?D.remarks:"";if(!j){j=D.tip?D.tip:"";}if(!j){j=M;}var R=D.id;if(!R){R=D.id=UUID.randomUUID().replaceall("-","");}var z=null;var g=0;z=LEAP.getRealSyscode(D.syscode);if(z!=null&&z.indexOf(".")>-1){var J=z.substring(z.indexOf(".")+1);
g=J.length/3;g+=1;}else{g=1;}if(V==0){K=g;}var y=(D.showCheck==true);var F=LEAP.tree2.sli;if(y){F=LEAP.tree2.slic;F=F.replace("@_class","ls_tree2_sub_input");}var w=UUID.cID();if(!String.isEmpty(T)){if(T.indexOf("client:")>-1||T.indexOf("server:")){A.add(w);h.add(w,D);}}if(window.imgtype==true){F=LEAP.tree2.slisz;
var u="";if(g-K+1>=3){u="height:33px;";var n=M;var o=g-K+1-3+1;for(var I=0;I<o;I++){n="&nbsp&nbsp&nbsp&nbsp"+n;}M=n;}D._html=F.replaceall("@id",R).replaceall("@status",leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/111.png").replaceall("@level",g-K+1).replace("@tip",j).replace("@icon",r).replace("@numberid",w).replace("@style",u).replace("@text",M);
}else{D._html=F.replaceall("@id",R).replaceall("@status",leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/1.png").replaceall("@level",g-K+1).replace("@tip",j).replace("@text",M).replace("@icon",r).replace("@numberid",w);}D._syscode=z;U.add(z,D);C.add(D.id,D);slic=null;}var H=new StringBuffer();
H.append('<ul class="ls_tree2">');for(var V=P-1;V>-1;V--){var D=O[V];var z=D._syscode;var S=LEAP.getParentSyscode(z);if(S!=null){var q=U.getvalue(S);if(q!=null){D._html=D._html.replace(LEAP.tree2.cf,"");if(q.hassetul!=true){q.hassetul=true;q._html=q._html.replace(LEAP.tree2.cf,'<UL class="ls_tree2 ls_tree2_sub">'+LEAP.tree2.cf+"</UL>");
}q._html=q._html.replace(LEAP.tree2.cf,LEAP.tree2.cf+D._html);O[V]=null;}}}for(var V=0;V<P;V++){var D=O[V];if(D==null){continue;}H.append(D._html);}H.append("</ul>");x.innerHTML=H.toString();var L=C.keys;for(var B in C.keys){delete (C.getvalue(B)["_html"]);}x._def=C;var d=LEAP.getElements(".ls_tree2_sub>li:last-child>A>B",x);
LEAP.setStyle(d,{display:"none"},true);d=LEAP.getElements(".ls_tree2_sub>li:last-child>UL",x);LEAP.setStyle(d,{borderLeft:"0"},true);d=LEAP.getElements(".ls_tree2_sub",x);if(d){if(d){var P=d.length;for(var V=0;V<P;V++){var m=d[V];var G=m.previousSibling.getElementsByTagName("IMG")[1];G.style.display="inline-block";
}}if(N!=null){var p=[];var P=d.length;for(var V=0;V<d.length;V++){var m=d[V];var Q=m.previousSibling;var l=Q.getAttribute("_codelevel");if(l>=N){p.push(m);}else{if(window.imgtype==true){m.style.display="inline-block";LEAP.getElement(".ls_tree2_status",Q).src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/222.png";
}else{m.style.display="inline-block";LEAP.getElement(".ls_tree2_status",Q).src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/2.png";}}}if(p.length>0){d=p;}else{d=null;}}LEAP.setStyle(d,{display:"none"},true);}LEAP.tree2.numberInit(A,h);};LEAP.tree2.numberSN=0;LEAP.tree2.showNumberList=new hashtable();
LEAP.tree2.showNumberList_map=new hashtable();LEAP.tree2.refreshItemNumbers=function(){var q=arguments.length;for(var n=0;n<q;n++){var d=arguments[n];var p=LEAP.tree2.showNumberList_map.getvalue(d);if(p){var r=0;var h=p.length;for(var o=h-1;o>-1;o--){var m=p[o];if(m!=null){if(document.getElementById(m)==null){p[o]=null;
}else{var g=LEAP.tree2.showNumberList.getvalue(m);if(g.isend){g.isend=false;r++;LEAP.asyn(LEAP.tree2.startNumber,null,1000+100*r,g);}}}}}}};LEAP.tree2.refreshItemNumber=function(n,j){if(!n){return;}var p=LEAP.tree2.showNumberList_map.getvalue(j);if(p){var h=p.length;for(var m=h-1;m>-1;m--){var g=p[m];
if(g!=null){if(document.getElementById(g)==null){p[m]=null;}else{var o=LEAP.tree2.showNumberList.getvalue(g);var d=0;if(o.isend){o.isend=false;d++;LEAP.asyn(LEAP.tree2.startNumber,null,1000+100*d,o);}}}}}n=null;};LEAP.tree2.showNumberTask=function(){var g=LEAP.tree2.showNumberList.size();if(g>0){var j=LEAP.tree2.showNumberList.keys;
var d=0;for(var h in j){var m=LEAP.tree2.showNumberList.getvalue(h);if(m&&m.isend){m.isend=false;d++;LEAP.asyn(LEAP.tree2.startNumber,null,1000+100*d,m);}}}};LEAP.tree2.startNumber=function(def){if(document.getElementById(def.numberid)==null){LEAP.tree2.showNumberList.remove(def.numberid);return;}var customize=def.customize;
var numberid=def.numberid;var cus=customize.split(":");if(cus&&cus.length>1){var mode=cus[0];var method=cus[1];var arg=null;if(cus.length==3){arg=cus[2];}if(mode=="server"){var par={par:arg};if(arg==null){par=null;}LEAP.request2({name:method,par:par,callback:LEAP.tree2.setNumber,arg:numberid});}else{if(mode=="client"){try{var fn=eval("("+method+")");
if(fn){LEAP.asyn(fn,null,10,arg,numberid);}}catch(e){}}}}};LEAP.tree2.numberInit=function(m,u){if(m!=null&&u!=null){var r=0;for(var l=0;l<m.length;l++){var w=u.getvalue(m[l]);var o=w.customize;var j=m[l];var h={isend:false,customize:o,numberid:j};LEAP.tree2.showNumberList.add(j,h);document.getElementById(j).parentElement.parentElement.setAttribute("__isnumbertask","1");
document.getElementById(j).setAttribute("_codelevel",document.getElementById(j).parentElement.parentElement.getAttribute("_codelevel"));var d=null;var g=w.resourcetype;if(g!=null){var q=g!=null&&g==4;var p=g!=null&&g==3;var d=null;if(p){d=w.url;}else{if(q){d=w.name;}}if(d){var n=LEAP.tree2.showNumberList_map.getvalue(d);
if(n!=null){n.add(j);}else{LEAP.tree2.showNumberList_map.add(d,[j]);}}}r++;LEAP.asyn(LEAP.tree2.startNumber,null,1000+50*r,h);}}};LEAP.tree2.testNumber=function(g,d){LEAP.tree2.setNumber(Math.floor(Math.random()*10+1),d);};LEAP.tree2.setNumberByModuleName=function(j,n){var p=LEAP.tree2.showNumberList_map.getvalue(j);
if(p){var h=p.length;for(var m=h-1;m>-1;m--){var g=p[m];if(g!=null){if(document.getElementById(g)==null){p[m]=null;}else{var o=LEAP.tree2.showNumberList.getvalue(g);var d=0;if(o.isend){o.isend=false;d++;LEAP.asyn(LEAP.tree2.setNumber,null,100*d,n,g);}}el=null;}}}};LEAP.tree2.setNumber=function(o,d){if(o!=null){var h=document.getElementById(d);
if(h!=null){h.innerHTML=o;LEAP.tree2.showNumberList.getvalue(d).isend=true;var q=h.getAttribute("_codelevel")*1;if(q>1){var g=LEAP._match(h.parentElement.parentElement,q-1+"","_codelevel");if(g&&!g.getAttribute("__isnumbertask")){var m=LEAP.getElement(">a>span",g);if(m){var n=LEAP.getElements(">ul>li>a>span",g);
if(n){var l=0;for(var j=0;j<n.length;j++){if(!String.isEmpty(n[j].innerText)){l+=n[j].innerText.replace("(","").replace(")","")*1;}}if(l==0){l="";}m.innerHTML=l;n=null;}}g=null;}}}else{LEAP.tree2.showNumberList.remove(d);}h=null;}};LEAP.tree2._init=function(){LEAP.addEvent(document.body,"click",LEAP.tree2.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.tree2._init);LEAP.asynfoo(LEAP.tree2.showNumberTask,null,20*1000);};LEAP.tree2.uiProcess=function(r){var d=r.e.srcElement;var n=r.e.type;var u=d.tagName;if(n=="click"){var m=d.getAttribute(commfields.ct);var o=d.getAttribute(commfields.ctf);if(o&&o=="tree2_item_status"){var h=d.parentElement.nextSibling;
if(h&&h.tagName=="UL"){if(h.style.display=="inline-block"){h.style.display="none";var l=LEAP._match(d,LEAP.tree2.d,"ct",99);ElementEventManager.handleEvent(l,"closeNode",{tree:d,id:d.getAttribute("_dataid")});if(window.imgtype==true){d.src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/111.png";
}else{d.src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/1.png";}}else{h.style.display="inline-block";var l=LEAP._match(d,LEAP.tree2.d,"ct",99);ElementEventManager.handleEvent(l,"expandNode",{tree:d,id:d.getAttribute("_dataid")});if(window.imgtype==true){d.src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/222.png";
var p=LEAP.getElements("LI[_codelevel=1]",l);if(p){for(var j=0;j<p.length;j++){var g=p[j].getAttribute("_dataid");if(d.getAttribute("_dataid")!=g){if(p[j].childNodes[1].nodeName=="UL"){p[j].childNodes[0].childNodes[4].src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/111.png";}else{p[j].childNodes[0].childNodes[4].src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/111.png";
}}}}}else{d.src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/2.png";}}}}else{var q=LEAP._match(d,"tree2_item","ctf",99);if(q!=null){var q=LEAP._match(q,"LI","tagName",99);if(q){var l=LEAP._match(q,LEAP.tree2.d,"ct",99);LEAP.tree2.setSelectedItem(l,q.getAttribute("_dataid"));}}}}d=r=null;};
LEAP.tree2.clear=function(d){if(d==null){return;}d=LEAP._check(d,LEAP.tree2.d);if(d==null){return;}d._def=null;d.innerHTML="";d=null;};LEAP.tree2.getChild=function(l,d){if(l==null&&d!=null){return;}l=LEAP._check(l,LEAP.tree2.d);if(l==null){return;}var n=LEAP.getElement("LI[_dataid="+d+"]",l);if(n){var j=LEAP.getElement("ul:first",n);
if(j){var m=LEAP.getElements(">li[_dataid]",j);if(m!=null){var g=[];for(var h=0;h<m.length;h++){g.push(m[h].getAttribute("_dataid"));}try{return g;}finally{m=null;g=null;n=null;l=null;}}}}};LEAP.tree2.setSelectedItem=function(o,h,j){if(o==null&&h!=null){return;}if(typeof(o)=="string"){o=LEAP.getElement(o);
}o=LEAP._check(o,LEAP.tree2.d);if(o==null){return;}var u=LEAP.getElement("LI[_dataid="+h+"]",o);if(u){if(window.treetype==true){var d=u.getAttribute("_codelevel");var r=h;if(j&&d>1){var l=u.parentElement.parentElement;d=l.getAttribute("_codelevel");r=l.getAttribute("_dataid");}if(d=="1"){var q=LEAP.getElements("LI[_codelevel=1]",o);
if(q){for(var n=0;n<q.length;n++){var g=q[n].getAttribute("_dataid");if(r==g){if(q[n].childNodes[1].nodeName=="UL"){q[n].childNodes[1].style.display="inline-block";q[n].childNodes[0].childNodes[4].src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/222.png";}else{q[n].childNodes[0].childNodes[4].src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/222.png";
}}else{if(q[n].childNodes[1].nodeName=="UL"){q[n].childNodes[1].style.display="none";q[n].childNodes[0].childNodes[4].src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/111.png";}else{q[n].childNodes[0].childNodes[4].src=leapconfig.server+"LEAP/Resource/images/itemstyle/tree2/111.png";}}}}}}var p=LEAP.getElement("A:first",u);
if(p){if(!LEAP.hasCSS(p,"ls_tree2_item_selected")){LEAP.removeCSS(LEAP.getElements(".ls_tree2_item_selected",o),"ls_tree2_item_selected",true);LEAP.addCSS(p,"ls_tree2_item_selected");var m=o._def.getvalue(h);ElementEventManager.handleEvent(o,"selectedItemChange",{tree:o,id:h,data:m});}}}u=o=null;};LEAP.tree2.getCheckedValues=function(m){m=LEAP._check(m,LEAP.tree2.d);
if(m==null){return;}var g=LEAP.getElements("input:checked",m);if(g!=null){var d=g.length;var h=[];for(var j=0;j<d;j++){var n=LEAP._match(g[j],"tree2_item",commfields.ctf,99);h.push(n._dataid!=null?n._dataid:n.getAttribute("_dataid"));n=g[j]=null;}return h;}return null;};LEAP.tree2.getCheckedItems=function(m){m=LEAP._check(m,LEAP.tree2.d);
if(m==null){return;}var g=LEAP.getElements("input:checked",m);if(g!=null){var d=g.length;var h=[];for(var j=0;j<d;j++){var n=LEAP._match(g[j],"tree2_item",commfields.ctf,99);if(n.getAttribute("ctid")==null){n.setAttribute("ctid",UUID.cID());}h.push("[ctid="+n.getAttribute("ctid")+"]");n=g[j]=null;}return h;
}return null;};LEAP.tree2.setItemChecked=function(h,l,j){if(l==null){return;}h=LEAP._check(h,LEAP.tree2.d);if(h==null){return;}if(typeof(l)=="string"){l=LEAP.getElement(l,h);}if(l==null){return;}if(l.getAttribute("ctid")==null){l.setAttribute("ctid",UUID.cID());}if(j==null){j=true;}var g=l;var d=LEAP.getElement("input",g);
if(d!=null){if(j!=false){LEAP.tree2._setInputChecked(d,true);}else{LEAP.tree2._setInputChecked(d,false);}}h=l=d=null;};LEAP.tree2._setInputChecked=function(d,j){if(d&&d.tagName&&d.tagName=="INPUT"){if(d.parentElement){var m=document.createElement("input");m.type="checkbox";m.className=d.className;m.setAttribute("ct",d.getAttribute("ct"));
m.setAttribute("ctf",d.getAttribute("ctf"));var h=d.getAttribute("disabled");if(d.nextSibling){var g=d.nextSibling;var l=d.parentElement;l.removeChild(d);l.insertBefore(m,g);l=g=null;}else{var l=d.parentElement;l.removeChild(d);l.appendChild(m);l=null;}if(j){m.setAttribute("checked","true");}if(h&&h!="false"){m.setAttribute("disabled","true");
}m=null;}}d=null;};LEAP.tree2.getItemByValue=function(h,d){if(d==null){return;}h=LEAP._check(h,LEAP.tree2.d);if(h==null){return;}if(d==null){return;}var j=LEAP.getElement('a[ctf=tree2_item][_dataid="'+d+'"]',h);if(j==null){return;}var l=j.getAttribute("ctid");if(l==null){l=UUID.cID();j.setAttribute("ctid",l);
}var g="[ctid="+l+"]";j=null;return g;};LEAP.tree2.setCheckedItems=function(h,l){if(l==null||l.length==0){return;}h=LEAP._check(h,LEAP.tree2.d);if(h==null){return;}var m=LEAP.getElements("[ctf=tree2_item]",h);if(m){for(var j=0;j<m.length;j++){var p=m[j];var d=p._dataid!=null?p._dataid:p.getAttribute("_dataid");
var n=false;for(var g=0;g<l.length;g++){if(l[g]==d){n=true;break;}}var o=LEAP.getElement("input",p);if(o){if(n){LEAP.tree2._setInputChecked(o,true);}else{LEAP.tree2._setInputChecked(o,false);}}}}};LEAP.tree2.init=function(){if(document!=null&&document.body!=null){LEAP.tree._init();}else{UIEventManager.addEvent(window,"load",LEAP.tree2._init);
}ElementEventManager.addManagedEventType(LEAP.tree2.d,"selectedItemChange");ElementEventManager.addManagedEventType(LEAP.tree2.d,"expandNode");ElementEventManager.addManagedEventType(LEAP.tree2.d,"closeNode");}();LEAP.tree3={};LEAP.tree3.d="tree3";LEAP.tree3.level1='<div class="tree3_level1" ctf="tree3_level1"><ul><!--childs--></ul></div>';
LEAP.tree3.level1_li='<li _dataid="@id" _codelevel="@level" cf="level1" ctf="level1_li"><img _dataid="@id" _codelevel="@level" src="@icon" ctf="level1_li"><div _dataid="@id" _codelevel="@level" ctf="level1_li">@text</div></li>';LEAP.tree3.level2='<div class="tree3_level2" ctf="tree3_level2"><ul><!--childs--></ul></div>';
LEAP.tree3.level2_li='<li _dataid="@id" _codelevel="@level" cf="level2" ctf="level2_li"><div _dataid="@id" _codelevel="@level" ctf="level2_li">@text</div></li>';LEAP.tree3.level3='<div class="tree3_level3" ctf="tree3_level3"><ul><!--childs--></ul></div>';LEAP.tree3.level3_li='<li _dataid="@id" _codelevel="@level" cf="level3" ctf="level3_li"><div _dataid="@id" _codelevel="@level" ctf="level3_li">@text</div></li>';
LEAP.tree3.cf="<!--childs-->";LEAP.tree3.hash=new hashtable();LEAP.tree3._def=new hashtable();LEAP.tree3.dataid=null;LEAP.tree3.level2_def=new hashtable();LEAP.tree3._init=function(){LEAP.addEvent(document.body,"click",LEAP.tree3.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.tree3.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.tree3._init);};LEAP.tree3.initControl=function(j,l){if(!l){if(!event){return;}l=event.srcElement;}if(!l){return;}if(j!=null){var h=function(){LEAP.tree3.initControl(null,l);l=null;};setTimeout(h,j);return;}var g=l.parentElement;if(g!=null){var d=LEAP.getElement("[ctf=treemain]",g);
LEAP.addEvent(d,"mouseleave",LEAP.tree3.mainout,null,true);}};LEAP.tree3.setValue=function(h,w){var B=null;if(w!=null){B=w;}else{B=LEAP.request("app_getUIResource2",{id:null,includeParentResource:false,getDeep:null,fields:["indexpagemodulestyle","indexpagemodulemargin","expendtreenode","refappserver"]});
if(B!=null){B=LEAP.convertResult(B);}}if(B!=null){var g=new StringBuffer();var x=0;for(var y=0;y<B.length;y++){var q=B[y];var r=q.customize;var p=q.showname?q.showname:q.name;var z=null;z=q.onicon?q.onicon:"LEAP/Resource/images/itemstyle/tree3/li1.png";z=leapconfig.server+z;var u=q.id;if(!u){u=q.id=UUID.randomUUID().replaceall("-","");
}var o=null;var m=0;o=LEAP.getRealSyscode(q.syscode);if(o!=null&&o.indexOf(".")>-1){var n=o.substring(o.indexOf(".")+1);m=n.length/3;m+=1;}else{m=1;}if(y==0){x=m;}var j=LEAP.tree3.level1;var A=UUID.cID();q._html=LEAP.tree3.level1_li.replaceall("@id",u).replaceall("@level",m-x+1).replace("@text",p).replace("@icon",z);
q._syscode=o;q._syscodelevel=m-x+1;LEAP.tree3.hash.add(o,q);LEAP.tree3._def.add(q.id,q);g.append(q._html);}var l=LEAP.tree3.level1.replace(LEAP.tree3.cf,g.toString());var d=LEAP.getElement("[ctf=treemain]",h);d.innerHTML=l+LEAP.tree3.level2+LEAP.tree3.level3;}};LEAP.tree3.setItemValue=function(h,j,g,d){LEAP.tree3.level2_def.add(g+"_level"+d,j);
};LEAP.tree3.mainover=function(g){if(g==null){return;}var l=g.e.srcElement;if(l==null){return;}var h=g.e.type;if(h==null){return;}var d=l.tagName;if(d==null){return;}var j=l.getAttribute("ctf");};LEAP.tree3.mainout=function(o){if(o==null){return;}var d=o.e.srcElement;if(d==null){return;}var l=o.e.type;
if(l==null){return;}var p=d.tagName;if(p==null){return;}var j=null;j=LEAP._match(d,LEAP.tree3.d);var m=LEAP.getElement("[ctf=tree3_level3]",j);if(m!=null){var h=m.className;m.className=h+" tree3_level3_dis";}var n=LEAP.getElement("[ctf=tree3_level2]",j);if(n!=null){var g=n.className;n.className=g+" tree3_level2_dis";
}};LEAP.tree3.uiProcess=function(q){var r=q.e.srcElement;var o=q.e.type;var N=r.tagName;var l=r.getAttribute(commfields.ctf);var m=LEAP._match(r,LEAP.tree3.d,"ct",99);if(!m){return;}if(o=="click"){var p=m.getAttribute("parentclick");if(p!=null&&p=="1"){var O=r.getAttribute("_dataid");LEAP.tree3.setSelectedItem(m,O);
}else{if(l=="level1_li"||l=="level2_li"){var D=r.getAttribute("haschild");if(D=="0"){var O=r.getAttribute("_dataid");LEAP.tree3.setSelectedItem(m,O);}}else{if(l=="level3_li"){var O=r.getAttribute("_dataid");LEAP.tree3.setSelectedItem(m,O);}}}}else{if(o="mouseover"){var F=r.getAttribute("_dataid");if(!F){return;
}var B=LEAP.tree3._def.getvalue(F);var m=null;m=LEAP._match(r,LEAP.tree3.d);var M=null;if(LEAP.tree3.dataid!=F){ElementEventManager.handleEvent(m,"expandNode",{tree:r,id:r.getAttribute("_dataid"),level:B._syscodelevel,data:B});LEAP.tree3.dataid=F;}var P=LEAP.tree3.level2_def.getvalue(F+"_level"+(B._syscodelevel+1));
if(P!=null){M=P;}else{M=LEAP.request("app_getUIResource2",{id:F,includeParentResource:false,getDeep:1,fields:["indexpagemodulestyle","indexpagemodulemargin","expendtreenode","refappserver"]});if(M!=null){M=LEAP.convertResult(M);}LEAP.tree3.level2_def.add(F+"_level"+(B._syscodelevel+1),M);}var d=LEAP.getElement("[ctf=treemain]",m);
if(l=="level1_li"){LEAP.removeCSS(LEAP.getElement("[ctf=tree3_level2]",m),"tree3_level2_dis",false);LEAP.addCSS(LEAP.getElement("[ctf=tree3_level3]",m),"tree3_level3_dis");var g=null;g=B.officon?B.officon:"LEAP/Resource/images/itemstyle/tree3/li2.png";g=leapconfig.server+g;var h=LEAP.getElements("[cf=level1]",m);
var J=0;var y=h.length;for(var K=0;K<y;K++){var C=B.id;var O=h[K].getAttribute("_dataid");var n=LEAP.tree3._def.getvalue(O);var L=null;L=n.onicon?n.onicon:"LEAP/Resource/images/itemstyle/tree3/li1.png";L=leapconfig.server+L;if(C==O){h[K].className="tree3_level1_curre";h[K].childNodes[0].src=g;}else{h[K].className="";
h[K].childNodes[0].src=L;}J+=h[K].scrollHeight;}if(M!=null){r.setAttribute("haschild","1");var I=0;var j=new StringBuffer();for(var K=0;K<M.length;K++){var H=M[K];var x=null;var w=0;var A=H.showname?H.showname:H.name;x=LEAP.getRealSyscode(H.syscode);if(x!=null&&x.indexOf(".")>-1){var u=x.substring(x.indexOf(".")+1);
w=u.length/3;w+=1;}else{w=1;}if(K==0){I=w;}var G=LEAP.tree3.level2_li.replaceall("@id",H.id).replaceall("@level",B._syscodelevel+1).replace("@text",A);j.append(G);H._syscodelevel=B._syscodelevel+1;H._html=G;LEAP.tree3._def.add(H.id,H);}LEAP.getElement("[ctf=tree3_level2]",m).childNodes[0].innerHTML=j.toString();
if(y>M.length){LEAP.getElement("[ctf=tree3_level2]",m).style.minHeight=J+"px";}}else{r.setAttribute("haschild","0");if(LEAP.getElement("[ctf=tree3_level2]",m).className.indexOf("tree3_level2_dis")==-1){LEAP.addCSS(LEAP.getElement("[ctf=tree3_level2]",m),"tree3_level2_dis");}}}else{if(l=="level2_li"){LEAP.removeCSS(LEAP.getElement("[ctf=tree3_level3]",m),"tree3_level3_dis",false);
var z=LEAP.getElements("[cf=level2]",m);var y=z.length;for(var K=0;K<y;K++){var C=B.id;var O=z[K].getAttribute("_dataid");var n=LEAP.tree3._def.getvalue(O);if(C==O){z[K].className="tree3_level2_curre";}else{z[K].className="";}}if(M!=null){r.setAttribute("haschild","1");var j=new StringBuffer();for(var K=0;
K<M.length;K++){var H=M[K];var x=null;var w=0;var A=H.showname?H.showname:H.name;x=LEAP.getRealSyscode(H.syscode);if(x!=null&&x.indexOf(".")>-1){var u=x.substring(x.indexOf(".")+1);w=u.length/3;w+=1;}else{w=1;}if(K==0){I=w;}var G=LEAP.tree3.level3_li.replaceall("@id",H.id).replaceall("@level",B._syscodelevel+1).replace("@text",A);
j.append(G);H._syscodelevel=B._syscodelevel+1;H._html=G;LEAP.tree3._def.add(H.id,H);}LEAP.getElement("[ctf=tree3_level3]",m).childNodes[0].innerHTML=j.toString();LEAP.getElement("[ctf=tree3_level3]",m).style.minHeight=LEAP.getElement("[ctf=tree3_level2]",m).scrollHeight+"px";}else{r.setAttribute("haschild","0");
if(LEAP.getElement("[ctf=tree3_level3]",m).className.indexOf("tree3_level3_dis")==-1){LEAP.addCSS(LEAP.getElement("[ctf=tree3_level3]",m),"tree3_level3_dis");}}}}}}};LEAP.tree3.setSelectedItem=function(h,g,d){var j=LEAP.tree3._def.getvalue(g);ElementEventManager.handleEvent(h,"selectedItemChange",{tree:h,id:g,data:j});
};LEAP.tree3.init=function(){if(document!=null&&document.body!=null){LEAP.tree3._init();}else{UIEventManager.addEvent(window,"load",LEAP.tree3._init);}ElementEventManager.addManagedEventType(LEAP.tree3.d,"selectedItemChange");ElementEventManager.addManagedEventType(LEAP.tree3.d,"expandNode");}();LEAP.upload={};
LEAP.upload.d="upload";LEAP.upload.s=null;LEAP.upload.p="LEAP/Resource/HTML/Control/upload.html";LEAP.upload.r=true;LEAP.upload.control="[ct=upload]";LEAP.upload.z="<TABLE isnew=1 class='upload_photolist_item' cellSpacing=0 cellPadding=0 border=0>  <TR><TD class='upload_photolist_item_imgtd'><div style='position:relative;height:94px;width:100px;overflow:auto'><div ctf='upload_btn_delete' class='upload_btn upload_btn_delete' style='position:absolute;left:0px;top:0px;' ctt='upload_control_photolist' title=''></div><img align=absmiddle class='upload_photolist_item_imgview' style='height:94px;width:100px;' ctf='upload_control_photo_view' ctt=upload_control_photolist src='@src'/></td></TD></TR><TR><TD class='upload_photolist_item_text'>@showname</TD></TR></TABLE>";
LEAP.upload.l=null;LEAP.upload.u=null;LEAP.upload.showimage="<img align='absmiddle' ctf='upload_control_photolist_img' src='@imgsrc'/>";LEAP.upload._uploadBtnParentNode=null;var ____hasinitscanbtn=false;LEAP.upload.autoShowMSG=true;LEAP.upload._init=function(){UIEventManager.removeEvent(window,"load",LEAP.upload._init);
LEAP.addEvent(document.body,"click",LEAP.upload.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.upload.uiover,null,null,true);LEAP.addCodeType("upload_receipt",[{codeid:"0",codevalue:""},{codeid:"1",codevalue:""}]);LEAP.addCodeType("upload_mustreceipt",[{codeid:"0",codevalue:""},{codeid:"1",codevalue:""}]);
};LEAP.upload.__addManagedEventType=function(d){ElementEventManager.addManagedEventType(LEAP.upload.d,d);ElementEventManager.addManagedEventType("upload_control_photo",d);ElementEventManager.addManagedEventType("upload_control_list",d);ElementEventManager.addManagedEventType("upload_control_tree",d);
ElementEventManager.addManagedEventType("upload_control_photolist",d);};LEAP.upload.init=function(){if(document!=null&&document.body!=null){LEAP.upload._init();}else{UIEventManager.addEvent(window,"load",LEAP.upload._init);}ElementEventManager.addManagedEventType(LEAP.upload.d,"uploadComplete");LEAP.upload.__addManagedEventType("addUploadItem");
LEAP.upload.__addManagedEventType("removeUploadItem");}();LEAP.upload.download=function(h,j,l,d,g){if(h!=null){LEAP.asyn(LEAP.upload._download,window,100,h,l,d,g);}};LEAP.upload._download=function(j,l,d,g){if(j!=null){var h=LEAP.upload.getPath(j.nameedPath,j.name,j.uuid,j.showName,j.title,null,null,j.fileid,g);
if(l!=null){if(l){if(h.indexOf("?")==-1){h+="?open=1";}else{h+="&open=1";}}else{if(h.indexOf("?")==-1){h+="?open=0";}else{h+="&open=0";}}}if(d!=null){if(h.indexOf("?")==-1){h+="?"+d;}else{h+="&"+d;}}LEAP.asyn(window.open,null,100,h);}};LEAP.upload.uiover=function(w){if(w==null){return;}var d=w.e.srcElement;
if(d==null){return;}var m=w.e.type;if(m==null){return;}var y=d.tagName;if(y==null){return;}try{var o=d.getAttribute(commfields.ctf);var j=null;j=LEAP._match(d,"upload_control_photolist");if(j!=null){if(o=="upload_control_photo_view"){var z=d.parentElement.parentElement.parentElement.parentElement.parentElement.up__value;
var q=LEAP.getElement("[ctf=upload_control_photolist_show]",j);var g=j.getAttribute("showwidth");var u=j.getAttribute("showheight");var r=window.screenTop;var h=window.screen.width;var p=window.screen.height;var n=null;var l=null;if(g!=null){if(q){q.style.width=g+"px";}n=(h-parseInt(g))/2;}else{if(q){q.style.width="800px";
}n=(h-800)/2;}if(u!=null){if(q){q.style.height=u+"px";}l=((p-r)-parseInt(u))/2;}else{if(q){q.style.height="600px";}l=((p-r)-600)/2;}if(q){q.style.left=n+"px";q.style.top=l+"px";q.style.display="block";}var x=d.getAttribute("src");if(q){q.innerHTML=LEAP.upload.showimage.replace("@imgsrc",x);LEAP.upload.setShowImg(z,LEAP.getElement("[ctf=upload_control_photolist_img]",q));
}}else{var q=LEAP.getElement("[ctf=upload_control_photolist_show]",j);if(q){q.style.display="none";}}}}finally{}};LEAP.upload.getPath=function(j,p,x,h,C,q,o,y,d){if(window.LEAP_upload_getPath_Extend){var B=null;try{B=window.LEAP_upload_getPath_Extend(j,p,x,h,C,q,o,y,d);}catch(z){}if(B){return B;}}if(j&&p&&(j.indexOf("http://")==0||j.indexOf("https://")==0)){while(j.endsWith("/")){j=j.substring(0,j.length-1);
}while(p.startsWith("/")){p=p.substring(1,p.length);}return j+"/"+p;}if(j!=null&&typeof(j)=="object"){var m=j;j=m.nameedPath;p=m.name;x=m.uuid;h=m.showname;C=m.title;}var u=null;if(d!=null){u=leapclient.getServerURL(d);}if(!u){u=leapconfig.server;}if(LEAP.upload.u==null){LEAP.upload.u=u+"LEAP/Download/";
}if(q!=null&&o!=null){url=u+"imageview/"+q+"_"+o+"/LEAP/Download/";}else{url=u+"LEAP/Download/";}if(j!=null){url+=encodeURIComponent(encodeURIComponent(escape(j)))+"/";}if(p!=null){if(x==null||x.Trim()==""){url+=encodeURIComponent(encodeURIComponent(escape(p)));}else{url+=x+"_"+encodeURIComponent(encodeURIComponent(escape(p)));
}}url=url.replaceall("%252F","/");url=url.replaceall("%2540","@");url=url.replaceall("%25253D","=");var A=h?h:C;if(A){var l=url.lastIndexOf(".");if(l>-1){if(p!=A+url.substring(l)){if(A.length>79){A=A.substring(0,79);}var r=new StringBuffer();for(var w=0;w<A.length;w++){var g=A.charAt(w);var n=escape(g);
if(g==" "||g=="("||g==")"||n.indexOf("%u")==0||n=="%B7"||n=="%D7"){r.append(g);}else{r.append(n);}}url=url.substring(0,l)+"/_v3_/"+r.toString()+url.substring(l);}}}if(y){if(url.indexOf("?")<0){url+="?fileid="+y;}else{url+="&fileid="+y;}}if(window._beforeGetDownPath){try{url=window._beforeGetDownPath(url);
}catch(z){}}return url;};LEAP.upload.getShowPath=function(d,g){var h=null;if(d.viewName!=null){h=LEAP.upload.getPath(d.nameedPath,d.viewName,d.uuid,null,null,null,null,d.fileid,g);}else{if(d.name!=null){h=LEAP.upload.getPath(d.nameedPath,d.name,d.uuid,null,null,null,null,d.fileid,g);}}return h;};LEAP.upload.getViewPath=function(j,l,d,g){var h=LEAP.upload.getPath(j.nameedPath,j.name,j.uuid,j.showName,j.title,l,d,j.fileid,g);
return h;};LEAP.upload.onCompete=function(l){var q=l.arg2.object;if(q==null){return;}var d=LEAP.getElement(LEAP.upload.l);if(d!=null){var g=d.getAttribute(commfields.ct);if(g!=null){if(g=="upload_control_photo"){d[commfields.value]=q;var r=LEAP.getElement("[ctf=upload_control_photo_view]",d);r.src="";
r.removeAttribute("src");if(r!=null){var h=LEAP.upload.getShowPath(q);r.src=h;LEAP.upload.setShowImg(q,r);try{d.focus();}catch(j){}r=null;}}else{if(g=="upload_control_list"){var m=LEAP.getElement(LEAP.upload.lr,d);var B=LEAP.getElement("[ctf=upload_status]",m);B.className="upload_status_ok";q.showName=m.getAttribute("cttag");
m[commfields.value]=q;var o=LEAP.getElement("[ctf=upload_receipt]",m);if(o!=null){var u=o.innerText;var C=LEAP.getCodeIDByValue("upload_receipt",u);if(C!=null){if(C=="0"){C="1";o.innerText=LEAP.getCodeText("upload_receipt",C);}o.className="upload_receipt1";o.parentNode.innerHTML=o.outerHTML;LEAP.removeElement(o);
}o=null;}try{d.focus();}catch(j){}m=B=null;}else{if(g=="upload_control_tree"){var z=d.getAttribute("order");var y=q.showName;var p=LEAP.getElement(LEAP.upload.lr,d);var w=null;if(z=="1"){w=LEAP.tree.addItem(LEAP.getElement("[ct=tree]",d),p,y+'<A style="RIGHT: 90px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_download" ctt="upload_control_tree"></A><A style="RIGHT: 60px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_delete" ctt="upload_control_tree"></A><A style="RIGHT: 30px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_move" ctt="upload_control_tree"></A><A style="RIGHT: 0px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_down" ctt="upload_control_tree"></A>',q,null,"LEAP/Resource/images/itemstyle/upload/download.gif");
}else{w=LEAP.tree.addItem(LEAP.getElement("[ct=tree]",d),p,y+'<A style="RIGHT: 30px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_download" ctt="upload_control_tree"></A><A style="RIGHT: 0px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_delete" ctt="upload_control_tree"></A>',q,null,"LEAP/Resource/images/itemstyle/upload/download.gif");
}q.parent=p.getAttribute("_value");LEAP.getElement(w)["up__"+commfields.value]=q;try{w.focus();}catch(j){}p=w=null;}else{if(g=="upload_control_photolist"){var y=q.showName;var h=LEAP.upload.getShowPath(q);var x=document.createElement("div");d.appendChild(x);x.innerHTML=LEAP.upload.z.replace("@showname",y).replace("@src",h);
LEAP.upload.setShowImg(q,LEAP.getElement("[ctf=upload_control_photo_view]",x));var A=LEAP.getElement(">table:first",x);d.appendChild(A);A["up__"+commfields.value]=q;try{d.focus();}catch(j){}LEAP.removeElement(x);}}}}}LEAP.upload.hide();ElementEventManager.handleEvent(d,"addUploadItem",{element:d,value:q});
d=null;}LEAP.upload.l=q=null;};LEAP.upload.fixImg=function(y,x){y.src=x;var q=-1;if(LEAP.isIE&&x.indexOf("http://")==-1&&x.indexOf("https://"==-1)){var r=new Image();r.src=x;var g=y.parentNode.clientWidth-10;var l=y.parentNode.clientHeight-10;if(g&&l<0){g=0;}if(l&&l<0){l=0;}var j=1;var h=0,w=0;if(r.readyState=="complete"){h=r.width;
w=r.height;}else{(r.complete);}h=r.width;w=r.height;j=h/w;if(h>g){h=g;w=h/j;if(w>l){w=l;h=w*j;}}if(w>l){w=l;h=w*j;}if(w==0){w=l;}if(h==0){h=g;}if(h&&h<0){h=0;}if(w&&w<0){w=0;}y.style.width=h+"px";y.style.height=w+"px";if(LEAP.isIE){q=r.fileSize*1;if(q==-1&&(x.toLowerCase().indexOf("jpg")>-1||x.toLowerCase().indexOf("jpeg")>-1||x.toLowerCase().indexOf("png")>-1||x.toLowerCase().indexOf("bmp")>-1)){for(var n=0;
n<999999;n++){if(q<0){q=r.fileSize*1;}if(q>-1){break;}}}if(q!=null&&q!=NaN&&q>-1&&q/1024>100){try{if(!scanner){}}catch(p){scanner=null;}if(scanner&&x!=null&&x.Trim()!=""){if(x.toLowerCase().indexOf("jpg")>-1||x.toLowerCase().indexOf("jpeg")>-1||x.toLowerCase().indexOf("png")>-1||x.toLowerCase().indexOf("bmp")>-1){LEAP.upload.compressok=0;
LEAP.upload.lastCompressFile=null;var d=x.replaceall("\\\\","@@").replaceall("\\","@@").replaceall("@@","\\\\").substr(8).replaceall("/","\\\\");var o=x.lastIndexOf("/");var m=x.lastIndexOf("\\");if(m>o){o=m;}var u="c:\\\\"+UUID.randomUUID()+"_"+x.substr(o+1);LEAP.upload.lastCompressFile=u;if(scanner){LEAP.upload.compressok=scanner.compressPic(d,u,900,900,50);
}}}}}r=null;}y=null;return q;};LEAP.upload.changecelltext=function(h,d){if(d!=null){var j=d.innerText;var g=LEAP.getCodeIDByValue(h,j);if(g!=null){if(g=="1"){g="0";}else{if(g=="0"){g="1";}}d.innerText=LEAP.getCodeText(h,g);d.className=h+g;}d=null;}};LEAP.upload.getRouter=function(h){var d=LEAP.wfrouter.getModuleInstance(h);
if(d==null){return null;}else{var g=PageObjectModel.getModule(d);if(g!=null&&g.leapclient!=null&&g.leapclient.router!=null){return g.leapclient.router;}}return null;};LEAP.upload.getModuleInstance=function(h){try{var g=h;while(true){if(g==null){return null;}if(g.tagName=="BODY"){return null;}if(g.getAttribute("instance")){return g.getAttribute("instance");
}g=g.parentNode;}return null;}catch(d){}finally{g=null;}};LEAP.upload.uiProcess=function(G){var C=G.e.srcElement;var ak=G.e.type;var M=C.getAttribute(commfields.ctf);var ac=null;try{if((M=="upload_btn_delete"||M=="upload_btn_up"||M=="upload_btn_down"||M=="upload_btn_download")&&ak=="click"){if(C.parentElement&&C.parentElement.parentElement){var X=LEAP.getElements("A",C.parentElement.parentElement);
if(X&&X.length>0){LEAP.removeCSS(X,"tree_item_on",true);LEAP.addCSS(C,"tree_item_on");}}}if(M=="upload_file"&&ak=="click"){if(C.parentNode.getAttribute(commfields.ctf)!="upload_form"){LEAP.upload._uploadBtnParentNode=C.parentNode;}else{LEAP.upload._uploadBtnParentNode=null;}}var p=LEAP._match(C,"upload_control_list");
if(p==null){p=LEAP._match(C,"upload_control_photo");}if(p==null){p=LEAP._match(C,"upload_control_tree");}if(p==null){p=LEAP._match(C,"upload_control_photolist");}if(ak=="click"&&C&&C.getAttribute){var W=C.getAttribute("onselectstart");if(W&&C.tagName=="A"&&C.className=="tree_item_title"){ac=LEAP.upload.getRouter(C);
var V=C.parentNode["up__"+commfields.value];if(V!=null){ac=LEAP.upload.getRouter(C);var R=LEAP.upload.getDownloadParameter(p,V);LEAP.upload.download(V,null,true,R,ac);p=null;return;}}}if(p!=null){if(p.getAttribute("readonly")==1&&(M!="upload_control_photo_view"&&M!="upload_btn_download")){return;}}if((M=="upload_file"&&ak=="change")||(M=="upload_file_select"&&ak=="click")){var J=null;
if(ak=="click"){var d=LEAP.getElement("#leap_netapplet");if(d!=null){var af=d.selectFile();if(af!=null){var H=af.split("\n");if(H!=null&&H.length>0){LEAP.getElement("input[ctf=upload_file_ftp]").value=H[0];J=H[0];}}}if(J==null){return;}}else{if(ak=="change"){J=C.value;}}var q=LEAP.getElement("[ctf=upload_showimg]");
q.display="block";var O=LEAP.getElement("[ctf=upload_title]");if(J){q.src="";var Y="file:///"+J.replace("\\","/");q.style.display="block";q.border=1;if(J!=null&&J!=""&&LEAP.upload.r){O.value=J.substr(J.lastIndexOf("\\")+1);}var ag=J.lastIndexOf(".");if(ag>-1){var n=J.substr(ag+1).toLowerCase();if(n=="exe"||n=="dll"||n=="scr"){alert("");
return;}}if(Y.toLowerCase().indexOf("jpg")>-1||Y.toLowerCase().indexOf("jpeg")>-1||Y.toLowerCase().indexOf("gif")>-1||Y.toLowerCase().indexOf("png")>-1||Y.toLowerCase().indexOf("bmp")>-1||Y.toLowerCase().indexOf("tif")>-1){var m=LEAP.upload.fixImg(q,Y);if(scanner==null&&LEAP.upload.maxFileSize!=null&&LEAP.upload.maxFileSize>0&&m!=null&&m!="-1"&&m!=-1&&m*1>0&&m>LEAP.upload.maxFileSize*1024){LEAP.getElement("[ctf=upload_btn]").setAttribute("disabled",1);
if(scanner==null){alert("["+Math.round(m/1024*100)/100+"k/"+LEAP.upload.maxFileSize+"k]");return;}}else{LEAP.getElement("[ctf=upload_btn]").removeAttribute("disabled");}}if(LEAP.upload._uploadBtnParentNode!=null){LEAP.upload._uploadBtnParentNode=null;LEAP.addEvent(LEAP.upload.control,"uploadComplete",LEAP.upload.onCompete);
try{LEAP.getElement("[ctf=upload_form]").submit();}catch(ad){LEAP.removeEvent(LEAP.upload.control,"uploadComplete",LEAP.upload.onCompete);alert(ad.message);}}}q=O=null;}if(M=="upload_btn"&&ak=="click"){try{if(scanner==null){}}catch(ae){scanner=null;}LEAP.upload.ftppar=null;var T=null;var Q=false;var A=null;
if(C.isftp!=null&&C.isftp==true){T=LEAP.getElement("input[ctf=upload_file_ftp]").value;Q=true;A=C.apptype;}else{T=LEAP.getElement("input[ctf=upload_file]").value;}if(T!=null&&T!=""){if(LEAP.upload.beforeUpload&&typeof(LEAP.upload.beforeUpload)=="function"){var aj=LEAP.getElement("input[ctf=upload_file]");
var P=false;try{P=LEAP.upload.beforeUpload(aj,LEAP.upload._config);}catch(ae){}aj=null;if(!P){return;}}var ag=T.lastIndexOf(".");if(ag>-1){var n=T.substr(ag+1).toLowerCase();if(n=="exe"||n=="dll"||n=="scr"){alert("");LEAP.stopEvent(G.e);return;}}C.disabled=true;if(!Q){LEAP.addEvent(LEAP.upload.control,"uploadComplete",LEAP.upload.onCompete);
try{LEAP.getElement("[ctf=upload_form]").submit();}catch(ad){LEAP.removeEvent(LEAP.upload.control,"uploadComplete",LEAP.upload.onCompete);alert(ad.message);}}else{if(LEAP.upload.applet==null){LEAP.upload.applet=LEAP.getElement("#leap_netapplet");}if(LEAP.upload.applet!=null){var U=LEAP.request("requestFTPUpload",{a:A});
LEAP.upload.ftppar=U;if(U!=null){LEAP.upload.applet.startAsynFTPUpload("LEAPuploadftpuploadComplate",U.s,21,U.u,U.p,T);if(LEAP.upload.ftpmsg==null){LEAP.upload.ftpmsg=LEAP.getElement("div[ctf=upload_ftpmsg_con]");}LEAP.upload.ftpmsg.style.display="block";LEAP.upload.FTPInterval=setInterval(LEAP.upload.FTPMSGRefresh,1000);
}}}}else{alert("");}return;}if(M=="upload_receipt"){LEAP.upload.changecelltext("upload_receipt",C);r=null;return;}if(M=="upload_mustreceipt"){if(p.getAttribute("mustreceiptreadonly")==1){return;}LEAP.upload.changecelltext("upload_mustreceipt",C);r=null;}if(M=="upload_btn_upload"){var D=C.getAttribute("ctt");
if(D!=null){if(p!=null){var ai=p.getAttribute("ctid");if(ai==null){ai=UUID.cID();p.setAttribute("ctid",ai);}LEAP.upload.l="[ctid="+ai+"]";LEAP.upload.lr=null;var aa=null;var h=null;var j=null;var K=null;var B=p.getAttribute("maxsize");if(B!=null&&B!=""){B=B*1;}var x=null;if(D=="upload_control_tree"){aa=C.parentNode.getAttribute("ctid");
var S=LEAP._match(C,"upload_control_tree");x=S;S=null;}else{if(p.getAttribute("ct")=="upload_control_photolist"){x=p;aa=p.getAttribute("ctid");}else{aa=C.parentNode.parentNode.getAttribute("ctid");x=C.parentNode.parentNode;}}if(aa==null){aa=UUID.cID();if(D=="upload_control_tree"){C.parentNode.setAttribute("ctid",aa);
}else{if(p.getAttribute("ct")=="upload_control_photolist"){p.setAttribute("ctid",aa);}else{C.parentNode.parentNode.setAttribute("ctid",aa);}}}LEAP.upload.lr="[ctid="+aa+"]";var l=false;var O=null;var Q=false;var A=null;if(D=="upload_control_list"){O=C.parentNode.parentNode.getAttribute("cttag");var S=LEAP._match(C,"upload_control_list");
x=S;l=true;S=null;}if(D=="upload_control_tree"){x=p;}if(h==null||h.Trim()==""){h=null;}var z={domain:LEAP.getLoadedModule(p.getAttribute("instance")),callback:LEAP.upload.onCompete,title:x.getAttribute("uploadtitle"),uploadpath:x.getAttribute("uploadpath"),maxsize:x.getAttribute("maxfilesize"),quality:x.getAttribute("quality"),savesource:x.getAttribute("savesource"),viewwidth:x.getAttribute("viewwidth"),viewheight:x.getAttribute("viewheight"),types:x.getAttribute("types"),typesdesc:x.getAttribute("typesdesc"),pathreg:x.getAttribute("pathreg"),namereg:x.getAttribute("namereg"),mastview:x.getAttribute("mastview"),viewsize:x.getAttribute("viewsize"),x:x.getAttribute("x"),y:x.getAttribute("y"),maskimgpath:x.getAttribute("maskimgpath"),maskalpha:x.getAttribute("maskalpha")};
if(z.maxsize==null){z.maxsize=x.getAttribute("maxsize");}LEAP.upload.show(O,l,h,j,B,null,Q,A,K);p=null;}}return;}if(M=="upload_btn_delete"){var D=C.getAttribute("ctt");if(D!=null){var p=LEAP._match(C,D);if(p!=null){if(D=="upload_control_tree"){if(window.confirm("?")){var V=C.parentNode.getAttribute("up__value");
LEAP.tree.removeItem(LEAP.getElement("[ct=tree]",p),C.parentNode,true);ElementEventManager.handleEvent(p,"removeUploadItem",{caller:p,value:V});}}else{if(D=="upload_control_photolist"){if(window.confirm("?")){var L=C.parentNode.parentNode.parentNode.parentNode.parentNode;var V=L.getAttribute("up__value");
LEAP.removeElement(L);ElementEventManager.handleEvent(p,"removeUploadItem",{caller:p,value:V});}}else{if(D=="upload_control_list"){var r=C.parentNode.parentNode;if(r==null){return;}var V=r[commfields.value];if(!V){LEAP.messagebox.alert("",2);return;}if(window.confirm("?")){var ae=LEAP.getElement("[ctf=upload_status]",r);
if(ae!=null){ae.className="upload_status";}r[commfields.value]=null;ElementEventManager.handleEvent(p,"removeUploadItem",{caller:p,value:V});}var w=LEAP.getElement("[ctf=upload_receipt]",r);if(w!=null){var I=w.innerText;var ah=LEAP.getCodeIDByValue("upload_receipt",I);if(ah!=null){if(ah=="1"){ah="0";
w.innerText=LEAP.getCodeText("upload_receipt",ah);}w.className="upload_receipt0";w.parentNode.innerHTML=w.outerHTML;LEAP.removeElement(w);}w=null;}}else{if(window.confirm("?")){var V=p.value;p.value=null;var q=LEAP.getElement("[ctf="+D+"_view]",p);q.removeAttribute("src");q=null;ElementEventManager.handleEvent(p,"removeUploadItem",{caller:p,value:V});
p=null;}}}}}}return;}if(M=="upload_btn_up"){if(C.parentElement||C.parentElement.parentElement){var o=C.parentElement.parentElement;if(o){var y=o.children;if(y&&y.length>0){var N=-1;for(var ab=0;ab<y.length;ab++){if(y[ab]==C.parentElement){N=ab;break;}}if(N==0){return;}var g=y[N-1];o.removeChild(C.parentElement);
o.insertBefore(C.parentElement,g);}}}}if(M=="upload_btn_down"){if(C.parentElement||C.parentElement.parentElement){var o=C.parentElement.parentElement;if(o){var y=o.children;if(y&&y.length>0){var N=-1;for(var ab=0;ab<y.length;ab++){if(y[ab]==C.parentElement){N=ab;break;}}if(N==y.length-1){return;}if(N==y.length-2){o.removeChild(C.parentElement);
o.appendChild(C.parentElement);}else{var g=y[N+2];o.removeChild(C.parentElement);o.insertBefore(C.parentElement,g);}}}}}if(M=="upload_control_photo_view"||M=="upload_btn_download"){var D=C.getAttribute("ctt");if(D!=null){if(D=="upload_control_list"){var V=C.parentNode.parentNode[commfields.value];if(V!=null){ac=LEAP.upload.getRouter(C);
var R=LEAP.upload.getDownloadParameter(p,V);LEAP.upload.download(V,null,null,R,ac);p=null;return;}}else{if(D=="upload_control_tree"){ac=LEAP.upload.getRouter(C);var V=C.parentNode["up__"+commfields.value];if(V!=null){var R=LEAP.upload.getDownloadParameter(p,V);var F=p.getAttribute("open");if(Z!=null&&Z=="1"){F=true;
}else{F=false;}var Z=p.getAttribute("nocache");if(Z==null||Z==""){Z=0;}if(Z==1){LEAP.upload.download(V,true,F,R,ac);}else{LEAP.upload.download(V,null,F,R,ac);}p=null;return;}}else{if(D=="upload_control_photolist"){var V=C.parentNode.parentNode.parentNode.parentNode.parentNode["up__"+commfields.value];
if(V!=null){ac=LEAP.upload.getRouter(C);var R=LEAP.upload.getDownloadParameter(p,V);LEAP.upload.download(V,null,null,R,ac);p=null;return;}}else{var p=LEAP._match(C,D);if(p!=null){var V=p[commfields.value];if(V!=null){ac=LEAP.upload.getRouter(C);var R=LEAP.upload.getDownloadParameter(p,V);LEAP.upload.download(V,null,null,R,ac);
p=null;return;}}}}}}return;}}finally{C=null;}};LEAP.upload.setShowImg=function(l,h){if(l.height!=null&&l.width!=null&&l.height!=0&&l.width!=0){var m=h.parentNode.clientHeight;var g=h.parentNode.clientWidth;var j=l.width;var d=l.height;scale=j/d;if(j>g){j=g;d=j/scale;if(d>m){d=m;j=d*scale;}}if(d>m){d=m;
j=d*scale;}h.style.width=j+"px";h.style.height=d+"px";}if(h.style.width.toLowerCase()=="0px"){h.style.width="100%";}if(h.style.height.toLowerCase()=="0px"){h.style.height="100%";}};LEAP.upload.getValue=function(g){if(g==null){return;}if(typeof(g)=="string"){g=LEAP.getElement(g);}if(g==null){return;}var h=g.getAttribute("ct");
if(h==null){return;}if(h=="upload_control_photo"){var z=g.value;g=null;if(z!=null){return JSON.stringify(z);}}else{if(h=="upload_control_tree"){var I=LEAP.getElements("A[onselectstart]",g);if(I&&I.length>0){var A=new Array();var y=null;for(var C=0;C<I.length;C++){y=I[C].parentNode;if(!A.contains(y)){A.add(y);
}}if(A.length>0){var H=[];for(var B=0;B<A.length;B++){H.add(A[B]["_value"]);}return JSON.stringify(H);}}}else{if(h=="upload_control_photolist"){var q=LEAP.getElements(">table",g);if(q!=null){var H=[];var A=q.length;for(var C=0;C<A;C++){H.add(q[C]["up__value"]);}q=null;return JSON.stringify(H);}}else{if(h=="upload_control_list"){var w=LEAP.getElements("[ctf=table_row]",g);
var F=false;var m=LEAP.getElement("[md=mustreceipt]",g);if(m!=null){F=true;}else{var j=LEAP.getElement("[md=receipt]",g);if(j!=null){F=true;}}g=null;if(w!=null){var A=w.length;var H=null;for(var C=0;C<A;C++){var n=w[C];var x=n[commfields.value];if(!F){if(x!=null){if(H==null){H=[];}H.add(x);}}else{if(H==null){H=[];
}if(x==null){x=new Object();}var d=LEAP.getElement("[ctf=upload_receipt]",n);if(d!=null){var D=d.innerText;var r=LEAP.getCodeIDByValue("upload_receipt",D);x.receipt=r;}var u=LEAP.getElement("[ctf=upload_mustreceipt]",n);if(u!=null){var o=u.innerText;var G=LEAP.getCodeIDByValue("upload_mustreceipt",o);
x.mustreceipt=G;}x.showName=n.getAttribute("cttag");H.add(x);}n=null;}if(H!=null){H=JSON.stringify(H);}w=null;return H;}}}}}return null;};LEAP.upload.setValue=function(element,value){if(element==null){return;}if(typeof(element)=="string"){element=LEAP.getElement(element);}if(element==null){return;}var ct=element.getAttribute("ct");
if(ct==null){return;}if(ct=="upload_control_photo"){try{element.value=value;if(typeof(value)=="string"&&value.Trim()!=""){try{element.value=eval("("+value+")");}catch(err){element.value=null;}}value=element.value;var showImg=LEAP.getElement("[ctf=upload_control_photo_view]",element);element=null;showImg.removeAttribute("src");
if(value.name!=null){if(showImg!=null){showImg.src=LEAP.upload.getShowPath(value);}}LEAP.upload.setShowImg(value,showImg);showImg=null;}catch(err){}}else{if(ct=="upload_control_photolist"){element.innerHTML="<div style='position: absolute; right: 0px; top: 0px;' ctf='upload_btn_upload' class='upload_btn upload_btn_upload' ctt='upload_control_photolist' title=''></div>";
if(value!=null){var _value=value;if(typeof(value)=="string"&&value.Trim()!=""){try{_value=eval("("+value+")");}catch(err){_value=null;}}if(_value!=null){var l=_value.length;for(var i=0;i<l;i++){var result=_value[i];var n=result.showName;var url=LEAP.upload.getShowPath(result);var div=document.createElement("div");
element.appendChild(div);div.innerHTML=LEAP.upload.z.replace("@showname",n).replace("@src",url);LEAP.upload.setShowImg(result,LEAP.getElement("[ctf=upload_control_photo_view]",div));var table=LEAP.getElement(">table:first",div);element.appendChild(table);table["up__"+commfields.value]=result;LEAP.removeElement(div);
div=table=null;}}}}else{if(ct=="upload_control_list"){var isextend=false;var _a=LEAP.getElement("[md=mustreceipt]",element);if(_a!=null){isextend=true;}else{var _b=LEAP.getElement("[md=receipt]",element);if(_b!=null){isextend=true;}}var _value=value;if(typeof(value)=="string"&&value.Trim()!=""){try{_value=eval("("+value+")");
}catch(err){_value=null;}}var rows=LEAP.getElements("[ctf=table_row]",element);if(rows!=null){if(_value!=null){var l=_value.length;var ret=null;for(var i=0;i<l;i++){var v=_value[i];var n=v.showName;var row=LEAP.getElement("[cttag="+n+"]",element);if(row!=null){var e=LEAP.getElement("[ctf=upload_status]",row);
if(v.nameedPath!=null){e.className="upload_status_ok";row[commfields.value]=v;}else{e.className="upload_status";row[commfields.value]=null;}if(isextend){LEAP.upload._setRow(row,v);}rows.remove(row);}row=e=null;}}if(rows!=null){for(var i=0;i<rows.length;i++){var row=rows[i];var e=LEAP.getElement("[ctf=upload_status]",rows[i]);
e.className="upload_status";row[commfields.value]=null;if(isextend){LEAP.upload._setRow(row,v);}row=e=null;}rows=null;}element=null;if(ret!=null){ret=JSON.stringify(ret);}rows=null;return ret;}}else{if(ct=="upload_control_tree"){var isReadOnly=element.getAttribute("readonly");var btnEl=LEAP.getElement("[ctf=upload_btn_upload]",element);
if(btnEl){if(isReadOnly=="1"||isReadOnly=="true"){LEAP.setStyle(btnEl,{display:"none"});}else{LEAP.setStyle(btnEl,{display:""});}}var tree=LEAP.getElement("[ct=tree]",element);var order=element.getAttribute("order");if(tree!=null){var als=LEAP.getElements("A[onselectstart]",element);var l=null;var p=null;
if(als&&als.length>0){l=new Array();for(var i=0;i<als.length;i++){p=als[i].parentNode;if(!l.contains(p)){l.add(p);}}if(l.length>0){for(var k=0;k<l.length;k++){LEAP.tree.removeItem(tree,l[k],true);}}}l=p=null;}if(value!=null){var _value=value;if(typeof(value)=="string"&&value.Trim()!=""){try{_value=eval("("+value+")");
}catch(err){_value=null;}}if(_value!=null){var showDel=true;if(order=="1"){_str='<A style="RIGHT: 90px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_download" ctt="upload_control_tree"></A>';}else{_str='<A style="RIGHT: 30px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_download" ctt="upload_control_tree"></A>';
}if(element.getAttribute("showDelButton")=="0"){showDel=false;}if(showDel){if(order=="1"){_str=_str+'<A style="RIGHT: 60px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_delete" ctt="upload_control_tree"></A>';}else{_str=_str+'<A style="RIGHT: 0px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_delete" ctt="upload_control_tree"></A>';
}}if(order=="1"){_str=_str+'<A style="RIGHT: 30px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_up" ctt="upload_control_tree"></A><A style="RIGHT: 0px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_down" ctt="upload_control_tree"></A>';}var l=_value.length;for(var i=0;
i<l;i++){var result=_value[i];var parent=LEAP.tree.getItemByValue(tree,result.parent);var li=LEAP.tree.addItem(tree,parent,result.showName+_str,result,null,"LEAP/Resource/images/itemstyle/upload/download.gif");LEAP.getElement(li)["up__"+commfields.value]=result;parent=li=null;}}value=_value=null;}tree=null;
}}}}element=null;};LEAP.upload._setRow=function(l,g){var h=LEAP.getElement("[ctf=upload_receipt]",l);if(h!=null){var d="0";if(g!=null&&g.receipt!=null){d=g.receipt+"";}h.className="upload_receipt"+d;h.innerText=LEAP.getCodeText("upload_receipt",d);h.parentNode.innerHTML=h.outerHTML;LEAP.removeElement(h);
h=null;}var j=LEAP.getElement("[ctf=upload_mustreceipt]",l);if(j!=null){var d="0";if(g!=null&&g.mustreceipt!=null){d=g.mustreceipt+"";}j.className="upload_mustreceipt"+d;j.innerText=LEAP.getCodeText("upload_mustreceipt",d);j.parentNode.innerHTML=j.outerHTML;LEAP.removeElement(j);j=null;}};LEAP.upload.onBtnUploadComplete=function(h,j){if(h==null){return;
}if(j!=null){var g=j.getAttribute("order");var o=h.showName;var l=LEAP.getElement("[ctf=tree_item]",j);var d=null;if(g=="1"){d=LEAP.tree.addItem(LEAP.getElement("[ct=tree]",j),l,o+'<A style="RIGHT: 30px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_download" ctt="upload_control_tree"></A><A style="RIGHT: 0px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_delete" ctt="upload_control_tree"></A>',h,null,"LEAP/Resource/images/itemstyle/upload/download.gif");
}else{d=LEAP.tree.addItem(LEAP.getElement("[ct=tree]",j),l,o+'<A style="RIGHT: 90px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_download" ctt="upload_control_tree"></A><A style="RIGHT: 60px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_delete" ctt="upload_control_tree"></A><A style="RIGHT: 30px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_move" ctt="upload_control_tree"></A><A style="RIGHT: 0px;position: absolute;" href="javascript:void(0)" ctf="upload_btn_down" ctt="upload_control_tree"></A>',h,null,"LEAP/Resource/images/itemstyle/upload/download.gif");
}h.parent=l.getAttribute("_value");LEAP.getElement(d).style["margin-top"]="10px";LEAP.getElement(d)["up__"+commfields.value]=h;try{d.focus();}catch(m){}l=d=null;}};LEAP.upload.getDownloadParameter=function(g,j){if(!g||!j){return null;}try{var d=LEAP.getLoadedModule(g.getAttribute("instance"));if(d&&d.setDownloadParameter){return d.setDownloadParameter(j);
}}catch(h){}return null;};LEAP.upload._hasinnerInit=false;LEAP.upload._innerInit=function(){if(!LEAP.upload._hasinnerInit){LEAP.upload._hasinnerInit=true;if(LEAP.upload.s==null){LEAP.upload.s=LEAP.form.create(null,"",500,300,null,null,null,null,null,null,true,null,null,null,null,null,null,3).form;
LEAP.form.setContent(LEAP.upload.s,leapclient.load(LEAP.upload.p));LEAP.addEvent(LEAP.upload.s,"formHided",LEAP.upload.reset);LEAP.addEvent("[ctf=upload_file]","change",LEAP.upload.uiProcess);LEAP.getElement("[ctf=upload_form]").action=leapconfig.server+"LEAP/Service/RPC/RPC.DO?type=3";LEAP.form.hide(LEAP.upload.s);
}}};LEAP.upload.submit=function(){LEAP.getElement("[ctf=upload_form]").submit();};LEAP.upload.reset=function(){var h=LEAP.getElement("[ctf=upload_form]");if(h){h.reset();}var g=LEAP.getElement("[ctf=upload_showimg]");if(g){g.style.display="none";g.removeAttribute("src");}LEAP.getElement("[ctf=upload_btn]").disabled=false;
if(LEAP.upload.ftpmsg!=null){LEAP.upload.ftpmsg.style.display="none";}if(LEAP.upload.FTPInterval!=null){clearInterval(LEAP.upload.FTPInterval);}g=from=null;if(LEAP.upload.applet!=null){try{LEAP.upload.applet.stopAsynFTPUpload();}catch(d){}}};LEAP.upload.show=function(o,j,m,n,g,u,p,q,r){if(u!=null&&u==false){LEAP.upload.autoShowMSG=false;
}else{LEAP.upload.autoShowMSG=true;}try{if(scanner==null){}}catch(l){scanner=null;}LEAP.upload._config=null;LEAP.upload._config={uploadPath:m,autopathtype:n,maxFileSize:g,autoShowMSG:u,isftp:p,apptype:q};LEAP.upload.maxFileSize=g;LEAP.upload._innerInit();LEAP.upload.r=true;if(m==null){m="";}var d="";
if(m!=""){d=leapconfig.server+"LEAP/Service/RPC/RPC.DO?type=3&path="+encodeURIComponent(m);}else{d=leapconfig.server+"LEAP/Service/RPC/RPC.DO?type=3";}if(n!=null){d+="&autopathtype="+n;}if(r!=null&&r=="0"){d+="&autouid=0";}LEAP.getElement("[ctf=upload_form]").action=d;if(o!=null){LEAP.getElement("[ctf=upload_title]").value=o;
if(j!=null&&j!=false){LEAP.getElement("[ctf=upload_title]").readOnly=true;}else{LEAP.getElement("[ctf=upload_title]").readOnly=false;}LEAP.upload.r=false;}if(!____hasinitscanbtn){try{if(scanner==null||!LEAP.isIE){LEAP.getElement("[ctf=upload_scan_btn]").style.display="none";}}catch(h){LEAP.getElement("[ctf=upload_scan_btn]").style.display="none";
scanner=null;}____hasinitscanbtn=true;}if(p!=null&&p==true){LEAP.getElement("input[ctf=upload_file]").style.display="none";LEAP.getElement("input[ctf=upload_file_ftp]").style.display="block";LEAP.getElement("input[ctf=upload_file_select]").style.display="block";}else{LEAP.getElement("input[ctf=upload_file]").style.display="block";
LEAP.getElement("input[ctf=upload_file_ftp]").style.display="none";LEAP.getElement("input[ctf=upload_file_select]").style.display="none";}LEAP.getElement("[ctf=upload_btn]").isftp=p;LEAP.getElement("[ctf=upload_btn]").apptype=q;LEAP.form.show(LEAP.upload.s);};LEAP.upload.hide=function(){LEAP.upload.reset();
LEAP.form.hide(LEAP.upload.s);};LEAP.upload.Complete=function(j,h){LEAP.getElement("[ctf=upload_btn]").disabled=false;var g=LEAP.getElement("[ct=upload]");ElementEventManager.handleEvent(g,"uploadComplete",{object:j});ElementEventManager.removeEvent(g,"uploadComplete");if(LEAP.upload.autoShowMSG){if(j!=null){alert("");
}else{if(h==null||h.error==null){alert("");}else{if(h.error==1){var d=new StringBuffer();d.append(",");if(h.maxLen!=null){d.append("[");d.append(h.maxLen);d.append("KB]");}alert(d.toString());}else{if(h.error==2||h.error==3){alert(",");}}}}}LEAP.upload.autoShowMSG=true;LEAP.upload.reset();
};LEAP.uploadbtn=new Object();LEAP.uploadbtn.d="uploadbtn";LEAP.uploadbtn.e="uploadbtn_file";LEAP.uploadbtn.f='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="@width" height="@height" id="@id" align="middle"><param name="movie" value="@serverLEAP/Resource/flash/upload.swf@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="wmode" value="transparent" /><param name="scale" value="showall" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="allowScriptAccess" value="sameDomain" /><param name="FlashVars" value="@param"/><!--[if !IE]>--><object type="application/x-shockwave-flash" data="@serverLEAP/Resource/flash/upload.swf@gv" width="@width" height="@height"><param name="movie" value="@serverLEAP/Resource/flash/upload.swf@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="wmode" value="transparent" /><param name="scale" value="showall" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="allowScriptAccess" value="sameDomain" /><param name="FlashVars" value="@param"/><!--<![endif]--><a href="http://www.adobe.com/go/getflash"><img src="'+leapconfig.server+'LEAP/Resource/flash/get_flash_player.gif" alt=" Adobe Flash Player" /></a><!--[if !IE]>--></object><!--<![endif]--></object>';
LEAP.uploadbtn._init=function(){UIEventManager.removeEvent(window,"load",LEAP.uploadbtn._init);};LEAP.uploadbtn.init=function(){if(document!=null&&document.body!=null){LEAP.uploadbtn._init();}else{UIEventManager.addEvent(window,"load",LEAP.uploadbtn._init);}ElementEventManager.addManagedEventType(LEAP.uploadbtn.d,"uploadBtnComplete");
};LEAP.uploadbtn.w=function(h,g,j){try{var d=h.getAttribute(j);if(g&&String.isEmpty(d)){d=g.getAttribute(j);}if(String.isEmpty(d)){d=null;}return d;}finally{h=g=null;}};LEAP.uploadbtn.inited=function(g){var d=LEAP.getElement("[ctid="+g+"]");if(d){d.setAttribute("flashinited","1");}d=null;};LEAP.uploadbtn.setReadonly=function(h,d){var g=null;
try{h=LEAP._check(h,LEAP.uploadbtn.d);if(h==null){return;}var j=h.getAttribute("flashinited");if(j!=null&&j=="1"){if(d==null||d!=true){d=false;}g=h.children[0];if(g){var m=g.getElementsByTagName("object");if(m&&m.length){g=m[0];}m=null;}if(g!=null&&g.setReadOnly){g.setReadOnly(d);return;}}var l=null;
if(h){l=h.getAttribute("ctid");if(!l){l=UUID.cID();h.setAttribute("ctid",l);}}LEAP.asyn(LEAP.uploadbtn.setReadonly,null,50,h.tagName+"[ctid="+l+"]",d);}finally{g=h=null;}};LEAP.uploadbtn.setVisible=function(g,m){var d=null;try{g=LEAP._check(g,LEAP.uploadbtn.d);if(g==null){return;}var h=g.getAttribute("flashinited");
if(h!=null&&h=="1"){if(m==null||m!=true){m=false;}d=g.children[0];if(d){var l=d.getElementsByTagName("object");if(l&&l.length){d=l[0];}l=null;}if(d!=null&&d.setVisible){d.setVisible(m);return;}}var j=null;if(g){j=g.getAttribute("ctid");if(!j){j=UUID.cID();g.setAttribute("ctid",j);}}LEAP.asyn(LEAP.uploadbtn.setVisible,null,50,g.tagName+"[ctid="+j+"]",m);
}finally{d=g=null;}};LEAP.uploadbtn.Cancle=function(g,d){return LEAP.upload.Cancle(g,d);};LEAP.upload.Cancle=function(h,g){var d=null;try{h=LEAP._check(h,LEAP.uploadbtn.d);if(h==null){return;}var j=h.getAttribute("flashinited");if(j!=null&&j=="1"){if(g==null||g!=true){g=false;}d=h.children[0];if(d){var m=d.getElementsByTagName("object");
if(m&&m.length){d=m[0];}m=null;}if(d!=null&&d.Cancle){d.Cancle(g);return;}}var l=null;if(h){l=h.getAttribute("ctid");if(!l){l=UUID.cID();h.setAttribute("ctid",l);}}LEAP.asyn(LEAP.uploadbtn.Cancle,null,50,h.tagName+"[ctid="+l+"]",g);}finally{d=h=null;}};LEAP.uploadbtn.pa=function(h,g){var d=new Object();
d.readonly=LEAP.uploadbtn.w(h,g,"readonly");d.viewsize=LEAP.uploadbtn.w(h,g,"viewsize");if(LEAP.upload!=null&&LEAP.upload.viewsize!=null&&d.viewsize==null||d.viewsize==""){d.viewsize=LEAP.upload.viewsize;}d.maxselect=LEAP.uploadbtn.w(h,g,"maxselect");d.minsize=LEAP.uploadbtn.w(h,g,"minsize");d.maxsize=LEAP.uploadbtn.w(h,g,"maxsize");
d.callfn=LEAP.uploadbtn.w(h,g,"callfn");d.server=LEAP.uploadbtn.w(h,g,"server");if(!d.server){domain=LEAP.getLoadedModule(h.getAttribute("instance"));if(domain==null){domain=LEAP.getLoadedModule(g.getAttribute("instance"));}if(domain&&domain.leapclient&&domain.leapclient.router){d.server=domain.leapclient.getServerURL();
}else{d.server=leapconfig.server;}}d.sessionid=LEAP.uploadbtn.w(h,g,"sessionid");if(!d.sessionid){d.sessionid=leapclient.getsid();}d.ctid=LEAP.ctid(h);d.types=LEAP.uploadbtn.w(h,g,"types");d.typesdesc=LEAP.uploadbtn.w(h,g,"typesdesc");d.savesource=LEAP.uploadbtn.w(h,g,"savesource");d.viewwidth=LEAP.uploadbtn.w(h,g,"viewwidth");
d.viewheight=LEAP.uploadbtn.w(h,g,"viewheight");d.quality=LEAP.uploadbtn.w(h,g,"quality");d.uploadpath=LEAP.uploadbtn.w(h,g,"uploadpath");d.debug=LEAP.uploadbtn.w(h,g,"debug");d.userpar=LEAP.uploadbtn.w(h,g,"userpar");d.showtext=LEAP.uploadbtn.w(h,g,"showtext");d.callmode=LEAP.uploadbtn.w(h,g,"callmode");
d.modulefn=LEAP.uploadbtn.w(h,g,"modulefn");d.mulit=LEAP.uploadbtn.w(h,g,"mulit");d.processfn=LEAP.uploadbtn.w(h,g,"processfn");d.selecetfn=LEAP.uploadbtn.w(h,g,"selecetfn");d.pathfn=LEAP.uploadbtn.w(h,g,"pathfn");d.pathreg=LEAP.uploadbtn.w(h,g,"pathreg");d.namereg=LEAP.uploadbtn.w(h,g,"namereg");d.allowexe=LEAP.uploadbtn.w(h,g,"allowexe");
d.img=LEAP.uploadbtn.w(h,g,"img");d.LID=window.LEAP_LID;d.LSYS_AREA=window._leap_systemarea;d.LSYS_NAME=window._leap_systemname;d.LSYS_CODE=window._leap_systemcode;if(!String.isEmpty(d.img)){d.img=leapconfig.server+d.img;}d.imgwidth=LEAP.uploadbtn.w(h,g,"imgwidth");d.imgheight=LEAP.uploadbtn.w(h,g,"imgheight");
h=g=null;return d;};LEAP.uploadbtn.i=function(z,n){if(!n){if(!event){return;}n=event.srcElement;}if(!n){return;}if(z!=null){var q=function(){LEAP.uploadbtn.i(null,n);n=null;};setTimeout(q,z);return;}var h=n.parentElement;var x=null;if(h!=null){x=h.getAttribute("ctid");if(!x){x=UUID.cID();h.setAttribute("ctid",x);
}}else{return;}var r=h.getAttribute("tct");var d=null;if(r){d=LEAP._match(h,r,"ct",9);}if(!d){d=h;}var m=h.getAttribute(commfields.ct);if(m&&m==LEAP.uploadbtn.d){t=LEAP.uploadbtn.pa(h,d);t.isUploadBTN="1";var g=[];var C=0;for(var D in t){var u=t[D];if(u&&typeof u!="function"){g.add(D+"="+encodeURIComponent(u));
}}var A=g.join("&");h.removeChild(n);n=null;if(!LEAP.isIE||(LEAP.isIE&&LEAPBrowser.IEVersion>9)){var w=LEAP.uploadbtn.loadH5Upload(h,d);if(w){return;}}var y=leapclient.getVersion();if(y==null){y="";}else{y="?gv="+leapclient.getVersion();}var B=60;if(t.showtext&&t.showtext==""){B=60;h.style.overflow="hidden";
}var j="21px";var l=LEAP.uploadbtn.w(h,d,"imgwidth");var p=LEAP.uploadbtn.w(h,d,"imgheight");if(t.imgwidth){B=l+"px";j=p+"px";h.style.overflow="hidden";h.style.height=(Number(p)+3)+"px";h.style.width=(Number(l)+3)+"px";}var o=LEAP.uploadbtn.f.replaceall("@width",B+"px").replaceall("@height",j).replaceall("@server",leapconfig.server).replaceall("@param",A).replace("@id",t.ctid).replaceall("@gv",y);
h.innerHTML=o;}if(n){h.removeChild(n);}d=h=n=null;};LEAP.uploadbtn.Complete=function(u,m,B,r,h,x,A){if(u){var p=null;if(u.indexOf("\n")>-1){p=u.split("\n");}if(p){var l=[];for(var z=0;z<p.length;z++){p[z]=JSON.parse(unescape(decodeURIComponent(base64decode(p[z]))));if(p[z]&&p[z].error==null){l.push(p[z]);
}}if(l.length>0){p=l;}}else{u=JSON.parse(unescape(decodeURIComponent(base64decode(u))));if(u=="null"){u=null;}if(u.error!=null){m=u;u=null;}}}if(B){if(p){for(var z=0;z<p.length;z++){var u=p[z];if(LEAP.userInfo){u.creator=LEAP.userInfo.userflag;u.userName=LEAP.userInfo.fullName;}u.time=new Date().getTime();
}}else{if(u){if(LEAP.userInfo){u.creator=LEAP.userInfo.userflag;u.userName=LEAP.userInfo.fullName;}u.time=new Date().getTime();}}if(p){u=p;}var j=LEAP.getElement("[ctid="+B+"]");if(j){var y=j.getAttribute("zip");if(p&&y&&(y=="1"||y=="2")){u=leapclient.request("system_upload_zipfiles",{files:p});p=null;
}else{if(p==null&&u&&y){if(y=="1"){u=leapclient.request("system_upload_zipfiles",{files:[u]});}}}var n=j.getAttribute("showmsg");ElementEventManager.handleEvent(j,"uploadBtnComplete",{caller:j,object:u,err:m,result:u,sucess:m==null});if(!String.isEmpty(h)&&!String.isEmpty(x)){if(h=="module"){var C=j.getAttribute(commfields.instance);
if(!String.isEmpty(C)){var g=LEAP.getLoadedModule(C);if(g!=null){g[x](j,u,m,r,A,j);}g=null;}}}else{var q=j.getAttribute("tct");if(q&&LEAP[q]&&LEAP[q].onUploadComplete){var d=LEAP._match(j,q,"ct",9);if(d){try{LEAP[q].onUploadComplete.call(LEAP[q],d,u,m,r,A,j);}finally{d=null;}}if(String.isEmpty(n)){n=j.getAttribute("showmsg");
}}}var o=j.getAttribute("ptc");if(o){var w=LEAP._match(j,o,"ct",5);if(w&&u!=null){LEAP.upload.onBtnUploadComplete(u,w);}}if(!String.isEmpty(n)||n!="0"){n=true;}if(n){if(u!=null){if(window._messagetip=="1"){alert("");}else{LEAP.messagebox.alert("");}}else{if(m==null||m.error==null){if(window._messagetip=="1"){alert("");
}else{LEAP.messagebox.alert("",3);}}else{if(m.error==1){var D=new StringBuffer();D.append(",");if(m.maxLen!=null){D.append("[");D.append(m.maxLen);D.append("KB]");}if(window._messagetip=="1"){alert(D.toString());}else{LEAP.messagebox.alert(D.toString(),3);}}else{if(m.error==2||m.error==3){alert(",");
}else{if(m.errormsg){if(window._messagetip=="1"){alert("\n"+m.errormsg);}else{LEAP.messagebox.alert("\n"+m.errormsg,3);}}else{if(window._messagetip=="1"){alert("");}else{LEAP.messagebox.alert("",3);}}}}}}}j=null;}}};LEAP.uploadbtn.setProgressStatus=function(h,o,w,d,q,p,u,n,g){var l=LEAP.getElement("[ctid="+q+"]");
if(l){var r=l.getAttribute("_linkfu");if(r){if(LEAP.fileupload&&LEAP.fileupload.setProgressStatus){LEAP.fileupload.setProgressStatus(l,d);}}var m=l.getAttribute(commfields.instance);if(!String.isEmpty(m)){var j=LEAP.getLoadedModule(m);if(j!=null&&j[n]){j[n](l,h,o,w,d,p,u,g);}j=null;}}};LEAP.uploadbtn.setUploadAttr=function(h,d,l){if(String.isEmpty(d)){return;
}var g=null;try{h=LEAP._check(h,LEAP.uploadbtn.d);if(h==null){return;}var j=h.getAttribute("flashinited");if(j!=null&&j=="1"){g=h.children[0];if(g&&!g.setUploadAttr){var n=g.getElementsByTagName("object");if(n&&n.length){g=n[0];}n=null;}if(g!=null&&g.setUploadAttr){g.setUploadAttr(d,l);return;}}var m=null;
if(h){m=h.getAttribute("ctid");if(!m){m=UUID.cID();h.setAttribute("ctid",m);}}LEAP.asyn(LEAP.uploadbtn.setUploadAttr,null,50,h.tagName+"[ctid="+m+"]",d,l);}finally{g=h=null;}};LEAP.uploadbtn.onSelectFile=function(d,o,u,q,p,r,n,g){var j=LEAP.getElement("[ctid="+q+"]");var h=null;try{if(j){var l=j.getAttribute(commfields.instance);
if(!String.isEmpty(l)){h=LEAP.getLoadedModule(l);if(h!=null&&h[n]){var m=h[n](j,d,o,u,p,r,g);if(m==false){return false;}}h=null;}}return true;}finally{j=h=null;}};LEAP.uploadbtn.onGetUploadPath=function(d,n,u,p,o,r,q,g){var j=LEAP.getElement("[ctid="+p+"]");var h=null;try{if(j){var l=j.getAttribute(commfields.instance);
if(!String.isEmpty(l)){h=LEAP.getLoadedModule(l);if(h!=null&&h[q]){var m=h[q](j,d,n,u,o,r,g);return m;}h=null;}}}finally{j=h=null;}};LEAP.uploadbtn.loadH5Upload=function(j,h){var g=j.getAttribute("ct");if(g!=LEAP.uploadbtn.d){return false;}var d=j.getAttribute("tct");if(!d){return false;}j.setAttribute("ct","fileupload");
j.setAttribute("ctfe","fileupload_upload_btn");var l=j.className;if(l){j.className="LC_fileupload_button "+l;}else{j.className="LC_fileupload_button";}j.innerHTML='<img style="float: left; display: none;" onerror="LEAP.fileupload.i(10);" src="data:image:png,base64">';return true;};LEAP.uploadbtn.init();
LEAP.uploadform=new Object();LEAP.uploadform.d="uploadform";LEAP.uploadform.s=null;LEAP.uploadform.f=null;LEAP.uploadform.c=null;LEAP.uploadform.fobj='<object id="@id" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="@width" height="@height" align="middle"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="wmode" value="window" /><param name="scale" value="showall" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="allowScriptAccess" value="sameDomain" /><param name="FlashVars" value="@vars"/><!--[if !IE]>--><object type="application/x-shockwave-flash" data="@url@gv" width="@width" height="@height"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="play" value="true" /><param name="loop" value="true" /><param name="wmode" value="window" /><param name="scale" value="showall" /><param name="menu" value="true" /><param name="devicefont" value="false" /><param name="salign" value="" /><param name="allowScriptAccess" value="sameDomain" /><param name="FlashVars" value="@vars"/><!--<![endif]--><a href="http://www.adobe.com/go/getflash"><img src="@flashimg" alt=" Adobe Flash Player" /></a><!--[if !IE]>--></object><!--<![endif]--></object>'.replace("@flashimg",leapconfig.server+"LEAP/Resource/flash/get_flash_player.gif").replaceall("@id","leapflashuploadform01").replaceall("@width","603").replaceall("@height","403").replaceall("@url",leapconfig.server+"LEAP/Resource/flash/uploadForm.swf").replaceall("@gv",leapclient.getVersionStr());
LEAP.uploadform.show=function(d){if(d.callback==null){return;}LEAP.uploadform.f=null;LEAP.uploadform.c=null;if(LEAP.upload!=null&&LEAP.upload.viewsize!=null&&d.viewsize==null||d.viewsize==""){d.viewsize=LEAP.upload.viewsize;}LEAP.uploadform.c={arg:d.arg,callback:d.callback,domain:d.domain,autoclose:d.autoclose};
delete (d.arg);delete (d.callback);delete (d.autoclose);if(d.domain&&d.domain.leapclient&&d.domain.leapclient.router){d.server=d.domain.leapclient.getServerURL();}else{d.server=leapconfig.server;}delete (d.domain);var n=d.x;var m=d.y;delete (d.x);delete (d.y);LEAP.uploadform.f=d;d.LID=window.LEAP_LID;
d.LSYS_AREA=window._leap_systemarea;d.LSYS_NAME=window._leap_systemname;d.LSYS_CODE=window._leap_systemcode;var g=[];var j=0;for(var p in d){var q=d[p];if(q&&typeof q!="function"){g.add(p+"="+encodeURIComponent(q));}}var l=g.join("&");if(LEAP.uploadform.s==null){LEAP.uploadform.s=LEAP.form.create(null,"",615,550,null,null,null,null,null,null,true,null,null,null,null,null,null,3).form;
LEAP.addEvent(LEAP.uploadform.s,"formHided",LEAP.uploadform.clear);}var o=LEAP.uploadform.fobj.replaceall("@vars",l);LEAP.form.setContent(LEAP.uploadform.s,o);LEAP.form.show(LEAP.uploadform.s);if(n||m){var h=LEAP.getElement(LEAP.uploadform.s);if(n==null){n=(document.body.clientWidth-h.clientWidth)/2;
}if(m==null){m=(document.body.clientHeight-h.clientHeight)/2;}if(typeof(n)=="string"&&n.indexOf("%")>-1){n=document.body.clientWidth*("0."+n.replace("%",""));}if(typeof(m)=="string"&&m.indexOf("%")>-1){m=document.body.clientHeight*("0."+m.replace("%",""));}if(n<0){n=20;}if(m<0){m=40;}LEAP.form.setLocation(LEAP.uploadform.s,n,m);
}document.getElementById("leapflashuploadform01").focus();};LEAP.uploadform.clear=function(){LEAP.form.setContent(LEAP.uploadform.s,"");LEAP.uploadform.f=null;LEAP.uploadform.c=null;};LEAP.uploadform.callback=function(h,d){if(!h){return;}var m=null;var l=LEAP.uploadform.c.autocloase;var g=LEAP.uploadform.c.arg;
var j=LEAP.uploadform.c.callback;try{if(h){if(d!=null){d=JSON.parse(unescape(decodeURIComponent(base64decode(d))));m=LEAP.uploadform.c.domain;if(m==null){m=window;}if(l==null||l){LEAP.uploadform.hide();}j.call(m,d,g);}}}catch(n){if(isdebug){throw n;}}finally{m=j=d=g=null;}};LEAP.uploadform.hide=function(){LEAP.uploadform.clear();
LEAP.form.hide(LEAP.uploadform.s);};LEAP.GISM={};LEAP.GISM.d="GISM";LEAP.GISM.ff='<DIV gisf="searchcon"  style="filter:Alpha(Opacity=45);position:absolute;right:0;top:27px;background-color:white;WIDTH: 300px;height:300px;display:none;overflow:hidden;"><DIV gisf="searchconContent" style="width:100%;height:100%;display:block;overflow:hidden;"></DIV></DIV><DIV style="width:100%;height:100%">     <object id="@id" ctf="GIS" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100%" height="100%" align="middle"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="@vars"/><!--[if !IE]>--><object type="application/x-shockwave-flash" data="@url@gv" width="100%" height="100%"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="@vars"/><!--<![endif]--><a href="http://www.adobe.com/go/getflash"><img src="@serverLEAP/Resource/flash/get_flash_player.gif" alt=" Adobe Flash Player" /></a><!--[if !IE]>--></object><!--<![endif]--></object>   </DIV>'.replaceall("@server",leapconfig.server).replaceall("@url",leapconfig.server+"LEAP/Resource/flash/GIS/LGIS.swf").replaceall("@gv",leapclient.getVersionStr());
LEAP.GISM.f='<DIV style="width:100%;height:100%">     <object id="@id" ctf="GIS" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100%" height="100%" align="middle"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="@vars"/><!--[if !IE]>--><object type="application/x-shockwave-flash" data="@url@gv" width="100%" height="100%"><param name="movie" value="@url@gv" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="@vars"/><!--<![endif]--><a href="http://www.adobe.com/go/getflash"><img src="@serverLEAP/Resource/flash/get_flash_player.gif" alt=" Adobe Flash Player" /></a><!--[if !IE]>--></object><!--<![endif]--></object>   </DIV>'.replaceall("@server",leapconfig.server).replaceall("@url",leapconfig.server+"LEAP/Resource/flash/GIS/LGIS.swf").replaceall("@gv",leapclient.getVersionStr());
LEAP.GISM.i=function(o,d){if(!d){if(!event){return;}d=event.srcElement;}if(!d){return;}if(o!=null){var w=function(){LEAP.GISM.i(null,d);d=null;};setTimeout(w,o);return;}var m=d.parentElement;var p=null;if(m!=null){m.style.position="relative";p=m.getAttribute("ctid");if(!p){p=UUID.cID();m.setAttribute("ctid",p);
}}else{return;}var q=m.getAttribute(commfields.ct);var h=m.getAttribute("hidebar");var l=m.getAttribute("show3D");var g=m.getAttribute("show3Dalpha");if(q&&q==LEAP.GISM.d){var z=new Object();z.server=leapconfig.server;z.sessionid=leapclient.getsid();if(h!=null&&h){z.hidebar=h;}if(l!=null&&l){z.show3D=l;
}if(g!=null&&g){z.show3Dalpha=g;}if(LEAP.getUserInfo().applicationname!=null){z.applicationname=LEAP.getUserInfo().applicationname;}z.showtype=1;z.isMobile=true;z.ctid=p;if(LEAP.getUserInfo()){z.areaid=LEAP.getUserInfo().areaid;z.areaname=LEAP.getUserInfo().areaCNName;if(LEAP.getUserInfo().extendinfo){if(LEAP.getUserInfo().extendinfo.gis_showxz){z.showxz=LEAP.getUserInfo().extendinfo.gis_showxz;
}if(LEAP.getUserInfo().extendinfo.gis_showdrawtool){z.showdrawtool=LEAP.getUserInfo().extendinfo.gis_showdrawtool;}}}var n=[];var u=0;for(var y in z){var x=z[y];if(x&&typeof x!="function"){n.add(y+"="+encodeURIComponent(x));}}var r=n.join("&");var j=LEAP.GISM.f.replaceall("@vars",r).replace("@id",p);
m.innerHTML=j;}if(d){LEAP.removeElement(d,false);}m=d=null;};LEAP.GISM._flashcallback=function(h,g,d){LEAP.asyn(LEAP.GISM.__flashcallback,null,10,h,g,d);};LEAP.GISM.__flashcallback=function(l,p,r){var h=LEAP.getElement("[ctid="+l+"]");if(h){if(r){try{r=JSON.parse(unescape(r));}catch(m){}}if(p=="GIS_initComplete"){h.setAttribute("flashinited","1");
var g=document.getElementById(l);if(g){var j=g.getElementsByTagName("object");if(j&&j.length){g=j[0];}j=null;}if(g!=null){g.focus();}g=null;}ElementEventManager.handleEvent(h,p,r);var q=h.getAttribute("instance");try{if(q){var d=LEAP.getLoadedModule(q);var n=null;if(d){var o=d[p];if(o){try{n=o.call(d,r);
}catch(m){if(isdebug){throw m;}}finally{d=o=null;}}d=null;}}}finally{h=null;}}};LEAP.GISM._call=function(j,x){j=LEAP._check(j,LEAP.GISM.d);if(j==null){return null;}try{var g=j.getAttribute("flashinited");var h=null;if(g!=null&&g=="1"){var n=LEAP.ctid(j);h=document.getElementById(n);if(h){var m=h.getElementsByTagName("object");
if(m&&m.length){h=m[0];}m=null;}if(h!=null&&h[x]){var u=null;if(arguments.length>2){u=[];for(var l=2;l<arguments.length;l++){var w=arguments[l];if(w!=null){var q=typeof(w);if(q!="number"&&q!="string"){u.add(JSON.stringify(w));}else{u.add(w);}}else{u.add(null);}}}var o=null;try{if(u!=null){o=h[x].apply(h,u);
}else{o=h[x].apply(h);}}catch(y){}if(o!=null){var d=o;try{d=JSON.parse(unescape(o));}catch(p){}return d;}}}}finally{h=j=null;}return null;};LEAP.GISM.init=function(){ElementEventManager.addManagedEventType(LEAP.GISM.d,"GIS_initComplete");ElementEventManager.addManagedEventType(LEAP.GISM.d,"GIS_drawShapeComplete");
};LEAP.GISM.init();