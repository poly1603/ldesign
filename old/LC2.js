LEAP.DataRetrieve={};LEAP.DataRetrieve.datas=null;LEAP.DataRetrieve.searchParent=null;LEAP.DataRetrieve.checkitem='<div class="LC_checkbox" ctf="checkbox2_item" style="display:inline-block"><input type="checkbox" ctf="checkbox2_input" value="@codeid"/><span></span><label ctf="checkbox2_label">@codevalue</label></div>';
LEAP.DataRetrieve.searchiteminput='<div class="LC_area_item"  _issearch="1"  _iscontrol="1" _linkmd="@md"><div class="LC_area_chosed"  _issearch="1"><span _istext="1">@cn:</span>@temphtml</div></div>';LEAP.DataRetrieve.searchiteminput3='<div class="LC_input_placeholder2 LC_area_chosed lc_search_searchitem"  _issearch="1"  _iscontrol="1" _linkmd="@md"><div class="lg_p_lr_left"  _issearch="1" _istext="1">@cn</div><div class=lg_p_lr_fill><div class=lg_p_lr_fill_c>@temphtml</div></div></div>';
LEAP.DataRetrieve.searchitemselect='<div class="LC_area_chosed lc_search_searchitem" _issearch="1" _iscontrol="1" _linkmd="@md" >@temphtml</div>';LEAP.DataRetrieve.tempHtml="<li class='LC_DR_panel-item' data='@data'><input class='LC_form-input' ctf='retrieve_chk' @checked type='checkbox' name='i' value='@value' data='@data'><span></span><span title='@title' class='LC_DR_panelinfo'>@cnname</span></li>";
LEAP.DataRetrieve.fieldhash=null;LEAP.DataRetrieve.hasAddhash=null;LEAP.DataRetrieve.initControl=function(j,b,f){if(!j||!f||!b){return;}this.initSearchFields();LEAP.DataRetrieve.searchParent=b;var a=LEAP.getElement("[ct=dretrieve]",j);if(a){if(a.style.display==""){a.style.display="none";}else{a.style.display="";
}return;}var d=new StringBuffer();var c=null;for(var e=0;e<f.length;e++){var l=f[e].cnname;if(l){if(l.length>5){l=l.substring(0,5)+"...";}}if(LEAP.DataRetrieve.hasAddhash.contains(f[e].name)){c=LEAP.DataRetrieve.tempHtml.replaceall("@data",JSON.stringify(f[e])).replace("@value",f[e].id).replaceall("@cnname",l).replace("@checked","checked").replace("@title",f[e].cnname);
}else{c=LEAP.DataRetrieve.tempHtml.replaceall("@data",JSON.stringify(f[e])).replace("@value",f[e].id).replaceall("@cnname",l).replace("@checked","").replace("@title",f[e].cnname);}d.append(c);}var h=document.createElement("div");h.className="LC_DR_panel";h.setAttribute("ct","dretrieve");h.style.height=j.offsetHeight+3+"px";
var g=document.createElement("ul");g.innerHTML=d.toString();h.appendChild(g);j.appendChild(h);LEAP.scrollbar.showScrollBar(h,g,0);LEAP.addEvent(LEAP.getElements("[ctf=retrieve_chk]",g),"click",LEAP.DataRetrieve.selectItem,null,true);};LEAP.DataRetrieve.selectItem=function(i){if(!i||!i.caller){return;
}var d=i.caller;var f=d.getAttribute("data");if(!f){return;}var b=JSON.parse(f);var g=b.name;var c=LEAP.getElement("[_linkmd="+g+"]",LEAP.DataRetrieve.searchParent);if(c){if(!d.checked){LEAP.DataRetrieve.searchParent.removeChild(c);}return;}else{if(!d.checked){return;}}var j=LEAP.DataRetrieve.rebuidSearchControl(b,true);
var h=document.createElement("div");h.innerHTML=j;var a=h.children;if(!a||a.length==0){return;}LEAP.DataRetrieve.searchParent.appendChild(a[0]);LEAP.removeElement(h);};LEAP.DataRetrieve.rebuidSearchControl=function(f,a){if(f.codetype&&a){f.fieldtype="124";}var c=this.convertControl(f,null,false);var d=null;
var b=f.fieldtype;var e=f.codetype;var g=f.ctef;if(c==null){c="";}if(b=="124"&&e){d=this.searchitemselect;c=c.replace("@value",f.cnname);}else{if(g=="input3"){d=this.searchiteminput3;}else{d=this.searchiteminput;}if(b=="126"){d=d.replace("@cn:","");}d=d.replace("@cn",f.cnname);}d=d.replace("@md",f.name).replace("@temphtml",c);
return d;};LEAP.DataRetrieve.convertControl=function(y,h,n){var d=y.fieldtype;if(h){d=d+"_"+h;}var j=y.codetype;var w=y.maxsize;var z=y.numericscale;var f=y.isnullable;var e=y.ctef;var t=y.ispass;var m="";if(j&&(d=="120"||d=="121"||d=="4"||d=="30"||d=="31")&&!y.isconvert){d="122";}if(y.name=="areaid"&&!y.isconvert){d="126";
}if(y.name=="gisp_x"||y.name=="gisp_y"){d="999";}var x=this.searchTemplate(d);if(x){m=leapclient.load(x);}if(m!=null&&m.length>0){m=m.replaceall("@cn",y.cnname).replaceall("@name",y.cnname);}if(n){var r="";if(d=="120"||d=="121"||d=="125"||d=="127"||d=="128"||d=="129"){if(w>0){r=r+"maxlen:"+w/2+",";}}else{if(d=="30"||d=="31"){r=r+"isnumber:true,";
if(w>0){r=r+"precision:"+w+",";}if(z>0){r=r+"decimalplace:"+z+",";}}else{if(d=="4"&&!j){r=r+"isint:true,maxlen:7,";}}}if(f=="0"){r=r+"notnull:true,";}if(r!=null&&r.length>0){r=r.substring(0,r.length-1);if(m.indexOf("@check")>0){m=m.replace("@check","check='"+r+"'");}else{m=m.replace("@md","@md check='"+r+"'");
}}else{if(m.indexOf("@check")>0){m=m.replace("@check","");}}m=m.replace("@value","");}if(!n){if(m.indexOf("@check")>0){m=m.replace("@check","");}m=m.replace("@value",y.cnname);}if(j&&!y.isconvert){var a=null;var v=LEAP.getCodeValue(j);if(v==null||j.length==0){a="";}else{var u=new StringBuffer();if(d==122||d==123){for(var p=0;
p<v.length;p++){if(!v[p]){continue;}u.append(this.checkitem.replace("@codeid",v[p].codeid).replace("@codevalue",v[p].codevalue));}m=m.replace("<!--code-->",u.toString());}else{var c=[];var g=LEAP.request("studiov2_searchCodetypes",{codetype:j});if(g&&g.indexof(",")>-1){m=m.replace("values='@codes'","");
j=g;}else{for(var p=0;p<v.length;p++){if(!v[p]){continue;}c.add({codeid:v[p].codeid,codevalue:v[p].codevalue});}var b="";if(c.length>0){b=JSON.stringify(c);}if(b!=null&&b.length>0){m=m.replace("@codes",b);}else{m=m.replace("values='@codes'","");}}}}m=m.replace("@codetype",j);}var s="";if(e=="input3"){s='ctef="input3"';
}m=m.replace("@ctef",s);if(t=="1"){m=m.replace("@md","@md type='password'");}if(y.isconvert&&j){m=m.replace("@md","@md code='"+j+"'");}if(!n){var q="12";if(d=="4"||d=="30"||d=="31"||d=="91"||d=="92"||d=="93"||j){q="11";}if(d==126){q=null;}if(q){m=m.replace("@md","@md search="+q+"");}}m=m.replace("@md",y.name.toLowerCase());
if(m.indexOf("@class")>0){m=m.replace("@class","");}var l=y.isdecry;if(l==1){var o=leapclient.load("LEAP/Studiov2/Studiov2EditorModule/template/Laybutton.html");o=o.replaceall("@clname","lgimg_viewreal").replace("@controlStr",m).replace("@ct","linkmd = "+y.name.toLowerCase()+"  ct=linkdecry");m=o;}return m;
};LEAP.DataRetrieve.initTemplate=function(){this.fieldhash.add("120","LEAP/Studiov2/Studiov2EditorModule/template/LC_input.html");this.fieldhash.add("121","LEAP/Studiov2/Studiov2EditorModule/template/LC_textarea.html");this.fieldhash.add("122","LEAP/Studiov2/Studiov2EditorModule/template/LC_checkbox_single.html");
this.fieldhash.add("123","LEAP/Studiov2/Studiov2EditorModule/template/LC_checkbox.html");this.fieldhash.add("124","LEAP/Studiov2/Studiov2EditorModule/template/LC_select.html");this.fieldhash.add("125","LEAP/Studiov2/Studiov2EditorModule/template/LC_photo.html");this.fieldhash.add("126","LEAP/Studiov2/Studiov2EditorModule/template/LC_area.html");
this.fieldhash.add("131","LEAP/Studiov2/Studiov2EditorModule/template/opinion.html");this.fieldhash.add("132","LEAP/Studiov2/Studiov2EditorModule/template/attlist.html");this.fieldhash.add("133","LEAP/Studiov2/Studiov2EditorModule/template/attlist2.html");this.fieldhash.add("129","LEAP/Studiov2/Studiov2EditorModule/template/upload_file.html");
this.fieldhash.add("4","LEAP/Studiov2/Studiov2EditorModule/template/LC_integer.html");this.fieldhash.add("30","LEAP/Studiov2/Studiov2EditorModule/template/LC_number.html");this.fieldhash.add("31","LEAP/Studiov2/Studiov2EditorModule/template/LC_number.html");this.fieldhash.add("91","LEAP/Studiov2/Studiov2EditorModule/template/LC_date.html");
this.fieldhash.add("93","LEAP/Studiov2/Studiov2EditorModule/template/LC_datetime.html");this.fieldhash.add("999","LEAP/Studiov2/Studiov2EditorModule/template/gisp.html");this.fieldhash.add("2004","LEAP/Studiov2/Studiov2EditorModule/template/LC_textarea.html");};LEAP.DataRetrieve.searchTemplate=function(a){if(this.fieldhash==null){this.fieldhash=new hashtable();
this.initTemplate();}return this.fieldhash.getvalue(a);};LEAP.DataRetrieve.initSearchFields=function(b){if(this.hasAddhash==null){this.hasAddhash=new hashtable();}else{this.hasAddhash.clear();}var c=LEAP.getElements("[_linkmd]",b);if(c&&c.length>0){for(var a=0;a<c.length;a++){var d=c[a].getAttribute("_linkmd");
this.hasAddhash.add(d,d);}}};var ba_leapaaswebpartlist=function(){};LEAP.checkbox2={};LEAP.checkbox2.d="checkbox2";LEAP.checkbox2._init=function(){LEAP.addEvent(document.body,"click",LEAP.checkbox2.uiProcess,null,null,true);LEAP.addEvent(document.body,"keydown",LEAP.checkbox2.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.checkbox2._init);};LEAP.checkbox2.setReadOnly=function(d,e){d=LEAP._check(d,LEAP.checkbox2.d);if(null==d){return;}var b=LEAP.getElements("[ctf=checkbox2_input]",d);if(e){d.setAttribute("readonly","1");if(null==b){return;}var a=b.length;for(var c=0;c<a;c++){b[c].setAttribute("disabled","true");
}}else{d.setAttribute("readonly","0");if(null==b){return;}var a=b.length;for(var c=0;c<a;c++){b[c].removeAttribute("disabled");}}};LEAP.checkbox2.setValue=function(e,n){var l=null;try{e=LEAP._check(e,LEAP.checkbox2.d);if(null==e){return;}LEAP.checkbox2.initSpanAtt(e);l=LEAP.getElements("[ctf=checkbox2_input]",e);
if(null==l){return;}var g=e.getAttribute("readonly");if(g=="1"){var h=l.length;for(var f=0;f<h;f++){l[f].setAttribute("disabled","true");}}else{var h=l.length;for(var f=0;f<h;f++){l[f].removeAttribute("disabled");}}var b=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){b=true;
}LEAP.checkbox2.checkedAll(e,false);if(String.isEmpty(n)){return;}n=n.toString().split(",");for(var f=0;f<n.length;f++){for(var d=0;d<l.length;d++){if(l[d].value.Trim()==n[f].Trim()){l[d].checked="true";l[d].setAttribute("checked","true");l[d]["_flag"]=true;try{}catch(c){}if(b==true){var a=LEAP._match(l[d],"checkbox2_item","ctf",5);
var m=LEAP.getElement("[ctf=checkbox2_span]",a);LEAP.addCSS(m,"LC_focus_span");LEAP.addCSS(m,"LC_checked_span");}}}d=null;}f=null;}finally{e=n=l=null;}};LEAP.checkbox2.getValue=function(c,d){c=LEAP._check(c,LEAP.checkbox2.d);if(null==c){return null;}var a=LEAP.getElements("[ctf=checkbox2_input]",c);if(null==a){return;
}var e=",";for(var b=0;b<a.length;b++){if(a[b]){if(d=="1"){if(a[b]["_flag"]==true){e+=a[b].value.Trim()+",";}}else{if(a[b]["_flag"]==true||a[b].checked==true){e+=a[b].value.Trim()+",";}}}}return(","==e)?null:e.substring(1,e.length-1);};LEAP.checkbox2.getUncheckedValue=function(c){c=LEAP._check(c,LEAP.checkbox2.d);
if(null==c){return null;}var a=LEAP.getElements("[ctf=checkbox2_input]",c);if(null==a){return;}var d=",";for(var b=0;b<a.length;b++){if(a[b]){if(a[b]["_flag"]!=true||a[b].checked==false){d+=a[b].value.Trim()+",";}}}return(","==d)?null:d.substring(1,d.length-1);};LEAP.checkbox2.setDisabled=function(f,b,a,m){var g=null;
var h=null;var j=null;try{f=LEAP._check(f,LEAP.checkbox2.d);if(null==f){return;}LEAP.checkbox2.initSpanAtt(f);if("boolean"!=typeof(b)){return;}var d=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){d=true;}if(null!=a&&null!=m){j=LEAP.getElements("[ctf=checkbox2_item]",f);
g=LEAP.getElements("[ctf=checkbox2_input]",f);h=LEAP.getElements("[ctf=checkbox2_label]",f);if(null!=g){for(var e=0;e<g.length;e++){if(g[e].value==m&&h[e].innerHTML==a){if(b){g[e].checked="true";g[e].setAttribute("checked","true");g[e].setAttribute("disabled","true");g[e]["_flag"]=true;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);
var l=LEAP.getElement("[ctf=checkbox2_span]",c);LEAP.addCSS(l,"LC_focus_span");LEAP.addCSS(l,"LC_checked_span");}}else{g[e].checked="";g[e].removeAttribute("checked");g[e].removeAttribute("disabled");g[e]["_flag"]=false;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);
LEAP.removeCSS(c,"LC_focus_span",false);LEAP.removeCSS(c,"LC_checked_span",false);}}}}e=null;}}else{if(null!=a){g=LEAP.getElements("[ctf=checkbox2_input]",f);h=LEAP.getElements("[ctf=checkbox2_label]",f);if(null!=g){for(var e=0;e<g.length;e++){if(h[e].innerHTML==a){if(b){g[e].checked="true";g[e].setAttribute("checked","true");
g[e].setAttribute("disabled","true");g[e]["_flag"]=true;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);LEAP.addCSS(l,"LC_focus_span");LEAP.addCSS(l,"LC_checked_span");}}else{g[e].checked="";g[e].removeAttribute("checked");g[e].removeAttribute("disabled");
g[e]["_flag"]=false;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);LEAP.removeCSS(c,"LC_focus_span",false);LEAP.removeCSS(c,"LC_checked_span",false);}}}}e=null;}}else{if(null!=m){g=LEAP.getElements("[ctf=checkbox2_input]",f);h=LEAP.getElements("[ctf=checkbox2_label]",f);
if(null!=g){for(var e=0;e<g.length;e++){if(b){g[e].checked="true";g[e].setAttribute("checked","true");g[e].setAttribute("disabled","true");g[e]["_flag"]=true;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);LEAP.addCSS(l,"LC_focus_span");LEAP.addCSS(l,"LC_checked_span");
}}else{g[e].checked="";g[e].removeAttribute("checked");g[e].removeAttribute("disabled");g[e]["_flag"]=false;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);LEAP.removeCSS(c,"LC_focus_span",false);LEAP.removeCSS(c,"LC_checked_span",false);}}}e=null;
}}else{g=LEAP.getElements("[ctf=checkbox2_input]",f);if(null!=g){for(var e=0;e<g.length;e++){if(b){g[e].checked="true";g[e].setAttribute("checked","true");g[e].setAttribute("disabled","true");g[e]["_flag"]=true;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);
LEAP.addCSS(l,"LC_focus_span");LEAP.addCSS(l,"LC_checked_span");}}else{g[e].checked="";g[e].removeAttribute("checked");g[e].removeAttribute("disabled");g[e]["_flag"]=false;if(d==true){var c=LEAP._match(g[e],"checkbox2_item","ctf",5);var l=LEAP.getElement("[ctf=checkbox2_span]",c);LEAP.removeCSS(c,"LC_focus_span",false);
LEAP.removeCSS(c,"LC_checked_span",false);}}}e=null;}}}}}finally{g=f=a=m=null;}};LEAP.checkbox2.getNameByValue=function(c,d){var a=null;var e=null;var b=null;try{c=LEAP._check(c,LEAP.checkbox2.d);if(null==c){return null;}a=LEAP.getElements("[ctf=checkbox2_input]",c);e=LEAP.getElements("[ctf=checkbox2_label]",c);
if(null==a){return null;}for(b=0;b<a.length;b++){if(a[b].value.Trim()==d){return(LEAP.isIE?e[b].innerText:e[b].textContent);}}return null;}finally{b=c=null;}};LEAP.checkbox2.getCheckedItemElements=function(c){var a=null;var e=null;var b=null;var d=null;try{c=LEAP._check(c,LEAP.checkbox2.d);if(null==c){return null;
}a=LEAP.getElements("[ctf=checkbox2_input]",c);e=LEAP.getElements("[ctf=checkbox2_label]",c);if(null==a){return null;}d=new hashtable();for(b=0;b<a.length;b++){if(a[b]["_flag"]==true){d.add(a[b].value,a[b]);}}return d.count>0?d:null;}finally{d=b=c=null;}};LEAP.checkbox2.getCheckedItemElements2=function(c){var a=null;
var f=null;var b=null;var e=null;try{c=LEAP._check(c,LEAP.checkbox2.d);if(null==c){return null;}a=LEAP.getElements("[ctf=checkbox2_input]",c);f=LEAP.getElements("[ctf=checkbox2_label]",c);if(null==a){return null;}e=new Array();for(b=0;b<a.length;b++){if(a[b]["_flag"]==true){var d=LEAP._match(a[b],"checkbox2_item","ctf",5);
e.add(d);}}return e.length>0?e:null;}finally{e=b=c=null;}};LEAP.checkbox2.getItems=function(b){try{var a=LEAP._check(b,LEAP.checkbox2.d);if(null==a){return null;}return LEAP.getElements("[ctf=checkbox2_item]",a);}finally{a=null;}};LEAP.checkbox2.getItemData=function(a){if(a==null){return null;}return a._data;
};LEAP.checkbox2.getItemValue=function(b){if(b==null){return null;}try{var a=LEAP.getElement("input[ctf=checkbox2_input]",b);if(a){return a.value;}return null;}finally{a=null;}};LEAP.checkbox2.getCheckedData=function(e){try{var a=LEAP._check(e,LEAP.checkbox2.d);if(null==a){return null;}var f=[];var c=LEAP.getElements("[ctf=checkbox2_item]",a);
if(c!=null){for(var d=0;d<c.length;d++){var g=c[d];var b=LEAP.getElement("[ctf=checkbox2_input]",g);if(b._flag==true){f.add(g._data);}}}return f.length>0?f:null;}finally{f=d=a=null;}};LEAP.checkbox2.getCheckedItem=function(c){var a=null;var e=null;var b=null;var d=null;try{c=LEAP._check(c,LEAP.checkbox2.d);
if(null==c){return null;}a=LEAP.getElements("[ctf=checkbox2_input]",c);e=LEAP.getElements("[ctf=checkbox2_label]",c);if(null==a){return null;}d=new hashtable();for(b=0;b<a.length;b++){if(a[b]["_flag"]==true){d.add(a[b].value,(LEAP.isIE?e[b].innerText:e[b].textContent));}}return d.count>0?d:null;}finally{d=b=c=null;
}};LEAP.checkbox2.addAllItem=function(e,a,c,f,b){if(!e){return;}if(a){for(var d=0;d<a.length;d++){LEAP.checkbox2.addItem(e,a[d][c],a[d][f],null,a[d],b);}}};LEAP.checkbox2._initTemplate=function(a){if(!a._itemstr&&a._hasInitTemplate!=1){var c=LEAP.getElement("[ctf=checkbox2_item]",a);if(c!=null){var b=c.getAttribute("moduletype");
if(b=="1"){a._itemstr=c.outerHTML;a.removeChild(c);}}a._hasInitTemplate=1;}};LEAP.checkbox2.addItem=function(a,x,o,f,v,h){var t=null;var r=null;var m=null;var p=null;try{a=LEAP._check(a,LEAP.checkbox2.d);if(null==a){return;}LEAP.checkbox2._initTemplate(a);var n=a.getAttribute("showtip");var u=a.getAttribute("tipfield");
if(null==x||""==x){x="&nbsp;";}var j=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){j=true;}var q=false;if(null==f||""==f||false==f){f="";}else{q=true;}if(a._itemstr!=null){var g=document.createElement("DIV");g.innerHTML=a._itemstr;var b=LEAP.getElement("[ctf=checkbox2_item]",g);
if(b!=null){b._data=v;if(h){LEAP.setStyle(b,{width:h+"px"});}var e=LEAP.getElement("[ctf=checkbox2_input]",b);if(e!=null){e.value=o;e.checked=f;e._flag=q;}var c=LEAP.getElement("[ctf=checkbox2_label]",b);if(c!=null){c.innerHTML=x;if(n=="1"||n=="true"){if(u&&v[u]!=null){c.setAttribute("title",v[u]);}else{c.setAttribute("title",x);
}}}a.appendChild(b);return b;}}else{t=document.createElement("DIV");a.appendChild(t);t._data=v;if(j==true&&q==true){t.className="LC_checkbox";LEAP.setStyle(t,{display:"inline"});}else{t.className="LC_checkbox";LEAP.setStyle(t,{display:"inline-block"});}if(h){LEAP.setStyle(t,{width:h+"px"});}t.setAttribute("ctf","checkbox2_item");
r=document.createElement("INPUT");r.type="checkbox";r.setAttribute("ctf","checkbox2_input");r.value=o;r.checked=f;r._flag=q;t.appendChild(r);m=document.createElement("SPAN");m.setAttribute("ctf","checkbox2_span");if(j==true&&q==true){m.className="LC_focus_span LC_checked_span";}t.appendChild(m);p=document.createElement("LABEL");
p.setAttribute("ctf","checkbox2_label");p.innerHTML=x;if(n=="1"||n=="true"){if(u&&v[u]!=null){p.setAttribute("title",v[u]);}else{p.setAttribute("title",x);}}t.appendChild(p);return t;}}finally{t=r=m=p=a=x=o=f=null;}};LEAP.checkbox2.clearItems=function(c){var a=null;try{c=LEAP._check(c,LEAP.checkbox2.d);
if(!c){return;}LEAP.checkbox2._initTemplate(c);a=LEAP.getElements("[ctf=checkbox2_item]",c);if(!a){return;}for(var b=0;b<a.length;b++){c.removeChild(a[b]);}}finally{a=c=null;}};LEAP.checkbox2.removeItems=function(f,d,g){var b=null;try{f=LEAP._check(f,LEAP.checkbox2.d);if(!f){return;}LEAP.checkbox2._initTemplate(f);
b=LEAP.getElements("[ctf=checkbox2_item]",f);if(d!=null&&g!=null){for(var e=0;e<b.length;e++){var a=LEAP.getElement("[ctf=checkbox2_input]",b[e]);var c=LEAP.getElement("[ctf=checkbox2_label]",b[e]);if(a.value==g&&c.innerHTML==d){f.removeChild(b[e]);}}}else{if(d!=null){for(var e=0;e<b.length;e++){var c=LEAP.getElement("[ctf=checkbox2_label]",b[e]);
if(c.innerHTML==d){f.removeChild(b[e]);}}}else{if(g!=null){for(var e=0;e<b.length;e++){var a=LEAP.getElement("[ctf=checkbox2_input]",b[e]);if(a.value==g){f.removeChild(b[e]);}}}}}}finally{b=d=g=f=null;}};LEAP.checkbox2.getCheckedCount=function(d){var a=null;var c=0;try{d=LEAP._check(d,LEAP.checkbox2.d);
if(null==d){return c;}a=LEAP.getElements("[ctf=checkbox2_input]",d);if(null==a){return c;}for(var b=0;b<a.length;b++){if(true==a[b].checked){c++;}}b=null;return c;}finally{c=a=d=null;}};LEAP.checkbox2.uiProcess=function(h){var m=h.e.srcElement;var d=h.e.type;var D=m.tagName;var a=m.getAttribute(commfields.ctf);
var c=LEAP._match(m,LEAP.checkbox2.d,"ct",99);if(!c){return;}LEAP.checkbox2.initSpanAtt(c);var r=c.getAttribute("radio");var u=c.getAttribute("readonly");var p=c.getAttribute("cmin");var s=c.getAttribute("cmax");var j=c.getAttribute("ccancel");if(null==s||""==s){s=0;}else{try{s=parseInt(s);if(s<0){s=0;
}}catch(C){s=0;}}if(null==p||""==p){p=0;}else{try{p=parseInt(p);if(p<0){p=0;}}catch(C){p=0;}}if(p>s){p=s;}if(d=="click"){if(a=="checkbox2_input"||a=="checkbox2_label"||a=="checkbox2_img"||a=="checkbox2_item"||D=="SPAN"){if(u=="1"){return;}var b=LEAP._match(m,"checkbox2_item","ctf",99);var g=LEAP.getElement("[ctf=checkbox2_input]",b);
var f=null;var n=null;var t=LEAP.getElements("[ctf=checkbox2_input]",c);var w=null;if(t!=null){w=t.length;}if(p>w){p=w;}if(s>w){s=w;}var q=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){q=true;}if(r=="1"){n=LEAP.checkbox2.getValue(c,"1");var B=t.length;for(var A=0;A<B;
A++){var v=t[A].value;if(v==g.value){if(a=="checkbox2_label"||a=="checkbox2_item"||a=="checkbox2_img"){if(t[A].checked==true){t[A].checked="";t[A]["_flag"]=false;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);
LEAP.removeCSS(y,"LC_checked_span",false);}}else{t[A].checked="true";t[A]["_flag"]=true;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}else{if(a=="checkbox2_input"){if(t[A].checked==false){t[A].checked="";
t[A]["_flag"]=false;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);LEAP.removeCSS(y,"LC_checked_span",false);}}else{t[A].checked="true";t[A]["_flag"]=true;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);
var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}else{if(D=="SPAN"){if(a!="otherbox"){if(t[A]["_flag"]==null){t[A].checked="true";t[A]["_flag"]=true;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);
LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}else{if(t[A]["_flag"]==true){t[A].checked="";t[A]["_flag"]=false;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);LEAP.removeCSS(y,"LC_checked_span",false);
}}else{t[A].checked="true";t[A]["_flag"]=true;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}}}}}}else{t[A].checked="";t[A]["_flag"]=false;if(q==true){var z=LEAP._match(t[A],"checkbox2_item","ctf",5);
var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);LEAP.removeCSS(y,"LC_checked_span",false);}}}if(j=="1"){var o=LEAP.checkbox2.getCheckedCount(c);if(o==0){g.checked="true";g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);
LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}f=LEAP.checkbox2.getValue(c,"1");ElementEventManager.handleEvent(c,"valueChange",{newvalue:f,oldvalue:n,src:c,pv:n,lv:f});}else{n=LEAP.checkbox2.getValue(c,"1");if(a=="checkbox2_label"||a=="checkbox2_item"){if(g.checked==true){g.checked="";
g._flag=false;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);LEAP.removeCSS(y,"LC_checked_span",false);}}else{g.checked="true";g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);
LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}else{if(a=="checkbox2_input"){if(g.checked==false){g.checked="";g._flag=false;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);LEAP.removeCSS(y,"LC_checked_span",false);
}}else{g.checked="true";g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}else{if(D=="SPAN"){if(a!="otherbox"){if(g._flag==null){g.checked="true";g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);
var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}else{if(g._flag==true){g.checked="";g._flag=false;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);
LEAP.removeCSS(y,"LC_checked_span",false);}}else{g.checked="true";g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}}}}}var o=LEAP.checkbox2.getCheckedCount(c);if(o>s&&s!=0){g.checked="";
g._flag=false;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.removeCSS(y,"LC_focus_span",false);LEAP.removeCSS(y,"LC_checked_span",false);}}else{if(o<p&&p!=0){g.checked="true";g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);
var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}else{f=LEAP.checkbox2.getValue(c,"1");ElementEventManager.handleEvent(c,"valueChange",{newvalue:f,oldvalue:n,src:c,pv:n,lv:f});}}if(j=="1"){var o=LEAP.checkbox2.getCheckedCount(c);if(o==0){g.checked="true";
g._flag=true;if(q==true){var z=LEAP._match(g,"checkbox2_item","ctf",5);var y=LEAP.getElement("[ctf=checkbox2_span]",z);LEAP.addCSS(y,"LC_focus_span");LEAP.addCSS(y,"LC_checked_span");}}}}ElementEventManager.handleEvent(c,"clickItem",{item:m,checked:g._flag,value:g.value,data:b._data});}}else{if(d=="keydown"){var x=-1;
if(LEAP.isIE){x=h.e.keyCode;}else{x=h.e.which;}if(x==9){if(a=="checkbox2_input"||D=="SPAN"){var g=LEAP.getElement("[ctf=checkbox2_input]:last",c);g.focus();}}else{if(x==40||x==39){var t=LEAP.getElements("[ctf=checkbox2_input]",c);if(a=="checkbox2_input"){if(t!=null){for(var A=0;A<t.length;A++){if(t[A].value==m.value){if(A==t.length-1){t[0].focus();
}else{t[A+1].focus();}break;}}}LEAP.stopEvent(h.e);return;breakEvent:true;}}else{if(x==38||x==37){var t=LEAP.getElements("[ctf=checkbox2_input]",c);if(a=="checkbox2_input"){if(t!=null){for(var A=0;A<t.length;A++){if(t[A].value==m.value){if(A==0){t[t.length-1].focus();}else{t[A-1].focus();}break;}}}LEAP.stopEvent(h.e);
return;breakEvent:true;}}}}}}};LEAP.checkbox2.initSpanAtt=function(c){c=LEAP._check(c,LEAP.checkbox2.d);if(null==c){return null;}if(c._initSpanAtt!="1"){var b=LEAP.getElements("SPAN",c);if(b!=null){for(var a=0;a<b.length;a++){var d=b[a].getAttribute("ctf");if(String.isEmpty(d)){b[a].setAttribute("ctf","checkbox2_span");
}}c._initSpanAtt="1";}}};LEAP.checkbox2.getAllItems=function(c){var a=null;var e=null;var b=null;var d=null;try{c=LEAP._check(c,LEAP.checkbox2.d);if(null==c){return null;}a=LEAP.getElements("[ctf=checkbox2_input]",c);if(a!=null){e=LEAP.getElements("[ctf=checkbox2_label]",c);if(null==a){return null;}d=new hashtable();
for(b=0;b<a.length;b++){d.add(a[b].value,(LEAP.isIE?e[b].innerText:e[b].textContent));}return d.count>0?d:null;}}finally{d=b=c=null;}};LEAP.checkbox2.setItemChecked=function(e,j,c,a){e=LEAP._check(e,LEAP.checkbox2.d);if(null==e){return;}if(!j){return;}LEAP.checkbox2.initSpanAtt(e);if(a==false){}else{LEAP.checkbox2.checkedAll(e,false);
}var d=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){d=true;}var g=LEAP.getElements("[ctf=checkbox2_input]",e);if(g){for(var f=0;f<g.length;f++){if(g[f].value==j){g[f].checked=(c?"true":"");if(c){g[f].setAttribute("checked","true");}else{g[f].removeAttribute("checked");
}if(c){g[f]["_flag"]=true;if(d){var b=LEAP._match(g[f],"checkbox2_item","ctf",5);var h=LEAP.getElement("[ctf=checkbox2_span]",b);LEAP.addCSS(h,"LC_focus_span");LEAP.addCSS(h,"LC_checked_span");}}else{g[f]["_flag"]=false;if(d){var b=LEAP._match(g[f],"checkbox2_item","ctf",5);var h=LEAP.getElement("[ctf=checkbox2_span]",b);
LEAP.removeCSS(h,"LC_focus_span",false);LEAP.removeCSS(h,"LC_checked_span",false);}}break;}}}};LEAP.checkbox2.checkedAll=function(e,g){var c=null;try{e=LEAP._check(e,LEAP.checkbox2.d);if(null==e){return;}c=LEAP.getElements("[ctf=checkbox2_input]",e);if(null==c){return;}var b=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){b=true;
}for(var d=0;d<c.length;d++){c[d].checked=(g?"true":"");if(g){c[d].setAttribute("checked","true");}else{c[d].removeAttribute("checked");}if(g){c[d]["_flag"]=true;if(b==true){var a=LEAP._match(c[d],"checkbox2_item","ctf",5);var f=LEAP.getElement("[ctf=checkbox2_span]",a);LEAP.addCSS(f,"LC_focus_span");
LEAP.addCSS(f,"LC_checked_span");}}else{c[d]["_flag"]=false;if(b==true){var a=LEAP._match(c[d],"checkbox2_item","ctf",5);var f=LEAP.getElement("[ctf=checkbox2_span]",a);LEAP.removeCSS(f,"LC_focus_span",false);LEAP.removeCSS(f,"LC_checked_span",false);}}if(d==0){if(c[d].checked==true){c[d].focus();}else{c[d].blur();
}}}d=null;}finally{g=e=c=null;}};LEAP.checkbox2.init=function(){if(document!=null&&document.body!=null){LEAP.checkbox2._init();}else{UIEventManager.addEvent(window,"load",LEAP.checkbox2._init);}ElementEventManager.addManagedEventType(LEAP.checkbox2.d,"valueChange");ElementEventManager.addManagedEventType(LEAP.checkbox2.d,"clickItem");
}();LEAP.d3chart={};LEAP.d3chart.d="d3chart";LEAP.d3chart.isLoaded=false;LEAP.d3chart.isLoading=false;LEAP.d3chart.titlestr='<div style="position: absolute;">@center</div>';LEAP.d3chart.setValue=function(a,d){if(a==null){return;}if(typeof(a)=="string"){a=LEAP.getElement(a);}if(!d){a.innerHTML="";return;
}if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion<9){LEAP.setStyle(a,{width:"500px",height:"500px",lineHeight:"500px",textAlign:"center"});a.innerHTML='<font style="width:100%;color:#bbbbbb;font-size:20px;font-weight: bold;">建议使用IE9及以上版本或者使用Google浏览器</font>';return;}var b=a.getAttribute("type");if(!LEAP.d3chart.isLoaded){if(!LEAP.d3chart.isLoading){LEAP.d3chart.isLoading=true;
leapclient.loadjs("LEAP/D3Charts/SourceJS/d3.v3.min.js");leapclient.loadcss("LEAP/D3Charts/d3contrl/css/d3contrl.css");leapclient.loadjs("LEAP/D3Charts/d3contrl/javascript/contrlchart.js");LEAP.d3chart.isLoaded=true;}else{var e=LEAP.ctid(a);LEAP.asyn(LEAP.d3chart.setValue,null,1000,e,d);}}a.innerHTML="";
var e=LEAP.ctid(a);var f=null;if(!f){contrlchart[b].setValue(a,d);}};LEAP.d3chart.onClickEvent=function(a,c){var b=LEAP._check(c,LEAP.d3chart.d);if(!b){return;}ElementEventManager.handleEvent(b,"click",{data:a});};LEAP.d3chart.onOverEvent=function(l,a){var c=LEAP._check(a,LEAP.d3chart.d);if(!c){return;
}var i=c.getAttribute("titleEvent");var g=LEAP.getElement("[ctf=d3title]");var b=LEAP.getLoadedModule(c.getAttribute(commfields.instance));var e=null;if(i){if(b[i]!=null&&typeof(b[i])=="function"){e=b[i].call(b,{data:l});}}var j=window.event.clientX;var f=window.event.clientY;if(!g){var h=document.createElement("div");
LEAP.setStyle(h,{position:"absolute",backgroundColor:"white",top:f+"px",left:j+15+"px",border:"1px solid #bbbbbb",padding:"10px"});h.setAttribute("ctf","d3title");if(e){h.innerHTML=e;}else{h.innerHTML=l.value;}document.body.appendChild(h);}else{LEAP.setStyle(g,{display:"block",top:f+"px",left:j+15+"px"});
if(e){g.innerHTML=e;}else{g.innerHTML=l.value;}}};LEAP.d3chart.onOutEvent=function(c){var b=LEAP._check(c,LEAP.d3chart.d);if(!b){return;}var a=LEAP.getElement("[ctf=d3title]");if(a){LEAP.setStyle(a,{display:"none"});a.innerHTML="";}};LEAP.d3chart.init=function(){ElementEventManager.addManagedEventType(LEAP.d3chart.d,"click");
}();function loadcalendar1(h){var n=h.getAttribute("startyear");var o=h.getAttribute("endyear");var a=h.getAttribute("isscd");if(!n){n=1890;}if(!o){o=2099;}var p="";p+='<div class="LC_date_box" id="calendar" ct="d_panel_group" style="display:none; position:'+LEAP.date._pm+'; z-index:99999995;">';p+='<div class="LC_date_header"><div class="LC_date_year">';
p+='<input class="LC_date_year_prev" type="button" onclick="refreshcalendar(yy-1, mm,null,null,null,null,'+a+');return false"/>';p+='<input class="LC_date_year_text" type="input" id="year" value="" onclick="showdiv(\'year\');_cancelBubble(event);return false"/>';p+='<input class="LC_date_year_next" type="button" onclick="refreshcalendar(yy+1, mm,null,null,null,null,'+a+');return false"/>';
p+='<div id="calendar_year" class="LC_date_year_more">';for(var d=n;d<=o;d++){p+='<a onclick="refreshcalendar('+d+", mm,null,null,null,null,"+a+");dateid('calendar_year').style.display='none';return false\" id=\"calendar_year_"+d+'" href="javascript:">'+d+"</a>";}p+="</div>";p+="</div>";p+='<div class="LC_date_month">';
p+='<input class="LC_date_month_prev" type="button" onclick="refreshcalendar(yy, mm-1,null,null,null,null,'+a+');return false"/>';p+='<input class="LC_date_month_text" type="input" id="month" value="" onclick="showdiv(\'month\');_cancelBubble(event);return false"/>';p+='<input class="LC_date_month_next" type="button" onclick="refreshcalendar(yy, mm+1,null,null,null,null,'+a+');return false"/>';
p+='<div id="calendar_month" class="LC_date_month_more">';for(var d=1;d<=12;d++){p+='<a onclick="refreshcalendar(yy, '+(d-1)+",null,null,null,null,"+a+");dateid('calendar_month').style.display='none';return false\" href=\"javascript:\" id=\"calendar_month_"+d+'">'+d+(d<10?" ":"")+" 月</a>";}p+="</div></div></div>";
p+='<table class="LC_date_body"><tr><th class="LC_date_weekday">日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th class="LC_date_weekday">六</th></tr>';for(var l=0;l<6;l++){p+="<tr>";for(var f=1;f<=7;f++){p+="<td id=d"+(l*7+f)+">0</td>";}p+="</tr>";}p+="</table>";p+='<div class="LC_date_footer" id="hourminute">';
p+='<ul class="LC_date_time" id="date_time">';p+="<li>时间：</li>";p+='<li><input class="LC_date_hour" type="text" id="hour" value="" onKeyUp=\'this.value=this.value > 23 ? zerofill(new Date().getHours()) : zerofill(this.value);\'/><font id="hourmh">:</font></li>';p+='<li><input class="LC_date_minute" type="text" id="minute" value="" onKeyUp=\'this.value=this.value > 59 ? zerofill(new Date().getMinutes()) : zerofill(this.value);\'/><font id="minutemh">:</font></li>';
p+='<li><input class="LC_date_second" type="text" id="second" value="" onKeyUp=\'this.value=this.value > 59 ? zerofill(new Date().getSeconds()) : zerofill(this.value);\'/></li>';p+='<li style="float: right;"><image src = '+leapclient.getServerURL()+'LEAP/Resource/images/lcimages/LC_date/icon_data_select.png style="cursor:pointer;height:22px" onclick=showTimePicker('+a+")></li>";
p+="</ul>";p+='<div class="LC_date_btn_area">';p+='<input class="clear" type="button" value="清空" onclick="cleartime();return false"/>';p+='<input class="confirm" type="button" id="date_suer" value="确定" onclick="settime1();return false"/>';p+="</div>";p+="</div>";p+='<div class="LC_date_picker" id="calendar_picker"><h3 class="LC_date_picker_title">选择时间</h3>';
p+='<ul class="LC_date_picker_list">';if(a=="0"){p+='<li class="LC_date_picker_item LC_date_hour" style="width:50%"><h4 class="LC_date_picker_subtitle">时</h4>';}else{p+='<li class="LC_date_picker_item LC_date_hour"><h4 class="LC_date_picker_subtitle">时</h4>';}p+='<ul class="LC_date_picker_sublist">';
for(var l=0;l<=24;l++){var c=l<10?"0"+l:l;p+='<li class="LC_date_picker_subitem" id="_h'+c+'" onclick=setHour("'+c+'")>'+c+"</li>";}p+="</ul></li>";if(a=="0"){p+='<li class="LC_date_picker_item LC_date_minute" style="width:50%"><h4 class="LC_date_picker_subtitle">分</h4>';}else{p+='<li class="LC_date_picker_item LC_date_minute"><h4 class="LC_date_picker_subtitle">分</h4>';
}p+='<ul class="LC_date_picker_sublist">';for(var l=0;l<60;l++){var e=l<10?"0"+l:l;p+='<li class="LC_date_picker_subitem" id="_m'+e+'" onclick=setMinite("'+e+'")>'+e+"</li>";}p+="</ul></li>";if(a!="0"){p+='<li class="LC_date_picker_item LC_date_second"><h4 class="LC_date_picker_subtitle">秒</h4>';p+='<ul class="LC_date_picker_sublist">';
for(var l=0;l<60;l++){var m=l<10?"0"+l:l;p+='<li class="LC_date_picker_subitem" id="_s'+m+'" onclick=setSecond("'+m+'")>'+m+"</li>";}p+="</ul></li>";}p+="</ul></div>";p+="</div>";if(!(!!window.ActiveXObject||"ActiveXObject" in window)){var g=LEAP.getElement("[ct=d_panel_group][id=calendar]");if(g!=null){document.body.removeChild(g.parentElement);
}}var b=document.createElement("div");b.innerHTML=p;b.setAttribute("ctf","calendarbox");document.body.appendChild(b);LEAP.getElement("[ct=d_panel_group][id=calendar]").onclick=function(i){_cancelBubble(i);LEAP.getElement("#calendar_year").style.display="none";LEAP.getElement("#calendar_month").style.display="none";
};}LEAP.dotsplit=new Object();LEAP.dotsplit.d="dot";LEAP.dotsplit._init=function(){};LEAP.dotsplit.init=function(){}();LEAP.dotsplit.uiProcess=function(r){var j=r.e.type;if(j=="click"){var a=r.e.srcElement;var m=a.getAttribute(commfields.ctf);if(m==null||(m!="dot_label"&&m!="dot_span")){return;}if(m=="dot_span"){a=a.parentElement;
}var g=a.getAttribute(commfields.ct);var c=a.className.split(" ").contains("active");if(c){return;}var n=LEAP._match(a,LEAP.dotsplit.d);if(n==null){return;}var f=LEAP.dotsplit.getSplitLables(n);var h=-1;var b=f.length;var q=-1;var p=false;for(var e=0;e<b;e++){q++;if(f[e]==a){p=true;break;}}if(p){h=q;
}LEAP.dotsplit.setSelectedIndex(n,h);}else{if(j=="mousewheel"){var d=r.e.srcElement;if(d!=null){d=LEAP.dotsplit._matchElement(d,LEAP.dotsplit.d);if(d){var o=r.e.wheelDelta;var h=LEAP.dotsplit.getSelectedIndex(d);if(h<0){return;}if(o==-120){h++;}else{if(o==120){h--;}}LEAP.dotsplit.setSelectedIndex(d,h);
}}}}};LEAP.dotsplit.getSplitLables=function(d){var e=LEAP.getElement(">div:first>UL",d);if(e&&e.childNodes){var f=e.childNodes;var a=f.length;var b=[];for(var c=0;c<a;c++){var g=f[c];if(g.tagName=="LI"&&g.getAttribute("ctf")=="dot_label"){b.add(g);}g=null;}d=e=f=null;try{return b;}finally{b=null;}}};
LEAP.dotsplit.getSelectedIndex=function(d){d=LEAP._check(d,LEAP.dotsplit.d);if(d==null){return;}if(d==null){return;}var e=LEAP.dotsplit.getSplitLables(d);var b=-1;var a=e.length;for(var c=0;c<a;c++){if(e[c].className.split(" ").contains("active")){b=c;break;}}d=e=null;return b;};LEAP.dotsplit.setSelectedIndex=function(d,g,o){if(g<0){return;
}d=LEAP._check(d,LEAP.dotsplit.d);if(d==null){return;}if(d==null){return;}var f=LEAP.dotsplit.getSplitLables(d);var h=f.length;if(g>=h){return;}var j=d.children[0].children[0];var c=d.children[1].children[0];if(j.children.length!=0){for(var e=0;e<j.children.length;e++){if(j.children[e].className.indexOf("active")!=-1){fcolor=j.children[e].style.color;
break;}}}LEAP.removeCSS(j.children,"active",true);LEAP.setStyle(j.children,{backgroundColor:"",color:"",borderColor:""},true);var q=null;var p=-1;var n=false;for(var e=0;e<h;e++){p++;if(g==p){q=f[e];break;}}var a=c.children[g];LEAP.addCSS(q,"active",false);LEAP.setStyle(q,{color:fcolor});if(LEAP.isIE){a.style.visibility="visible";
}a.style.display="block";var b=c.children.length;for(var e=0;e<b;e++){if(e==g){continue;}var m=c.children[e];if(m.offsetHeight>0){if(LEAP.isIE){m.style.visibility="hidden";}m.style.display="none";}}if(o!=null&&o==false){}else{ElementEventManager.handleEvent(d,"dotSplitIndexChange",{label:d,index:g,element_content:a,element_label:q,flag:g,srcst:q.getAttribute("st")});
}cs=d=f=null;};LEAP.dotsplit._matchElement=function(d,f,g,h,b){if(g==null){g=commfields.ct;}var j=null;try{if(d.getAttribute(g)==f||d[g]==f){return d;}if(h==null){h=19;}j=d.parentNode;var a=-1;for(var e=0;e<h;e++){a++;if(j==null){return;}if(j.tagName=="BODY"){return;}if(LEAP.dotsplit._checkScroll(j)){return;
}if(j.getAttribute(g)==f||j[g]==f){if(b==true){return a;}return j;}j=j.parentNode;if(j==null){return;}}}catch(c){}finally{j=d=null;}};LEAP.dotsplit._checkScroll=function(a){if(a==null){return false;}var b=false;if(a.offsetHeight>a.clientHeight||a.offsetWidth>a.clientWidth){b=true;}return b;};LEAP.eachlist={};
LEAP.eachlist.a="_headers";LEAP.eachlist.d="eachlist";LEAP.eachlist.dt="_datas";LEAP.eachlist.dta="data";LEAP.eachlist.b="_lastindex";LEAP.eachlist.m="_searchMethod";LEAP.eachlist.md=LEAP.eachlist.m+"d";LEAP.eachlist.pn="pageNum";LEAP.eachlist.ps="pageSize";LEAP.eachlist.pc="pageCount";LEAP.eachlist.node="nodehtml";
LEAP.eachlist.oldnode="oldnodehtml";LEAP.eachlist.headers=null;LEAP.eachlist.srflag=false;LEAP.eachlist.btnflag=false;LEAP.eachlist.letterli='<li class="LC_eachlist_letter_li" ctf="eachlist_row_letter"><div><a href="javascript:" ctfe="eachlist_letter">@py</a></div></li>';LEAP.eachlist.lettertreeli='<li class="tree_item" ctf="eachlist_row_letter"><a href="javascript:" class="tree_item_pre"><label ctfe="eachilst_open" class="@tree_closed"></label><img style="margin-top: 0px;border: none" src="@src"></a><a href="javascript:" class="tree_item_title" ctfe="eachlist_letter" dataid="@dataid">@py</a></li>';
LEAP.eachlist.treeli='<li class="tree_item LC_tree_item" fltype="@fltype" ctf="eachlist_row"><a href="javascript:" class="tree_item_pre"><label></label><img style="margin-top: 0px;border: none" src="@src"></a><a href="javascript:" class="tree_item_title" ctfe="earchlist_clickable" md="@name" bt="text" utf="text"></a></li>';
LEAP.eachlist.letterstr='<li><a href="javascript:" ctfe="letter_clickable" class="@class">@letter</a></li>';LEAP.eachlist._init=function(){LEAP.addEvent(document.body,"click",LEAP.eachlist.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.eachlist.uiProcess,null,null,true);LEAP.addEvent(document.body,"dblclick",LEAP.eachlist.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.eachlist._init);};LEAP.eachlist.initControl=function(o,e){if(!e){if(!event){return;}e=event.srcElement;}if(!e){return;}if(o!=null){var f=function(){LEAP.eachlist.initControl(null,e);e=null;};setTimeout(f,o);return;}var c=e.parentElement;if(c!=null){var j=c.getAttribute("showopa");
if(j!=null){if(j=="0"){var n=LEAP.getElements("[ctf=eachlist_opa]",c);if(n!=null){var s=n.length;for(var r=0;r<s;r++){LEAP.removeCSS(n[r],"LC_eachlist_manage",false);LEAP.addCSS(n[r],"LC_hide");}}}}var a=LEAP.getElement("[ctf=eachlist_body]",c);var g=LEAP.getElements("[ctf=eachlist_row]",a);if(g&&g.length>0){if(g[0][LEAP.eachlist.dt]==null){c[LEAP.eachlist.node]=a.innerHTML;
c[LEAP.eachlist.oldnode]=a.innerHTML;a.innerHTML="";}}LEAP.addEvent(c,"mouseleave",LEAP.eachlist.titleout,null,null,true);var h=c.getAttribute("showscrll");if(h=="1"){var m=LEAPLGRS.id(c);LEAPLGRS._setup(m,"other",LEAP.eachlist.urlonresize);c.setAttribute("pageSize","999");}var t=c.getAttribute("showletter");
if(t!=null){if(t=="1"){var u=LEAP.getElement("[ctf=eachlist_letter]",c);if(u){var v=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var b=new StringBuffer();for(var r=0;r<v.length;r++){var p=null;if(r==0){p=LEAP.eachlist.letterstr.replace("@letter",v[r]).replace("@class","LC_eachlist_letter_active");
}else{p=LEAP.eachlist.letterstr.replace("@letter",v[r]).replace("@class","");}b.append(p);}u.innerHTML=b.toString();var m=LEAPLGRS.id(c);LEAPLGRS._setup(m,"other",LEAP.eachlist.windowonresize);var d=LEAP.getElement("[ctf=eachlist_sl]",c);if(d){LEAP.addEvent(d,"mousewheel",LEAP.eachlist.urlbodywheel,null,null,true);
}c.setAttribute("pageSize","999");}}}var q=LEAP.getElement("[ctf=eachlist_search]",c);if(q){var l=LEAP.getElement("[ctef=input3][mdtype=text]",q);if(l){LEAP.addEvent(l,"keyup",LEAP.eachlist.uiProcess,null,null,true);}}}};LEAP.eachlist.windowonresize=function(p,g){element=LEAP._check(g,LEAP.eachlist.d);
if(!element){return;}var a=element.clientHeight;var d=LEAP.getElement("[ctf=eachlist_letter]",element);var b=LEAP.getElement("[ctf=eachlist_title]",element);var q=LEAP.getElement("[ctf=eachlist_sl]",element);var l=LEAP.getElement("[ctf=eachlist_cate]",element);if(d){var f=0;if(b){if(l){f=(a-b.clientHeight-l.clientHeight)/26;
}else{f=(a-b.clientHeight)/26;}d.style.top=b.clientHeight+"px";b.style.marginBottom="0px";}else{if(l){f=(a-l.clientHeight)/26;}else{f=a/26;}}var j=LEAP.getElements("LI",d);if(j){var h=j.length;for(var e=0;e<h;e++){j[e].style.height=f+"px";j[e].style.lineHeight=f+"px";j[e].children[0].style.lineHeight=f+"px";
}}if(b){if(l){q.style.height=a-b.clientHeight-l.clientHeight+"px";}else{q.style.height=a-b.clientHeight+"px";}}var l=LEAP.getElement("[ctf=eachlist_cate]",element);if(l){var o=LEAP.getElements("[ctf=LC_eachlist_cate_item]",l);if(o){var c=(l.clientWidth+o.length-1)/o.length;var n=LEAP.getElements("[ctfe=LC_eachlist_cate_buttom]",l);
for(var e=0;e<n.length;e++){if(!n[e].getAttribute("_tagetbody")){var m=UUID.cID();if(e==0){element.setAttribute("_tagetbox",m);LEAP.getElement("[ctf=eachlist_body]",element).setAttribute("_tagetct",m);}n[e].setAttribute("_tagetbody",m);}}LEAP.setStyle(n,{width:c+"px"});}}}};LEAP.eachlist.urlbodywheel=function(o){var a=o.e.srcElement;
var j=o.e.type;var q=a.tagName;var m=a.getAttribute(commfields.ctf);var g=LEAP._match(a,LEAP.eachlist.d,"ct",99);if(!g){return;}var p=LEAP.getElement("[ctf=eachlist_sl]",g);if(event.wheelDelta==-120){if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion==8){p.scrollTop+=200;}else{p.scrollTop+=50;}}else{if(event.wheelDelta==120){if(LEAPBrowser.isIE&&LEAPBrowser.IEVersion==8){p.scrollTop-=200;
}else{p.scrollTop-=50;}}}var h=LEAP.getElement("[ctf=eachlist_body]",g);var b=LEAP.getElements("[ctfe=eachlist_letter]",h);if(b!=null){var n=null;var e=LEAP.getAbsolutePos(p);for(var f=0;f<b.length;f++){var l=LEAP.getAbsolutePos(b[f]);if(l.y<=e.y+4){n=b[f].innerHTML;}}var d=LEAP.getElement("[ctf=eachlist_letter]",g);
var c=LEAP.getElements("[ctfe=letter_clickable]",d);if(c!=null){for(var f=0;f<c.length;f++){if(n==c[f].innerHTML){LEAP.addCSS(c[f],"LC_eachlist_letter_active");}else{LEAP.removeCSS(c[f],"LC_eachlist_letter_active",false);}}}}};LEAP.eachlist.setValue=function(x,ap,aq){if(!x){return;}if(!ap){x._olddata=null;
x[LEAP.eachlist.dt]=null;LEAP.eachlist.clearRow(x);return;}if(ap){if(ap.leapclient_isasyn){LEAP.eachlist.clearRow(x);return;}}if(!aq){var R=LEAP.convertResult(ap);var W=[];for(var am=0;am<R.length;am++){var ac=R[am];var Z={};for(var E in ac){Z[E]=ac[E];}W.add(Z);}x._olddata=W;}x[LEAP.eachlist.dt]=ap;
var t=x.getAttribute("asyncount");if(t!="1"){var s=LEAP.getElement("[ctf=eachlist_number]",x);if(ap.count!=null){if(s!=null){s.innerHTML="("+ap.count+")";s.setAttribute("_number",ap.count);}x[LEAP.eachlist.pn]=ap.pageNum;x[LEAP.eachlist.pc]=ap.pageCount;if(x[LEAP.eachlist.ps]==null){x[LEAP.eachlist.ps]=ap.size;
}}}var Y=LEAP.getElement("[ctf=eachlist_body]",x);var aj=x.getAttribute("showdate");var I=x.getAttribute("showscrll");var v=x.getAttribute("showcheckbox");var w=x.getAttribute("showletter");var V=x.getAttribute("showused");var p=LEAP.getElement("[ctf=eachlist_search]",x);var f=LEAP.getElement("[ctef=input3][mdtype=text]",p);
var B=null;if(f){B=f.getAttribute("md");}var ai=x.getAttribute("lmd");var h=x.getAttribute("expnode");var a=LEAP.getLoadedModule(x.getAttribute(commfields.instance));if(x[LEAP.eachlist.node]==null){x[LEAP.eachlist.node]=Y.innerHTML;x[LEAP.eachlist.oldnode]=Y.innerHTML;}Y.innerHTML="";var ad=LEAP.convertResult(ap);
if(!ad){return;}var F=ad.length;if(w=="1"){var M=LEAP.getElement("[ctf=eachlist_sl]",x);if(M){M.scrollTop=0;}var C=LEAP.getElement("[ctf=eachlist_letter]",x);if(x._catemd){ai=x._catemd;if(C){C.style.display="none";}}else{if(C){C.style.display="block";}}if(ai==null){var an=document.createElement("div");
an.innerHTML=x[LEAP.eachlist.node];x.appendChild(an);var g=LEAP.getElements("[ctfe=earchlist_clickable]",an);for(var am=0;am<g.length;am++){var G=g[am].getAttribute("md");if(G!=null){ai=G;break;}}x.removeChild(an);}if(ai==null){return;}var H=new Array();var ag=x._catemd;var A=x._catecode;var y=null;if(ag){y=LEAP.eachlist.gethdef(ag,A);
}for(var am=0;am<F;am++){var q=null;if(ag){q=LEAP.getBindValue(y,ad[am][ag],ad[am],LEAP.eachlist.d,null,a);}else{if(!aq){q=LEAP.conversion.getValue(ad[am][ai].charAt(0));}else{q=LEAP.conversion.getValue(ad[am][ai].charAt(0));}var X=/^[A-Z]+$/;if(!X.test(q)){var af=1;while(af<ad[am][ai].length&&!X.test(q)){q=LEAP.conversion.getValue(ad[am][ai].charAt(af));
af++;}}}if(ag){if(!H.contains(q)){H.add(q);}}else{q=q.toLocaleUpperCase();if(X.test(q)){if(q.length>1){q=q.split("")[0];}if(!H.contains(q)){H.add(q);}}}}if(V=="1"&&ag==null){H.add("0");}if(!ag){H.sort();}var L=new StringBuffer();var o=new Array();var D=new Array();for(var am=0;am<H.length;am++){if(H[am]=="0"){if(!aq){var ao=null;
var ab=x.getAttribute("btudfn");if(ab!=null){var c=ab.split("=");var O=null;if(c!=null){if(c[0]=="method"){O=c[1];}}if(a[O]!=null&&typeof(a[O])=="function"){ao=a[O].call(a);}if(ao){LEAP.eachlist.setUsedValue(x,ao);}var ae=x._useddatas;if(ae!=null){if(ae.length>0){var T=LEAP.eachlist.letterli.replace("@py","常用");
L.append(T);for(var ak=0;ak<ae.length;ak++){L.append(x[LEAP.eachlist.node]);o.add(ae[ak]);}}}}}else{if(aq&&(f.value==null||f.value=="")){var ao=null;var ab=x.getAttribute("btudfn");if(ab!=null){var c=ab.split("=");var O=null;if(c!=null){if(c[0]=="method"){O=c[1];}}if(a[O]!=null&&typeof(a[O])=="function"){ao=a[O].call(a);
}if(ao){LEAP.eachlist.setUsedValue(x,ao);}var ae=x._useddatas;if(ae!=null){if(ae.length>0){var T=LEAP.eachlist.letterli.replace("@py","常用");L.append(T);for(var ak=0;ak<ae.length;ak++){L.append(x[LEAP.eachlist.node]);o.add(ae[ak]);}}}}}}}else{var T=null;var U=null;if(x._treetype){U=UUID.cID().replace("-","");
var e=null;if(!String.isEmpty(x.getAttribute("treeicon"))){e=leapconfig.server+x.getAttribute("treeicon");}else{e=leapconfig.server+"LEAP/Resource/images/lcimages/LC_tree3/icon_tree3_title.png";}T=LEAP.eachlist.lettertreeli.replace("@py",H[am]).replace("@dataid",U).replace("@tree_closed",h==1?"tree_opened":"tree_closed").replace("@src",e);
}else{T=LEAP.eachlist.letterli.replace("@py",H[am]);}L.append(T);for(var ak=0;ak<F;ak++){var q=null;if(ag){q=LEAP.getBindValue(y,ad[ak][ag],ad[ak],LEAP.eachlist.d,null,a);}else{if(!aq){q=LEAP.conversion.getValue(ad[ak][ai].charAt(0));}else{q=LEAP.conversion.getValue(ad[ak][ai].charAt(0));}}if(ag){if(!q){if(!D.contains(ad[ak])){D.add(ad[ak]);
}}}else{q=q.toLocaleUpperCase();var X=/^[A-Z]+$/;if(!X.test(q)){if(!D.contains(ad[ak])){D.add(ad[ak]);}}}if(!ag){if(q.length>1){q=q.split("")[0];}}if(H[am]==q){var e=null;if(!String.isEmpty(x.getAttribute("treeicon"))){e=leapconfig.server+x.getAttribute("treeicon");}else{e=leapconfig.server+"LEAP/Resource/images/lcimages/LC_tree3/icon_tree3_title.png";
}L.append(x[LEAP.eachlist.node].replace("@fltype",U).replace("@src",e));o.add(ad[ak]);}}if(am==H.length-1){for(var ak=0;ak<D.length;ak++){L.append(x[LEAP.eachlist.node]);o.add(D[ak]);}}}}Y.innerHTML=L.toString();if(Y.children!=0){var r=LEAP.getElements("[ctf=eachlist_row]",Y);if(r){var S=r.length;for(var am=0;
am<S;am++){var n=o[am];var N=r[am];if(aj=="0"){LEAP.addCSS(N,"LC_manage_hide");}N[LEAP.eachlist.b]=am;if(h!="1"){if(x._treetype){LEAP.setStyle(N,{display:"none"});}}var K=LEAP.getElement("[ctf=eachlist_checkbox]",N);if(K!=null){if(v!="1"){LEAP.addCSS(K,"LC_hide");}K[LEAP.eachlist.b]=am;}var al=LEAP.getElements("[ctfe=earchlist_clickable]",N);
if(al!=null){var ah=al.length;for(var ak=0;ak<ah;ak++){var z=al[ak];var P=LEAP._match(z,"earchlist_head","ctfe",5);var G=z.getAttribute("md");var aa=z.getAttribute("bt");if(G!=null){var b=null;b=LEAP.getBindDef(z);var T=LEAP.getBindValue(b,n[G],n,LEAP.eachlist.d,null,a);if(aa=="img"){if(T==""){z.src=leapconfig.server+z.getAttribute("dv");
}else{if(T.indexOf("http://")>-1){z.src=T;}else{z.src=leapconfig.server+T;}}}else{if(G=="status"){z.innerHTML=am+1;}else{if(aa=="showdate"){var aj=x.getAttribute("showdate");if(aj=="0"){LEAP.addCSS(z,"LC_hide");}if(T!=null&&T!=""){if(aq){if(B==G){if(n.searchvalue){z.innerHTML=n.searchvalue;}else{z.innerHTML=T;
}}else{z.innerHTML=T;}}else{z.innerHTML=T;}LEAP.removeCSS(P,"LC_hide",false);}else{LEAP.addCSS(P,"LC_hide");}}else{if(T!=null&&T!=""){z.title=T;if(aq){if(B==G){if(n.searchvalue){z.innerHTML=n.searchvalue;}else{z.innerHTML=T;}}else{z.innerHTML=T;}}else{z.innerHTML=T;}LEAP.removeCSS(P,"LC_hide",false);
}else{LEAP.addCSS(P,"LC_hide");}}}}}else{LEAP.addCSS(P,"LC_hide");}}N[LEAP.eachlist.dt]=n;N[LEAP.eachlist.dta]=n;}var u=LEAP.getElements("[ctf=eachlist_innertext]",N);if(u!=null){var S=u.length;for(var ak=0;ak<S;ak++){u[ak].title=u[ak].innerText;}}}}var J=LEAP.getElements("[ctfe=eachlist_letter]",Y);
if(J){if(!x._letterpos){x._letterpos=new hashtable();}else{x._letterpos.clear();}for(am=0;am<J.length;am++){var Q=LEAP.getAbsolutePos(J[am]);x._letterpos.add(J[am].innerHTML,Q);}}}}else{var L=new StringBuffer();for(var am=0;am<F;am++){L.append(x[LEAP.eachlist.node]);}Y.innerHTML=L.toString();for(var am=0;
am<F;am++){var n=ad[am];var N=Y.children[am];if(aj=="0"){LEAP.addCSS(N,"LC_manage_hide");}N[LEAP.eachlist.b]=am;var K=LEAP.getElement("[ctf=eachlist_checkbox]",N);if(K!=null){if(v!="1"){LEAP.addCSS(K,"LC_hide");}K[LEAP.eachlist.b]=am;}var al=LEAP.getElements("[ctfe=earchlist_clickable]",N);if(al!=null){var ah=al.length;
for(var ak=0;ak<ah;ak++){var z=al[ak];var P=LEAP._match(z,"earchlist_head","ctfe",5);var G=z.getAttribute("md");var aa=z.getAttribute("bt");if(G!=null){var b=null;b=LEAP.getBindDef(z);var T=LEAP.getBindValue(b,n[G],n,LEAP.eachlist.d,null,a);if(aa=="img"){if(T==""){z.src=leapconfig.server+z.getAttribute("dv");
}else{if(T.indexOf("http://")>-1){z.src=T;}else{z.src=leapconfig.server+T;}}}else{if(G=="status"){z.innerHTML=am+1;}else{if(aa=="showdate"){var aj=x.getAttribute("showdate");if(aj=="0"){LEAP.addCSS(z,"LC_hide");}if(T!=null&&T!=""){z.innerHTML=T;LEAP.removeCSS(P,"LC_hide",false);}else{LEAP.addCSS(P,"LC_hide");
}}else{if(T!=null&&T!=""){z.title=T;z.innerHTML=T;LEAP.removeCSS(P,"LC_hide",false);}else{LEAP.addCSS(P,"LC_hide");}}}}}else{LEAP.addCSS(P,"LC_hide");}}N[LEAP.eachlist.dt]=n;N[LEAP.eachlist.dta]=n;}var u=LEAP.getElements("[ctf=eachlist_innertext]",N);if(u!=null){var S=u.length;for(var ak=0;ak<S;ak++){u[ak].title=u[ak].innerText;
}}}if(I=="1"){LEAP.eachlist.ulresize(x);}}};LEAP.eachlist.gethdef=function(c,b){var a={};a._colspan=null;a._height="";a._rowspan=null;a._width="";a.bcolor=null;a.bt="text";a.btclass=null;a.btcontrol=null;a.btexp=null;a.btfn=null;a.btstyle=null;a.check=null;a.code=b;a.colorexp=null;a.defaultcode=null;
a.enableedit=null;a.fcolor=null;a.imgexp=null;a.innerHTML="";a.md=c;a.menuexp=null;a.pcodes=null;a.sncol=false;a.st=null;a.textalign=null;a.tipfn=null;a.tipoffset=null;a.tpo=null;a.treecol=null;a.urlpath=null;a.ut=null;return a;};LEAP.eachlist.urlonresize=function(a,b){element=LEAP._check(b,LEAP.eachlist.d);
if(!element){return;}LEAP.eachlist.ulresize(element);};LEAP.eachlist.ulresize=function(c){c=LEAP._check(c,LEAP.eachlist.d);if(!c){return;}var b=c.getAttribute("showscrll");var a=LEAP.getElement("[ctf=eachlist_title]",c);var f=0;var g=0;if(c.parentElement){g=c.parentElement.clientHeight;}else{g=c.clientHeight;
}if(g==0){var d=function(){LEAP.eachlist.ulresize(c);};setTimeout(d,500);return;}if(a){f=a.clientHeight;}var e=LEAP.getElement("[ctf=eachlist_body]",c);if(e){e.style.height=(g-f-10)+"px";}if(b=="1"){if(f>0){e._scrollTop=10;}LEAP.scrollbar.showScrollBar(c,e,f);}};LEAP.eachlist.setUsedValue=function(b,c){if(b==null){return null;
}b=LEAP._check(b,LEAP.eachlist.d);if(b==null){return;}if(c==null){return;}var a=b.getAttribute("showused");if(a=="1"){if(b[LEAP.eachlist.dt]){b._useddatas=c;}}};LEAP.eachlist.getHeaders=function(a){return null;};LEAP.eachlist.clearRow=function(b){b=LEAP._check(b,LEAP.eachlist.d);if(b==null){return;}var c=LEAP.getElement("[ctf=eachlist_body]",b);
var d=LEAP.getElements("[ctf=eachlist_row]",c);var a=0;if(d){a=d.length;}if(b[LEAP.eachlist.node]==null){if(a!=0){b[LEAP.eachlist.node]=LEAP.getElements("[ctf=eachlist_row]",c)[a-1].outerHTML;}b[LEAP.eachlist.oldnode]=LEAP.getElements("[ctf=eachlist_row]",c)[a-1].outerHTML;}b[LEAP.eachlist.b]=null;b[LEAP.eachlist.dt]=null;
LEAP.removeElement(c.children,true);if(LEAP.getElement("[ctf=eachlist_page_num]",b)!=null){LEAP.getElement("[ctf=eachlist_page_num]",b).value=1;}if(LEAP.getElement("[ctf=eachlist_number]",b)){LEAP.getElement("[ctf=eachlist_number]",b).innerHTML="(0)";}};LEAP.eachlist.removeRow=function(j,o){j=LEAP._check(j,LEAP.eachlist.d);
if(j==null){return;}var n=LEAP.getElement("[ctf=eachlist_body]",j);if(n!=null){var a=LEAP.getElements("[ctf=eachlist_row]",n);var m=0;if(a){m=a.length;}var p=a[o];var c=a;var h=LEAP.convertResult(j[LEAP.eachlist.dt]);if(h!=null){h.removeindex(o);}var q=p[LEAP.eachlist.dt];var b=j._olddata;if(b){var e=LEAP.convertResult(b);
for(var g=e.length-1;g>=0;g--){if(e[g].id){if(e[g].id==q.id){e.removeindex(g);}}}j._olddata=e;}j[LEAP.eachlist.dt]=h;n.removeChild(p);var a=LEAP.getElements("[ctf=eachlist_row]",n);if(a!=null){for(var g=0;g<a.length;g++){a[g][LEAP.eachlist.b]=g;var d=LEAP.getElement("[ctf=eachlist_checkbox]",a[g]);if(d!=null){d[LEAP.eachlist.b]=g;
}}}var l=LEAP.getElement("[ctf=eachlist_number]",j);if(l&&l.getAttribute){var f=l.getAttribute("_number");if(f!=null&&f!="1"){l.innerHTML="("+(LEAP.tonum(f)-1)+")";l.setAttribute("_number",(LEAP.tonum(f)-1));}else{if(f=="1"){l.innerHTML="";l.removeAttribute("_number");}}}}};LEAP.eachlist.addRow=function(f,o,m){if(m!="search"){if(f[LEAP.eachlist.dt]==null){f[LEAP.eachlist.dt]=new Array();
}else{f[LEAP.eachlist.dt]=LEAP.convertResult(f[LEAP.eachlist.dt]);}if(m=="up"){if(f[LEAP.eachlist.dt].length==0){f[LEAP.eachlist.dt].add(o);}else{f[LEAP.eachlist.dt]=f[LEAP.eachlist.dt].insertBefore(o,f[LEAP.eachlist.dt][0]);}}else{f[LEAP.eachlist.dt].add(o);}}if(f._olddata){var n=LEAP.convertResult(f._olddata);
if(m=="up"){if(n==null){n=new Array();n.add(o);}else{n=n.insertBefore(o,n[0]);}}else{n.add(o);}f._olddata=n;}var h=f.getAttribute("showdate");var c=LEAP.getElement("[ctf=eachlist_body]",f);var B=f.getAttribute("showcheckbox");var b=LEAP.getElements("[ctf=eachlist_row]",c);var A=0;if(b){A=b.length;}var u=null;
if(b==null||A==0){var v=document.createElement("div");LEAP.addCSS(v,"LC_hide");v.innerHTML=f[LEAP.eachlist.node];u=v.children[v.children.length-1];}else{u=b[A-1];}if(m=="up"){t=0;for(var z=0;z<A;z++){b[z][LEAP.eachlist.b]=b[z][LEAP.eachlist.b]+1;}}else{var t=u[LEAP.eachlist.b];if(t==null){t=0;}else{t=t+1;
}}var e=LEAP.getLoadedModule(f.getAttribute(commfields.instance));var p=u.cloneNode(true);if(p==null){return;}LEAP.removeCSS(p,"LC_active",false);p[LEAP.eachlist.b]=t;var y=LEAP.getElement("[ctf=eachlist_checkbox]",p);if(y!=null){if(B!="1"){LEAP.addCSS(y,"LC_hide");}y[LEAP.eachlist.b]=t;}if(h=="0"){LEAP.addCSS(p,"LC_manage_hide");
}if(m=="up"){if(A==0){c.appendChild(p);}else{c.insertBefore(p,b[0]);}}else{c.appendChild(p);}var r=LEAP.getElements("[ctfe=earchlist_clickable]",p);if(r!=null){var x=r.length;for(var z=0;z<x;z++){var g=r[z];var j=LEAP._match(g,"earchlist_head","ctfe",5);var s=g.getAttribute("md");var q=g.getAttribute("bt");
if(s!=null){var a=null;a=LEAP.getBindDef(g);var w=LEAP.getBindValue(a,o[s],o,LEAP.eachlist.d,null,e);if(q=="img"){if(w==""){g.src=leapconfig.server+g.getAttribute("dv");}else{if(w.indexOf("http://")>-1){g.src=w;}else{g.src=leapconfig.server+w;}}}else{if(q=="showdate"){var h=f.getAttribute("showdate");
if(h=="0"){LEAP.addCSS(g,"LC_hide");}if(w!=null&&w!=""){g.innerHTML=w;LEAP.removeCSS(j,"LC_hide",false);}else{g.innerHTML=w;LEAP.addCSS(j,"LC_hide");}}else{if(w!=null&&w!=""){if(m!="up"){g.title=w;}g.innerHTML=w;LEAP.removeCSS(j,"LC_hide",false);}else{g.innerHTML=w;LEAP.addCSS(j,"LC_hide");}}}}else{LEAP.addCSS(j,"LC_hide");
}}var C=LEAP.getElement("[ctf=eachlist_number]",f);if(C!=null){var d=C.getAttribute("_number");if(d==null){C.innerHTML="(1)";C.setAttribute("_number","1");}else{C.innerHTML="("+(LEAP.tonum(d)+1)+")";C.setAttribute("_number",(LEAP.tonum(d)+1));}}}p[LEAP.eachlist.dt]=o;p[LEAP.eachlist.dta]=o;LEAP.eachlist.ulresize(f);
};LEAP.eachlist.addRows=function(c,d,g){if(d!=null){var f=LEAP.getElement("[ctf=eachlist_body]",c);var a=LEAP.getElements("[ctf=eachlist_row]",f);var j=a;if(d.count!=null){c[LEAP.eachlist.pn]=d.pageNum;c[LEAP.eachlist.pc]=d.pageCount;}var h=LEAP.convertResult(d);var e=h.length;for(var b=0;b<e;b++){LEAP.eachlist.addRow(c,h[b],g);
}if(a!=null){if(j[0]!=null){if(j[0][LEAP.eachlist.dt]==null){LEAP.eachlist.removeRow(c,0);}}}}};LEAP.eachlist.setCheckedAll=function(c,d){if(c==null){return null;}c=LEAP._check(c,LEAP.eachlist.d);if(c==null){return;}var a=LEAP.getElements("[ctf=eachlist_row]",c);if(a!=null){for(var b=0;b<a.length;b++){LEAP.eachlist.setCheckedRow(c,a[b][LEAP.eachlist.b],d);
}}};LEAP.eachlist.setCheckedRow=function(c,b,d){if(c==null){return null;}c=LEAP._check(c,LEAP.eachlist.d);if(c==null){return;}if(b==null){LEAP.eachlist.setCheckedAll(c,false);return;}var a=LEAP.getElements("[ctf=eachlist_row]",c);var e=LEAP.getElement("[ctf=eachlist_checkbox]",a[b]);if(d==true){e.checked=true;
}else{e.checked="";}};LEAP.eachlist.getCheckedRows=function(c){if(c==null){return null;}c=LEAP._check(c,LEAP.eachlist.d);if(c==null){return;}var d=LEAP.getElement("[ctf=eachlist_body]",c);var a=LEAP.getElements("[ctf=eachlist_row]",d);try{if(a!=null){var e=new Array();for(var b=0;b<a.length;b++){var f=LEAP.getElement("[ctf=eachlist_checkbox]",a[b]);
if(f.checked==true){e.add(a[b]);}}return e;}return null;}finally{c=d=a=null;}};LEAP.eachlist.updateRow1=function(e,t){if(!e){return;}if(!t){return;}var c=LEAP.getElement("[ctf=eachlist_body]",e);var a=LEAP.getElements("[ctf=eachlist_row]",c);var o=a[LEAP.eachlist.getSelectedIndex(e)];if(!o){return;}var d=LEAP.getLoadedModule(e.getAttribute(commfields.instance));
var p=LEAP.getElements("[ctfe=earchlist_clickable]",o);if(p!=null){var v=p.length;for(var y=0;y<v;y++){var g=p[y];var h=LEAP._match(g,"earchlist_head","ctfe",5);var s=g.getAttribute("md");var q=g.getAttribute("bt");if(s!=null){var b=null;b=LEAP.getBindDef(g);var u=LEAP.getBindValue(b,t[s],t,LEAP.eachlist.d,null,d);
if(q=="img"){if(u==""){g.src=leapconfig.server+g.getAttribute("dv");}else{if(u.indexOf("http://")>-1){g.src=u;}else{g.src=leapconfig.server+u;}}}else{if(q=="showdate"){var f=e.getAttribute("showdate");if(f=="0"){LEAP.addCSS(g,"LC_hide");}if(u!=null&&u!=""){g.innerHTML=u;LEAP.removeCSS(h,"LC_hide",false);
}else{LEAP.addCSS(h,"LC_hide");}}else{if(u!=null&&u!=""){g.title=u;g.innerHTML=u;LEAP.removeCSS(h,"LC_hide",false);}else{LEAP.addCSS(h,"LC_hide");}}}}else{LEAP.addCSS(h,"LC_hide");}}}var z=LEAP.convertResult(e[[LEAP.eachlist.dt]]);z[LEAP.eachlist.getSelectedIndex(e)]=t;e[LEAP.eachlist.dt]=z;var x=e._olddata;
if(x){var m=LEAP.convertResult(x);for(var y=m.length-1;y>=0;y--){if(m[y].id){if(m[y].id==t.id){m.removeindex(y);}}}e._olddata=m;}o[LEAP.eachlist.dt]=t;var n=LEAP.getElements("[ctf=eachlist_innertext]",o);if(n!=null){var r=n.length;for(var w=0;w<r;w++){n[w].title=n[w].innerText;}}};LEAP.eachlist.updateRow=function(f,A,n,p){if(!f){return;
}if(!A){return;}var c=LEAP.getElement("[ctf=eachlist_body]",f);var b=LEAP.getElements("[ctf=eachlist_row]",c);var s=null;if(p){s=p;}else{s=b[LEAP.eachlist.getSelectedIndex(f)];}if(!s){return;}var F=s[LEAP.eachlist.dt];var y=JSON.stringify(A);y=y.replaceall('"',"");y=y.substring(1,y.length);y=y.substring(0,y.length-1);
var q=y.split(",");var d=[];for(var E=0;E<q.length;E++){var x=q[E].split(":");d.add(x[0]);}if(d.length>0){for(var E=0;E<d.length;E++){F[d[E]]=A[d[E]];}}var e=LEAP.getLoadedModule(f.getAttribute(commfields.instance));var u=LEAP.getElements("[ctfe=earchlist_clickable]",s);if(u!=null){var B=u.length;for(var E=0;
E<B;E++){var h=u[E];var m=LEAP._match(h,"earchlist_head","ctfe",5);var w=h.getAttribute("md");var t=h.getAttribute("bt");if(w!=null){var a=null;a=LEAP.getBindDef(h);var z=LEAP.getBindValue(a,A[w],A,LEAP.eachlist.d,null,e);if(t=="img"){if(z==""){h.src=leapconfig.server+h.getAttribute("dv");}else{if(z.indexOf("http://")>-1){h.src=z;
}else{h.src=leapconfig.server+z;}}}else{if(t=="showdate"){var g=f.getAttribute("showdate");if(g=="0"){LEAP.addCSS(h,"LC_hide");}if(z!=null&&z!=""){h.innerHTML=z;LEAP.removeCSS(m,"LC_hide",false);}else{LEAP.addCSS(m,"LC_hide");}}else{if(z!=null&&z!=""){if(n!="up"){h.title=z;}h.innerHTML=z;LEAP.removeCSS(m,"LC_hide",false);
}else{LEAP.addCSS(m,"LC_hide");}}}}else{LEAP.addCSS(m,"LC_hide");}}}var G=LEAP.convertResult(f[[LEAP.eachlist.dt]]);if(p){G[p[LEAP.eachlist.b]]=F;}else{G[LEAP.eachlist.getSelectedIndex(f)]=F;}f[LEAP.eachlist.dt]=G;s[LEAP.eachlist.dt]=F;var D=f._olddata;if(D){var o=LEAP.convertResult(D);for(var E=o.length-1;
E>=0;E--){if(o[E].id){if(o[E].id==F.id){o.removeindex(E);}}}f._olddata=o;}var r=LEAP.getElements("[ctf=eachlist_innertext]",s);if(r!=null){var v=r.length;for(var C=0;C<v;C++){r[C].title=r[C].innerText;}}};LEAP.eachlist.getSelectedIndex=function(a){if(a!=null){return a[LEAP.eachlist.b];}else{return -1;
}};LEAP.eachlist.setSelectedIndex=function(d,c){if(d==null){return;}if(c==null){return;}c=LEAP.tonum(c);var e=d._oldindex1;if(e==null){e=0;}var f=LEAP.getElement("[ctf=eachlist_body]",d);var a=LEAP.getElements("[ctf=eachlist_row]",f);if(a!=null){for(var b=0;b<a.length;b++){if(c==b){LEAP.addCSS(a[b],"LC_hover");
LEAP.addCSS(a[b],"LC_active");}else{LEAP.removeCSS(a[b],"LC_hover",false);LEAP.removeCSS(a[b],"LC_active",false);}}ElementEventManager.handleEvent(d,"selectedIndexChange",{pindex:e,list:d,row:a[c],data:a[c][LEAP.eachlist.dt],index:c});d[LEAP.eachlist.b]=c;d._oldindex1=c;}};LEAP.eachlist.getRow=function(c,b){if(b==null||b<0){return null;
}c=LEAP._check(c,LEAP.eachlist.d);if(c==null){return;}var d=LEAP.getElement("[ctf=eachlist_body]",c);var a=LEAP.getElements("[ctf=eachlist_row]",d);var e=a[b];try{return e;}finally{c=tbody=rows=e=null;}};LEAP.eachlist.getRows=function(b){if(b==null){return null;}b=LEAP._check(b,LEAP.eachlist.d);if(b==null){return;
}var c=LEAP.getElement("[ctf=eachlist_body]",b);var a=LEAP.getElements("[ctf=eachlist_row]",c);try{return a;}finally{b=c=a=null;}};LEAP.eachlist.moveRow=function(e,b,d){if(d==null){return;}if(e==null){return;}e=LEAP._check(e,LEAP.eachlist.d);if(e==null){return;}d=LEAP.tonum(d);var f=LEAP.getElement("[ctf=eachlist_body]",e);
var c=LEAP.getElements("[ctf=eachlist_row]",f);if(c!=null){if(b=="up"){if(d==0){return;}var a=c[d][LEAP.eachlist.dt];var g=c[d-1][LEAP.eachlist.dt];LEAP.eachlist.updateRow1(e,g);LEAP.eachlist.setSelectedIndex(e,d-1);LEAP.eachlist.updateRow1(e,a);}else{if(b=="down"){if(d==c.length-1){return;}var a=c[d][LEAP.eachlist.dt];
var g=c[d+1][LEAP.eachlist.dt];LEAP.eachlist.updateRow1(e,g);LEAP.eachlist.setSelectedIndex(e,d+1);LEAP.eachlist.updateRow1(e,a);}}}};LEAP.eachlist.setCate=function(d,c,i,h,j,a){d=LEAP._check(d,LEAP.eachlist.d);if(d==null){return;}d._catemd=c;d._catecode=i;d._treetype=j;var g=LEAP.getElement("[ctf='eachlist_body']",d);
var l=LEAP.getElement("[ctf='eachlist_sl']",d);if(j){if(g){if(d.getAttribute("_tagetbox")==a.getAttribute("_tagetbody")){return;}var e=LEAP.getElement("ul[_tagetct="+a.getAttribute("_tagetbody")+"]");if(e!=null){d.setAttribute("_tagetbox",a.getAttribute("_tagetbody"));e.style.display="";l.appendChild(e);
g.style.display="none";document.body.appendChild(g);var b=LEAP.getElement("[ctf=eachlist_letter]",d);b.style.display="none";LEAP.removeEvent(l,"mousewheel",LEAP.eachlist.urlbodywheel,true);if(!h){h="name";}LEAP.eachlist.setHtmlByRow(d,LEAP.eachlist.treeli.replace("@name",h));return;}else{d.setAttribute("_tagetbox",a.getAttribute("_tagetbody"));
g.style.display="none";document.body.appendChild(g);var f=document.createElement("ul");f.className="tree LC_tree";f.setAttribute("ctf","eachlist_body");f.setAttribute("_tagetct",a.getAttribute("_tagetbody"));l.appendChild(f);LEAP.removeEvent(l,"mousewheel",LEAP.eachlist.urlbodywheel,true);}}if(!h){h="name";
}LEAP.eachlist.setHtmlByRow(d,LEAP.eachlist.treeli.replace("@name",h));}else{if(g){if(d.getAttribute("_tagetbox")==a.getAttribute("_tagetbody")){return;}var e=LEAP.getElement("ul[_tagetct="+a.getAttribute("_tagetbody")+"]");if(e!=null){d.setAttribute("_tagetbox",a.getAttribute("_tagetbody"));e.style.display="";
l.appendChild(e);g.style.display="none";document.body.appendChild(g);var b=LEAP.getElement("[ctf=eachlist_letter]",d);b.style.display="";LEAP.addEvent(l,"mousewheel",LEAP.eachlist.urlbodywheel,null,null,true);LEAP.eachlist.setHtmlByRow(d,d[LEAP.eachlist.oldnode]);return;}else{d.setAttribute("_tagetbox",a.getAttribute("_tagetbody"));
LEAP.removeCSS(g,"tree",false);LEAP.removeCSS(g,"LC_tree",false);LEAP.addCSS(g,"LC_eachlist");LEAP.addEvent(l,"mousewheel",LEAP.eachlist.urlbodywheel,null,null,true);}}LEAP.eachlist.setHtmlByRow(d,d[LEAP.eachlist.oldnode]);}LEAP.eachlist.setValue(d,d._olddata);};LEAP.eachlist.searchValue=function(m,q,r){if(!m){return;
}if(r==""||(r!=null&&m._oldsearchvalue==r)){return;}var a=m.getAttribute("showletter");var l=m._olddata;var d=LEAP.getLoadedModule(m.getAttribute(commfields.instance));if(!q&&!r){LEAP.eachlist.setValue(m,l);}else{if(!r){LEAP.eachlist.setValue(m,l);}else{var h=new Array();if(l!=null){var f=LEAP.convertResult(l);
for(var j=0;j<f.length;j++){var s=-1;var p="";var c=/[\u4e00-\u9fa5]/g;var e=LEAP.conversion.makePy(f[j][q]);var n=f[j][q].split("");if(c.test(f[j][q])){for(var g=0;g<e.length;g++){if(e[g].toLowerCase().indexOf(r)>-1){var b=e[g].toLowerCase().indexOf(r);p=f[j][q].substring(b,b+r.length);}}}if(f[j][q].toLowerCase().indexOf(r)>-1||(f[j][q].indexOf(p)>-1&&p.length==r.length)){f[j].strname=p;
h.add(f[j]);}}if(a=="1"){if(h.length>0){for(var j=0;j<h.length;j++){h[j].searchvalue=h[j][q];if(h[j].strname){h[j].searchvalue=h[j].searchvalue.replace(h[j].strname,'<font style="color:red">'+h[j].strname+"</font>");}else{h[j].searchvalue=h[j].searchvalue.replace(r,'<font style="color:red">'+r+"</font>");
}}}}}var o=LEAP.getElement("[ctf=eachlist_body]",m);o.innerHTML="";LEAP.eachlist.setValue(m,h,"search");m._oldsearchvalue=r;}}};LEAP.eachlist.getValue=function(b){var a=LEAP.eachlist.getSelectedIndex(b);var c=LEAP._match(b,LEAP.eachlist.d,"ct",99);return LEAP.convertResult(c[LEAP.eachlist.dt])[a];};LEAP.eachlist.getAllValue=function(a){if(a._olddata!=null){return LEAP.convertResult(a._olddata);
}return null;};LEAP.eachlist.uiProcess=function(A){var y=A.e.srcElement;var Y=A.e.type;var P=y.tagName;var H=y.getAttribute(commfields.ctf);var p=LEAP._match(y,LEAP.eachlist.d,"ct",99);if(!p){return;}var d=LEAP.getLoadedModule(p.getAttribute("instance"));var x=p.getAttribute("showscrll");var D=p.getAttribute("autosize");
var w=p.getAttribute("cacheseach");var K=p.getAttribute("clickcheckbox");if(Y=="click"){if(K!="1"){if(H=="eachlist_checkbox"){return;}}var R=y.getAttribute("ctfe");var W=null;var o=LEAP._match(y,"eachlist_row","ctf",99);if(o!=null){var u=o[LEAP.eachlist.b];var N=LEAP._match(y,"eachlist_body","ctf",99);
var l=LEAP.getElements("[ctf=eachlist_row]",N);var X=l;LEAP.removeCSS(X,"LC_hover",false);LEAP.addCSS(o,"LC_hover");var V=LEAP.getElements("[ctfe=earchlist_clickable]",X[u]);var q=LEAP.getElements("[ctfe=earchlist_clickable]",N);LEAP.removeCSS(q,"LC_link",false);LEAP.addCSS(V,"LC_link");W=o[LEAP.eachlist.dt];
}if(R=="earchlist_clickable"){var m=1;if(p[LEAP.eachlist.pn]!=null){m=LEAP.tonum(p[LEAP.eachlist.pn]);}var C=y.getAttribute("utf");var o=LEAP._match(y,"eachlist_row","ctf",99);var u=null;if(o!=null){u=o[LEAP.eachlist.b];ElementEventManager.handleEvent(p,"click",{element:p,row:o,data:W,utf:C,pageNum:m,index:u,flag:C,srcst:LEAP._match(y,"UL","tagName").getAttribute("st")});
var N=LEAP.getElement("[ctf=eachlist_body]",p);if(N!=null){var l=LEAP.getElements("[ctf=eachlist_row]",N);if(l!=null){if(u==l.length){u=u-1;}}}LEAP.eachlist.setSelectedIndex(p,u);}}else{if(H=="eachlist_page_pre"){var m=LEAP.tonum(p[LEAP.eachlist.pn]);if(m==0){LEAP.eachlist.gotoPage(p,1);}else{if(m>1){LEAP.eachlist.gotoPage(p,m-1);
}}}else{if(H=="eachlist_page_next"){var n=LEAP.tonum(p[LEAP.eachlist.pc]);if(n!=null&&n==0){n=-1;}var m=LEAP.tonum(p[LEAP.eachlist.pn]);if(n>m||n==-1){LEAP.eachlist.gotoPage(p,m+1);}}else{if(R=="letter_clickable"){var s=LEAP.getElement("[ctf=eachlist_letter]",p);if(s!=null){var M=LEAP.getElements("[ctfe=letter_clickable]",s);
if(M!=null){for(var U=0;U<M.length;U++){if(M[U].innerHTML==y.innerHTML){LEAP.addCSS(M[U],"LC_eachlist_letter_active");}else{LEAP.removeCSS(M[U],"LC_eachlist_letter_active",false);}}}var N=LEAP.getElement("[ctf=eachlist_body]",p);var z=LEAP.getElements("[ctfe=eachlist_letter]",N);if(z!=null){var B=LEAP.getElement("[ctf=eachlist_sl]",p);
var c=LEAP.getAbsolutePos(B);for(var U=0;U<z.length;U++){if(y.innerHTML==z[U].innerHTML&&(!p._oldletter||p._oldletter!=y.innerHTML)){p._oldletter=y.innerHTML;var F=p._letterpos.getvalue(z[U].innerHTML);if(F){B.scrollTop=F.y-c.y;}}}}}}else{if(R=="eachilst_open"||R=="eachlist_letter"){var I=LEAP._match(y,"eachlist_row_letter","ctf",99);
if(I){var s=LEAP.getElement("[ctfe=eachlist_letter]",I);if(s){var j=s.getAttribute("dataid");var N=LEAP.getElement("[ctf=eachlist_body]",p);var J=LEAP.getElements("[fltype="+j+"]",N);var L=LEAP.getElement("[ctfe=eachilst_open]",I);var T=L.className;if(T=="tree_opened"){L.className="tree_closed";if(J){LEAP.setStyle(J,{display:"none"});
}}else{L.className="tree_opened";if(J){LEAP.setStyle(J,{display:""});}}}}}else{if(R=="LC_eachlist_cate_buttom"){var O=LEAP.getElement("[ctf=eachlist_cate]",p);if(O){var g=LEAP._match(y,"LC_eachlist_cate_item","ctf",99);var a=O.children;if(a.length>0){var G=null;for(var U=0;U<a.length;U++){if(a[U].className.indexOf("hover")>-1){G=a[U].className;
}a[U].className="";}g.className=G;}var Q=y.getAttribute("catemd");var r=y.getAttribute("catecode");var b=y.getAttribute("showmd");var e=y.getAttribute("htmltype");LEAP.eachlist.setCate(p,Q,r,b,e,y);}}else{if(H=="eachlist_search_img"){var h=LEAP.getElement("[ctf=eachlist_search]",p);if(h){var f=LEAP.getElement("[ctef=input3][mdtype=text]",h);
if(f){var v=f.getAttribute("md");if(d){if(d.moduleName){if(w=="1"){LEAP.eachlist.searchValue(p,v,f.value);}else{d.innerSearch();}}}else{LEAP.eachlist.searchValue(p,v,f.value);}}}}else{if(u!=null){LEAP.eachlist.setSelectedIndex(p,u);}}}}}}}}}else{if(Y=="dblclick"){var o=LEAP._match(y,"eachlist_row","ctf",99);
if(o!=null){var W=o[LEAP.eachlist.dt];var u=o[LEAP.eachlist.b];ElementEventManager.handleEvent(p,"doubleClick",{element:o,data:W,index:u});}}else{if(Y=="mouseover"){if(D=="1"){if(p[LEAP.eachlist.pc]&&p[LEAP.eachlist.m]){var t=LEAP.getElement("[ctf=eachlist_page]",p);if(t!=null&&(t.className!=null&&t.className.indexOf("LC_hide")>-1)){LEAP.removeCSS(t,"LC_hide",false);
}}}else{if(x!="1"){if(p[LEAP.eachlist.pc]&&p[LEAP.eachlist.m]){var t=LEAP.getElement("[ctf=eachlist_page]",p);if(t!=null&&(t.className!=null&&t.className.indexOf("LC_hide")>-1)){LEAP.removeCSS(t,"LC_hide",false);}}}}var o=LEAP._match(y,"eachlist_row","ctf",99);if(o!=null){var u=o[LEAP.eachlist.b];var N=LEAP._match(y,"eachlist_body","ctf",99);
var X=LEAP.getElements("[ctf=eachlist_row]",N);if(p[LEAP.eachlist.b]!=u){var E=null;if(p._oldindex!=null){if(X[p[LEAP.eachlist.b]]!=null){E=X[p[LEAP.eachlist.b]][LEAP.eachlist.dt];}}ElementEventManager.handleEvent(p,"moveIndexChange",{element:o,data:o[LEAP.eachlist.dt],olddata:E,index:u});}p[LEAP.eachlist.b]=u;
p._oldindex=p[LEAP.eachlist.b];LEAP.removeCSS(X,"LC_hover",false);LEAP.addCSS(o,"LC_hover");var V=LEAP.getElements("[ctfe=earchlist_clickable]",X[u]);var q=LEAP.getElements("[ctfe=earchlist_clickable]",N);LEAP.removeCSS(q,"LC_link",false);LEAP.addCSS(V,"LC_link");}}else{if(Y=="keyup"){var S=-1;if(LEAP.isIE){S=A.e.keyCode;
}else{S=A.e.which;}var h=LEAP.getElement("[ctf=eachlist_search]",p);if(h){var f=LEAP.getElement("[ctef=input3][mdtype=text]",h);if(f){var v=f.getAttribute("md");if(d){if(d.moduleName){if(w=="1"){if(S==8&&f.value==""){p._oldsearchvalue=null;LEAP.eachlist.searchValue(p,v,null);}else{LEAP.eachlist.searchValue(p,v,f.value);
}}else{d.innerSearch();}}else{if(S==8&&f.value==""){p._oldsearchvalue=null;LEAP.eachlist.searchValue(p,v,null);}else{LEAP.eachlist.searchValue(p,v,f.value);}}}else{if(S==8&&f.value==""){p._oldsearchvalue=null;LEAP.eachlist.searchValue(p,v,null);}else{LEAP.eachlist.searchValue(p,v,f.value);}}}}}}}}};LEAP.eachlist.titleout=function(h){var a=h.e.srcElement;
var e=h.e.type;var i=a.tagName;var f=a.getAttribute(commfields.ctf);var c=LEAP._match(a,LEAP.eachlist.d,"ct",99);if(!c){return;}if(e=="mouseleave"){var g=LEAP.getElement("[ctf=eachlist_page]",c);if(g!=null&&(g.className!=null&&g.className.indexOf("LC_hide")==-1)){LEAP.addCSS(g,"LC_hide");}if(f==null&&c[LEAP.eachlist.b]!=null){var d=LEAP.getElement("[ctf=eachlist_body]",c);
var b=LEAP.getElements("[ctf=eachlist_row]",d);if(b!=null){if(b.length!=0){if(b[c[LEAP.eachlist.b]]!=null){ElementEventManager.handleEvent(c,"moveIndexChange",{element:b[c[LEAP.eachlist.b]],data:null,olddata:b[c[LEAP.eachlist.b]][LEAP.eachlist.dt],index:b[c[LEAP.eachlist.b]][LEAP.eachlist.b]});}}}}c._oldindex=null;
}};LEAP.eachlist.refreshPage=function(a){a=LEAP._check(a,LEAP.eachlist.d);if(a==null){return;}var b=a.pageNum;if(b==null||b<1){b=1;}LEAP.eachlist.gotoPage(a,b);};LEAP.eachlist.clearPage=function(b){b=LEAP._check(b,LEAP.eachlist.d);if(b==null){return;}var a=LEAP.getElement("[ctf=eachlist_page_num]",b);
if(a){a.value="0";}b=a=null;};LEAP.eachlist.setSearchMethod=function(a,b,c){if(typeof(b)!="function"){return;}a=LEAP._check(a,LEAP.eachlist.d);if(a==null){return;}a[LEAP.eachlist.m]=b;if(c!=null){a[LEAP.eachlist.md]=c;}else{a[LEAP.eachlist.md]=this;}};LEAP.eachlist.setHtmlByRow=function(a,b){a=LEAP._check(a,LEAP.eachlist.d);
if(a==null){return;}a[LEAP.eachlist.node]=b;};LEAP.eachlist.refreshPage=function(a){a=LEAP._check(a,LEAP.eachlist.d);if(a==null){return;}var b=a[LEAP.eachlist.pn];if(b==null||b<1){b=1;}LEAP.eachlist.gotoPage(a,b);};LEAP.eachlist.gotoPage=function(c,d,e){c=LEAP._check(c,LEAP.eachlist.d);if(c==null){return;
}var a=c.getAttribute("autosize");if(a=="1"){LEAP.eachlist.ulresize(c);}var b=LEAP.getElement("[ctf=eachlist_page_num]",c);if(b!=null){b.value=d;}LEAP.asyn(LEAP.eachlist._gotoPage,null,null,c,d,e);};LEAP.eachlist.bindData=function(a,b){LEAP.eachlist.setValue(a,b);};LEAP.eachlist._gotoPage=function(b,c,l){if(typeof(c)!="number"||c<1){return;
}b=LEAP._check(b,LEAP.eachlist.d);if(b==null){return;}var h=b[LEAP.eachlist.md];if(h==null){h=b;}if(h!=null&&h.moduleDisposed){return;}var i=6;var n=b.getAttribute("autosize");var m=b.getAttribute("rowheight");var f=b.getAttribute("showscrll");var a=b.getAttribute("showletter");if(n=="1"){var e=LEAP.getElement("[ctf=eachlist_body]",b);
if(e){var g=e.clientHeight;if(g>m){if(m){m=LEAP.tonum(m);i=parseInt(g/m);}else{i=parseInt(g/68);}}else{i=1;}}}else{if(b.getAttribute("pageSize")){if(f=="1"||a=="1"){i=999;}else{i=LEAP.tonum(b.getAttribute("pageSize"));}}}var j=b[LEAP.eachlist.m];if(j==null){return;}var o=null;if(l!=null){o=l;}else{o=j.call(h,b,c,i);
}LEAP.eachlist.bindData(b,o);ElementEventManager.handleEvent(b,"dataLoaded",{table:b});};LEAP.eachlist.asynCountPage=function(b,a,e){b=LEAP._check(b,LEAP.eachlist.d);if(b==null){return;}var d=e;var c=LEAP.getElement("[ctf=eachlist_number]",b);if(d.count!=null){if(c!=null){c.innerHTML="("+d.count+")";
}c.setAttribute("_number",d.count);b[LEAP.eachlist.pn]=d.pageNum;b[LEAP.eachlist.pc]=d.pageCount;if(b[LEAP.eachlist.ps]==null){b[LEAP.eachlist.ps]=d.size;}}};LEAP.eachlist.init=function(){if(document!=null&&document.body!=null){LEAP.eachlist._init();}else{UIEventManager.addEvent(window,"load",LEAP.eachlist._init);
}ElementEventManager.addManagedEventType(LEAP.eachlist.d,"selectedIndexChange");ElementEventManager.addManagedEventType(LEAP.eachlist.d,"doubleClick");ElementEventManager.addManagedEventType(LEAP.eachlist.d,"moveIndexChange");ElementEventManager.addManagedEventType(LEAP.eachlist.d,"click");ElementEventManager.addManagedEventType(LEAP.eachlist.d,"listmousewheel");
ElementEventManager.addManagedEventType(LEAP.eachlist.d,"dataLoaded");}();LEAP.echarts2={};LEAP.echarts2.d="echarts2";LEAP.echarts2.loads={};LEAP.echarts2.isLoading=false;LEAP.echarts2.isLoaded=false;LEAP.echarts2.control=null;LEAP.echarts2._setMapInfo=function(c,f){var d=null;d=LEAP.echarts2._getMapRegFlag(f);
if(d){if(d=="china"){leapclient.loadjs("LEAP/Resource/HTML/echart3/src/china.js");}else{var e=LEAP.request("GISP_SVG_get",{areaid:d});var b=JSON.parse(e);if(LEAP.echarts2.control){LEAP.echarts2.control.registerMap(d,b);}}}};LEAP.echarts2._getMapRegFlag=function(c){var a=null;if(c){if(c.baseOption){if(c.baseOption.series){a=c.baseOption.series;
}}else{if(c.series){a=c.series;}}}var b=LEAP.echarts2._getMaptype(a);return b;};LEAP.echarts2._getMaptype=function(c){if(!c){return null;}var a=c.length;for(var b=0;b<a;b++){var d=null;if((c[b].type=="map"||c[b].type=="map3D")&&c[b].mapType){d=c[b].mapType;}if(d){return d;}}return null;};LEAP.echarts2._setMapInfo2=function(e){var c=null;
c=LEAP.echarts2._getMapRegFlag2(e);if(!String.isEmpty(c.regflag)){if(c.regflag=="china"){leapclient.loadjs("LEAP/Resource/HTML/echart3/src/china.js");return true;}else{var d=LEAP.request("LDA_getGispSvg",{areaid:c.regflag,subtype:c.subtype});if(!String.isEmpty(d)){var b=JSON.parse(d);if(LEAP.echarts2.control){LEAP.echarts2.control.registerMap(c.regflag,b);
}}else{return false;}}}else{return true;}};LEAP.echarts2._getMapRegFlag2=function(e){var b=null;var a=0;if(e){if(e.baseOption){if(e.baseOption.series){b=e.baseOption.series;}}else{if(e.series){b=e.series;}}if(e.subtype){a=e.subtype.value;}}var c=LEAP.echarts2._getMaptype2(b);var d={};d.regflag=c;d.subtype=a;
return d;};LEAP.echarts2._getMaptype2=function(c){if(!c){return null;}var a=c.length;for(var b=0;b<a;b++){var d=null;if((c[b].type=="map"||c[b].type=="map3D")&&c[b].mapType){d=c[b].mapType;}if(d){return d;}}return null;};LEAP.echarts2.setValue=function(f,g,o,j,m){if(f==null){return;}if(typeof(f)=="string"){f=LEAP.getElement(f);
}if(!LEAP.echarts2.isLoaded){if(!LEAP.echarts2.isLoading){LEAP.echarts2.isLoading=true;leapclient.loadjs("LEAP/Resource/HTML/echart3/src/echarts.min.js");leapclient.loadjs("LEAP/Resource/HTML/echart3/src/echarts-liquidfill.js");leapclient.loadjs("LEAP/Resource/HTML/echart3/src/echarts-gl.min.js");LEAP.echarts2.isLoaded=true;
LEAP.echarts2.control=echarts3;}else{var i=LEAP.ctid(f);LEAP.asyn(LEAP.echarts2.setValue,null,1000,i,g);}}var e=false;if(m=="1"){e=LEAP.echarts2._setMapInfo2(o);}else{LEAP.echarts2._setMapInfo(f,o);e=true;}if(e==false){return false;}f=LEAP._check(f,LEAP.echarts2.d);if(f==null){return;}LEAP.echarts2.dispose(f);
try{var i=LEAP.ctid(f);var h=null;if(o){h=o;}if(h==null){return null;}LEAP.echarts2.checkOption(h);var l=LEAP.echarts2.loads["ectid_"+i];if(!l){if(j&&j.theme&&j.theme=="echarts"){l=LEAP.echarts2.control.init(f,{});}else{l=LEAP.echarts2.control.init(f,LEAP.echarts2.macaronstheme);}}var a=false;if(j){a=j.refresh?true:false;
}l.setOption(h,a);var d={obj:l,ctid:i,dispose:function(){this.obj.dipsose();}};LEAP.echarts2.loads["ectid_"+i]=d;var n=f.getAttribute("instance");if(n){var b=LEAP.getLoadedModule(n);if(b){if(!b.disposeList){b.disposeList=[];}b.disposeList.add(l);}}try{return l;}finally{l=null;}}finally{f=g=null;}};LEAP.echarts2.dispose=function(b){if(b==null){return;
}if(typeof(b)=="string"){b=LEAP.getElement(b);}if(b==null){return;}try{var d=LEAP.ctid(b);var a="ectid_"+d;if(LEAP.echarts2.loads.hasOwnProperty(a)){try{if(LEAP.echarts2.loads[a]){LEAP.echarts2.loads[a].obj.dispose();}}catch(c){}LEAP.echarts2.loads[a]=null;delete LEAP.echarts2.loads[a];}}finally{b=null;
}};LEAP.echarts2.macaronstheme={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{itemGap:8,textStyle:{fontWeight:"normal",color:"#008acd"}},legend:{itemGap:8},dataRange:{itemWidth:15,color:["#2ec7c9","#b6a2de"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500",itemGap:8},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{borderRadius:5},emphasis:{borderRadius:5}}},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{borderColor:"#fff",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:false,textStyle:{color:"rgba(139,69,19,1)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#f3d999"},label:{show:false,textStyle:{color:"rgba(139,69,19,1)"}}}}},force:{itemStyle:{normal:{linkStyle:{strokeColor:"#1e90ff"}}}},chord:{padding:4,itemStyle:{normal:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"},chordStyle:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"},chordStyle:{lineStyle:{width:1,color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{startAngle:225,endAngle:-45,axisLine:{show:true,lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};
LEAP.echarts2.getAPI=function(b){if(b==null){return;}var c=LEAP.ctid(b);var a=LEAP.echarts2.loads["ectid_"+c];if(a){return a.obj;}};LEAP.echarts2.checkOption=function(c){if(c&&typeof(c)=="object"){for(var b in c){var a=c[b];if(a==null||(typeof(a)=="string"&&a=="")){delete c[b];}else{if(a!=null&&typeof(a)=="object"){LEAP.echarts2.checkOption(a);
}}}}};var before_fileuploadcount=0;window.before_fileupload=function(){if(before_fileuploadcount==0){alert("温馨提示：本系统是非涉密信息系统，禁止处理或存储涉密信息。");}before_fileuploadcount++;};LEAP.fileupload={};LEAP.fileupload.d="fileupload";LEAP.fileupload.p="photoupload";LEAP.fileupload.path="default";LEAP.fileupload.u=null;
LEAP.fileupload.vwidth=150;LEAP.fileupload.vheight=150;LEAP.fileupload.vsize=150;LEAP.fileupload.defaultphoto="LEAP/Resource/images/lcimages/LC_fileupload/default.png";LEAP.fileupload.f='<ul ctf="__upload_btn_row___" class="LC_fileupload_row LC_fileupload_upload"><li class="LC_fileupload_col LC_fileupload_v_m" style="width:@tw!important">@uptitle：</li><li class="LC_fileupload_col LC_fileupload_v_m" style="padding-left:35px"><div class="LC_fileupload_loading" style="min-width:120px;width:100%" ctfe="fileupload_progress"><span style="width:0%" percent="0%"></span></div></li><li class="LC_fileupload_col LC_fileupload_v_m" style="width:@lw!important;text-align:center">@uploadbtn</li></ul><ul class="LC_fileupload_upload_list" ctfe="fileupload_list"> </ul>';
LEAP.fileupload.btn='<div class="LC_fileupload_upload_btn" style="width:auto;" align="center"><input ctf="fileupload_upload" type="file" @mul @accept><span ctfe="fileupload_title">@showtext</span> </div>';LEAP.fileupload.btn2='<div ctf="flash_btn" class="LC_button_conner LC_button_blue" style="position:relative;display:inline-block;vertical-align:middle;height: 25px;line-height: 25px"><span style="letter-spacing:5px ">@showtext</span><div tct="docedit" ct="uploadbtn" instance="@instance" style="line-height:24px;position:absolute;left:0;right:0;top:0;bottom:0;opacity:0;filter:alpha(opacity=0);" callmode="module" _linkfu="1"><img style="display:none" src="data:image:png,base64" onerror="LEAP.uploadbtn.i(0);" style="float:left;" ></div> </div>';
LEAP.fileupload.t='<input ctf="photoupload_upload" type="file" name="" value="" @mul @accept><span ctfe="photoupload_title" >@showtext</span>';LEAP.fileupload.b='<input type="file" @mul @accept ctf="fileupload_upload"><div class="LC_fileupload_btn_txt" ctfe="photoupload_title" ctf="fileupload_title">@showtext</div>';
LEAP.fileupload.g='<h2 class="LC_upload__box_title">上传进度</h2><div class="LC_upload__box_content"><ul class="LC_upload__box_files" ctf="fileuploa_file_list"> </ul></div>';LEAP.fileupload.s='<h2>@showname</h2><div class="LC_fileupload_loading" ctfe="fileupload_progress" percent="0%"><span  style="width: 0%;"></span></div>';
LEAP.fileupload.inputBtn=null;LEAP.fileupload.filePanel=null;LEAP.fileupload.uploadElement=null;LEAP.fileupload.l='<span class="LC_fileupload_col LC_fileupload_v_m LC_fileupload_name" ctf="fileupload_name" title="@filename">@filename</span> <span class="LC_fileupload_col LC_fileupload_v_m" style="font-size:0px" ctfe="fileupload_process"><b class="LC_fileupload_btn" ctf="fileupload_delete" skip="1" al="deletefile">删除</b> <b class="LC_fileupload_btn" ctf="fileupload_download" al="downloadfile" skip="1">下载</b> <b class="LC_fileupload_btn" ctf="fileupload_down" al="movedown">下移</b></span>';
LEAP.fileupload._init=function(){UIEventManager.removeEvent(window,"load",LEAP.fileupload._init);LEAP.addEvent(document.body,"click",LEAP.fileupload.uiProcess,null,null,true);};LEAP.fileupload.__addManagedEventType=function(a){ElementEventManager.addManagedEventType(LEAP.fileupload.d,a);};LEAP.fileupload.init=function(){if(document!=null&&document.body!=null){LEAP.fileupload._init();
}else{UIEventManager.addEvent(window,"load",LEAP.fileupload._init);}LEAP.fileupload.__addManagedEventType("removeUploadItem");LEAP.fileupload.__addManagedEventType("extendBtnClick");}();LEAP.fileupload.i=function(t,g){if(!g){if(!event){return;}g=event.srcElement;}if(!g){return;}if(t!=null){var h=function(){LEAP.fileupload.i(null,g);
g=null;};setTimeout(h,t);return;}var c=g.parentElement;if(!c){return;}if(c!=null){var o=c.getAttribute("ctid");if(!o){o=UUID.cID();c.setAttribute("ctid",o);}}c=LEAP._check(c,LEAP.fileupload.d);if(c==null){return;}var n=c.getAttribute("ctfe");var b=c.getAttribute("showtext");var H=c.getAttribute("title");
var B=c.getAttribute("mulit");var d=c.getAttribute("types");var s=c.getAttribute("uploadpath");var p=c.getAttribute("readonly");var e=c.getAttribute("btncolor");var j=c.getAttribute("barcolor");var D=c.getAttribute("pathreg");var z=c.getAttribute("namereg");var A=c.getAttribute("defbtnpath");var C=c.getAttribute("notip");
var m=LEAP.fileupload.checksupportHTML5(C);if(!m){var r=(n=="fileupload_upload_btn");LEAP.fileupload.setFlashUpload(c,r);return;}if(!b){b="上传附件";}if(!H){H="上传附件";}var l=null;if(n=="fileupload_upload_btn"){l=LEAP.fileupload.b.replace("@showtext",b).replaceall("@sw",(b.length+4)+"em").replaceall("@lw",(b.length+4)+"em").replaceall("@ctf","fileupload_upload");
}else{var v=LEAP.fileupload.f;v=v.replace("@uploadbtn",LEAP.fileupload.btn);l=v.replace("@showtext",b).replace("@uptitle",H).replaceall("@tw",(H.length+2)+"em").replaceall("@sw",(b.length+3)+"em").replaceall("@lw",(b.length+6)+"em");if(m){c.ondragenter=LEAP.fileupload.onDragEnter;c.ondragleave=LEAP.fileupload.onDragLeave;
c.ondragover=LEAP.fileupload.onDragOver;c.ondrop=LEAP.fileupload.onDragDrop;if(!document.ondragover){document.ondragover=LEAP.fileupload.onDragDrop2;}if(!document.ondrop){document.ondrop=LEAP.fileupload.onDragDrop2;}}}if(B=="1"){l=l.replace("@mul",'multiple="multiple"');}else{l=l.replace("@mul","");}if(d){var a=d.split(",");
if(a&&a.length>0){for(var y=0;y<a.length;y++){a[y]="."+a[y];}}l=l.replace("@accept","accept='"+a.join(",")+"'");}else{l=l.replace("@accept","");}c.innerHTML=l;if(n=="fileupload_upload_btn"){var x=c.className;if(x&&x.indexOf("LC_fileupload_file")>-1){x=x.replace("LC_fileupload_file","LC_fileupload_button");
c.className=x;}LEAP.asyn(LEAP.fileupload.setLineHeight,null,200,c);LEAP.fileupload.registTctDrag(c);}var G=LEAP.getElement("[ctf=fileupload_upload]",c);if(G){G.addEventListener("change",LEAP.fileupload.readFile,false);}if(e){var w=LEAP.getElement("[ctfe = fileupload_title]",c);if(w){w.style.background=e;
}}if(j){var q=LEAP.getElement("[ctfe = fileupload_progress]",c);if(q){q.style.background=j;}}if(A){var u=LEAP.getElement("[ctfe = fileupload_defimg]",c);if(u){u.style.display="";u.style["background-image"]="url('"+LEAP.fileupload._getServerURL_src(c)+A+"')";var F=u.parentElement.parentElement;if(F){var f=F.style.width;
var E=f.substring(0,f.indexof("em"));u.parentElement.parentElement.style.width=parseInt(E)+1+"em!important";}}}else{var u=LEAP.getElement("[ctfe = fileupload_defimg]",c);if(u){u.style.display="none";}}LEAP.fileupload.setReadOnly(c,p);c=g=G=l=null;};LEAP.fileupload.getUploadUrl=function(a){var b=a.getAttribute("pathreg");
var e=a.getAttribute("namereg");var c=a.getAttribute("uploadpath");if(!c){c=LEAP.fileupload.path;}var d=LEAP.fileupload._getServerURL_src(a)+"LEAP/Service/RPC/RPC.DO?type=3&rt=o&sid="+leapclient.getsid()+"&path="+encodeURIComponent(c);if(window._leap_systemarea){d+="&LSYS-AREA="+encodeURIComponent(window._leap_systemarea);
}if(window._leap_systemname){d+="&LSYS-NAME="+encodeURIComponent(window._leap_systemname);}if(window._leap_systemcode){d+="&LSYS-CODE="+encodeURIComponent(window._leap_systemcode);}if(e){d+="&namereg="+encodeURIComponent(e);}if(b){d+="&pathreg="+encodeURIComponent(b);}return d;};LEAP.fileupload._getRouter=function(d){var b=null;
if(d.getAttribute("router")){return d.getAttribute("router");}var a=LEAP.fileupload._getModuleInstance(d);if(a==null){b=null;}else{var c=PageObjectModel.getModule(a);if(c!=null&&c.leapclient!=null&&c.leapclient.router!=null){b=c.leapclient.router;}else{b=null;}}return b;};LEAP.fileupload._getServerURL_src=function(c){var a=LEAP.fileupload._getRouter(c);
var b=LEAP.fileupload._getServerURL(a);return b;};LEAP.fileupload._getServerURL=function(b){var a=null;if(b!=null&&leapclient&&leapclient.getServerURL){a=leapclient.getServerURL(b);}if(!a){a=leapconfig.server;}return a;};LEAP.fileupload._getModuleInstance=function(a){try{var c=a;while(true){if(c==null){return null;
}if(c.tagName=="BODY"){return null;}if(c.getAttribute("instance")){return c.getAttribute("instance");}c=c.parentNode;}return null;}catch(b){}finally{c=null;}};LEAP.fileupload.setLineHeight=function(b){if(!b){return;}var c=LEAP.getElement("[ctf=fileupload_title]",b);var a=b.offsetHeight;if(a&&c){c.style["line-height"]=a+"px";
}};LEAP.fileupload.ii=function(b){if(!b){if(!event){return;}b=event.srcElement;}if(!b){return;}var m=b.parentElement;if(m==null){return;}var g=LEAP._match(m,LEAP.fileupload.p,"ct",10);if(!g){return;}var i=g.getAttribute("ctid");if(!i){i=UUID.cID();g.setAttribute("ctid",i);}var j=g.getAttribute("showtext");
var n=g.getAttribute("uploadpath");var h=g.getAttribute("readonly");var f=g.getAttribute("pathreg");var l=g.getAttribute("namereg");var d=m.getAttribute("notip");var c=LEAP.fileupload.checksupportHTML5(d);if(!c){return;}if(!j){j=m.parentElement.getAttribute("title");if(!j){j="上传";}}var a=LEAP.fileupload.t.replace("@showtext",j).replace("@mul","").replace("@accept","accept=image/*");
m.innerHTML=a;var e=LEAP.getElement("[ctf=photoupload_upload]",g);if(e){e.addEventListener("change",LEAP.fileupload.readFile,false);}LEAP.fileupload.setReadOnly(g,h);g=b=e=a=null;};LEAP.fileupload.setReadOnly=function(g,l){if(!g){return;}if(l=="true"){l=true;}g.setAttribute("readonly",l);var h=g.getAttribute("ct");
if(h==LEAP.fileupload.p){var j=LEAP.getElement("[ctfe = photoupload_btn_list]",g);if(l=="1"||l==true){j.style.display="none";}else{j.style.display="";}}if(h==LEAP.fileupload.d){var a=LEAP.getElement("[ct=uploadbtn]",g);if(a){if(l=="1"||l==true){a.style.display="none";}else{a.style.display="";}}}var e=LEAP.getElement("[ctf = fileupload_upload]",g);
var d=LEAP.getElement("[ctfe = fileupload_title]",g);var m=LEAP.getElements("[ctfe = fileupload_process]",g);if(e){if(l=="1"||l==true){e.style.display="none";}else{e.style.display="";}}if(d){if(l=="1"||l==true){d.style.background="#CCCCCC";if(m&&m.length>0){for(var f=0;f<m.length;f++){m[f].style.display="none";
}}}else{var c=g.getAttribute("btncolor");if(c){d.style.background=c;}else{d.style.background="#367ECA!important";}}}if(m&&m.length){if(l=="1"||l==true){if(m&&m.length>0){for(var f=0;f<m.length;f++){m[f].style.display="none";}}}else{if(m&&m.length>0){for(var f=0;f<m.length;f++){m[f].style.display="table-cell";
}}}}var b=LEAP.getElement("[ctf=__upload_btn_row___]",g);if(b){if(l=="1"||l==true){b.style.display="none";}else{b.style.display="";}}};LEAP.fileupload.checksupportHTML5=function(a){if(!window.FormData){if(a=="1"){return false;}return false;}return true;};LEAP.fileupload.uiProcess=function(l){if(!l||!l.e){return;
}var n=l.e.srcElement;if(!n){return null;}var f=l.e.type;if(f!="click"){return;}var d=LEAP._match(n,LEAP.fileupload.d,"ct",10);var v=LEAP._match(n,LEAP.fileupload.p,"ct",10);if(!d&&!v){return;}if(d!=null){var r=d.getAttribute("ctfe");if(r=="fileupload_upload_label"){if(LEAP.fileupload.inputBtn==null){var e=document.createElement("INPUT");
e.setAttribute("type","file");e.setAttribute("ctf","fileupload_upload_temp");LEAP.fileupload.inputBtn=e;LEAP.setStyle(LEAP.fileupload.inputBtn,{display:"none"});document.body.appendChild(LEAP.fileupload.inputBtn);var s=LEAP.fileupload.checksupportHTML5(true);if(s){LEAP.fileupload.inputBtn.addEventListener("change",LEAP.fileupload.readFile,false);
}}var g=LEAP.fileupload.inputBtn;g._link=d;var t=d.getAttribute("mulit");if(t=="1"){g.setAttribute("multiple","multiple");}else{g.removeAttribute("multiple");}var q=d.getAttribute("types");if(q!=null){var a=q.split(",");for(var u=0;u<a.length;u++){if(a[u].indexOf(".")!=0){a[u]="."+a[u];}}g.setAttribute("accept",a.join(","));
}else{g.removeAttribute("accept");}g.click();return;}var h=n.getAttribute("ctf");if(h=="fileupload_upload"){if(window.before_fileupload){window.before_fileupload();}}var m=n;var o=LEAP._match(m,"fileupload_row","ctfe",5);if(o){var c=m.getAttribute("ctf");if(c=="fileupload_delete"){LEAP.fileupload.deleteItem(d,o);
}else{if(c=="fileupload_download"){LEAP.fileupload.downLoad(d,o);}else{if(c=="fileupload_down"){LEAP.fileupload.todown(d,o);}else{if(c&&m.getAttribute("btn_define")=="1"){ElementEventManager.handleEvent(d,"extendBtnClick",{element:d,item:o,data:o._data,ctf:c});}}}}}var c=m.getAttribute("ctf");if(c=="fileupload_name"){var p=LEAP._match(n,"fileupload_row","ctfe",2);
if(p!=null){var w=p._data;if(!w){return;}var j=d.getAttribute("callback");if(j){var b=LEAP.getLoadedModule(d.getAttribute("instance"));if(b&&b[j]!=null&&typeof(b[j])=="function"){b[j].call(b,{arg:w});return;}}LEAP.fileupload.downLoad(d,p);}}}if(v!=null){var c=n.getAttribute("ctf");if(c=="photoupload_btn_delete"){LEAP.fileupload.setValue(v,null);
}else{if(c=="photoupload_btn_download"){LEAP.fileupload.downLoad(v,v);}}}};LEAP.fileupload.todown=function(c,l){if(c){var f=LEAP.getElement("[ctfe = fileupload_list]",c);if(!f){return;}var h=f.children;var j=null;var g=0;if(h&&h.length>0){for(var d=0;d<h.length;d++){if(l==h[d]&&d<(h.length-1)){j=h[d+1];
g=d;break;}}}if(j){f.removeChild(j);f.insertBefore(j,l);var e=c._data;if(e!=null&&e.length>(g+1)){if(e[g]!=null){var b=LEAP.clone(e[g]);}var a=LEAP.clone(e[g+1]);e[g]=a;e[g+1]=b;c._data=e;}}}};LEAP.fileupload._encodeName=function(d){if(d!=null){var f=new StringBuffer();for(var c=0;c<d.length;c++){var e=d.charAt(c);
if(e==" "){f.append("%20");}else{if(e=="("||e==")"||e=="'"||e.indexOf("%u")==0){f.append(escape(e));}else{f.append(encodeURIComponent(e));}}}d=f.toString();}var b=base64encode(d);var a=new md5Code(b).getValue();return a;};LEAP.fileupload.readFile=function(n){if(!n||!n.srcElement){return;}var m=n.srcElement;
if(!m){return;}var a=m.files;if(!a||a.length==0){return;}var j=/[\n\r]/;var c=false;for(var f=0;f<a.length;f++){if(j.test(a[f].name)){c=true;break;}}if(c==true){LEAP.messagebox.alert("文件名字包含特殊字符，请修改后上传！");return;}var h=m.getAttribute("ctf");var g=null;var e=false;if(h=="photoupload_upload"){g=LEAP._match(m,LEAP.fileupload.p,"ct",9);
e=true;}else{if(h=="fileupload_upload"){g=LEAP._match(m,LEAP.fileupload.d,"ct",9);if(g!=null&&g.getAttribute("ctfe")=="fileupload_upload_btn"){e=true;}}else{if(h=="fileupload_upload_temp"){g=m._link;e=true;}}}if(!g){return;}if(e){g._data=null;}if(!a||a.length==0){LEAP.messagebox.alert("请选择需要上传的文件");}if(h=="photoupload_upload"){if(a[0].size>LEAP.fileupload.vsize*1024){g.setAttribute("_showview",1);
}else{g.removeAttribute("_showview");}}var c=LEAP.fileupload._check(g,a);if(!c){return;}var b=g.getAttribute("showloaded");var l=LEAP.clone(a);if(b&&b=="1"){LEAP.fileupload.uploadPanel(g,l);}var d=LEAP.fileupload.getUploadUrl(g);LEAP.asyn(LEAP.fileupload._upload,null,100,g,d,l,0);};LEAP.fileupload.uploadFile=function(b,c){b=LEAP._match(b,LEAP.fileupload.d,"ct",9);
if(!b||!c||c.length==0){return;}var a=b.getAttribute("path");if(!path){a="default";}LEAP.fileupload._upload(b,a,c,0);};LEAP.fileupload._upload=function(f,d,a,g){if(!f||!d){return;}var h=a.length;if(a==null||h<=g){return;}var e=a[g];var c=LEAP.fileupload._checkRepeat(f,e);if(!c){return;}var i=d;var j=null;
if(d!=null&&d.indexOf("?")>0){i=d.substr(0,d.indexOf("?"));j=d.substr(d.indexOf("?")+1);}var b=new FormData();b.append(encodeURIComponent(e.name),e);var l=new XMLHttpRequest();l.open("post",i,true);if(j!=null){j=j+"&fnk="+encodeURIComponent(LEAP.fileupload._encodeName(e.name));l.setRequestHeader("QS",j);
}l.upload.addEventListener("progress",function(n){var p=f.getAttribute("processfn");if(!String.isEmpty(p)){var m=f.getAttribute(commfields.instance);if(!String.isEmpty(m)){var q=LEAP.getLoadedModule(m);if(q!=null&&q[p]){var o=q[p](f,e);if(o==false){l.abort();}}q=null;}}LEAP.fileupload.onProcess(f,n,e);
},false);l.addEventListener("loadstart",function(m){var q=f.getAttribute("loadstartfn");if(!String.isEmpty(q)){var o=f.getAttribute(commfields.instance);if(!String.isEmpty(o)){var p=LEAP.getLoadedModule(o);if(p!=null&&p[q]){var n=p[q](f,e);if(n==false){l.abort();}}p=null;}}},false);l.addEventListener("error",function(m){var p=f.getAttribute("errorfn");
if(!String.isEmpty(p)){var n=f.getAttribute(commfields.instance);if(!String.isEmpty(n)){var o=LEAP.getLoadedModule(n);if(o!=null&&o[p]){o[p](f,e);}o=null;}}return false;},false);var c=false;l.addEventListener("load",function(m){if(!m||!m.target){return false;}var o=m.target.status;if(o!=200){if(o==601){LEAP.messagebox.alert("上传失败,不允许上传的文件类型");
}else{LEAP.messagebox.alert("文件上传失败,status："+o);}var n=f.getAttribute("showloaded");if(n!=null&&n=="1"&&LEAP.fileupload.filePanel!=null){LEAP.asyn(LEAP.fileupload.__hidePanel,this,500);}return false;}var r=m.target.response;var p=null;if(r){try{p=JSON.parse(r);}catch(q){LEAP.messagebox.alert("上传失败:"+r);
LEAP.fileupload.__hidePanel();return;}finally{}}c=(p!=null&&p.name!=null);if(c){++g;LEAP.fileupload.bindFileData(f,p,(g==h),true);if(g>=h){var s=f.getAttribute("showtip");if(!s||s=="1"){LEAP.messagebox.alert("文件上传成功");}LEAP.fileupload._finish(f);return;}LEAP.asyn(LEAP.fileupload._upload,null,100,f,d,a,g);
}else{}},false);l.send(b);b=null;LEAP.fileupload.reset(f);};LEAP.fileupload.reset=function(a){if(!a){return;}var b=LEAP.getElement("input[ctf=fileupload_upload]",a);if(b!=null){b.value=null;}};LEAP.fileupload.setAttr=function(c,b){if(!c||!b){return;}var a=c.getAttribute("ct");if(a!=LEAP.fileupload.d){return;
}var d=LEAP.getElement("[ctf=fileupload_upload]",c);if(d!=null){d.setAttribute("accept",b);}};LEAP.fileupload._checkRepeat=function(g,e){if(!g||!e){return null;}var b=g.getAttribute("repeat");if(b&&b=="1"){return true;}var f=true;var m=new hashtable();var l=LEAP.getElement("[ctfe = fileupload_list]",g);
if(l){var c=l.children;if(c&&c.length>0){for(var h=0;h<c.length;h++){var j=c[h]._data;var a=j.showName+j.name.substring(j.name.indexof("."),j.name.length);if(a==e.name){LEAP.messagebox.alert("文件【"+a+"】重复上传");f=false;break;}}}}return f;};LEAP.fileupload._check=function(g,c){if(!g||!c){return false;}var l=g.getAttribute("maxsize");
var q=g.getAttribute("size");var e=g.getAttribute("filenum");var d=g.getAttribute("minsize");var m=g.getAttribute("filenamemaxlen");var o=0;var j=0;var h=[];var n=g.getAttribute("types");if(n!=null&&n.length>0){h=n.toLowerCase().split(",");}if(h!=null&&h.length==1&&h[0]=="*"){h=[];}for(var f=0;f<c.length;
f++){var b=c[f].name;var p=b.substring(b.lastIndexOf(".")+1);if(p!=null&&h.length>0&&(!h.contains(p.toLowerCase())&&!h.contains("."+p.toLowerCase()))){LEAP.messagebox.alert("文件:("+c[f].name+")为不允许上传的文件类型");return false;}if(b&&(b.indexOf("!")>-1||b.indexOf("！")>-1||b.indexOf("~")>-1)){LEAP.messagebox.alert("文件:("+c[f].name+")名称中不能包含!~字符");
return false;}if(c[f].size==0){LEAP.messagebox.alert("文件:("+c[f].name+")内容大小不能为0");return false;}if(q&&q*1>0){if(c[f].size/1024>q*1){LEAP.messagebox.alert("文件:("+c[f].name+")大小超出限制单个上传文件大小限制");return false;}}if(m){m=m*1;var a=c[f].name;if(a&&a.lastIndexOf(".")>0){var b=a.substring(0,a.lastIndexOf("."));
if(b.length>m){alert("文件【"+a+"】名称超出最大限制长度"+m+"，请修改文件名后上传");return false;}}}o+=c[f].size;j+=1;}if(e&&e*1>0){if(j>e){LEAP.messagebox.alert("上传文件总个数不得超过"+e*1+"个");return false;}}if(l&&l*1){if(o/1024>l*1){LEAP.messagebox.alert("上传文件总大小不得超过"+l*1+"KB");return false;}}if(d&&d*1){if(o/1024<d*1){LEAP.messagebox.alert("上传文件总总大小不得小于"+d*1+"KB");
return false;}}return true;};LEAP.fileupload.onProcess=function(l,q,j){if(!q||!l||!j){return;}var c=q.loaded;var f=j.size;var n=l;var d=l.getAttribute("showloaded");if(d=="1"&&LEAP.fileupload.filePanel!=null){var o=LEAP.getElements("LI[ctf=fileupload_li_upload]",LEAP.fileupload.filePanel);if(o!=null&&o.length>0){for(var h=0;
h<o.length;h++){var g=o[h]["_data"];if(g&&g.name==j.name){n=o[h];break;}}}}var e=LEAP.getElement("[ctfe = fileupload_progress]",n);if(e){var a=(parseFloat(c)/parseFloat(f)).toFixed(2);if(a>1){a=1;}var m=parseInt(a*100)+"%";e.setAttribute("percent",m);var b=LEAP.getElement("SPAN",e);if(b){b.style.width=m;
}}e=null;};LEAP.fileupload._finish=function(b){if(!b){return;}var a=b.getAttribute("showloaded");if(a!=null&&a=="1"&&LEAP.fileupload.filePanel!=null){LEAP.fileupload.__hidePanel();}if(LEAP.fileupload.inputBtn!=null){LEAP.fileupload.inputBtn.value="";}};LEAP.fileupload.__hidePanel=function(){LEAP.fileupload.hideMask();
if(LEAP.fileupload.filePanel!=null){LEAP.setStyle(LEAP.fileupload.filePanel,{display:"none"});}};LEAP.fileupload.uploadPanel=function(d,e){if(e==null||e.length==0){return;}if(LEAP.fileupload.filePanel==null){var b=document.createElement("div");b.className="LC_upload__box show";b.innerHTML=LEAP.fileupload.g;
LEAP.fileupload.filePanel=b;document.body.appendChild(LEAP.fileupload.filePanel);}var f=LEAP.getElement("[ctf=fileuploa_file_list]",LEAP.fileupload.filePanel);if(f!=null){LEAP.fileupload.showMask();f.innerHTML="";for(var c=0;c<e.length;c++){var a=document.createElement("LI");a.setAttribute("ctf","fileupload_li_upload");
a._data=e[c];a.innerHTML=LEAP.fileupload.s.replace("@showname",e[c].name);f.appendChild(a);}LEAP.setStyle(LEAP.fileupload.filePanel,{display:"block"});}f=null;};LEAP.fileupload.bindFileData=function(c,w,e,h){if(!c||!w){LEAP.message.alert("上传返回的数据为空");return;}if(h&&LEAP.userInfo){if(!w.creator){w.creator=LEAP.userInfo.userflag;
}if(!w.userName){w.userName=LEAP.userInfo.fullName;}}if(h&&!w.time){w.time=new Date().getTime();}var f=c.getAttribute("ct");var v=null;if(f==LEAP.fileupload.p){v=[w];c._data=w;LEAP.fileupload._setPhoto(c,w);}else{if(f==LEAP.fileupload.d){v=c._data;if(!v){v=[];}v.add(w);c._data=v;var p=c.getAttribute("showloaded");
var m=c.getAttribute("ctfe");if(m=="fileupload_upload_label"&&p!=null&&p=="1"){var r=w.showName+w.name.substring(w.name.lastIndexOf("."),w.name.length);var n=null;if(LEAP.fileupload.filePanel!=null){var s=LEAP.getElements("LI[ctf=fileupload_li_upload]",LEAP.fileupload.filePanel);if(s!=null&&s.length>0){for(var t=0;
t<s.length;t++){var u=s[t]["_data"];if(u&&u.name==r){n=s[t];break;}}}}if(n!=null){n.parentElement.removeChild(n);}}else{var o=LEAP.getElement("[ctfe = fileupload_list]",c);if(o!=null){var q=null;var a=c.getAttribute(commfields.instance);if(!String.isEmpty(a)){var b=LEAP.getLoadedModule(a);if(b!=null){q=b.pageMode;
}}var g=w.showName+w.name.substring(w.name.lastIndexOf("."),w.name.length);var j=document.createElement("LI");j.className="LC_fileupload_row";j.setAttribute("ctfe","fileupload_row");j.innerHTML=LEAP.fileupload.l.replaceall("@filename",g);if(q=="view"||LEAP.userInfo.userflag!=w.creator){var l=LEAP.getElements("[ctf=fileupload_delete],[ctf=fileupload_down]",j);
if(l!=null){for(var t=0;t<l.length;t++){l[t].style.display="none";}}}j._data=w;LEAP.fileupload._buildOperation(c,j);o.appendChild(j);}}}}if(h){LEAP.fileupload.onComplete(c,[w]);}};LEAP.fileupload._buildOperation=function(d,l){if(!d||!l){return;}var c=d.getAttribute("operations");if(!c){return;}var f=c.split("|");
if(!f||f.length==0){return;}var j=LEAP.getElement("[ctfe=fileupload_process]",l);if(!j){return;}for(var e=0;e<f.length;e++){var a=f[e];if(!a||a.indexOf(":")<0){continue;}var g=a.split(":");if(g.length!=2){continue;}var h=document.createElement("b");h.className="LC_fileupload_btn";h.setAttribute("ctf",g[1]);
h.setAttribute("skip","1");h.setAttribute("btn_define","1");h.innerHTML=g[0];j.appendChild(h);}};LEAP.fileupload.updateShowName=function(d,l,f){var j=LEAP._match(l,LEAP.fileupload.d,"ct",5);if(!j||j!=d||!f){return;}var g=LEAP.getElement("span[ctf=fileupload_name]",l);if(!g){return;}var c=l._data;if(!c||!c.name){return;
}var h=g.innerHTML;var m=c.name.substring(c.name.lastIndexOf("."));if(f.indexOf(m)>0){f=f.substring(0,f.lastIndexOf("."));}c.showName=f;l._data=c;var e=d._data;if(e&&c){var a=c.name;for(var b=0;b<e.length;b++){if(e[b].name==a){e[b].showName=f;break;}}d._data=e;}h=f+"."+m;g.innerHTML=h;};LEAP.fileupload.onComplete=function(d,e){if(!d||!e){return;
}var b=null;if(d._domain!=null){b=d._domain;var o=d.getAttribute("_openupload");if(b!=null&&o&&o=="1"){var n=d._callback;var a=d._src;if(n!=null){n.call(b,a,e);}}}var h=d.getAttribute("completefn");if(!String.isEmpty(h)){var g=d.getAttribute(commfields.instance);if(!String.isEmpty(g)){b=LEAP.getLoadedModule(g);
}if(b!=null){b[h](d,e);}}var i=d.getAttribute("tct");if(i){var m=d.getAttribute("mulit");var p=e;if(m!=1){p=e[0];}ElementEventManager.handleEvent(d,"uploadBtnComplete",{caller:d,element:d,object:p,result:p});if(LEAP[i]&&LEAP[i].onUploadComplete){var f=LEAP._match(d,i,"ct",9);if(f){var j=d.getAttribute("userpar");
var c=e;if(m!=1){c=e[0];}try{LEAP[i].onUploadComplete.call(LEAP[i],f,c,null,j,null,d);}finally{f=null;}}}var l=LEAP.getElement("[ctf=fileupload_upload]",d);if(l!=null){l.value="";}return;}};LEAP.fileupload._setPhoto=function(f,e){if(!f){return;}var h=f.getAttribute("viewwidth");if(!h){h=LEAP.fileupload.vwidth;
}var d=f.getAttribute("viewheight");if(!d){d=LEAP.fileupload.vheight;}var b=f.getAttribute("_showview");var c=LEAP.getElement("[ctfe = photoupload_photo_view]",f);if(c){var i=LEAP.fileupload._getRouter(f);var a=null;if(e){if(!b){d=null;d=null;}a=LEAP.fileupload.getPath(e.nameedPath,e.name,e.uuid,e.showName,e.title,h,d,e.fileid,i);
}if(!a){var g=f.getAttribute("defaultphoto");if(!g){g=LEAP.fileupload.defaultphoto;}a=LEAP.fileupload._getServerURL(i)+g;}c.src=a;}LEAP.fileupload._loadIamge(c);};LEAP.fileupload._loadIamge=function(a){if(!a){return;}if(a.attachEvent){a.onreadystatechange=null;a.onerror=null;}else{a.onload=null;}if(a.attachEvent){a.onreadystatechange=function(){var b=this.readyState;
if(b=="complete"||b=="loaded"){this.onreadystatechange=null;this.onerror=null;this.style.display="";this.style.visibility="visible";}else{this.style.display="none";this.style.visibility="hidden";}};a.onerror=function(){this.style.display="none";this.style.visibility="hidden";this.onreadystatechange=null;
this.onerror=null;};}else{a.onload=function(){this.style.display="";this.style.visibility="visible";this.onload=null;};}};LEAP.fileupload.downLoad=function(b,e,d){if(!e){return;}var c=e._data;if(!c){return;}var a=LEAP.fileupload._getRouter(e);LEAP.fileupload._download(b,c,d,a);};LEAP.fileupload._download=function(e,d,f,b){if(d!=null){var c=LEAP.fileupload.getPath(d.nameedPath,d.name,d.uuid,d.showName,d.title,null,null,d.fileid,b);
if(f){if(c.indexOf("?")==-1){c+="?open=1";}else{c+="&open=1";}}var a=null;if(e!=null){var a=e.getAttribute("watermark");if(a=="1"||a==true||a=="true"){if(c.indexOf("?")<0){c+="?watermark=1";}else{c+="&watermark=1";}}}LEAP.asyn(window.open,null,100,c);}};LEAP.fileupload.getPath=function(f,n,r,d,w,o,m,s,a){if(window.LEAP_upload_getPath_Extend){var v=null;
try{v=window.LEAP_upload_getPath_Extend(f,n,r,d,w,o,m,s,a);}catch(t){}if(v){if(window.LEAP_LID){if(v.indexOf("?")==-1){v+="?lid="+window.LEAP_LID;}else{v+="&lid="+window.LEAP_LID;}}return v;}}if(f&&n&&(f.indexOf("http://")==0||f.indexOf("https://")==0)){while(f.endsWith("/")){f=f.substring(0,f.length-1);
}while(n.startsWith("/")){n=n.substring(1,n.length);}return f+"/"+n;}if(f!=null&&typeof(f)=="object"){var h=f;f=h.nameedPath;n=h.name;r=h.uuid;d=h.showname;w=h.title;s=h.fileid;}if(LEAP.fileupload.u==null){LEAP.fileupload.u=LEAP.fileupload._getServerURL(a)+"LEAP/Download/";}var c=null;if(o!=null&&m!=null){c=LEAP.fileupload._getServerURL(a)+"imageview/"+o+"_"+m+"/LEAP/Download/";
}else{c=LEAP.fileupload._getServerURL(a)+"LEAP/Download/";}if(f!=null){c+=encodeURIComponent(encodeURIComponent(escape(f)))+"/";}if(n!=null){if(r==null||r.Trim()==""){c+=encodeURIComponent(encodeURIComponent(escape(n)));}else{c+=r+"_"+encodeURIComponent(encodeURIComponent(escape(n)));}}c=c.replaceall("%252F","/");
c=c.replaceall("%2540","@");c=c.replaceall("%25253D","=");var u=d?d:w;if(u){var g=c.lastIndexOf(".");if(g>-1){if(n!=u+c.substring(g)){var p=new StringBuffer();for(var q=0;q<u.length;q++){var b=u.charAt(q);var l=escape(b);if(b==" "||b=="("||b==")"||l.indexOf("%u")==0||l=="%B7"||l=="%D7"||l=="%AE"){p.append(b);
}else{p.append(l);}}var j=p.toString();c=c.substring(0,g)+"/_v3_/"+j+c.substring(g);}}}if(s){if(c.indexOf("?")<0){c+="?fileid="+s;}else{c+="&fileid="+s;}}if(window.LEAP_LID){if(c.indexOf("?")==-1){c+="?lid="+window.LEAP_LID;}else{c+="&lid="+window.LEAP_LID;}}if(window._beforeGetDownPath){try{c=window._beforeGetDownPath(c);
}catch(t){}}return c;};LEAP.fileupload.deleteItem=function(d,f){if(!d||!f){return;}if(window.confirm("确认删除该文件?")){var a=d._data;var e=f._data;if(a&&e){var b=e.name;for(var c=0;c<a.length;c++){if(a[c].name==b){a.remove(a[c]);break;}}d._data=a;}f.parentNode.removeChild(f);ElementEventManager.handleEvent(d,"removeUploadItem",{caller:d,element:d,value:e,data:e});
f=e=null;}};LEAP.fileupload.getValue=function(d){if(!d){return null;}var b=d._data;if(!b){return null;}var c=d.getAttribute("ct");var a=null;if(c==LEAP.fileupload.p){if(b&&typeof(b)=="object"){a=JSON.stringify(b);}else{a=b;}}else{if(c==LEAP.fileupload.d){a=JSON.stringify(b);}}return a;};LEAP.fileupload.setValue=function(c,a){if(!c){return;
}var b=c.getAttribute("ct");if(a&&typeof(a)=="string"){try{a=JSON.parse(a);}finally{}}if(b==LEAP.fileupload.p){c._data=a;LEAP.fileupload._setPhoto(c,a);}else{if(b==LEAP.fileupload.d){if(!a){LEAP.fileupload.clearItem(c);return;}var e=LEAP.getElement("[ctfe = fileupload_progress]",c);if(e){e.setAttribute("percent","0%");
var d=LEAP.getElement("SPAN",e);if(d){d.style.width="0%";}}LEAP.asyn(LEAP.fileupload._setValue,null,50,c,a);}}};LEAP.fileupload._setValue=function(d,a){if(!d||!a){return;}var f=d.getAttribute("ctid");if(!f){var b=d.getAttribute("ctfe");if(b!="fileupload_upload_label"&&b!="fileupload_upload_btn"){LEAP.asyn(LEAP.fileupload._setValue,null,200,d,a);
return;}}var e=LEAP.getElement("[ctfe=fileupload_list]",d);if(!e){return null;}LEAP.fileupload.clearItem(d);if(a.length>0){for(var c=0;c<a.length;c++){LEAP.fileupload.bindFileData(d,a[c],(c==a.length-1),false);}}};LEAP.fileupload.clearItem=function(c){if(!c){return;}c._data=null;var a=LEAP.getElement("[ctfe = fileupload_progress]",c);
if(a){a.setAttribute("percent","0%");var f=LEAP.getElement("SPAN",a);if(f){f.style.width="0%";}}var e=LEAP.getElement("[ctfe=fileupload_list]",c);if(!e){return;}var d=e.childNodes;if(d!=null){for(var b=(d.length-1);b>-1;b--){e.removeChild(d[b]);}}};LEAP.fileupload.setFlashUpload=function(e,b){var c=null;
var g=e.getAttribute("showtext");var j=e.getAttribute("title");if(!b){var h=LEAP.fileupload.f;h=h.replace("@uploadbtn",LEAP.fileupload.btn2);c=h.replace("@showtext",g).replace("@uptitle",j).replaceall("@tw",(j.length+2)+"em").replaceall("@sw",(g.length+3)+"em").replaceall("@lw",(g.length+6)+"em");}else{c=LEAP.fileupload.btn2;
c=c.replace("@showtext",g);}if(c){c=c.replace("@instance",e.getAttribute("instance"));}e.innerHTML=c;var a=LEAP.getElement("[ct=uploadbtn]",e);if(a){var f=["maxselect","minsize","maxsize","viewsize","callfn","types","typesdesc","uploadpath","showtext","callmode","modulefn","mulit","processfn","selecetfn","pathfn","pathreg","namereg","allowexe","filenamemaxlen"];
for(var d=0;d<f.length;d++){var l=e.getAttribute(f[d]);if(l){a.setAttribute(f[d],l);}}if(!b){LEAP.addEvent(a,"uploadBtnComplete",LEAP.fileupload.uploadFinish,null,null,true);}}};LEAP.fileupload.setProgressStatus=function(b,d){if(b==null){return;}var c=LEAP._match(b,LEAP.fileupload.d,"ct",5);if(!c){return;
}var a=LEAP.getElement("[ctfe = fileupload_progress]",c);if(a){a.setAttribute("percent",parseInt(d)+"%");var e=LEAP.getElement("SPAN",a);if(e){e.style.width=parseInt(d)+"%";}}};LEAP.fileupload.uploadFinish=function(d){if(!d||!d.arg2||!d.arg2.sucess){return;}var h=d.arg2.caller;if(!h){return;}var e=LEAP._match(h,LEAP.fileupload.d,"ct",5);
if(!e){return;}var g=d.arg2.object;if(!g){return;}var c=e._data;if(!c){c=[];}c.add(g);e._data=c;var f=LEAP.getElement("[ctfe = fileupload_list]",e);if(f!=null){var b=g.showName+g.name.substring(g.name.lastIndexOf("."),g.name.length);var a=document.createElement("LI");a.className="LC_fileupload_row";a.setAttribute("ctfe","fileupload_row");
a.innerHTML=LEAP.fileupload.l.replaceall("@filename",b);a._data=g;f.appendChild(a);}};LEAP.fileupload.setAccept=function(d,g,b){if(!d||!g){return;}var e=d.getAttribute("ct");var h=d.getAttribute("initnum");if(!h){h=0;}else{h=h*1;}var a=false;if(e==LEAP.fileupload.d){d.setAttribute("types",g);var f=LEAP.getElement("[ctf=fileupload_upload]",d);
if(f!=null){var j=g.split(",");if(j&&j.length>0){for(var c=0;c<j.length;c++){j[c]="."+j[c];}}f.setAttribute("accept",j.join(","));a=true;}}if(!b||(!a&&h<5)){d.setAttribute("initnum",++h);LEAP.asyn(LEAP.fileupload.setAccept,null,200,d,g,true);}};LEAP.fileupload.tempCaller=null;LEAP.fileupload.tempConfig=null;
LEAP.fileupload.openUpload=function(b){LEAP.fileupload.cm=null;var a=LEAP.fileupload.checksupportHTML5(false);if(a){LEAP.fileupload._bindOpenConfig(b);var c=LEAP.fileupload.uploadElement;if(c!=null){c._data=null;LEAP.fileupload.uiProcess({e:{type:"click",srcElement:c}});}}else{if(b.callback&&!b.domain){LEAP.messagebox.alert("请传入回调函数["+b.callback+"]的作用域");
}var e={callback:b.callback,domain:b.domain,src:b.src};LEAP.fileupload.cm=e;var d=LEAP.clone(b);d.callback=this.flashCallback;d.domain=this;LEAP.uploadform.show(d);}};LEAP.fileupload._bindOpenConfig=function(d){if(!d){return;}if(LEAP.fileupload.uploadElement==null){var c=document.createElement("INPUT");
c.setAttribute("type","button");c.setAttribute("ct","fileupload");c.setAttribute("showloaded","1");c.setAttribute("ctfe","fileupload_upload_label");c.setAttribute("istemp","1");c.style.display="none";LEAP.fileupload.uploadElement=c;LEAP.addEvent(LEAP.fileupload.uploadElement,"click",LEAP.fileupload.uiProcess,null,null,true);
}var f=LEAP.fileupload.uploadElement;var a=["uploadpath","mulit","types","pathreg","namereg","completefn","size","maxsize","viewsize","router"];var b=d.uploadpath==null?"default":d.uploadpath;d.uploadpath=b;if(d.callback&&!d.domain){LEAP.messagebox.alert("请传入回调函数]"+d.callback+"]的作用域");return;}f._domain=d.domain;
f._callback=d.callback;f._src=d.src;f.setAttribute("_openupload","1");for(var e=0;e<a.length;e++){if(!d[a[e]]){f.removeAttribute(a[e]);}else{f.setAttribute(a[e],d[a[e]]);}}};LEAP.fileupload.flashCallback=function(b,a){var c=LEAP.fileupload.cm;if(c!=null&&c.callback&&c.domain){try{c.callback.call(c.domain,c.src,b);
}finally{if(a!=null){LEAP.messagebox.alert(a);}}}};LEAP.fileupload.registTctDrag=function(d){if(!d||d.getAttribute("ct")!=LEAP.fileupload.d){return;}var b=d.getAttribute("tct");if(!b){return;}var c=LEAP._match(d,b,"ct",3);if(!c){return;}var a=LEAP.fileupload.checksupportHTML5(false);if(a){c.ondragenter=LEAP.fileupload.onDragEnter;
c.ondragleave=LEAP.fileupload.onDragLeave;c.ondragover=LEAP.fileupload.onDragOver;c.ondrop=LEAP.fileupload.onDragDrop;c.__linkel=d;if(!document.ondragover){document.ondragover=LEAP.fileupload.onDragDrop2;}if(!document.ondrop){document.ondrop=LEAP.fileupload.onDragDrop2;}}};LEAP.fileupload.islocalshow=false;
LEAP.fileupload.showMask=function(){var b=false;if(LEAP._maskdiv!=null){var a=LEAP._maskdiv.style.display;b=(a=="block");}if(!b){LEAP.showMask();LEAP.fileupload.islocalshow=true;}else{LEAP.fileupload.islocalshow=false;}};LEAP.fileupload.hideMask=function(){if(LEAP.fileupload.islocalshow){LEAP.hideMask();
}};LEAP.fileupload.onDragEnter=function(a){if(!a||!a.currentTarget){return;}var b=a.currentTarget;if(!b){return;}if(!LEAP.hasCSS(b,"LC_fileupload_dragover")){LEAP.addCSS(b,"LC_fileupload_dragover");}};LEAP.fileupload.onDragLeave=function(a){if(!a||!a.currentTarget){return;}var b=a.currentTarget;if(!b){return;
}if(LEAP.hasCSS(b,"LC_fileupload_dragover")){LEAP.removeCSS(b,"LC_fileupload_dragover");}};LEAP.fileupload.onDragOver=function(a){LEAP.fileupload.onDragEnter(a);return false;};LEAP.fileupload.onDragDrop=function(a){if(!a||!a.currentTarget){return;}var c=a.currentTarget;if(!c){return;}if(c.__linkel!=null){c=c.__linkel;
}var d=a.dataTransfer.files;var b=LEAP.fileupload.getUploadUrl(c);LEAP.asyn(LEAP.fileupload._upload,null,100,c,b,d,0);LEAP.fileupload.onDragLeave(a);return false;};LEAP.fileupload.onDragDrop2=function(a){a.preventDefault();return false;};LEAP.formstep={};LEAP.formstep.d="formstep";LEAP.formstep.vs="_values";
LEAP.formstep.modluedt="_modluedata";LEAP.formstep.moduleel="_lastmodule";LEAP.formstep.titlestr='<li class="@class" levels="@levels" ctf="formstep_title_item"><div class="@cl">@num</div>@text</li>';LEAP.formstep.arr="_dataarr";LEAP.formstep._init=function(){LEAP.addEvent(document.body,"click",LEAP.formstep.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.formstep._init);};LEAP.formstep.initControl=function(h,a){if(!a){if(!event){return;}a=event.srcElement;}if(!a){return;}if(h!=null){var n=function(){LEAP.formstep.initControl(null,a);a=null;};setTimeout(n,h);return;}var f=a.parentElement;if(f!=null){if(LEAP!=null){var o=f.getAttribute("values");
if(null==o){return;}var c=LEAP.getLoadedModule(f.getAttribute(commfields.instance));var p=JSON.parse(o);if(f._setvaluebool!=true){if(p!=null){f[LEAP.formstep.vs]=p;var m=null;var q=LEAP.getElement("[ctf=formstep_title]",f);if(q!=null){var l=new StringBuffer();for(var e=0;e<p.length;e++){var j=null;if(e==0){m=p[e].mn;
j=LEAP.formstep.titlestr.replace("@class","LC_formstep_title_bleftbg").replace("@text",p[e].title).replace("@levels",e+1).replace("@num",e+1).replace("@cl","LC_formstep_title_leftnum");}else{if(e==p.length-1){j=LEAP.formstep.titlestr.replace("@class","LC_formstep_title_grightbg").replace("@text",p[e].title).replace("@levels",e+1).replace("@num",e+1).replace("@cl","LC_formstep_title_rightnum1");
}else{j=LEAP.formstep.titlestr.replace("@class","LC_formstep_title_gcenterbg").replace("@text",p[e].title).replace("@levels",e+1).replace("@num",e+1).replace("@cl","LC_formstep_title_rightnum1");}}l.append(j);}if(q){q.innerHTML=l.toString();}}else{for(var e=0;e<p.length;e++){if(e==0){m=p[e].mn;}}}if(f[LEAP.formstep.moduleel]!=null){if(f[LEAP.formstep.moduleel].dispose){f[LEAP.formstep.moduleel].dispose();
f[LEAP.formstep.moduleel]=null;}}var d=null;var g=f.getAttribute("parfn");if(c){if(c[g]!=null&&typeof(c[g])=="function"){d=c[g].call(c);}moduleLoadArg={pars:d};f._pars=d;}var b=LEAP.getElement("[ctf=formstep_workarea]",f);if(b){f[LEAP.formstep.moduleel]=LEAP.loadModule2({path:m,parent:b,moduleLoadArg:moduleLoadArg});
}f._initcontrol=true;LEAP.formstep.bytitle(f,1);}}}}};LEAP.formstep.getPModule=function(b){var a=LEAP.getLoadedModule(b.getAttribute(commfields.instance));if(a){return a;}};LEAP.formstep.setValue=function(e,o){e=LEAP._check(e,LEAP.formstep.d);if(null==e){return;}var c=e.getAttribute("values");if(String.isEmpty(c)){return;
}var p=JSON.parse(c);if(e._initcontrol==true){return;}if(p!=null){e._setvaluebool=true;e[LEAP.formstep.vs]=p;var m=null;var q=LEAP.getElement("[ctf=formstep_title]",e);if(q!=null){var l=new StringBuffer();for(var f=0;f<p.length;f++){var j=null;if(f==0){m=p[f].mn;j=LEAP.formstep.titlestr.replace("@class","LC_formstep_title_bleftbg").replace("@text",p[f].title).replace("@levels",f+1).replace("@num",f+1).replace("@cl","LC_formstep_title_leftnum");
}else{if(f==p.length-1){j=LEAP.formstep.titlestr.replace("@class","LC_formstep_title_grightbg").replace("@text",p[f].title).replace("@levels",f+1).replace("@num",f+1).replace("@cl","LC_formstep_title_rightnum1");}else{j=LEAP.formstep.titlestr.replace("@class","LC_formstep_title_gcenterbg").replace("@text",p[f].title).replace("@levels",f+1).replace("@num",f+1).replace("@cl","LC_formstep_title_rightnum1");
}}l.append(j);}if(q){q.innerHTML=l.toString();}}else{for(var f=0;f<p.length;f++){if(f==0){m=p[f].mn;}}}if(e[LEAP.formstep.moduleel]!=null){if(e[LEAP.formstep.moduleel].dispose){e[LEAP.formstep.moduleel].dispose();e[LEAP.formstep.moduleel]=null;}}var b=LEAP.getLoadedModule(e.getAttribute(commfields.instance));
var d=null;var g=e.getAttribute("parfn");var n=null;if(b){if(b[g]!=null&&typeof(b[g])=="function"){d=b[g].call(b);}n={pars:d};e._pars=d;}if(o!=null){if(!e[LEAP.formstep.arr]){e[LEAP.formstep.arr]=new hashtable();}if(n==null){n={};}n.pdata=o;var h=e[LEAP.formstep.arr].getvalue("step1");if(h){e[LEAP.formstep.arr].replace("step1",n);
}else{e[LEAP.formstep.arr].add("step1",n);}}var a=LEAP.getElement("[ctf=formstep_workarea]",e);if(a){e[LEAP.formstep.moduleel]=LEAP.loadModule2({path:m,parent:a,moduleLoadArg:n});if(e[LEAP.formstep.moduleel]){if(o!=null){e[LEAP.formstep.moduleel].setPageData(o);}else{e[LEAP.formstep.moduleel].setPageData();
}}}}};LEAP.formstep.uiProcess=function(g){var j=g.e.srcElement;var e=g.e.type;var y=j.tagName;var a=j.getAttribute(commfields.ctf);var d=LEAP._match(j,LEAP.formstep.d,"ct",99);if(!d){return;}if(e=="click"){var r=d._pars;if(a=="formstep_next"){if(d[LEAP.formstep.vs]){var c=d[LEAP.formstep.vs];if(d[LEAP.formstep.moduleel]){if(d[LEAP.formstep.moduleel].formStepCheck){var n=d[LEAP.formstep.moduleel].formStepCheck();
if(!n){return;}}}d[LEAP.formstep.moduleel].moduleElement.setAttribute("bystep","1");var m=null;var o=null;for(var t=0;t<c.length;t++){if(c[t].mn==d[LEAP.formstep.moduleel].name){m=c[t+1].mn;o=t+1;}}var x=d[LEAP.formstep.moduleel].innerInfoSubmit();if(x!=-99&&x!=-2){var p=null;if(d[LEAP.formstep.moduleel]){if(d[LEAP.formstep.moduleel].setFormStepData){p=d[LEAP.formstep.moduleel].setFormStepData(x);
}}var b=null;if(d[LEAP.formstep.arr]){b={};var h=d[LEAP.formstep.arr].getvalue("step1");if(h){for(key in h.pdata){b[key]=h.pdata[key];}}if(x){for(key in x){b[key]=x[key];}}}else{b=x;}if(d[LEAP.formstep.moduleel]){if(d[LEAP.formstep.moduleel].setFormStepAllData){b=d[LEAP.formstep.moduleel].setFormStepAllData(b);
}}var v=null;if(b!=null){v={pdata:b,par:p,pars:r};}if(d._setvaluebool==true){d[LEAP.formstep.arr].replace("step1",v);}else{if(!d[LEAP.formstep.arr]){d[LEAP.formstep.arr]=new hashtable();}if(d[LEAP.formstep.arr].getvalue("step"+o)!=null){d[LEAP.formstep.arr].replace("step"+o,v);}else{d[LEAP.formstep.arr].add("step"+o,v);
}}if(d[LEAP.formstep.moduleel]!=null){if(d[LEAP.formstep.moduleel].dispose){d[LEAP.formstep.moduleel].dispose();d[LEAP.formstep.moduleel]=null;}}var q=LEAP.getElement("[ctf=formstep_workarea]",d);if(q){d[LEAP.formstep.moduleel]=LEAP.loadModule2({path:m,parent:q,moduleLoadArg:v});if(d[LEAP.formstep.moduleel]){d[LEAP.formstep.moduleel].setPageData(b);
}LEAP.formstep.bytitle(d,o+1);}}}}else{if(a=="formstep_pre"){var c=d[LEAP.formstep.vs];d[LEAP.formstep.moduleel].moduleElement.setAttribute("bystep","1");var m=null;var o=null;for(var t=0;t<c.length;t++){if(c[t].mn==d[LEAP.formstep.moduleel].name){m=c[t-1].mn;o=t;}}if(d[LEAP.formstep.moduleel]!=null){var x=d[LEAP.formstep.moduleel].getPageData().data;
var p=null;if(d[LEAP.formstep.moduleel]){if(d[LEAP.formstep.moduleel].setFormStepData){p=d[LEAP.formstep.moduleel].setFormStepData(x);}}var b=null;if(d[LEAP.formstep.arr]){b={};var h=d[LEAP.formstep.arr].getvalue("step1");if(h){for(k in h.pdata){b[k]=h.pdata[k];}}for(key in x){b[key]=x[key];}}else{b=x;
}if(d[LEAP.formstep.moduleel]){if(d[LEAP.formstep.moduleel].setFormStepAllData){b=d[LEAP.formstep.moduleel].setFormStepAllData(b);}}var l=null;if(b){l={pdata:b,par:p,pars:r};}if(d._setvaluebool==true){d[LEAP.formstep.arr].replace("step1",l);}else{if(d[LEAP.formstep.arr].getvalue("step"+(o+1))!=null){d[LEAP.formstep.arr].replace("step"+(o+1),l);
}else{d[LEAP.formstep.arr].add("step"+(o+1),l);}}if(d[LEAP.formstep.moduleel].dispose){d[LEAP.formstep.moduleel].dispose();d[LEAP.formstep.moduleel]=null;}}var q=LEAP.getElement("[ctf=formstep_workarea]",d);if(q){var v=null;var w=null;if(o>1){w=d[LEAP.formstep.arr].getvalue("step"+(o-1));}var v=null;
var u=null;var f=null;if(w!=null){u=w.par;f=w.pdata;}if(b!=null){v={pdata:b,par:u,pars:r};}else{v={pdata:f,par:u,pars:r};}d[LEAP.formstep.moduleel]=LEAP.loadModule2({path:m,parent:q,moduleLoadArg:v});if(d[LEAP.formstep.moduleel]){d[LEAP.formstep.moduleel].setPageData(b);}LEAP.formstep.bytitle(d,o);}}else{if(a=="formstep_submit"){if(d[LEAP.formstep.moduleel]!=null){var c=d[LEAP.formstep.vs];
if(c){var m=null;var o=null;for(var t=0;t<c.length;t++){if(t==0){m=c[t].mn;}if(c[t].mn==d[LEAP.formstep.moduleel].name){o=t;}}}var x=d[LEAP.formstep.moduleel].getPageData().data;var p=null;if(d[LEAP.formstep.moduleel]){if(d[LEAP.formstep.moduleel].setFormStepData){p=d[LEAP.formstep.moduleel].setFormStepData(x);
}}var l={pdata:x,par:p,pars:r};if(!d[LEAP.formstep.arr]){d[LEAP.formstep.arr]=new hashtable();}if(d[LEAP.formstep.arr].getvalue("step"+(o+1))!=null){d[LEAP.formstep.arr].replace("step"+(o+1),l);}else{d[LEAP.formstep.arr].add("step"+(o+1),l);}}if(d[LEAP.formstep.arr].count>0){d[LEAP.formstep.moduleel].moduleElement.setAttribute("bystep","2");
var s=d.getAttribute("submitfn");if(s!=null){if(d[LEAP.formstep.moduleel][s]){d[LEAP.formstep.moduleel][s]();}else{var n=d[LEAP.formstep.moduleel].innerInfoSubmit();if(n=="1"){if(d[LEAP.formstep.moduleel]!=null){if(d[LEAP.formstep.moduleel].dispose){d[LEAP.formstep.moduleel].dispose();d[LEAP.formstep.moduleel]=null;
}}d[LEAP.formstep.arr]=null;var q=LEAP.getElement("[ctf=formstep_workarea]",d);if(q){var v={pars:r};d[LEAP.formstep.moduleel]=LEAP.loadModule2({path:m,parent:q,moduleLoadArg:v});if(d[LEAP.formstep.moduleel]){d[LEAP.formstep.moduleel].setPageData();}LEAP.formstep.bytitle(d,1);}}}}else{var n=d[LEAP.formstep.moduleel].innerInfoSubmit();
if(n=="1"){if(d[LEAP.formstep.moduleel]!=null){if(d[LEAP.formstep.moduleel].dispose){d[LEAP.formstep.moduleel].dispose();d[LEAP.formstep.moduleel]=null;}}d[LEAP.formstep.arr]=null;var q=LEAP.getElement("[ctf=formstep_workarea]",d);if(q){var v={pars:r};d[LEAP.formstep.moduleel]=LEAP.loadModule2({path:m,parent:q,moduleLoadArg:v});
if(d[LEAP.formstep.moduleel]){d[LEAP.formstep.moduleel].setPageData();}LEAP.formstep.bytitle(d,1);}}}}}}}}};LEAP.formstep.getValue=function(g){g=LEAP._check(g,LEAP.formstep.d);if(!g){return;}if(g[LEAP.formstep.arr]&&g[LEAP.formstep.arr].count>0){var c=g[LEAP.formstep.arr].count;var b=g[LEAP.formstep.arr];
var h={};for(var f=0;f<c;f++){var a=b.getvalue("step"+(f+1)).pdata;for(var e in a){if(h[e]==null){h[e]=a[e];}}}return h;}};LEAP.formstep.getModule=function(a){a=LEAP._check(a,LEAP.formstep.d);if(!a){return;}return a[LEAP.formstep.moduleel];};LEAP.formstep.bytitle=function(d,b){d=LEAP._check(d,LEAP.formstep.d);
if(!d){return;}var h=0;var f=d.getAttribute("showsubmit");var j=d.getAttribute("stepsubmit");h=d[LEAP.formstep.vs].length;var l=LEAP.getElements("[ctf=formstep_title_item]",d);if(l){h=l.length;for(var e=0;e<h;e++){if(b-1==e){if(e==0){LEAP.removeCSS(l[e],"LC_formstep_title_gleftbg",false);LEAP.addCSS(l[e],"LC_formstep_title_bleftbg");
var a=LEAP.getElement("div",l[e]);LEAP.removeCSS(a,"LC_formstep_title_leftnum1",false);LEAP.addCSS(a,"LC_formstep_title_leftnum");}else{if(e==h-1){LEAP.removeCSS(l[e],"LC_formstep_title_grightbg",false);LEAP.addCSS(l[e],"LC_formstep_title_brightbg");var a=LEAP.getElement("div",l[e]);LEAP.removeCSS(a,"LC_formstep_title_rightnum1",false);
LEAP.addCSS(a,"LC_formstep_title_rightnum");}else{LEAP.removeCSS(l[e],"LC_formstep_title_gcenterbg",false);LEAP.addCSS(l[e],"LC_formstep_title_bcenterbg");var a=LEAP.getElement("div",l[e]);LEAP.removeCSS(a,"LC_formstep_title_rightnum1",false);LEAP.addCSS(a,"LC_formstep_title_rightnum");}}}else{if(e==0){LEAP.removeCSS(l[e],"LC_formstep_title_bleftbg",false);
LEAP.addCSS(l[e],"LC_formstep_title_gleftbg");var a=LEAP.getElement("div",l[e]);LEAP.removeCSS(a,"LC_formstep_title_leftnum",false);LEAP.addCSS(a,"LC_formstep_title_leftnum1");}else{if(e==h-1){LEAP.removeCSS(l[e],"LC_formstep_title_brightbg",false);LEAP.addCSS(l[e],"LC_formstep_title_grightbg");var a=LEAP.getElement("div",l[e]);
LEAP.removeCSS(a,"LC_formstep_title_rightnum",false);LEAP.addCSS(a,"LC_formstep_title_rightnum1");}else{LEAP.removeCSS(l[e],"LC_formstep_title_bcenterbg",false);LEAP.addCSS(l[e],"LC_formstep_title_gcenterbg");var a=LEAP.getElement("div",l[e]);LEAP.removeCSS(a,"LC_formstep_title_rightnum",false);LEAP.addCSS(a,"LC_formstep_title_rightnum1");
}}}}}var c=LEAP.getElement("[ctf=formstep_pre]",d);var g=LEAP.getElement("[ctf=formstep_next]",d);var m=LEAP.getElement("[ctf=formstep_submit]",d);if(b==1){LEAP.setStyle(c,{display:"none"});LEAP.setStyle(g,{display:"inline-block"});if(j=="1"){LEAP.setStyle(m,{display:"inline-block"});}else{LEAP.setStyle(m,{display:"none"});
}}else{if(b==h){LEAP.setStyle(c,{display:"inline-block"});LEAP.setStyle(g,{display:"none"});if(f=="1"){LEAP.setStyle(m,{display:"inline-block"});}else{if(j=="1"){LEAP.setStyle(m,{display:"inline-block"});}else{LEAP.setStyle(m,{display:"none"});}}}else{LEAP.setStyle(c,{display:"inline-block"});LEAP.setStyle(g,{display:"inline-block"});
if(j=="1"){LEAP.setStyle(m,{display:"inline-block"});}else{LEAP.setStyle(m,{display:"none"});}}}};LEAP.formstep.init=function(){if(document!=null&&document.body!=null){LEAP.formstep._init();}else{UIEventManager.addEvent(window,"load",LEAP.formstep._init);}}();LEAP.groupcheckbox={};LEAP.groupcheckbox.d="groupcheckbox";
LEAP.groupcheckbox._init=function(){LEAP.addEvent(document.body,"click",LEAP.groupcheckbox.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.groupcheckbox._init);};LEAP.groupcheckbox.setgcValue=function(e,m,h){var c=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){c=true;
}if(String.isEmpty(m)){return;}m=m.toString().split(",");var a=e.getAttribute("gc_group");var n=e.getAttribute("instance");var g=LEAP.getElements("[gc_group="+a+"][instance="+n+"]");for(var f=0;f<m.length;f++){for(var d=0;d<g.length;d++){var o=LEAP.getElement("[ctf=groupcheckbox_input]",g[d]);if(o.value.Trim()==m[f].Trim()){o.checked="true";
o._flag=true;if(c==true){var b=LEAP._match(o,"groupcheckbox_item","ctf",5);var l=LEAP.getElement("[ctf=groupcheckbox_span]",b);LEAP.addCSS(l,"LC_focus_span");LEAP.addCSS(l,"LC_checked_span");}}}d=null;}f=null;if(h=="1"){ElementEventManager.handleEvent(g[0],"valueChange",{src:g[0]});}};LEAP.groupcheckbox.getgcValue=function(e){e=LEAP._check(e,LEAP.groupcheckbox.d);
if(null==e){return null;}var b=e.getAttribute("gc_group");var a=e.getAttribute("instance");var c=LEAP.getElements("[gc_group="+b+"][instance="+a+"]");if(null==c){return;}var g=",";for(var d=0;d<c.length;d++){var f=LEAP.getElement("[ctf=groupcheckbox_input]",c[d]);if(f){if(f._flag==true||f.checked==true){g+=f.value.Trim()+",";
}}}return(","==g)?null:g.substring(1,g.length-1);};LEAP.groupcheckbox.uiProcess=function(e){var g=e.e.srcElement;var c=e.e.type;var w=g.tagName;var a=g.getAttribute(commfields.ctf);var b=LEAP._match(g,LEAP.groupcheckbox.d,"ct",99);if(!b){return;}var m=b.getAttribute("radio");if(c=="click"){if(a=="groupcheckbox_input"||a=="groupcheckbox_label"||a=="groupcheckbox_item"||a=="groupcheckbox_span"){var v=LEAP._match(g,"groupcheckbox_item","ctf",99);
var f=LEAP.getElement("[ctf=groupcheckbox_input]",v);var d=null;var j=null;var n=v.getAttribute("gc_group");var u=v.getAttribute("instance");var o=LEAP.getElements("[gc_group="+n+"][instance="+u+"]");var l=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){l=true;}if(m=="1"){var t=o.length;
for(var s=0;s<t;s++){var h=LEAP.getElement("[ctf=groupcheckbox_input]",o[s]);var p=h.value;if(f.value==p){if(a=="groupcheckbox_label"||a=="groupcheckbox_item"){if(h.checked==true){h.checked="";h._flag=false;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);
LEAP.removeCSS(q,"LC_focus_span",false);LEAP.removeCSS(q,"LC_checked_span",false);}}else{h.checked="true";h._flag=true;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}}else{if(a=="groupcheckbox_input"){if(h.checked==false){h.checked="";
h._flag=false;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("SPAN",r);LEAP.removeCSS(q,"LC_focus_span",false);LEAP.removeCSS(q,"LC_checked_span",false);}}else{h.checked="true";h._flag=true;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);
LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}}else{if(a=="groupcheckbox_span"){if(h._flag==null){h.checked="true";h._flag=true;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");
}}else{if(h._flag==true){h.checked="";h._flag=false;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.removeCSS(q,"LC_focus_span",false);LEAP.removeCSS(q,"LC_checked_span",false);}}else{h.checked="true";h._flag=true;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);
var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}}}}}}else{h.checked="";h._flag=false;if(l==true){var r=LEAP._match(h,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.removeCSS(q,"LC_focus_span",false);
LEAP.removeCSS(q,"LC_checked_span",false);}}}ElementEventManager.handleEvent(o[0],"valueChange",{src:o[0]});}else{if(a=="groupcheckbox_label"||a=="groupcheckbox_item"){if(f.checked==true){f.checked="";f._flag=false;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);
LEAP.removeCSS(q,"LC_focus_span",false);LEAP.removeCSS(q,"LC_checked_span",false);}}else{f.checked="true";f._flag=true;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}}else{if(a=="groupcheckbox_input"){if(f.checked==false){f.checked="";
f._flag=false;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.removeCSS(q,"LC_focus_span",false);LEAP.removeCSS(q,"LC_checked_span",false);}}else{f.checked="true";f._flag=true;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);
var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}}else{if(a=="groupcheckbox_span"){if(f._flag==null){f.checked="true";f._flag=true;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);
LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}else{if(f._flag==true){f.checked="";f._flag=false;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.removeCSS(q,"LC_focus_span",false);LEAP.removeCSS(q,"LC_checked_span",false);
}}else{f.checked="true";f._flag=true;if(l==true){var r=LEAP._match(f,"groupcheckbox_item","ctf",5);var q=LEAP.getElement("[ctf=groupcheckbox_span]",r);LEAP.addCSS(q,"LC_focus_span");LEAP.addCSS(q,"LC_checked_span");}}}}}}ElementEventManager.handleEvent(o[0],"valueChange",{src:o[0]});}}}};LEAP.groupcheckbox.init=function(){if(document!=null&&document.body!=null){LEAP.groupcheckbox._init();
}else{UIEventManager.addEvent(window,"load",LEAP.groupcheckbox._init);}ElementEventManager.addManagedEventType(LEAP.groupcheckbox.d,"valueChange");}();LEAP.guide={};LEAP.guide.template='<div class="LC_guide_indication"></div><div class="LC_guide_pop" style="width:@width"><div class="LC_guide_row LC_guide_content"><div class="LC_guide_col"><img style="vertical-align:middle;" src="@image" alt=""></div><div class="LC_guide_col">@tips</div></div><div class="LC_guide_row LC_guide_footer"><div class="LC_guide_col"><a href="javascript:void(0)" class="LC_guide_link" ctf="LC_guide_iknow">我知道了</a></div></div></div>';
LEAP.guide.tipElement=null;LEAP.guide.array=null;LEAP.guide._init=function(){LEAP.addEvent(document.body,"click",LEAP.guide.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.guide._init);};LEAP.guide.init=function(){if(document!=null&&document.body!=null){LEAP.guide._init();}else{UIEventManager.addEvent(window,"load",LEAP.guide._init);
}}();LEAP.guide.uiProcess=function(b){var h=b.e.srcElement;var d=b.e.type;var a=h.tagName;var g=h.getAttribute(commfields.ctf);var c=false;if(d=="click"){if(g=="LC_guide_iknow"){c=true;}else{var e=LEAP._match(h,"LC_guide_tip","ctf",10);if(e){return;}}if(c==true){var f=LEAP.guide.array;if(f&&f.length>0){f.removeindex(0);
}if(f&&f.length>0){LEAP.guide._showTip();return;}}LEAP.guide.array=null;if(LEAP.guide.tipElement!=null){document.body.removeChild(LEAP.guide.tipElement);LEAP.guide.tipElement=null;}}};LEAP.guide.showTip=function(a){if(!LEAP.guide._check()){LEAP.messagebox.alert("浏览器不支持cookie");return;}if(!a||!a.name||!a.element){return;
}if(LEAP.guide.array==null){LEAP.guide.array=[];}LEAP.guide.array.add(a);LEAP.asyn(LEAP.guide._showTip,LEAP.guide,500);};LEAP.guide.showTips=function(b){if(!LEAP.guide._check()){LEAP.messagebox.alert("浏览器不支持cookie");return;}if(!b||b.length==0){return;}var g=[];for(var f=0;f<b.length;f++){var d=b[f].name;
var e=b[f].element;var a=b[f].tips;if(!d||!e||!a){continue;}var c=LEAP.guide.hasRead(d);if(c){continue;}g.add(b[f]);}LEAP.guide.array=g;LEAP.asyn(LEAP.guide._showTip,LEAP.guide,500);};LEAP.guide._showTip=function(){var e=LEAP.guide.array;if(e==null||e.length==0){return;}var d=e[0];if(!d||!d.name||!d.element){return;
}if(LEAP.guide.tipElement==null){var g=document.createElement("div");g.className="LC_guide LC_guide_bottomleft";g.setAttribute("ctf","LC_guide_tip");LEAP.guide.tipElement=g;document.body.appendChild(LEAP.guide.tipElement);}var c=LEAP.guide.tipElement;var a=LEAP.guide.template.replace("@tips",d.tips);
var f="LEAP/Resource/images/lcimages/LC_guide/tipimage.png";if(d.image!=null){f=d.image;}a=a.replace("@image",leapconfig.server+f);var b="200px";if(d.width){b=d.width+"px";}a=a.replace("@width",b);c.innerHTML=a;LEAP.guide.build(c,d.element);LEAP.guide._setCookie(d.name,d.element);};LEAP.guide.build=function(b,e){if(!e||!b){return;
}var o=LEAP.guide._getTop(e);var c=LEAP.guide._getLeft(e);var f=document.body.offsetHeight;var n=document.body.offsetWidth;var a=b.offsetHeight;var g=b.offsetWidth;var d=e.offsetHeight;var i=e.offsetWidth;var m="bottom";var j="left";if((o+d/2+a)>(0.8*f)){m="top";}if((c+i/2+g)<(0.8*n)){j="right";}if(m=="bottom"&&j=="right"){b.className="LC_guide";
}else{b.className="LC_guide LC_guide_"+m+j;}b.style.top=(o+0.3*d)+"px";b.style.left=(c+0.5*i)+"px";};LEAP.guide.hasRead=function(a){if(!a){return;}var b=LEAP.guide._getCookie(a);if(!b||b!=1){return false;}return true;};LEAP.guide._getCookie=function(b){if(!b){return null;}if(!document[LEAP.safeString.getCK()]){return null;
}var a=document[LEAP.safeString.getCK()];if(a.indexOf(b+"=")<0){return null;}var d=document[LEAP.safeString.getCK()].split(";");var f=null;var e=null;for(var c=0;c<d.length;c++){f=d[c].split("=");if(b==f[0].trim()){e=f[1];break;}}if(e!=null){return e;}return null;};LEAP.guide._setCookie=function(b){if(!b){return;
}var c=new Date();c.setTime(c.getTime()+5*365*24*3600*1000);var a=b+"=1;expires="+c.toGMTString();document[LEAP.safeString.getCK()]=a;};LEAP.guide._check=function(){if(window.navigator&&window.navigator.cookieEnabled){return true;}else{return false;}};LEAP.guide._getTop=function(a){var b=a.offsetTop;
if(a.offsetParent!=null){b+=LEAP.guide._getTop(a.offsetParent);}return b;};LEAP.guide._getLeft=function(a){var b=a.offsetLeft;if(a.offsetParent!=null){b+=LEAP.guide._getLeft(a.offsetParent);}return b;};LEAP.newimgview={};LEAP.newimgview.d="newimgview";LEAP.newimgview.syul='<ul class="LC_imgview_sy" ctf="imgview_sy"><!-- values --></ul>';
LEAP.newimgview.syli='<li class="@class" ctf="imgview_sy_row" ve="@v"><span imgpath="@imgpath" ctfe="imgview_syspan" ve="@v">@sy</span></li>';LEAP.newimgview.syli1='<li ctf="@ctf"><span ctfe="@ctfe">@sy</span></li>';LEAP.newimgview.slimg='<div class="LC_imgview_slimg" ctf="imgview_sl"><span></span><div><img ctfe="imgview_sl_img" src="@src"></div></div>';
LEAP.newimgview.fold='<div title="展开/收起页码" class="LC_imgview_flod LC_imgview_flod_open" ctf="imgview_flod"></div>';LEAP.newimgview.imgmain='<div class="LC_imgview_main" ctf="imgview_main"><div class="LC_imgview_preview" ctf="imgview_preview"></div><ul ctf="imgview_body"><!-- values --></ul><div class="LC_imgview_next" ctf="imgview_next"></div></div>';
LEAP.newimgview.imgli='<li ctf="imgview_row" class="@class" ve="@v"><img src="@src" ctf="imgview_img"></li>';LEAP.newimgview.resizestr='<div class="LC_imgview_cancel" ctf="imgview_cancel"></div><div class="LC_imgview_source" ctf="imgview_source"><div ctf="imgview_source">查看原图</div></div>';LEAP.newimgview.imgclient=new hashtable();
LEAP.newimgview._init=function(){LEAP.addEvent(document.body,"click",LEAP.newimgview.uiProcess,null,null,true);LEAP.addEvent(document.body,"mousedown",LEAP.newimgview.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.newimgview.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.newimgview._init);
};LEAP.newimgview.setValue=function(c,e,l){c=LEAP._check(c,LEAP.newimgview.d);if(!c){return;}if(!e){return;}datas2=LEAP.convertResult(e);if(datas2){c._datas=datas2;var j=new StringBuffer();var a=new StringBuffer();var g=new StringBuffer();var h=datas2.length;if(l){if(!l.path){l.path=l.src.substring(l.src.indexOf("LEAP/"),l.src.length);
}}for(var d=0;d<h;d++){var m=datas2[d];if(!m.path){m.path=datas2[d].src.substring(datas2[d].src.indexOf("LEAP/"),datas2[d].src.length);}var b=null;b=LEAP.newimgview.syli.replaceall("@v",d).replace("@sy",(d+1)).replace("@imgpath",leapconfig.server+"imageview/99_74/"+m.path);var f=null;f=LEAP.newimgview.imgli.replace("@v",d).replace("@src",leapconfig.server+"imageview/600_700/"+m.path);
if(l){if(l.path==m.path){c._index=d;b=b.replace("@class","LC_imgview_active");f=f.replace("@class","LC_imgview_main_active");}else{b=b.replace("@class","");f=f.replace("@class","");}}else{if(d==0){c._index=d;b=b.replace("@class","LC_imgview_active");f=f.replace("@class","LC_imgview_main_active");}else{b=b.replace("@class","");
f=f.replace("@class","");}}a.append(b);g.append(f);}var o=LEAP.newimgview.syul.replace("<!-- values -->",a.toString());j.append(o);j.append(LEAP.newimgview.slimg);j.append(LEAP.newimgview.fold);var n=LEAP.newimgview.imgmain.replace("<!-- values -->",g.toString());j.append(n);j.append(LEAP.newimgview.resizestr);
c.innerHTML=j.toString();LEAP.newimgview.pageFz(c);}};LEAP.newimgview.pageFz=function(e){var a=document.createElement("div");LEAP.addCSS(a,"LC_hide");a.innerHTML=LEAP.newimgview.syli1.replace("@ctf","imgview_sy_row_left").replace("@ctfe","imgview_sy_row_left").replace("@sy","...");var c=a.children[0];
var q=c.cloneNode(true);var m=e._dlen;var l=e._index;var r=e.clientWidth;var n=LEAP.getElement("[ctf=imgview_sy]",e);var s=LEAP.getElements("[ctf=imgview_sy_row]",n);LEAP.setStyle(s,{display:""});var j=LEAP.getElement("[ctf=imgview_sy_row_left]",e);var b=LEAP.getElement("[ctf=imgview_sy_row_right]",e);
if(j){n.removeChild(j);}if(b){n.removeChild(b);}var p=LEAP.getElement("[ctf=imgview_flod]",e);if(p.className.indexOf("LC_imgview_flod_open")>-1){if(m>7){if(p){LEAP.setStyle(p,{display:""});}if(l>2&&l<=m-4){for(var d=1;d<l-1;d++){LEAP.setStyle(s[d],{display:"none"});}for(var d=l+2;d<m-1;d++){LEAP.setStyle(s[d],{display:"none"});
}n.insertBefore(q,s[l-1]);var h=c.cloneNode(true);h.setAttribute("ctf","imgview_sy_row_right");h.children[0].setAttribute("ctfe","imgview_sy_row_right");n.insertBefore(h,s[m-1]);}else{if(l>=m-3){for(var d=1;d<m-5;d++){LEAP.setStyle(s[d],{display:"none"});}n.insertBefore(q,s[m-5]);}else{for(var d=5;d<m-1;
d++){LEAP.setStyle(s[d],{display:"none"});}q.setAttribute("ctf","imgview_sy_row_right");q.children[0].setAttribute("ctfe","imgview_sy_row_right");n.insertBefore(q,s[m-1]);}}}else{if(p){LEAP.setStyle(p,{display:"none"});}}}else{var o=m*29+39;if(o>r-10){var g=(r-39)/29;g=parseInt(g);if(m>g){if(l<g-3){for(var d=g-2;
d<m-1;d++){LEAP.setStyle(s[d],{display:"none"});}q.setAttribute("ctf","imgview_sy_row_right");q.children[0].setAttribute("ctfe","imgview_sy_row_right");n.insertBefore(q,s[m-1]);}else{for(var d=1;d<(m-1)-(g-3);d++){LEAP.setStyle(s[d],{display:"none"});}n.insertBefore(q,s[(m-1)-(g-3)]);}var f=(g)*29;LEAP.setStyle(n,{width:f+"px"});
}}else{var f=m*29;LEAP.setStyle(n,{width:f+"px"});}}};LEAP.newimgview.controlout=function(b){var h=b.e.srcElement;var d=b.e.type;var a=h.tagName;var g=h.getAttribute(commfields.ctf);var c=LEAP._match(h,LEAP.newimgview.d,"ct",99);if(!c){return;}var f=LEAP.getElement("[ctf=imgview_preview]",c);var e=LEAP.getElement("[ctf=imgview_next]",c);
if(f.className.indexOf("LC_imgview_show")!=-1){LEAP.removeCSS(f,"LC_imgview_show",false);LEAP.removeCSS(e,"LC_imgview_show",false);}};LEAP.newimgview.resize=function(){var i=LEAP.getElement("[ct=newimgview]");if(!i){i=LEAP._check(i,LEAP.newimgview.d);}if(!i){return;}var d=LEAP.getElement("[ctf=imgview_main]",i);
if(!d){return;}var o=d.clientWidth;var j=d.clientHeight;var n=LEAP.getElement("[ctf=imgview_flod]",i);if(n.className.indexOf("LC_imgview_flod_close")>-1){LEAP.newimgview.pageFz(i);}var g=LEAP.getElement("[ctf=imgview_body]",i);if(g){var p=LEAP.getElements("[ctf=imgview_row]",g);LEAP.setStyle(p,{lineHeight:j+"px"});
if(i._index!=null){var a=LEAP.getElement("[ctf=imgview_img]",g.children[i._index]);if(a){if(LEAP.newimgview.imgclient){var b=LEAP.newimgview.imgclient.getvalue(i._index);if(b){var f=b.w;var q=b.h;var e=f/o;var c=q/j;var l=0;var m=0;if(c>=1){l=j*0.9;}else{l=j*c;}if(e>=1){m=o*0.9;}else{m=o*e;}LEAP.setStyle(a,{width:m+"px",height:l+"px"});
}}}}}};LEAP.newimgview.gotolist=function(b){b=LEAP._check(b,LEAP.newimgview.d);if(!b){return;}var p=LEAP.getElement("[ctf=imgview_sy]",b);if(p){var f=b._index;var a=LEAP.getElements("[ctf=imgview_sy_row]",p);LEAP.removeCSS(a,"LC_imgview_active",true);LEAP.addCSS(a[f],"LC_imgview_active");var o=LEAP.getElement("[ctf=imgview_flod]",b);
LEAP.newimgview.pageFz(b);var j=LEAP.getElement("[ctf=imgview_body]",b);if(j){LEAP.removeCSS(j.children,"LC_imgview_main_active",true);LEAP.addCSS(j.children[f],"LC_imgview_main_active");var g=LEAP.getElement("[ctf=imgview_main]",b);var i=g.clientWidth;var q=g.clientHeight;var s=LEAP.getElement("[ctf=imgview_img]",j.children[f]);
if(s){var u=null;if(LEAP.newimgview.imgclient==null){LEAP.newimgview.imgclient=new hashtable();}if(LEAP.newimgview.imgclient!=null){if(!LEAP.newimgview.imgclient.contains(f)){var r={};r.w=s.clientWidth;r.h=s.clientHeight;LEAP.newimgview.imgclient.add(f,r);u=r;}else{u=LEAP.newimgview.imgclient.getvalue(f);
}if(u){var e=u.w;var l=u.h;var c=e/i;var t=l/q;var m=0;var n=0;if(t>=1){m=q*0.9;}else{m=q*t;}if(c>=1){n=i*0.9;}else{n=i*c;}LEAP.setStyle(s,{width:n+"px",height:m+"px"});}}}}}};LEAP.newimgview.uiProcess=function(B){var v=B.e.srcElement;var R=B.e;var V=B.e.type;var A=v.getAttribute("ct");var F=v.getAttribute("ctf");
var P=v.getAttribute("ctfe");var o=LEAP._match(v,LEAP.newimgview.d,"ct",99);if(!o){return;}if(V=="click"){if(P=="imgview_syspan"){var l=LEAP._match(v,"imgview_sy","ctf",5);if(l){var f=LEAP.getElements("[ctf=imgview_sy_row]",l);LEAP.removeCSS(f,"LC_imgview_active",true);var U=LEAP._match(v,"imgview_sy_row","ctf",5);
LEAP.addCSS(U,"LC_imgview_active");var i=LEAP.getElement("[ctf=imgview_body]",o);if(i){var G=LEAP.tonum(v.getAttribute("ve"));o._index=G;var N=LEAP.getElement("[ctf=imgview_flod]",o);LEAP.newimgview.pageFz(o);LEAP.removeCSS(i.children,"LC_imgview_main_active",true);LEAP.addCSS(i.children[G],"LC_imgview_main_active");
var O=LEAP.getElement("[ctf=imgview_main]",o);var L=O.clientWidth;var Q=O.clientHeight;var H=LEAP.getElement("[ctf=imgview_img]",i.children[G]);if(H){var q=null;if(!LEAP.newimgview.imgclient.contains(G)){var T={};T.w=H.clientWidth;T.h=H.clientHeight;LEAP.newimgview.imgclient.add(G,T);q=T;}else{q=LEAP.newimgview.imgclient.getvalue(G);
}var C=q.w;var I=q.h;var j=C/L;var a=I/Q;var m=0;var n=0;if(a>=1){m=Q*0.9;}else{m=Q*a;}if(j>=1){n=L*0.9;}else{n=L*j;}LEAP.setStyle(H,{width:n+"px",height:m+"px"});}}}}else{if(F=="imgview_cancel"){LEAP.newimgview.hide(o);}else{if(F=="imgview_preview"||F=="imgview_next"){if(F=="imgview_preview"){if(o._index==0){o._index=o._dlen-1;
}else{o._index=o._index-1;}}else{if(F=="imgview_next"){if(o._index==o._dlen-1){o._index=0;}else{o._index=o._index+1;}}}LEAP.newimgview.gotolist(o);}else{if(F=="imgview_source"){var G=o._index;var g=o._datas;if(g){var S=g[G];window.open(leapconfig.server+S.path);}}else{if(P=="imgview_sy_row_right"||P=="imgview_sy_row_left"){var l=LEAP.getElement("[ctf=imgview_sy]",o);
var N=LEAP.getElement("[ctf=imgview_flod]",o);if(N.className.indexOf("LC_imgview_flod_close")==-1){var s=o._dlen;var L=s*29;LEAP.setStyle(l,{width:L+"px"});if(N){LEAP.removeCSS(N,"LC_imgview_flod_open",false);LEAP.addCSS(N,"LC_imgview_flod_close");}LEAP.newimgview.pageFz(o);}}else{if(F=="imgview_flod"){var N=LEAP.getElement("[ctf=imgview_flod]",o);
if(N){if(N.className.indexOf("LC_imgview_flod_open")>-1){LEAP.removeCSS(N,"LC_imgview_flod_open",false);LEAP.addCSS(N,"LC_imgview_flod_close");var l=LEAP.getElement("[ctf=imgview_sy]",o);var s=o._dlen;var L=s*29;LEAP.setStyle(l,{width:L+"px"});LEAP.newimgview.pageFz(o);}else{LEAP.removeCSS(N,"LC_imgview_flod_close",false);
LEAP.addCSS(N,"LC_imgview_flod_open");var l=LEAP.getElement("[ctf=imgview_sy]",o);LEAP.setStyle(l,{width:"203px"});LEAP.newimgview.pageFz(o);}}}}}}}}}if(V=="mousedown"&&(A=="imgview"||F=="imgview_body"||F=="imgview_row"||F=="imgview_img")){o.x=R.clientX-o.offsetLeft;o.y=R.clientY-o.offsetTop;LEAP.addEvent(document.body,"mousemove",LEAP.newimgview.uiProcess,null,null,true);
LEAP.addEvent(document.body,"mouseup",LEAP.newimgview.uiProcess,null,null,true);LEAP.newimgview.objDiv=o;}if(V=="mousemove"&&LEAP.newimgview.objDiv!=null){if(LEAP.newimgview.objDiv==null){return;}var t=LEAP.getAbsolutePos(LEAP.newimgview.objDiv);var K=R.clientX-LEAP.newimgview.objDiv.x;var J=R.clientY-LEAP.newimgview.objDiv.y;
if(K<0){K=0;}if(J<0){J=0;}if(K==0||J==0){LEAP.stopEvent(R);return false;}var L=LEAP.newimgview.objDiv.clientWidth+17.5;var Q=LEAP.newimgview.objDiv.clientHeight;var z=document.body.clientWidth;var E=document.body.clientHeight;if(z>0&&L+K>z){K=z-L;}if(E>0&&Q+J>E){J=E-Q;}if((z>0&&L+K>z)||(E>0&&Q+J>E)){LEAP.stopEvent(R);
return false;}LEAP.setStyle(LEAP.newimgview.objDiv,{left:K+"px",top:J+"px"});LEAP.stopEvent(R);return false;}if(V=="mouseup"&&LEAP.newimgview.objDiv!=null){LEAP.removeEvent(document.body,"mousemove",LEAP.newimgview.uiProcess,true);LEAP.removeEvent(document.body,"mouseup",LEAP.newimgview.uiProcess,true);
LEAP.stopEvent(R);LEAP.newimgview.objDiv=null;return false;}if(V=="mouseover"){if(A=="imgview"||F=="imgview_body"||F=="imgview_row"||F=="imgview_img"){var W=LEAP.getElement("[ctf=imgview_preview]",o);var M=LEAP.getElement("[ctf=imgview_next]",o);if(W.className.indexOf("LC_imgview_show")==-1){LEAP.addCSS(W,"LC_imgview_show");
LEAP.addCSS(M,"LC_imgview_show");}}else{if(P=="imgview_syspan"){var l=LEAP.getElement("[ctf=imgview_sy]",o);if(l){var c=v.getAttribute("imgpath");var u=v.getAttribute("ve");if(c!=null&&c!=""){var G=LEAP.tonum(u);var p=LEAP.getElement("[ctf=imgview_sl]",o);var r=LEAP.getElement("[ctfe=imgview_sl_img]",p);
r.setAttribute("src",c);var D=LEAP.getAbsolutePos(v);var b=LEAP.getAbsolutePos(o);var K=D.x-b.x;K=K+(v.clientWidth/2)-5.5;var L=K-51-3;LEAP.addCSS(p,"LC_imgview_show");if(G==0||G==1){LEAP.setStyle(p,{left:"0px"});LEAP.setStyle(p.children[0],{left:K+"px"});}else{LEAP.setStyle(p,{left:L+"px"});LEAP.setStyle(p.children[0],{left:"50%"});
}}}}}}};LEAP.newimgview.show=function(e,b,f){e=LEAP._check(e,LEAP.newimgview.d);if(!e){return;}if(b!=null){if(!LEAP.isArray(b)){var a=LEAP.getElements("[ctfi=show_img]",b);if(a){b=a;}}if(!e._dlen){e._index=null;LEAP.newimgview.imgclient=null;e._dlen=b.length;LEAP.newimgview.setValue(e,b,f);e._value=f;
e._flag=false;}else{if(e._dlen!=b.length){e._index=null;LEAP.newimgview.imgclient=null;e._dlen=b.length;LEAP.newimgview.setValue(e,b,f);e._value=f;e._flag=false;}else{if(e._dlen==b.length){var c=false;for(var d=0;d<b.length;d++){if(!b[d].path){if(b[d].src!=e._datas[d].src){c=true;break;}}else{if(b[d].path!=e._datas[d].path){c=true;
break;}}}if(c==true){e._index=null;LEAP.newimgview.imgclient=null;e._dlen=b.length;LEAP.newimgview.setValue(e,b,f);e._value=f;e._flag=false;}}}}if(f!=null){for(var d=0;d<b.length;d++){if(f.path){if(f.path==b[d].path){e._index=d;break;}}else{if(f.src==b[d].src){e._index=d;break;}}}}}LEAP.addCSS(e,"LC_imgview_show");
LEAP.newimgview.gotolist(e);if(!e._flag){LEAP.addEvent(e,"mouseleave",LEAP.newimgview.controlout,null,null,true);LEAP.addEvent(LEAP.getElement("[ctf=imgview_sy]",e),"mouseleave",LEAP.newimgview.imgviewsyout,null,null,true);e._flag=true;}};LEAP.newimgview.hide=function(a){LEAP.removeCSS(a,"LC_imgview_show",false);
};LEAP.newimgview.imgviewsyout=function(b){var g=b.e.srcElement;var d=b.e.type;var a=g.tagName;var f=g.getAttribute(commfields.ctf);var c=LEAP._match(g,LEAP.newimgview.d,"ct",99);if(!c){return;}var e=LEAP.getElement("[ctf=imgview_sl]",c);LEAP.removeCSS(e,"LC_imgview_show",false);};LEAP.newimgview.init=function(){if(document!=null&&document.body!=null){LEAP.newimgview._init();
}else{UIEventManager.addEvent(window,"load",LEAP.newimgview._init);}}();LEAP.input3={};LEAP.input3.onblur=function(d){try{if(String.isEmpty(d.value)){var b=d.parentElement;if(b.className.indexOf("LC_input_placeholder")>-1){var a=LEAP.getElement("label",b);a.style.display="block";LEAP.removeCSS(b,"LC_input_placeholder2focus");
b=null;}else{var c=d.parentElement.parentElement.parentElement;LEAP.removeCSS(c,"LC_input_placeholder2focus");c=null;}}else{var b=d.parentElement;if(b.className.indexOf("LC_input_placeholder")>-1){var a=LEAP.getElement("label",b);a.style.display="none";}}}finally{d=null;}};LEAP.input3.onfocus=function(d){try{var b=d.parentElement;
if(b.className.indexOf("LC_input_placeholder")>-1){if(!LEAP.hasCSS(b,"LC_input_placeholder2focus")){LEAP.addCSS(b,"LC_input_placeholder2focus");}var a=LEAP.getElement("label",b);a.style.display="none";b=null;}else{var c=d.parentElement.parentElement.parentElement;if(!LEAP.hasCSS(c,"LC_input_placeholder2focus")){LEAP.addCSS(c,"LC_input_placeholder2focus");
}c=null;}}finally{d=null;}};LEAP.input3.onsetValue=function(e){var c=LEAP.getLoadedModule(e.getAttribute(commfields.instance));var d=e.parentElement.parentElement.parentElement;if(String.isEmpty(e.value)){LEAP.removeCSS(d,"LC_input_placeholder2focus");if(c!=null){if(c.pageMode=="view"){var b=e.parentElement;
if(b.className.indexOf("LC_input_placeholder")>-1){var a=LEAP.getElement("label",b);a.style.display="none";}}}}else{if(!String.isEmpty(e.value)){var b=e.parentElement;if(b.className.indexOf("LC_input_placeholder")>-1){var a=LEAP.getElement("label",b);a.style.display="none";}}}e=null;};LEAP.item={};LEAP.item.d="item";
LEAP.item.b="_index";LEAP.item.c="_count";LEAP.item.dt="_data";LEAP.item.listr='<li ctf="item_row" title="@title"><font ctf="item_title" title="@title">@text</font><input class="LC_button_img LC_button_img_red_cancel" type="button" ctfe="item_chick" title="移除"/>@config</li>';LEAP.item.configstr='<input class="LC_button_img LC_button_img_red_config" ctf="item_config" type="button" title="配置"/>';
LEAP.item._init=function(){LEAP.addEvent(document.body,"click",LEAP.item.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.item._init);};LEAP.item.setReadOnly=function(a,b){a=LEAP._check(a,LEAP.item.d);if(null==a){return;}if(b){a.setAttribute("readonly","1");}else{a.setAttribute("readonly","0");
}};LEAP.item.setValue=function(d,f,b,e){try{d=LEAP._check(d,LEAP.item.d);if(null==d){return;}LEAP.item.clearItem(d);if(!f){if(e==true){ElementEventManager.handleEvent(d,"valueChange",{element:d});}return;}var a=LEAP.convertResult(f);if(a){for(var c=0;c<a.length;c++){LEAP.item.addItem(d,a[c],b);}}if(e==true){ElementEventManager.handleEvent(d,"valueChange",{element:d});
}}finally{d=f=b=null;}};LEAP.item.addItem=function(b,A,e,u,j,q,c){b=LEAP._check(b,LEAP.item.d);if(null==b){return;}if(!A){return;}var s=b.getAttribute("isdrag");var m=b.getAttribute("readonly");var l=b.getAttribute("iscfig");var i=b.getAttribute("libgc");var a=b.getAttribute("licolor");var p=b.getAttribute("configimg");
if(!b[LEAP.item.dt]){b[LEAP.item.dt]=new Array();}b[LEAP.item.dt].add(A);if(!b[LEAP.item.c]){b[LEAP.item.c]="0";}else{b[LEAP.item.c]=(LEAP.tonum(b[LEAP.item.c])+1)+"";}var B="";if(!e){var r=JSON.stringify(A);r=r.replaceall('"',"");r=r.substring(1,r.length);r=r.substring(0,r.length-1);var g=r.split(",");
if(g&&g.length>0){for(var f=0;f<g.length;f++){var z=g[f].split(":");if(z[0]=="name"){B=g[f].split(":")[1];}}}}else{B=A[e];}var x=null;if(l=="1"){x=LEAP.item.configstr;}else{x="";}var t=LEAP.item.listr.replace("@text",B).replaceall("@title",B).replace("@config",x);var o=document.createElement("div");o.innerHTML=t;
var n=o.children[0];if(n){var h=n.cloneNode(true);var v=LEAP.getElement("[ctfe=item_chick]",h);if(v){if(m=="1"){v.style.display="none";}else{if(m=="0"){v.style.display="";}}}h[LEAP.item.dt]=A;h[LEAP.item.b]=LEAP.tonum(b[LEAP.item.c]);if(u!=null){LEAP.setStyle(LEAP.getElement("[ctf=item_title]",h),{backgroundColor:u});
}if(j!=null){LEAP.setStyle(h,{width:j+"px"});if(l=="1"){var d=LEAP.getElement("[ctf=item_title]",h);var y=LEAP.getElement("[ctf=item_config]",h);LEAP.setStyle(d,{width:(LEAP.tonum(j)-30)+"px",paddingRight:"0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"});LEAP.setStyle(y,{marginRight:"2px",marginTop:"5px"});
}}if(i!=null){LEAP.setStyle(h,{backgroundColor:i,border:"none",color:a});}if(p!=null){var y=LEAP.getElement("[ctf=item_config]",h);LEAP.removeCSS(y,"LC_button_img_red_config",false);LEAP.addCSS(y,p);}if(q==false){var y=LEAP.getElement("[ctf=item_config]",h);LEAP.setStyle(y,{display:"none"});}if(s=="1"){LEAP.setStyle(h,{cursor:"pointer"});
}b.appendChild(h);if(c==true){ElementEventManager.handleEvent(b,"valueChange",{element:b});}return h;}};LEAP.item.uiProcess=function(h){var a=h.e.srcElement;var e=h.e.type;var j=a.tagName;var f=a.getAttribute(commfields.ctf);var d=a.getAttribute("ctfe");var b=LEAP._match(a,LEAP.item.d,"ct",99);if(!b){return;
}if(e=="click"){var c=b.getAttribute("readonly");if(c=="1"||c=="true"){return;}if(f=="item_row"||f=="item_title"){var g=LEAP._match(a,"item_row","ctf",99);if(!g){g=a;}b._clickindex=g[LEAP.item.b];if(g){if(LEAP.getElement("[ctf=item_config]",g)){ElementEventManager.handleEvent(b,"itemclick",{element:b,index:g[LEAP.item.b],data:g[LEAP.item.dt],eli:g});
}else{if(LEAP.getElement("[ctfe=item_chick]",g)){var i=LEAP._match(a,"item_row","ctf",99);LEAP.item.removeItem(b,i[LEAP.item.b],true,true);}}}}else{if(d=="item_chick"){var i=LEAP._match(a,"item_row","ctf",99);LEAP.item.removeItem(b,i[LEAP.item.b],true,true);}else{if(f=="item_config"){var g=LEAP._match(a,"item_row","ctf",99);
if(!g){g=a;}b._clickindex=g[LEAP.item.b];if(g){ElementEventManager.handleEvent(b,"itemclick",{element:b,index:g[LEAP.item.b],data:g[LEAP.item.dt],eli:g});}}}}}};LEAP.item.updateItem=function(d,g,c,a,e){d=LEAP._check(d,LEAP.item.d);if(null==d){return;}var b=LEAP.getElements("[ctf=item_row]",d);if(b){var f=LEAP.getElement("[ctf=item_title]",b[c]);
if(a){f.innerHTML=g[a];}b[c][LEAP.item.dt]=g;d[LEAP.item.dt][c]=g;}if(e==true){ElementEventManager.handleEvent(d,"valueChange",{element:d,index:c,data:g});}};LEAP.item.getValue=function(a){try{a=LEAP._check(a,LEAP.item.d);if(null==a){return;}return a[LEAP.item.dt];}finally{a=null;}};LEAP.item.getItem=function(b){b=LEAP._check(b,LEAP.item.d);
if(null==b){return;}var a=LEAP.getElement("[ctf=item_row]",b);if(a){return a[b._clickindex];}return null;};LEAP.item.removeItem=function(d,h,b,f){try{d=LEAP._check(d,LEAP.item.d);if(null==d){return;}if(d[LEAP.item.c]!="0"){d[LEAP.item.c]=(LEAP.tonum(d[LEAP.item.c])-1)+"";}else{if(d[LEAP.item.c]=="0"){d[LEAP.item.c]=null;
}}var j=LEAP.getElements("[ctf=item_row]",d);var a=j;var e=j.length;if(e==1){d[LEAP.item.dt]=null;}else{d[LEAP.item.dt].removeindex(h);}var g=j[h];d.removeChild(g);if(b!=false){ElementEventManager.handleEvent(d,"removeItem",{element:d,itemelement:g,index:h,data:g[LEAP.item.dt]});}if((e-1)>h){for(var c=h;
c<e;c++){a[c][LEAP.item.b]=a[c][LEAP.item.b]-1;}}if(f==true){ElementEventManager.handleEvent(d,"valueChange",{element:d});}}finally{d=h=null;}};LEAP.item.removeItemById=function(f,e,h,b,g){f=LEAP._check(f,LEAP.item.d);if(null==f){return;}var a=f[LEAP.item.dt];if(a!=null){var c=-1;for(var d=0;d<a.length;
d++){if(a[d][e]==h){c=d;break;}}if(c!=-1){LEAP.item.removeItem(f,c,b,g);}}};LEAP.item.clearItem=function(b,c){try{b=LEAP._check(b,LEAP.item.d);if(null==b){return;}b[LEAP.item.c]=null;b[LEAP.item.dt]=null;var a=LEAP.getElements("[ctf=item_row]",b);LEAP.removeElement(a,true);if(c==true){ElementEventManager.handleEvent(b,"valueChange",{element:b});
}}finally{b=null;}};LEAP.item.init=function(){if(document!=null&&document.body!=null){LEAP.item._init();}else{UIEventManager.addEvent(window,"load",LEAP.item._init);}ElementEventManager.addManagedEventType(LEAP.item.d,"removeItem");ElementEventManager.addManagedEventType(LEAP.item.d,"itemclick");ElementEventManager.addManagedEventType(LEAP.item.d,"valueChange");
}();LEAP.linkiframe={};LEAP.linkiframe.d="linkiframe";LEAP.linkiframe._init=function(){UIEventManager.removeEvent(window,"load",LEAP.linkiframe._init);};LEAP.linkiframe.init=function(){if(document!=null&&document.body!=null){LEAP.linkiframe._init();}else{UIEventManager.addEvent(window,"load",LEAP.linkiframe._init);
}}();LEAP.linkiframe.i=function(e,f){if(!f){if(!event){return;}f=event.srcElement;}if(!f){return;}if(e!=null){var b=function(){LEAP.linkiframe.i(null,f);f=null;};setTimeout(b,e);return;}var a=f.parentElement;if(!a){return;}a=LEAP._check(a,LEAP.linkiframe.d);if(a==null){return;}var c=a.getAttribute("linkurl");
var d=a.getAttribute("linkpar");LEAP.linkiframe.build(a,c,d);};LEAP.linkiframe.build=function(e,j,a){if(!e||!j){return;}var b=window.location.href;if(b&&b.indexOf("?")>0){var m=b.substring(b.indexOf("?")+1);var d=m.split("&");if(d.length==0){return;}var n=null;for(var f=0;f<d.length;f++){var h=d[f].split("=");
if(!h||h.length!=2){continue;}if(h[0]=="openid"){n=h[1];break;}}var l=null;if(n!=null){var c=j.indexOf("?")<0?"?":"&";j=j+c+"openid="+n;l=LEAP.request("DI_getAuthticket",{bean:{TARGET_SERVICEURL:j}});}if(l){j=j+"&ticket="+l;}}var g="<iframe src="+j+' style="width:100%;height:100%" frameborder="0" scrolling="no"></iframe>';
e.innerHTML=g;};LEAP.mcselect={};LEAP.mcselect.d="mcselect";LEAP.onoff={};LEAP.onoff.d="onoff";LEAP.onoff.selectvalue="_selectv";LEAP.onoff.selecttext="_selectt";LEAP.onoff.contentstr='<div class="onoff_text" ctf="onoff_text">@text</div><div class="onoff_config" datav="@datav" datai="@datai" ctf="onoff_data"></div>';
LEAP.onoff._init=function(){LEAP.addEvent(document.body,"click",LEAP.onoff.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.onoff._init);};LEAP.onoff.initControl=function(g,a){if(!a){if(!event){return;}a=event.srcElement;}if(!a){return;}if(g!=null){var m=function(){LEAP.onoff.initControl(null,a);
a=null;};setTimeout(m,g);return;}var f=a.parentElement;if(f){var b=f.clientWidth;var p=f.clientHeight;var j=LEAP.onoff.getDef(f);var o=null;if(!String.isEmpty(j.code)){o=LEAP.getCodeValue(j.code,null);}else{if(!String.isEmpty(j.values)){o=JSON.parse(j.values);}}var n=j.dvalue;var h=0;if(!String.isEmpty(n)){var e=null;
for(var d=0;d<o.length;d++){if(n==o[d].codeid){h=d;e=o[d];break;}}if(e!=null){text=e.codevalue;n=e.codeid;}else{text=o[0].codevalue;n=o[0].codeid;}}else{text=o[0].codevalue;n=o[0].codeid;}var l=LEAP.onoff.contentstr;l=l.replace("@text",text).replace("@datav",n).replace("@datai",h);var c=document.createElement("div");
c.innerHTML=l;f.appendChild(c.children[0]);f.appendChild(c.children[0]);f[LEAP.onoff.selectvalue]=n;f[LEAP.onoff.selecttext]=text;LEAP.onoff.setElementSize(f);LEAP.onoff.setDataType(f);f._loadtype=true;}};LEAP.onoff.setElementSize=function(d){d=LEAP._check(d,LEAP.onoff.d);if(null==d){return;}var e=d.clientWidth;
var a=d.clientHeight;if(e==0&&a==0){LEAP.asyn(LEAP.onoff.setElementSize,null,10,d);return;}var f=LEAP.onoff.getDef(d);LEAP.setStyle(d,{borderRadius:a+"px",width:e+"px",height:a+"px"});if(!String.isEmpty(f.bgcolor)){LEAP.setStyle(d,{backgroundColor:f.bgcolor});}var b=LEAP.getElement("[ctf=onoff_data]",d);
LEAP.setStyle(b,{width:(a-2)+"px",height:(a-2)+"px"});if(!String.isEmpty(f.btncolor)){LEAP.setStyle(b,{backgroundColor:f.btncolor});}var c=LEAP.getElement("[ctf=onoff_text]",d);LEAP.setStyle(c,{width:(e-(a-2))+"px",height:a+"px",lineHeight:a+"px"});if(!String.isEmpty(f.fontcolor)){LEAP.setStyle(c,{color:f.fontcolor});
}if(!String.isEmpty(f.fontsize)){LEAP.setStyle(c,{fontSize:f.fontsize});}};LEAP.onoff.setValue=function(c,g){c=LEAP._check(c,LEAP.onoff.d);if(null==c){return;}if(c._loadtype!=true){LEAP.asyn(LEAP.onoff.setValue,null,10,c,g);return;}var e=LEAP.onoff.getDef(c);var h=null;if(!String.isEmpty(e.code)){h=LEAP.getCodeValue(e.code,null);
}else{if(!String.isEmpty(e.values)){h=JSON.parse(e.values);}}if(h!=null){var j=null;var f=0;if(!String.isEmpty(g)){var b=null;for(var d=0;d<h.length;d++){if(g==h[d].codeid){f=d;b=h[d];break;}}if(b!=null){j=b.codevalue;g=b.codeid;}else{j=h[0].codevalue;g=h[0].codeid;}}else{g=h[0].codeid;j=h[0].codevalue;
}c[LEAP.onoff.selectvalue]=g;c[LEAP.onoff.selecttext]=j;var l=LEAP.getElement("[ctf=onoff_data]",c);if(l){l.setAttribute("datai",f);l.setAttribute("datav",g);}var a=LEAP.getElement("[ctf=onoff_text]",c);if(a){a.innerHTML=j;}LEAP.onoff.setDataType(c);}};LEAP.onoff.setDataType=function(c){c=LEAP._check(c,LEAP.onoff.d);
if(null==c){return;}var e=LEAP.onoff.getDef(c);var a=LEAP.getElement("[ctf=onoff_data]",c);var b=LEAP.getElement("[ctf=onoff_text]",c);var d=a.getAttribute("datai");if(d=="0"){LEAP.setStyle(b,{right:"0px"});b.style.left="";a.style.left="1px";a.style.right="";if(!String.isEmpty(e.bgcolor)){LEAP.setStyle(c,{backgroundColor:e.bgcolor});
}else{LEAP.setStyle(c,{backgroundColor:"#3d9ff1"});}}else{if(d=="1"){LEAP.setStyle(b,{left:"0px"});b.style.right="";a.style.left="";a.style.right="1px";LEAP.setStyle(c,{backgroundColor:"#c3c6c9"});}}};LEAP.onoff.getValue=function(a){a=LEAP._check(a,LEAP.onoff.d);if(null==a){return;}return a[LEAP.onoff.selectvalue];
};LEAP.onoff.getText=function(a){a=LEAP._check(a,LEAP.onoff.d);if(null==a){return;}return a[LEAP.onoff.selecttext];};LEAP.onoff.uiProcess=function(r){var b=r.e.srcElement;var l=r.e;var m=r.e.type;var s=b.tagName;var g=LEAP._match(b,LEAP.onoff.d,"ct",99);if(!g){return;}var n=b.getAttribute("ctf");if(m=="click"&&n=="onoff_data"){var j=LEAP.onoff.getDef(g);
var o=null;if(!String.isEmpty(j.code)){o=LEAP.getCodeValue(j.code,null);}else{if(!String.isEmpty(j.values)){o=JSON.parse(j.values);}}if(o!=null){var f=null;var h=0;var a=g[LEAP.onoff.selectvalue];for(var d=0;d<o.length;d++){if(a!=o[d].codeid){h=d;f=o[d];}}var p=a;var q=LEAP.getElement("[ctf=onoff_data]",g);
q.setAttribute("datai",h);q.setAttribute("datav",f.codeid);g[LEAP.onoff.selectvalue]=f.codeid;g[LEAP.onoff.selecttext]=f.codevalue;var c=LEAP.getElement("[ctf=onoff_text]",g);c.innerHTML=f.codevalue;LEAP.onoff.setDataType(g);ElementEventManager.handleEvent(g,"valueChange",{data:f,pv:p,lv:f.codeid});}}};
LEAP.onoff.getDef=function(a){a=LEAP._check(a,LEAP.onoff.d);if(null==a){return;}var b={};b.bgcolor=a.getAttribute("bgcolor");b.btncolor=a.getAttribute("btncolor");b.code=a.getAttribute("code");b.values=a.getAttribute("values");b.fontcolor=a.getAttribute("fontcolor");b.fontsize=a.getAttribute("fontsize");
b.dvalue=a.getAttribute("dvalue");return b;};LEAP.onoff.init=function(){if(document!=null&&document.body!=null){LEAP.onoff._init();}else{UIEventManager.addEvent(window,"load",LEAP.onoff._init);}ElementEventManager.addManagedEventType(LEAP.onoff.d,"valueChange");}();var index32=function(){this.mainmenuli='<li class="LC2_menu_item" flag="1"  ptitlename="@ptitle" resid="@mid" expendtreenode="@expendtree" ctf="menuitem"><a class="LC2_menu_handle" ptitlename="@ptitle" isfirstmenu="1" controltype="1" restype="@restype" imageback="1" resid="@mid"><span class="LC2_menu_icon" restype="@restype"  ptitlename="@ptitle" controltype="1" resid="@mid"><span class="LC2_icon LC2_icon_light"></span></span><span class="LC2_menu_label" restype="@restype" ptitlename="@ptitle" controltype="1" resid="@mid">@showname</span><span class="LC2_menu_badge" controltype="1"></span><span class="LC2_menu_arrow" controltype="1">@arrow</span></a></li>';
this.arrowstr='<span class="LC2_icon LC2_icon_arrow-down" controltype="1"></span>';this.selectmenu='<div class="LC_areaselect LC_menu_select index_select" ct="select2" btfns="getchild=getChildData"  md="aa" mainid="@mid" mid="@mid" code="" sct="" ml="1" style="border: none;height: 50px;*padding-bottom:10px" ismenu="1" ><div class="LC_select_search" ctf="select2_value" style="display: none"><input class="LC_select_text" type="text" readonly="readonly" ctf="select2_value" value="" canbak></div><div class="LC_select_search" valueid="@mid" ctf="select2_value" style="background: none;border:0px;padding:9px;border-radius:0px;" linkid="valuelink"><a class="LC_nav_link" href="javascript:" mid="@mid" ctf="select2_value" style="height:auto;" linkid="navlink"><img src="@src" mid="@mid" style="border:none;width:20px;height:20px;margin-bottom:5px;" linkid="imglink"/><span class="LC_square" ctf="select2_square"></span></a></div><div class="LC_select_main LC_menu_select_main LC_select_index" ctf="select2_box"><div class="LC_select_hd" ctf="select2_title" style="display: none"><a class="LC_select_home" href="javascript:" ctf="select2_home"></a><div class="LC_select_haved" ctf="select2_title_values"><a href="javascript:" class="LC_select_none" ctf="select2_title_value"></a></div><a class="LC_select_help" href="javascript:" ctf="select2_help"></a><input type="button" class="LC_button_conner LC_button_blue LC_button_mini" ctf="select2_btn" lcv="2" value="确定"/></div><div class="LC_select_bd" canbak><div class="LC_select_wrap" ctf="select2_body" canbak><dl class="LC_select_row" ctf="select2_row" canbak><dt class="LC_select_tag" canbak><span ctf="select2_letter" canbak></span><a class="LC_select_hide LC_menu_tag_link" href="javascript:" ctfe="select2_item" ctf="select2_parent" canbak></a></dt><dd class="LC_select_item" ctf="select2_row_items" canbak><a href="javascript:" ctf="select2_item" ctfe="select2_item"  value="" canbak></a></dd></dl></div></div></div><img style="display:none" src="data:image:png,base64" onerror="LEAP.select2.initControl(0);" style="float:left;" ></div>';
this.splitstr='<div class="LC2_page_aside_handle"><span class="LC2_icon LC2_icon_retract"></span></div>';this.menudata=new hashtable();this.posmenu=null;this.topmenupd=null;this.lastModule=null;this.pageLoad=function(){if(LEAP.userInfo){var expiredstatus=LEAP.userInfo.expiredstatus;var msgTip=null;if(expiredstatus=="-1"){msgTip="密码已过期,请及时修改密码";
}else{if(expiredstatus=="1"){msgTip="密码即将过期,请及时修改密码";}else{if(expiredstatus=="10"){msgTip="相同密码登录达到限制次数，请及时修改密码！";}}}if(msgTip!=null){LEAP.asyn(this.changeTips,this,3000,msgTip);}}if(!window.userinfomodule){window.userinfomodule="LEAPModule_infomation";}if(window.newusermodule===false){window.userinfomodule=null;
}this.processUserDefine();if(location&&location.href){this.initParameter(location.href);}this.initTree();this.addEvent(LEAP.getElements("[ut=bar_addressbook]"),"click",this.AddressBook,null,false);LEAP.asyn(this.showFacePhoto,this,50);this.addEvent(LEAP.getElements("[ut=bar_dragconfig]"),"click",this.dragconfig,null,false);
this.addEvent(this.ut("skinpeelerchange").element,"click",this.skinpeelerchange,null,true);this.addEvent(this.ut("fontchange").element,"click",this.fontchange,null,true);};this.skinpeelerchange=function(arg){var src=arg.e.srcElement;var type=arg.e.type;var tag=src.tagName;var colortype=src.getAttribute("colortype");
var skinpeelerchange=LEAP._match(src,"skinpeelerchange","ut",5);if(skinpeelerchange==null){return;}if(type=="click"){if(colortype=="default"){if(skinpeelerchange._oldcolortype!=null){var colortype1=skinpeelerchange._oldcolortype;var head=LEAP.getElement("head");var links=document.getElementsByTagName("link");
if(links!=null){for(var i=links.length-1;i>=0;i--){if(links[i].href.indexOf("LEAP/Resource/StyleTheme/colors/"+colortype1+"/index.css")>-1){head.removeChild(links[i]);skinpeelerchange._oldcolortype=null;break;}}}var clientlinks=leapclient._c;if(clientlinks!=null){var str="LEAP/Resource/StyleTheme/colors/"+colortype1+"/index.css";
str=str.toLowerCase();for(var i=clientlinks.length-1;i>=0;i--){if(clientlinks[i].indexOf(str)>-1){clientlinks.removeindex(i);break;}}}}}else{var colortype=src.getAttribute("colortype");if(null!=skinpeelerchange._oldcolortype&&skinpeelerchange._oldcolortype==colortype){return;}else{if(null!=skinpeelerchange._oldcolortype&&skinpeelerchange._oldcolortype!=colortype){var colortype1=skinpeelerchange._oldcolortype;
var head=LEAP.getElement("head");var links=document.getElementsByTagName("link");if(links!=null){for(var i=links.length-1;i>=0;i--){if(links[i].href.indexOf("LEAP/Resource/StyleTheme/colors/"+colortype1+"/index.css")>-1){head.removeChild(links[i]);skinpeelerchange._oldcolortype=null;break;}}}var clientlinks=leapclient._c;
if(clientlinks!=null){var str="LEAP/Resource/StyleTheme/colors/"+colortype1+"/index.css";str=str.toLowerCase();for(var i=clientlinks.length-1;i>=0;i--){if(clientlinks[i].indexOf(str)>-1){clientlinks.removeindex(i);break;}}}}}leapclient.loadcss("LEAP/Resource/StyleTheme/colors/"+colortype+"/index.css");
skinpeelerchange._oldcolortype=colortype;}}};this.fontchange=function(arg){var src=arg.e.srcElement;var type=arg.e.type;var tag=src.tagName;var fonttype=src.getAttribute("fonttype");var fontchange=LEAP._match(src,"fontchange","ut",5);if(fontchange==null){return;}if(type=="click"){if(fonttype=="default"){if(fontchange._oldfonttype!=null){var fonttype1=fontchange._oldfonttype;
var head=LEAP.getElement("head");var links=document.getElementsByTagName("link");if(links!=null){for(var i=links.length-1;i>=0;i--){if(links[i].href.indexOf("LEAP/Resource/StyleTheme/fonts/"+fonttype1+"/index.css")>-1){head.removeChild(links[i]);fontchange._oldfonttype=null;break;}}}var clientlinks=leapclient._c;
if(clientlinks!=null){var str="LEAP/Resource/StyleTheme/fonts/"+fonttype1+"/index.css";str=str.toLowerCase();for(var i=clientlinks.length-1;i>=0;i--){if(clientlinks[i].indexOf(str)>-1){clientlinks.removeindex(i);break;}}}}}else{var fonttype=src.getAttribute("fonttype");if(null!=fontchange._oldfonttype&&fontchange._oldfonttype==fonttype){return;
}else{if(null!=fontchange._oldfonttype&&fontchange._oldfonttype!=fonttype){var fonttype1=fontchange._oldfonttype;var head=LEAP.getElement("head");var links=document.getElementsByTagName("link");if(links!=null){for(var i=links.length-1;i>=0;i--){if(links[i].href.indexOf("LEAP/Resource/StyleTheme/fonts/"+fonttype1+"/index.css")>-1){head.removeChild(links[i]);
fontchange._oldfonttype=null;break;}}}var clientlinks=leapclient._c;if(clientlinks!=null){var str="LEAP/Resource/StyleTheme/fonts/"+fonttype1+"/index.css";str=str.toLowerCase();for(var i=clientlinks.length-1;i>=0;i--){if(clientlinks[i].indexOf(str)>-1){clientlinks.removeindex(i);break;}}}}}leapclient.loadcss("LEAP/Resource/StyleTheme/fonts/"+fonttype+"/index.css");
fontchange._oldfonttype=fonttype;}}};this.dragconfig=function(){if(this.lastModule!=null){if(this.lastModule.indexpartconfig){this.lastModule.indexpartconfig();}}};this.codelist=new hashtable();this.topmenu=[];this.parentmap=new hashtable();this.childmap=new hashtable();this.checknum=0;this.searchAlLUIResource=function(){var beans=this.searchResource(null,1);
if(beans==null){this.checknum++;if(this.checknum<3){LEAP.asyn(this.searchAlLUIResource,this,2000);}else{this.jumpToLogin();}}else{this.checknum=0;this.processData(beans);}};this.searchResource=function(parentid,level){var serviceName="app_getUIResource2";if(window._joinAuth!=null&&window._joinAuth=="1"){serviceName="app_getAllUIResource";
}var result=this.request2({name:serviceName,par:{id:parentid,includeParentResource:false,getDeep:level,fields:["clustername","indexpagemodulestyle","indexpagemodulemargin","expendtreenode","haschild","resourcetype","icon","officon"]},router:"leap"});if(result==null){return null;}var beans=LEAP.convertResult(result);
return beans;};this.hs=new Array();this.getChildResource=function(resid){var datas=this.childmap.getvalue(resid);if(datas!=null){return datas;}if(this.hs.contains(resid)){return null;}datas=this.searchResource(resid,3);this.processData(datas);if(datas!=null){for(var i=0;i<datas.length;i++){var dataid=datas[i].id;
if(this.hs.contains(resid)){continue;}this.hs.add(dataid);}}return this.childmap.getvalue(resid);};this.processData=function(beans){if(beans==null){return;}for(var i=0;i<beans.length;i++){var data=beans[i];this.menudata.add(data.id,data);var realCode=LEAP.getRealSyscode(data.syscode);if(realCode){this.codelist.add(realCode,data);
beans[i].realcode=realCode;}}for(var i=0;i<beans.length;i++){var data=beans[i];var realCode=beans[i].realcode;if(!realCode){continue;}var parentCode=LEAP.getParentSyscode(realCode);if(!parentCode){continue;}var pdata=this.codelist.getvalue(parentCode);if(!pdata||data.refid){this.topmenu.add(beans[i]);
}else{this.parentmap.add(data.id,pdata);var pid=pdata.id;var childdata=this.childmap.getvalue(pid);if(childdata==null){childdata=[data];}else{childdata.add(data);}this.childmap.add(pid,childdata);}}};this.initTree=function(){var cookstr=window.document[LEAP.safeString.getCK()];var isHide=(cookstr&&cookstr.indexOf("_menuhide=1")>-1);
this.searchAlLUIResource();var mdatas=this.topmenu;if(mdatas==null||mdatas.length==0){return;}var LC_menu=this.getUT("LC_menu");var title=null;if(document.title!=null){title=document.title.split("-")[0];}if(mdatas==null){return;}var buffer=new StringBuffer();for(var i=0;i<mdatas.length;i++){var cur=mdatas[i];
if(cur.resourcetype==18){continue;}var icon=cur.icon;if(!icon){icon=cur.officon;}if(!icon){icon="LEAP/Resource/SystemTemplate/image15/defaultnav.png";}var showname=cur.showname;var customize=cur.customize;var countinfo="";var restype=cur.resourcetype;if(restype!="2"){restype="3";}var str=this.mainmenuli.replaceall("@mid",cur.id).replaceall("@showname",showname).replace("@src",leapconfig.server+icon).replaceall("@restype",restype).replaceall("@expendtree",cur.expendtreenode).replaceall("@ptitle",showname);
if(cur.haschild=="1"&&cur.resourcetype!="22"){str=str.replace("@arrow",this.arrowstr);}else{str=str.replace("@arrow","");}buffer.append(str);}LC_menu.innerHTML=buffer.toString();this.removeEvent(LEAP.getElements("[controltype=1]",this.getUT("LC_menu")),"click",this.initChildMenu,null,false);this.addEvent(LEAP.getElements("[controltype=1]",this.getUT("LC_menu")),"click",this.initChildMenu,null,false);
this.addEvent(this.getUT("LC_menu"),"mouseover",this.menuover,null,true);if(this.iscodestyle){this.initCodeTree();}var fixBeans=this.getFixModule();if(fixBeans!=null){this.loadFixModule(fixBeans);}else{var resEl=LEAP.getElement("[ctf=menuitem][resid="+mdatas[0].id+"]",this.getUT("LC_menu"));LEAP.addCSS(resEl,"LC2_show");
if(mdatas[0].resourcetype==22){this.topmenupd=mdatas[0];this._loadModule(mdatas[0],!this.hasSelect);var resEl=LEAP.getElement("[resid="+mdatas[0].id+"]",this.getUT("LC_menu"));if(resEl){LEAP.addCSS(resEl,"LC2_show");}}else{var cmdatas=this.getChildResource(mdatas[0].id);if(cmdatas!=null&&cmdatas.length>0){if(cmdatas[0].resourcetype==22){this.topmenupd=cmdatas[0];
this.expendNodes();this._loadModule(cmdatas[0],!this.hasSelect,false);var ele=LEAP.getElement("[resid="+cmdatas[0].id+"]",this.getUT("LC_menu"));if(ele){LEAP.addCSS(ele,"LC2_show");}}else{var cmdatas2=this.getChildResource(cmdatas[0].id);if(cmdatas2!=null&&cmdatas2.length>0){if(!title){document.title=cmdatas2[0].showname;
}this.topmenupd=cmdatas2[0];this.expendNodes();this._loadModule(cmdatas2[0],!this.hasSelect);var ele=LEAP.getElement("[resid="+cmdatas2[0].id+"]",this.getUT("LC_menu"));if(ele){LEAP.addCSS(ele,"LC2_show");}}else{if(!title){document.title=cmdatas[0].showname;}this.topmenupd=cmdatas[0];this.expendNodes();
this._loadModule(cmdatas[0],!this.hasSelect,false);var ele=LEAP.getElement("[resid="+cmdatas[0].id+"]",this.getUT("LC_menu"));if(ele){LEAP.addCSS(ele,"LC2_show");}}}}else{if(!title){document.title=mdatas[0].showname;}this.topmenupd=mdatas[0];this.expendNodes();this._loadModule(mdatas[0],!this.hasSelect);
var ele=LEAP.getElement("[resid="+mdatas[0].id+"]",this.getUT("LC_menu"));if(ele){LEAP.addCSS(ele,"LC2_show");}}}}if(isHide){}LEAP.asyn(this.CheckAllPoint,this,50);};this.CheckAllPoint=function(arg){if(this.topmenu==null||this.topmenu.length==0){return;}for(var i=0;i<this.topmenu.length;i++){var data=this.topmenu[i];
var resid=data.id;if(data.customize&&data.customize.indexof("point")>-1){this.pointSourceArr.add(resid,data);}var datas=this.childmap.getvalue(resid);if(datas!=null&&datas.length>0){var nodelevel=null;var nodestring=null;var pid=null;for(var y=0;y<datas.length;y++){if(!nodelevel){nodelevel=datas[y].nodelevel;
}if(!nodestring){nodestring=datas[y].nodestring;}if(!pid){pid=datas[y].id;}var truepid=null;if(datas[y].nodelevel>nodelevel){if(datas[y].nodestring.indexOf(nodestring)>-1){truepid=pid;}}else{nodelevel=datas[y].nodelevel;nodestring=datas[y].nodestring;pid=datas[y].id;truepid=resid;}if(datas[y].customize&&datas[y].customize.indexOf("point")>-1){this.pointSourceArr.add(datas[y].id,datas[y]);
this.ResMapPid.add(datas[y].id,truepid+"&"+resid);}}nodelevel=nodestring=pid=null;}}LEAP.asyn(this.RedPointCustomizeRun,this,50);};this.RedPointCustomizeRun=function(arg){LEAP.RedPointDomain=this;for(var key in this.pointSourceArr.keys){var data=this.pointSourceArr.getvalue(key);if(data.customize&&data.customize.indexof("point")>-1){try{var args=data.customize.split(";");
var customize=null;for(var i=0;i<args.length;i++){if(args[i].indexof("point")>-1){customize=args[i];break;}}if(!customize){return;}var arr=customize.split(":");LEAP.asyn(eval("("+arr[1]+"('"+arr[2]+"','"+data.id+"'))"),this,50);}catch(e){LEAP.messagebox.alert("资源自定义参数错误",3,"参数错误");}}}};this._initChildMenu=function(resid,flag,pele,ptitlename){var hasappend=pele.getAttribute("hasappend");
var datas=this.childmap.getvalue(resid);if(!datas||datas.length==0){if(hasappend=="1"){pele.setAttribute("hasappend","0");var imageback=pele;LEAP.removeCSS(imageback,"LC2_show",false);}else{pele.setAttribute("hasappend","1");var imageback=pele;LEAP.addCSS(imageback,"LC2_show");}return;}var childEle=document.createElement("UL");
var buffer=new StringBuffer();if(flag=="1"){childEle=document.createElement("UL");childEle.className="ZHBG_sub_menu";}else{if(flag=="2"){childEle=document.createElement("DIV");childEle.className="ZHBG_sub_menu ZHBG_sub_menu2";}}if(this.definemenu&&this.definemenu.mbgcolor){childEle.style.background=this.definemenu.mbgcolor;
}if(hasappend=="1"){var childNodes=pele.children;if(childNodes&&childNodes.length>1){for(var i=1;i<childNodes.length;i++){pele.removeChild(childNodes[i]);}var outEle=this.getUT("menu");var LCEle=this.getUT("LC_menu");LEAP.scrollbar.showScrollBar(outEle,LCEle,2,"index","#8EB1DE");}pele.setAttribute("hasappend","0");
var imageback=LEAP.getElement("[imageback = 1]",pele);LEAP.removeCSS(imageback,"ZHBG_active");return;}var dd=this.menudata.getvalue(resid);if(!dd){return;}var resName=_leap_systemname+"_indexpart";for(var i=0;i<datas.length;i++){var pname=null;var cur=datas[i];if(cur&&cur.resourcetype==22&&dd&&dd.name!=resName){continue;
}var icon=cur.icon;if(!icon){icon=cur.officon;}if(!icon){icon="LEAP/Resource/SystemTemplate/image15/defaultnav.png";}var customize=cur.customize;var countinfo="";if(customize&&customize.indexof("servicename")>-1){var r=eval("("+customize+")");if(r){var servicename=r.servicename;if(servicename){var c=this.request(servicename,{data:[cur]});
if(typeof(c)=="boolean"&&c==true){countinfo="<span class='ZHBG_countinfo_num1'  ctype='showcountinfo'></span>";}else{if(c==null){countinfo="";}else{countinfo="<span class='ZHBG_countinfo_num'  ctype='showcountinfo'>"+c+"</span>";}}}}}var str=null;var showname=cur.showname;var rtype=cur.resourcetype;if(rtype!="2"){rtype="3";
}if(flag=="1"){pname=ptitlename+">"+showname;str=this.secondMenu.replaceall("@mid",cur.id).replaceall("@showname",showname).replace("@src",leapconfig.server+icon).replaceall("@restype",rtype).replaceall("@ptitle",pname).replaceall("@countinfo",countinfo);if(cur.resourcetype=="2"||this.checkHasChildren(cur.id)){str=str.replace("@class","ZHBG_addminus");
}else{str=str.replace("@class","");}}else{if(flag=="2"){pname=ptitlename+">"+showname;str=this.thirdmenu.replaceall("@mid",cur.id).replaceall("@showname",showname).replace("@src",leapconfig.server+icon).replaceall("@restype",rtype).replaceall("@ptitle",pname).replaceall("@countinfo",countinfo);}}buffer.append(str);
}childEle.innerHTML=buffer.toString();var outEle=this.getUT("menu");var LCEle=this.getUT("LC_menu");pele.appendChild(childEle);pele.setAttribute("hasappend",1);var imageback=LEAP.getElement("[imageback = 1]",pele);LEAP.addCSS(imageback,"ZHBG_active");if(flag!="1"){LEAP.addCSS(imageback,"ZHBG_coloractive");
}this.removeEvent(LEAP.getElements("[controltype=1]",pele),"click",this.initChildMenu,null,false);this.addEvent(LEAP.getElements("[controltype=1]",pele),"click",this.initChildMenu,null,false);LEAP.scrollbar.showScrollBar(outEle,LCEle,2,"index","#8EB1DE");};this.expendNodes=function(){var firsteles=LEAP.getElements("[flag=1]",this.getUT("LC_menu"));
if(firsteles&&firsteles.length>0){for(var i=0;i<firsteles.length;i++){if(firsteles[i].getAttribute("expendtreenode")=="1"){this.initSecondExtendNode(firsteles[i]);}}}};this.initSecondExtendNode=function(fele){var resid=fele.getAttribute("resid");var flag=fele.getAttribute("flag");this._initChildMenu(resid,flag,fele);
var secondeles=LEAP.getElements("[flag=2]",fele);if(secondeles&&secondeles.length>0){for(var i=0;i<secondeles.length;i++){this.initThirdExtendNode(secondeles[i]);}}};this.initThirdExtendNode=function(fele){var resid=fele.getAttribute("resid");var flag=fele.getAttribute("flag");this._initChildMenu(resid,flag,fele);
};this.selectItemData=null;this._loadModule=function(data,isSelect,isFix){if(!isSelect){isSelect=false;}if(!isFix){isFix=false;}if(!this.ShowMsgValidate(data)){return;}this.selectItemData=data;if(this.getUT("dragconfig")){this.getUT("dragconfig").style.display="none";}var parentID=data.id;var resType=data.resourcetype;
if(resType!=null&&resType*1<3){return;}var isModule=resType!=null&&resType==4;var isModuleRef=resType!=null&&resType==3;var isPartRef=resType!=null&&resType==15;var isResourceQuote=resType!=null&&resType==19;var isStatRef=resType!=null&&resType==16;var isindexPart=resType!=null&&resType==22;var isStatGroupRef=resType!=null&&resType==17;
var idexpmstyle=data.indexpagemodulestyle;var isframemodule=idexpmstyle!=null&&idexpmstyle==3;var isResRef=resType!=null&&resType==11;var haschild=data.haschild;var url=data.url;var margin=data.indexpagemodulemargin;if(isModuleRef||isModule){haschild=null;}var moduleName=null;if(isModuleRef||isResRef){moduleName=data.url;
}else{if(isModule){moduleName=data.name;}}var lurl=null;if(moduleName!=null){lurl=moduleName.toLowerCase();}if(lurl!=null&&(lurl.startsWith("http://")||lurl.startsWith("https://"))){window.open(window.geturl(moduleName));return true;}if(idexpmstyle!=null&idexpmstyle==2){var url=window.geturl(leapconfig.server+"LEAP/Resource/HTML/trusted/trustedload.html?module="+moduleName+"&text="+encodeURIComponent(data.showname));
if(data.customize){url+="&arg="+data.customize;}window.open(url);return true;}var loadObject=null;if(isPartRef){loadObject={path:"partindex",moduleLoadArg:data.url};}else{if(isindexPart){if(this.getUT("dragconfig")){this.getUT("dragconfig").style.display="inline-block";}loadObject={path:"indexassembly",moduleLoadArg:data.name};
}else{if(isResourceQuote){var loadArg={resource:data,par:this.getModulecustomize(data)};loadObject={path:"LIDS_SSOModule",moduleLoadArg:loadArg};}else{if(isframemodule){data._url=url;if(url.indexOf("ipconfig")>-1&&url.indexOf("module")>-1){if(url.indexOf("isv6")>-1){var configs=url.split("&");var obj={};
for(var i=0;i<configs.length;i++){if(configs[i].indexOf("=")>0){var m=configs[i].split("=");obj[m[0]]=m[1];}}var ipaddr=obj.ipconfig.replace("https://","").replace("http://","");var _url=url+"&userflag="+encodeURIComponent(LEAP.userInfo.userflag)+"&ipaddress="+ipaddr;var str=obj.ipconfig;if(obj.context){str=str+"/"+obj.context;
}str=str+"/LEAP/Service/RPC/RPC.DO?method=studiov5_tempLogin&"+_url;data._url=str;data.isv6=true;}else{var lcontxt=leapconfig.context;pdata._url=url;if(lcontxt){url="/"+lcontxt+"/LEAP/Service/RPC/RPC.DO?method=systemauth_trustedModele&"+url;}else{url="/LEAP/Service/RPC/RPC.DO?method=systemauth_trustedModele&"+url;
}pdata.url=window.geturl(url);}data.isTrust=true;}var loadArg={resource:data,par:this.getModulecustomize(data)};loadObject={path:"framemodule",moduleLoadArg:loadArg};}else{var loadArg={resource:data,par:this.getModulecustomize(data)};loadObject={path:moduleName,moduleLoadArg:loadArg};}}}}if(data.clustername){loadObject.router=data.clustername;
}if(loadObject!=null){if(this.fixhash.contains(data.id)){isFix=true;}var module=LEAP.modulebar.addBarItem(this.getUT("lg_modulebar"),data.showname,data.id,loadObject,isSelect,isFix,this);if(module){module.unRegEvent("refreshindex");module.regEvent("refreshindex",this.initIndexCountInfo,this);if(data.isTrust){var d={url:data._url};
module.LoadFrame(d);}if(window._cuaction=="1"){this.fireEvent("onIndexMenuClick",data);}}else{var lg_modulebar=this.getUT("lg_modulebar");var tabbar_item_btn=LEAP.getElement("[ctf=tabbar_item_btn][hasselect=1]",lg_modulebar);if(tabbar_item_btn!=null){var linkrs=tabbar_item_btn.getAttribute("linkrs");
module=LEAP.modulebar.modulehash.getvalue(linkrs);}}this.lastModule=module;}};this.getModulecustomize=function(data){if(data!=null&&data.customize!=null&&!String.isEmpty(data.customize)){var _par=null;try{_par=eval("({"+data.customize+"})");}catch(e){}if(_par==null){_par=data.customize;}return _par;}};
this.ShowMsgValidate=function(pdata){if(!pdata.customize){return true;}var args=pdata.customize.split(";");var msgvalid=null;for(var i=0;i<args.length;i++){if(args[i].indexof("msgvalid")>-1){msgvalid=args[i];break;}}if(!msgvalid){return true;}msgvalid=msgvalid.split(":")[1];if(msgvalid==false){return true;
}this.MsgValidSourceTemp=pdata;var ret=this.request("studio_MsgValid",{reid:pdata.id});if(ret=="0"){if(!document.getElementById("msgvalidate")){LEAP.showMask();if(!document.getElementById("msgvalidate")){var div=document.createElement("DIV");div.setAttribute("id","msgvalidate");div.style.position="fixed";
div.style.display="inline-block";div.style.borderRadius="5px";div.style.width="400px";div.style.height="100px";div.style.backgroundColor="#ededed";div.style.zIndex="99999999";div.style.left=(document.body.clientWidth/2)-200+"px";div.style.top=(document.body.clientHeight/2)-100+"px";div.innerHTML='<input class="LC_input_conner" bt="text" mdtype="text" reid="'+pdata.id+'" id="valid_code" ht="input" style="margin:20px 0 0 20px;display:inline-block;width:150px" ><input class="LC_button_conner LC_button_grew" id="valid_restmsg" reid="'+pdata.id+'" canrest="0" type="button" timernums="60" value="重新获取60S" style="width:110px;cursor:default"><input class="LC_button_conner" id="valid_confirm" type="button" reid="'+pdata.id+'" ctf="msgvalid" value="确定" style="width:90px;color: rgb(255, 255, 255); background-color: rgb(255, 103, 102);">';
document.body.appendChild(div);div=null;LEAP.ValidRestMsgFlag=LEAP.asynfoo(this.MsgRestfoo,this,1000);LEAP.addEvent(document.getElementById("valid_confirm"),"click",this.MsgCodeValid,null,this,true);LEAP.addEvent(document.getElementById("valid_restmsg"),"click",this.MsgCodeRest,null,this,true);}else{}}return false;
}else{if(ret=="1"){return true;}else{return false;}}return true;};this.MsgCodeRest=function(arg){var canrest=arg.caller.getAttribute("canrest","1");if(!canrest||canrest=="0"){return;}else{var reid=arg.caller.getAttribute("reid");var ret=this.request("studio_MsgRreshCode",{reid:reid});if(ret==true){var valid_restmsg=document.getElementById("valid_restmsg");
valid_restmsg.style.cursor="default";valid_restmsg.setAttribute("class","LC_button_conner LC_button_grew");valid_restmsg.setAttribute("canrest","0");valid_restmsg.setAttribute("timernums","60");LEAP.ValidRestMsgFlag=LEAP.asynfoo(this.MsgRestfoo,this,1000);}else{LEAP.messagebox.alert("重新获取验证码失败!",3,"重新获取失败");
}}};this.MsgCodeValid=function(arg){var valid_code=document.getElementById("valid_code");if(valid_code){var reid=valid_code.getAttribute("reid");var code=valid_code.value;if(!code||!reid){return;}else{var ret=LEAP.request("studio_ConfirmMsgValid",{reid:reid,code:code});if(ret==true){document.getElementById("msgvalidate").style.display="none";
LEAP.hideMask();this._loadModule(this.MsgValidSourceTemp,true);this.MsgValidSourceTemp=null;}else{LEAP.messagebox.alert("验证码错误或已失效!",3,"验证码错误");}}}};this.MsgRestfoo=function(){var msgrestBtn=document.getElementById("valid_restmsg");if(!msgrestBtn){return;}var timernums=msgrestBtn.getAttribute("timernums");
timernums=timernums-1;if(timernums>0){msgrestBtn.setAttribute("timernums",timernums);msgrestBtn.value="重新获取"+timernums+"S";}else{msgrestBtn.value="重新获取";msgrestBtn.style.cursor="pointer";msgrestBtn.setAttribute("class","LC_button_conner LC_button_blue");msgrestBtn.setAttribute("canrest","1");if(LEAP.ValidRestMsgFlag){window.clearInterval(LEAP.ValidRestMsgFlag);
}}};this.loadFixModule=function(fixBeans){if(!fixBeans){return;}for(var i=0;i<fixBeans.length;i++){this._loadModule(fixBeans[i],(i==0&&!this.hasSelect),true);}if(fixBeans.length>1){this.addEvent(this.getUT("lg_modulebar"),"moduleloaded",this.afterLoadModule,null,this);}};this.afterLoadModule=function(arg){if(arg&&arg.arg2&&arg.arg2.module){var module=arg.arg2.module;
module.unRegEvent("refreshindex");module.regEvent("refreshindex",this.initIndexCountInfo,this);this.lastModule=module;}};this.fixhash=new hashtable();this.getFixModule=function(){var beans=this.request("studiov6_searchFixModule");if(beans==null){return null;}var hdata=this.menudata;if(hdata.size==0){return;
}var list=[];for(var i=0;i<beans.length;i++){var resid=beans[i].resourceid;if(!hdata.contains(resid)){var parentid=beans[i].parentid;if(parentid!=null){this.getChildResource(parentid);}}if(hdata.contains(resid)){var dd=hdata.getvalue(resid);list.add(dd);this.fixhash.add(resid,dd);}}if(list.length==0){return null;
}return list;};this.loaddata=null;this.lastid=null;this.initChildMenu=function(arg){if(!arg||!arg.caller){return;}var e=arg.caller;if(e.tagName=="SPAN"||e.tagName=="I"){e=e.parentElement;}if(e.tagName=="IMG"){e=e.parentElement.parentElement;}var resid=e.getAttribute("resid");var liEle=e;while(liEle.tagName!="LI"){liEle=liEle.parentElement;
}var flag=liEle.getAttribute("flag");var data=this.menudata.getvalue(resid);if(!data){return;}var customize=data.customize;if(customize&&customize.indexOf("{")>-1&&customize.indexOf("}")>0){try{var c=eval("("+customize+")");if(c&&c.showchild==false){this.loadResModule(data);return;}}catch(e){}}var resourcetype=data.resourcetype;
var ptitlename=e.getAttribute("ptitlename");if(!resid){return;}var eles=LEAP.getElements("[flag=1][ctf=menuitem]",this.getUT("LC_menu"));if(eles&&eles.length>0){for(var i=0;i<eles.length;i++){if(e.tagName=="A"){LEAP.removeCSS(eles[i],"LC2_show",false);}}}if(resourcetype=="2"){var eles=LEAP.getElements("[flag=2][ctf=menuitem]",this.getUT("LC_menu"));
if(eles&&eles.length>0){for(var i=0;i<eles.length;i++){LEAP.removeCSS(eles[i],"LC2_show",false);}}}var topli=liEle;while(topli.getAttribute("flag")!="1"){if(!topli){break;}topli=topli.parentElement;}if(topli){LEAP.addCSS(topli,"LC2_show");}this.loaddata=null;var resName=_leap_systemname+"_indexpart";
if(resourcetype!="2"){var seeles=LEAP.getElements("[restype=2]",this.getUT("LC_menu"));if(seeles&&seeles.length>0){var secondmenu=this.getSecondMenuBYthirdMenu(e);for(var i=0;i<seeles.length;i++){LEAP.removeCSS(seeles[i],"ZHBG_coloractive",false);}LEAP.removeCSS(secondmenu,"ZHBG_coloractive",false);LEAP.addCSS(secondmenu,"ZHBG_coloractive");
}if(flag!="1"){LEAP.addCSS(e,"ZHBG_coloractive");LEAP.addCSS(e,"ZHBG_active1");}this.loaddata=data;}var level=0;var parentdata=data;while(parentdata&&parentdata.id){parentdata=this.getChildResource(parentdata.id);level++;}if(level<4){if(LEAP.userInfo.orgid=="super"){var pele=e.parentElement;this._initChildMenu(resid,flag,pele,ptitlename);
}else{if(resourcetype!="22"){var pele=e.parentElement;this._initChildMenu(resid,flag,pele,ptitlename);}}}if(this.loaddata!=null){var currid=this.loaddata.id;this.lastid=currid;LEAP.asyn(this.loadCurrModule,this,30);}LEAP.asyn(this.ShowCachePoint,this,50);};this.loadCurrModule=function(){this.loadResModule(this.loaddata);
};this.loadResModule=function(data){if(data==null){return;}if(document.title!=null){}else{document.title=data.showname;}this.topmenupd=data;this._loadModule(data,true);};this.ShowCachePoint=function(arg){for(var key in this.CallBackCache.keys){var reid=this.CallBackCache.getvalue(key);var data=this.pointSourceArr.getvalue(reid);
if(!data){this.ShowParentPoint(reid);}else{var ele=LEAP.getElement("A[resid="+data.id+"]",this.getUT("LC_menu"));if(ele){this.ShowSourcePoint(ele,data);}}}};this.ResMapPid=new hashtable();this.pointSourceArr=new hashtable();this.CallBackCache=new hashtable();this.RedPointCallBack=function(reid,resultflag){if(!resultflag||resultflag==false){return;
}var data=this.pointSourceArr.getvalue(reid);var ele=LEAP.getElement("A[resid="+data.id+"]",this.getUT("LC_menu"));if(ele){this.ShowSourcePoint(ele,data);}else{var parentidandtop=this.ResMapPid.getvalue(data.id);if(parentidandtop){var parentid=parentidandtop.split("&")[0];var topipd=parentidandtop.split("&")[1];
this.ShowParentPoint(parentid);this.ShowParentPoint(topipd);}}this.CallBackCache.add(reid,reid);};this.ShowSourcePoint=function(ele,data){var controltype=LEAP.getElement("i[controltype=1]",ele);if(!controltype){controltype=ele;}if(LEAP.getElement("[point=1]",controltype)){return;}var span=document.createElement("SPAN");
span.setAttribute("class","ZHBG_countinfo_num1");span.setAttribute("ctype","showcountinfo");span.setAttribute("point","1");span.style.right="20px";controltype.appendChild(span);var parentidandtop=this.ResMapPid.getvalue(data.id);if(parentidandtop){var parentid=parentidandtop.split("&")[0];var topipd=parentidandtop.split("&")[1];
this.ShowParentPoint(parentid);this.ShowParentPoint(topipd);}span=controltype=null;};this.ShowParentPoint=function(parentid){var parentele=LEAP.getElement("A[resid="+parentid+"]",this.getUT("LC_menu"));if(!parentele){return;}if(parentele.tagName=="A"&&!LEAP.getElement("[point=1]",parentele.firstChild)){var tmp=parentele.firstChild.lastChild;
var span=null;if(!tmp){span=document.createElement("SPAN");span.setAttribute("class","ZHBG_countinfo_num1");span.setAttribute("ctype","showcountinfo");span.setAttribute("point","1");span.style.right="30px";parentele.appendChild(span);}else{parentele.firstChild.removeChild(tmp);span=document.createElement("SPAN");
span.setAttribute("class","ZHBG_countinfo_num1");span.setAttribute("ctype","showcountinfo");span.setAttribute("point","1");span.style.right="30px";parentele.firstChild.appendChild(span);parentele.firstChild.appendChild(tmp);}tmp=span=parentele=null;}};this.topmenudata=new hashtable();this.initCodeTree=function(){this.addEvent(this.getUT("LC_menu"),"click",this.menuCodeClick,null,true);
this.createCloseBtn();var LC_menu=this.getUT("LC_menu");var mdatas=this.topmenu;for(var i=0;i<mdatas.length;i++){var cur=mdatas[i];if(cur&&cur.resourcetype==18){continue;}var icon=cur.icon;if(!icon){icon=cur.officon;}if(!icon){icon="LEAP/Resource/SystemTemplate/image15/defaultnav.png";}var liEl=document.createElement("li");
liEl.setAttribute("mid",cur.id);liEl.setAttribute("title",cur.showname);liEl.setAttribute("flag",9);liEl.style.display="none";var str=this.selectmenu.replaceall("@mid",cur.id).replace("@src",leapconfig.server+icon);var str1=LEAP.bindControl(str,this);liEl.innerHTML=str1;LC_menu.appendChild(liEl);if(!this.topmenudata.contains(cur.id)){this.topmenudata.add(cur.id,cur);
}}};this.createCloseBtn=function(){var top_menu=this.getUT("top_menu");var LC_menu=this.getUT("menu");var btn=document.createElement("div");btn.className="ZHBG_split_btn_open";btn.setAttribute("ut","btn_menu_split");if(this.expandbtn&&this.expandbtn=="top"){btn.style.left="10px";btn.style.top="25px";
btn.style.height="20px";var url=leapconfig.server+"LEAP/Resource/SystemTemplate/index12/img/expand.png";btn.style.background="url("+url+") no-repeat";}else{var h=LC_menu.offsetHeight;var w=LC_menu.offsetWidth;btn.style.left=w+"px";btn.style.top=(h/2)+"px";}top_menu.appendChild(btn);this.addEvent(btn,"click",this.splitBtnClick,null,true);
};this.hasclose=false;this.lwidth=null;this.splitBtnClick=function(arg){if(!this.lwidth){this.lwidth=this.getUT("leftmenu").style.width;}this.hasclose=!this.hasclose;var hideFlag=9;var showFlag=1;if(this.hasclose){var hideFlag=1;var showFlag=9;}var elements=LEAP.getElements("LI[flag="+hideFlag+"]",this.getUT("LC_menu"));
if(elements!=null){for(var i=0;i<elements.length;i++){elements[i].style.display="none";}}elements=LEAP.getElements("LI[flag="+showFlag+"]",this.getUT("LC_menu"));if(elements!=null){for(var i=0;i<elements.length;i++){elements[i].style.display="";}}var src=arg.caller;if(!this.hasclose){this.getUT("leftmenu").style.width=this.lwidth;
src.className="ZHBG_split_btn_open";src.style.left=this.lwidth;}else{this.getUT("leftmenu").style.width="40px";src.className="ZHBG_split_btn_close";src.style.left="40px";}var D=new Date();D.setTime(D.getTime()+30*24*3600000);window.document[LEAP.safeString.getCK()]="_menuhide="+hideFlag+";expires="+D.toGMTString();
};this.menuover=function(arg){var src=arg.e.srcElement;if(src){}if(!this.hasclose){return;}var src=arg.e.srcElement;var type=arg.e.type;var tag=src.tagName;var mid=src.getAttribute("mid");if(mid!=null){this.menuid=mid;var cur=this.topmenudata.getvalue(mid);if(cur){if(cur.resourcetype==3&&(cur.haschild==null||cur.haschild==0)){return;
}if(cur.resourcetype==22){return;}var customize=cur.customize;if(customize){var c=eval("("+customize+")");if(c.showchild==false){return;}}}var select2_value=LEAP.getElement("div[valueid="+mid+"]",LEAP.getElement("div[mainid="+mid+"]"));var bl=LEAP.select2.initValue(LEAP.getElement("div[mainid="+mid+"]"),"select2_value",select2_value,null,"getchild=getChildData",null,null);
var LC_menu=this.getUT("LC_menu");var children=LC_menu.children;if(children!=null){var len=children.length;for(var i=0;i<len;i++){var limid=children[i].getAttribute("mid");if(limid==mid){if(bl){LEAP.addCSS(LEAP.getElement("[ctf=select2_square]",children[i]),"LC_squaremouseover");}}else{LEAP.removeCSS(LEAP.getElement("[ctf=select2_square]",children[i]),"LC_squaremouseover",false);
}}}if(this.oldmenuid!=null&&this.oldmenuid!=mid){LEAP.select2.hide(LEAP.getElement("div[mainid="+this.oldmenuid+"]"));this.removeEvent(LEAP.getElement("div[mainid="+this.oldmenuid+"]"),"valueChange",this.boxvalueChange);}var codeFrom=null;if(bl==true){this.addEvent(LEAP.getElement("div[mainid="+mid+"]"),"valueChange",this.boxvalueChange);
this.addEvent(LEAP.getElement("div[mainid="+mid+"]"),"hidebox",this.hidebox);var con=LEAP.getElement(".LC_select_main",LEAP.getElement("div[mainid="+mid+"]"));this.addEvent(con,"mouseleave",this.conmouseleave,null,true);LEAP.select2.show(LEAP.getElement("div[mainid="+mid+"]"));LEAP.select2.orientate(LEAP.getElement("div[mainid="+mid+"]"),con,select2_value,"-55","38");
var rowEls=LEAP.getElements("dl[ctf=select2_row]",con);if(rowEls&&rowEls.length>0){for(var m=0;m<rowEls.length;m++){var ddEl=LEAP.getElement("dd[ctf=select2_row_items]",rowEls[m]);if(ddEl&&ddEl.innerHTML){continue;}var dtEl=LEAP.getElement(".LC_menu_tag_link",rowEls[m]);if(dtEl){dtEl.style["border-right"]="0px";
}}}codeFrom=con;}this.caculateForm(codeFrom);this.oldmenuid=mid;}};this.caculateForm=function(codeFrom){if(!codeFrom){return;}var T=codeFrom.offsetTop;var H=codeFrom.offsetHeight;var screenH=this.getUT("LC_menu").scrollHeight;if(T+H>screenH){T=screenH-H;}codeFrom.style.top=T+"px";};this.menuCodeClick=function(arg){var src=arg.e.srcElement;
var type=arg.e.type;var tag=src.tagName;var mid=src.getAttribute("mid");if(mid!=null){this.menuid=mid;this.oldmenuid=mid;var pdata=this.topmenudata.getvalue(mid);if(pdata){if(pdata.resourcetype==3||pdata.resourcetype==22){this._loadModule(pdata,true);}}}};this.boxvalueChange=function(arg){var element=arg.arg2.element;
var pdata=arg.arg2.data.codedata;LEAP.select2.hide(element);this.removeEvent(element,"valueChange",this.boxvalueChange);var mid=element.getAttribute("mid");var LC_menu=this.getUT("LC_menu");var children=LC_menu.children;if(children!=null){var len=children.length;for(var i=0;i<len;i++){var limid=children[i].getAttribute("mid");
if(limid==mid){var select2_value=LEAP.getElement("a[ctf=select2_value]",children[i]);if(select2_value){select2_value.style.background="#1A6AC5";}}else{var select2_value=LEAP.getElement("a[ctf=select2_value]",children[i]);if(select2_value){select2_value.style.background="";}}}}if(pdata!=null){this._loadModule(pdata,true);
}};this.hidebox=function(arg){this.removeEvent(element,"hidebox",this.hidebox);var element=arg.arg2.element;LEAP.removeCSS(LEAP.getElement("[ctf=select2_square]",element),"LC_squaremouseover",false);};this.conmouseleave=function(arg){var con=arg.caller;if(this.oldmenuid!=null){var element=LEAP.getElement("div[mainid="+this.oldmenuid+"]");
if(element){var select2_square=LEAP.getElement("[ctf=select2_square]",element);LEAP.removeCSS(select2_square,"LC_squaremouseover",false);LEAP.select2.hide(element);this.removeEvent(element,"valueChange",this.boxvalueChange);}}this.removeEvent(con,"mouseleave",this.conmouseleave);};this.codedata=new hashtable();
this.getChildData=function(arg){var pdata=arg.pdata;if(pdata==null){if(this.codedata.contains(this.menuid)){var mdata=this.codedata.getvalue(this.menuid);return mdata;}var serviceName="app_getUIResource2";if(window._joinAuth!=null&&window._joinAuth=="1"){serviceName="app_getAllUIResource";}var result=this.request2({name:serviceName,par:{id:this.menuid,includeParentResource:false,getDeep:3,fields:["clustername","indexpagemodulestyle","indexpagemodulemargin","expendtreenode","nodestring","resourcetype","icon","officon"]}});
if(result!=null){var data=LEAP.convertResult(result);this.buildResult(this.menuid,data);return this.codedata.getvalue(this.menuid);}else{if(!this.codedata.contains(this.menuid)){this.codedata.add(this.menuid,null);}return null;}}else{var cadedata=pdata.codedata;if(cadedata&&cadedata.customize){try{var c=eval("("+cadedata.customize+")");
if(c.showchild==false){return;}}finally{}}if(this.codedata.contains(pdata.codeid)){var mdata=this.codedata.getvalue(pdata.codeid);return mdata;}var result=this.request2({name:"studiov6_getUIResource1",par:{id:pdata.codeid},router:"leap"});if(result!=null){var data=LEAP.convertResult(result);if(!this.menusource.contains(pdata.codeid)){this.menusource.add(pdata.codeid,data);
}var dsData=[];for(var i=0;i<data.length;i++){json={};json.codeid=data[i].id;json.codeparentid=pdata.codeid;json.codevalue=data[i].showname;json.codedata=data[i];dsData.add(json);}if(!this.codedata.contains(pdata.codeid)){this.codedata.add(pdata.codeid,dsData);}return dsData;}else{if(!this.codedata.contains(pdata.codeid)){this.codedata.add(pdata.codeid,null);
}return null;}}};this.buildResult=function(resoureid,datas){if(datas==null){return;}var pdata=this.topmenudata.getvalue(resoureid);if(!pdata){return;}var pcode=pdata.nodestring;var dhash=new hashtable();for(var i=0;i<datas.length;i++){var d=datas[i];var nodeStr=d.nodestring;dhash.add(d.nodestring,d);
this.codedata.add(d.id,null);}for(var i=0;i<datas.length;i++){var d=datas[i];var nodeStr=d.nodestring;var data={};data.codeid=d.id;data.codevalue=d.showname;data.codedata=d;var parentCode=nodeStr.substring(0,nodeStr.length-3);var parentid=null;if(parentCode==pcode){data.codeparentid=resoureid;parentid=resoureid;
}else{pdata=dhash.getvalue(parentCode);if(pdata!=null){data.codeparentid=pdata.id;parentid=pdata.id;}}if(parentid!=null){var cdatas=null;if(this.codedata.contains(parentid)){cdatas=this.codedata.getvalue(parentid);this.codedata.remove(parentid);}if(cdatas==null){cdatas=[];}cdatas.add(data);this.codedata.add(parentid,cdatas);
}}};this.lidStr=null;this.isclose=false;this.lm=null;this.cid=null;this.initParameter=function(url){if(!url){return;}var str=url.split("?");if(!str||str.length!=2){return;}str=str[1];var pstr=str.split("&");if(!pstr){return;}for(var i=0;i<pstr.length;i++){var closestr=pstr[i].split("=");if(!closestr||closestr.length!=2){continue;
}var name=closestr[0];var value=decodeURIComponent(closestr[1]);if(name=="isclose"){if(value==1||value=="1"||value=="true"){this.isclose=true;}else{this.isclose=false;}}else{if(name=="lid"){this.lidStr=value;}else{if(name=="lm"){this.lm=value;}else{if(name=="cid"){this.cid=value;}}}}}if(this.lm!=null){this._openModule(this.lm);
}if(this.cid&&LEAP.openWorkFlow){LEAP.asyn(LEAP.openWorkFlow,LEAP,200,this.cid);}};this.hasSelect=false;this._openModule=function(menuname){var data=this.request("studiov6_searchProjectResource",{name:menuname});if(!data){LEAP.messagebox.alert("该菜单名称未匹配到数据");return;}if(!data.url){LEAP.messagebox.alert("该菜单未关联页面模型");
return;}this.lastid=null;var loadObject={path:data.url,moduleLoadArg:null};LEAP.modulebar.addBarItem(this.getUT("lg_modulebar"),data.showname,data.id,loadObject,true,false,this);this.hasSelect=true;};this.definemenu=null;this.iscodestyle=false;this.expandbtn=null;this.processUserDefine=function(){var defStr=window._userdefine;
if(!defStr){return;}if(defStr.indexOf("{")<0||defStr.indexOf("}")<0){return null;}var defJson=null;try{defJson=eval("(["+defStr+"])");if(!defJson||defJson.length==0){return null;}for(var i=0;i<defJson.length;i++){var ismenu=defJson[i].ismenu;var quitevent=defJson[i].quitevent;if(quitevent&&quitevent==1){window._quitevent="1";
}if(!ismenu){continue;}this.definemenu=defJson[i];break;}if(this.definemenu){var width=this.definemenu.mwidth;if(width){this.getUT("leftmenu").style.width=width;}var mbgcolor=this.definemenu.mbgcolor;if(mbgcolor){this.getUT("leftmenu").style.background=mbgcolor;}var isextend=this.definemenu.isextend;
if(isextend){this.getUT("main_center_spliter").style.display="";}var showindexbtn=this.definemenu.showindexbtn;if(showindexbtn==false&&this.getUT("bar_dragconfig")){this.getUT("bar_dragconfig").style.display="none";}var showaddressbtn=this.definemenu.showaddressbook;if(showaddressbtn==false&&this.getUT("bar_addressbook")){this.getUT("bar_addressbook").style.display="none";
}this.iscodestyle=this.definemenu.iscodestyle;var exbtn=this.definemenu.expandbtn;if(exbtn){this.expandbtn=exbtn;}}}catch(e){}if(window._ewcode){try{var def=JSON.parse(window._ewcode);var showphone=false;var showpad=false;if(def&&def.phone){showphone=true;}if(def&&def.pad){showpad=true;}if(!window.userinfomodule){if(!showphone){this.ut("erweima").hide();
}if(!showpad){this.ut("paderweima").hide();}}else{if(!showphone){this.ut("btn_pad").hide();}if(!showpad){this.ut("btn_erweima").hide();}}}catch(e){return;}}};this.changeTips=function(){alert(msg);this.changePWD(true);};this.changePWD=function(bool){if(this.passForm==null){var def={name:"changePass",title:"修改用户信息",width:"330",height:"380",formtype:"3"};
this.passForm=this.loadForm3(def);if(this.passForm.module.dyncUserDefine){this.passForm.module.dyncUserDefine(this.passForm.form);}if(this.passForm.module.forceChange){this.passForm.module.forceChange(bool);}}else{this.passForm.module.clearPageData();LEAP.form.show(this.passForm.form);}this.passForm.module.setData(LEAP.userInfo);
if(this.posmenu!=null){this.posmenu.style.display="none";}};this.AddressBook=function(){this.lastid=null;var loadObject={path:"leapaasaddressbookpart",moduleLoadArg:null};var module=LEAP.modulebar.addBarItem(this.getUT("lg_modulebar"),"通讯录","leapaas_addressbook",loadObject,true,false,this);if(module&&module.hideExport){module.hideExport();
}};this.showFacePhoto=function(arg){var logoc=LEAP.getElement("[ut=bar_face]");var photo=LEAP.userInfo.photo;if(photo!=null){if(photo.indexOf("{")==0){try{var obj=JSON.parse(photo);if(obj!=null){photo="LEAP/Download/"+obj.nameedPath+"/"+obj.name;}}finally{}}}if(photo){if(photo.indexOf("Download")!=-1){logoc.src=leapconfig.server+photo;
}else{logoc.src=leapconfig.server+"imageview/64_64/"+photo;}}var fullname=!LEAP.userInfo.fullName?LEAP.userInfo.userflag:LEAP.userInfo.fullName;this.ut("bar_userflag").setValue(fullname);};};LEAP.partLayout={};LEAP.partLayout.d="partLayout";LEAP.partLayout.leftrightstr='<div class="part-transverse-split-div" style="width:50%" ctf="partItem" lt="w" pbt="line"></div><div class="part-transverse-split-div" style="width:50%" ctf="partItem" lt="w" pbt="line"></div>';
LEAP.partLayout.updownstr='<div class="part-vertical-split-div" style="height:50%;" ctf="partItem" lt="h" pbt="line"></div><div class="part-vertical-split-div" style="height:50%;" ctf="partItem" lt="h" pbt="line"></div>';LEAP.partLayout.moduleitem='<div class="part-item-content" ctf="partmodulebox"><div class="prat-item-content-box" ctf="partcontent"><img class="prat-item-loading" src="'+leapconfig.server+'LEAP/Resource/HTML/indexassembly/images/loading.gif"></div><div class="prat-item-content-move" ctf="partmove"><div class="prat-item-del" ctf="partdel"></div></div></div>';
LEAP.partLayout.pathitem='<iframe src="@src" style="width:100%;height:100%;" frameborder="0" scrolling="no"></iframe>';LEAP.partLayout.vueitem='<img  style="width:100%;height:100%;border:none" src="@src">';LEAP.partLayout.tixingbox='<div class="lgform2 lc_popform" style="position: fixed;" ctf="tixingbox"><div class="lgform2_l2"><div class="lgform2_l3"><img class="lgfomr2_img"  src=""><div class="lgform2_title" onselectstart="return false;" unselectable="on" hidefocus="true" oncontextmenu="return false"><div class="lgform2_title_text">@title</div></div><div class="lgform2_btns" onselectstart="return false;" unselectable="on" hidefocus="true" oncontextmenu="return false" style="background-position-x: -71px; right: -52px;" ctf="tixingclose"></div><div class="lgform2_content" onselectstart="" unselectable="false" hidefocus="false" oncontextmenu=""><div style="width: 100%; height: 100%;" _ispanel="1"><div class="lc_layout_p_con"><div class=" lc_layout_bt_p" style="bottom: 50px;" _ldl="h"><ul class="LC2_grid LC2_gap_all LC2_large" style="margin: 8px 0px 0px 0px;" ut="indexpartmodules"></ul></div><div class="lc_layout_bt_p" style="top: auto; height: 50px;" _ldl="h"><div style="width: 100%;height:100%;text-align: center"><input class="LC_button_conner LC_button_blue" style="margin-top: 5px" ut="tixingsubmit" type="button" value="确定"></div></div></div></div></div></div></div></div>';
LEAP.partLayout.tixingitem='<li class="LC2_grid_item LC2_t_c LC2_w_6"><div class="LC2_selectbox"> <div class="LC2_selectbox_content" style="border:1px solid #ccc"><img src="@src" alt="" style="height:100px"></div></div><p class="LC2_text LC2_small LC2_base LC2_mt_small">@text</p></li>';LEAP.partLayout.partstyle=null;
LEAP.partLayout._init=function(){LEAP.addEvent(document.body,"click",LEAP.partLayout.uiProcess,null,null,true);LEAP.addEvent(document.body,"mousedown",LEAP.partLayout.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.partLayout.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.partLayout._init);
};LEAP.partLayout.init=function(){if(document!=null&&document.body!=null){LEAP.partLayout._init();}else{UIEventManager.addEvent(window,"load",LEAP.partLayout._init);}ElementEventManager.addManagedEventType(LEAP.partLayout.d,"itemClick");ElementEventManager.addManagedEventType(LEAP.partLayout.d,"partDel");
}();LEAP.partLayout.setAutoHeight=function(a,d){if(d==true){var c=a.clientHeight;var b=LEAP._match(a,"partItem","ctf",99);if(!String.isEmpty(b.getAttribute("ctfe"))){var e=b.clientHeight;b.setAttribute("oldheight",e);b.style.height=c+"px";}}};LEAP.partLayout.changePage=function(e,b){var c=LEAP._match(e,LEAP.partLayout.d,"ct",999);
if(!c){return;}if(!String.isEmpty(b)){var a=LEAP.getElement("[partgroup="+b+"][ctfe=partlayoutbox]",c);if(a!=null){var d=LEAP.getElements("[partgroup][ctfe=partlayoutbox]",c);if(d!=null){LEAP.setStyle(d,{display:"none"});}LEAP.setStyle(a,{display:"block"});}}};LEAP.partLayout.setChangePageStyle=function(b){b=LEAP._check(b,LEAP.partLayout.d);
if(!b){return;}if(b.__selectItem!=null){var d=b.__selectItem;var a=null;var e=LEAP.partLayout.selectParents(d);if(e!=null){a=e[e.length-1];var c=LEAP.getElements(".part-sel",b);if(c!=null){LEAP.removeCSS(c,"part-sel",true);}LEAP.addCSS(a,"part-sel");}else{a=d;}b.__parentitem=a;}};LEAP.partLayout.setChangePageGroupname=function(c,b){c=LEAP._check(c,LEAP.partLayout.d);
if(!c){return;}var a=c.__parentitem;if(!a){return;}if(c.__selectItem!=null){var e=c.__selectItem;if(!String.isEmpty(b)){a.setAttribute("partgroup",b);}else{a.removeAttribute("partgroup");}var d=LEAP.getElements(".part-sel",c);if(d!=null){LEAP.removeCSS(d,"part-sel",true);}LEAP.addCSS(e,"part-sel");c.__parentitem=null;
}};LEAP.partLayout.lockModule=function(c,e){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}var d=c.__selectItem;if(d!=null){var b=d.getAttribute("moduleinfo");var a=JSON.parse(b);a.lockmodule=e;d.setAttribute("moduleinfo",JSON.stringify(a));LEAP.partLayout.setElementModules(c);}};LEAP.partLayout.autoRefresh=function(f){f=LEAP._check(f,LEAP.partLayout.d);
if(!f){return;}var h=LEAP.getElement("[ctf=partmainbox]",f);if(h==null){return;}var p=h.getAttribute("moduleinfos");if(!String.isEmpty(p)){var l=JSON.parse(p);for(var g=0;g<l.length;g++){var n=l[g].timenum;var a=l[g].freshutil;var q=l[g];if(q.isdisplay=="none"){continue;}if(!String.isEmpty(n)){var e=0;
var m=LEAP.tonum(n);if(a=="1"){e=m*365*24*60*60;}else{if(a=="2"){e=m*30*24*60*60;}else{if(a=="3"){e=m*24*60*60;}else{if(a=="4"){e=m*60*60;}else{if(a=="5"){e=m*60;}else{if(a=="6"){e=m;}}}}}}e=e*1000;var b=LEAP.getElement("[minstance="+l[g].minstance+"]",f);var j=LEAP.getElement("[ctf=partcontent]",b);
if(j!=null){var d=j.children[0];var o=d.getAttribute("instance");var c=LEAP.getLoadedModule(o);if(c!=null){if(c.refreshModule){LEAP.asynfoo(c.refreshModule,c,LEAP.tonum(e));}}}}}}};LEAP.partLayout.setRefreshTime=function(d,f,b){d=LEAP._check(d,LEAP.partLayout.d);if(!d){return;}var e=d.__selectItem;if(e!=null){if(!String.isEmpty(e.innerHTML)&&!String.isEmpty(e.getAttribute("minstance"))){if(!String.isEmpty(f)&&LEAP.tonum(f)>0){var c=e.getAttribute("moduleinfo");
var a=JSON.parse(c);a.timenum=f;a.freshutil=b;e.setAttribute("moduleinfo",JSON.stringify(a));}else{var c=e.getAttribute("moduleinfo");var a=JSON.parse(c);delete a.timenum;delete a.freshutil;e.setAttribute("moduleinfo",JSON.stringify(a));}LEAP.partLayout.setElementModules(d);}}};LEAP.partLayout.getpartstyle=function(){if(LEAP.partLayout.partstyle!=null){return LEAP.partLayout.partstyle;
}return null;};LEAP.partLayout.selectItem=function(a,c){a=LEAP._check(a,LEAP.partLayout.d);if(!a){return;}var b=LEAP.getElements(".part-sel",a);if(b!=null){LEAP.removeCSS(b,"part-sel",true);}LEAP.addCSS(c,"part-sel");a.__selectItem=c;};LEAP.partLayout.uiProcess=function(D){var t=D.e.srcElement;var ae=D.e;
var ah=D.e.type;var X=t.tagName;var N=t.getAttribute("ctf");var i=LEAP._match(t,LEAP.partLayout.d,"ct",99);if(!i){return;}var o=i.getAttribute("runtime");var V=i.getAttribute("autoedit");var M=LEAP.getElement("[ctf=partmainbox]",i);if(V=="1"){if(o=="0"){if(ah=="click"){if(N=="partItem"||N=="partmove"){var H=null;
if(N=="partmove"){H=LEAP._match(t,"partItem","ctf",5);}else{H=t;}LEAP.partLayout.selectItem(i,H);ElementEventManager.handleEvent(i,"itemClick",{element:i,item:H});}else{if(N=="partdel"){var H=null;if(N=="partdel"){H=LEAP._match(t,"partItem","ctf",5);}LEAP.partLayout.selectItem(i,H);LEAP.partLayout.removeModule(i,H);
}else{var H=LEAP._match(t,"partItem","ctf",20);if(H!=null){LEAP.partLayout.selectItem(i,H);ElementEventManager.handleEvent(i,"itemClick",{element:i,item:H});}}}}}else{if(o=="1"){if(ah=="mouseover"&&N=="partmove"){var ac=LEAP.getElements("[ctf=partmodulebox]",i);if(ac){LEAP.removeCSS(ac,"part-item-shadow");
}var H=LEAP._match(t,"partmodulebox","ctf",5);if(H){LEAP.addCSS(H,"part-item-shadow");LEAP.removeEvent(H,"mouseout",LEAP.partLayout.uiProcess,true);LEAP.addEvent(H,"mouseout",LEAP.partLayout.uiProcess,null,null,true);}}else{if(ah=="mouseout"&&N=="partmove"){var H=LEAP._match(t,"partmodulebox","ctf",5);
if(H){LEAP.removeCSS(H,"part-item-shadow");}}}if(ah=="click"&&N=="partdel"){var H=LEAP._match(t,"partItem","ctf",20);var b=H.getAttribute("moduleinfo");if(b!=null){LEAP.partLayout.hideModule(i,JSON.parse(b));LEAP.partLayout.setEditState(i,true);ElementEventManager.handleEvent(i,"partDel",{element:i,item:H,data:JSON.parse(b)});
}}}}if(ah=="mousedown"&&N=="partmove"){if(o=="0"){var H=LEAP._match(t,"partItem","ctf",5);LEAP.partLayout.selectItem(i,H);ElementEventManager.handleEvent(i,"itemClick",{element:i,item:H});}var z=LEAP._match(t,"partmodulebox","ctf",5);var af=LEAP.getElement("[ctf=partcontent]",z);var g=LEAP.getAbsolutePos(i);
var B=t;var L=LEAP.getAbsolutePos(B);var R=pageYOffset;if(i.getAttribute("ishauto")=="1"){R=0;}B.x=ae.clientX-L.x;B.y=ae.clientY-L.y;LEAP.addEvent(document.body,"mousemove",LEAP.partLayout.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseup",LEAP.partLayout.uiProcess,null,null,true);if(i._tempDiv==null){var C=document.createElement("div");
LEAP.setStyle(C,{position:"absolute",width:(B.clientWidth)+"px",height:(B.clientHeight)+"px",outline:"2px dashed #00A8EC",left:((L.x+2)-g.x)+"px",top:((L.y+R+2)-g.y)+"px",zIndex:"9999",cursor:"move"});i.appendChild(C);i._tempDiv=C;var W=document.createElement("div");LEAP.setStyle(W,{position:"absolute",width:(B.clientWidth)+"px",height:(B.clientHeight)+"px",boxShadow:"0 1px 4px 0 rgba(0,0,0,.2),0 3px 12px 0 rgba(0,0,0,.2)",left:((L.x+2)-g.x)+"px",top:((L.y+R+2)-g.y)+"px",zIndex:"9999",background:"#FFFFFF",cursor:"move"});
var f=document.createElement("div");f.className="prat-item-content-move";LEAP.setStyle(f,{zIndex:"9999"});var Z=document.createElement("div");Z.className="prat-item-del";LEAP.setStyle(Z,{zIndex:"9999"});W.innerHTML=af.innerHTML;W.appendChild(f);W.appendChild(Z);i.appendChild(W);var ag=LEAP.getElement("[ctf=partdel]",z);
LEAP.setStyle(ag,{display:"none"});LEAP.addCSS(t,"part-item-movebgcolor");i._tempDiv1=W;}var z=LEAP._match(B,"partmodulebox","ctf",5);z.x=B.x;z.y=B.y;z.x1=ae.clientX-((L.x+2)-g.x);z.y1=ae.clientY-((L.y+R+2)-g.y);z.elpos=g;i._objDiv=z;}if(ah=="mousemove"&&i._objDiv!=null){var a=pageYOffset;if(i.getAttribute("ishauto")=="1"){a=0;
}var n=M.scrollHeight;var O=M.clientHeight;var S=ae.clientX-i._objDiv.x1;var R=ae.clientY-i._objDiv.y1+a;if(S<0){S=0;}if(R<0){R=0;}if(S==0||R==0){LEAP.stopEvent(ae);}var g=LEAP.getAbsolutePos(i);var U=0;var ab=0;if(o!="0"){U=i._tempDiv1.clientWidth;ab=i._tempDiv1.clientHeight;}else{U=i._tempDiv.clientWidth;
ab=i._tempDiv.clientHeight;}var u=i.clientWidth;var K=i.clientHeight;if(u>0&&U+S>u){S=u-U;}if((u>0&&U+S>u)){LEAP.stopEvent(ae);}LEAP.setStyle(i._tempDiv1,{left:S+"px",top:(R)+"px"});if((R+i._tempDiv1.clientHeight+10)>O){M.scrollTop=M.scrollTop+15;}else{if((R-20)<0){M.scrollTop=M.scrollTop-15;}}var d=0;
if(i.getAttribute("ishauto")=="1"){d=pageYOffset;}else{d=a;}var H=LEAP.partLayout.itemLocation(i,ae.clientX,ae.clientY+d,i._objDiv);if(H!=null){var c=i._objDiv.style.top.replace("px","");if(c==""){c=10;}c=parseInt(c);var L=LEAP.getAbsolutePos(H);var Q=i._objDiv.parentElement.getAttribute("ctfe");var Y=H.getAttribute("ctfe");
LEAP.setStyle(i._tempDiv,{left:(((L.x+2)+c)-g.x)+"px",top:((L.y+a+2+c)-g.y)+"px",width:(H.clientWidth-c*2)+"px",height:(H.clientHeight-c*2)+"px"});if(o=="1"){if(Q!="partlayoutbox"&&Y=="partlayoutbox"){i._tempDiv["__changetype"]="1";LEAP.setStyle(i._tempDiv,{outlineColor:"red"});}else{if(Q=="partlayoutbox"&&Y!="partlayoutbox"){i._tempDiv["__changetype"]="2";
}else{i._tempDiv["__changetype"]=null;LEAP.setStyle(i._tempDiv,{outlineColor:"#00A8EC"});}}}i.__tempitem=H;}else{LEAP.setStyle(i._tempDiv,{left:S+"px",top:(R)+"px",width:i._objDiv.clientWidth+"px",height:i._objDiv.clientHeight+"px"});}LEAP.stopEvent(ae);}if(ah=="mouseup"&&i._objDiv!=null){var ad=i._tempDiv["__changetype"];
var a=pageYOffset;var r=LEAP.getElement("[ctf=partmove]",i._objDiv);if(r){var ag=LEAP.getElement("[ctf=partdel]",r);if(ag){ag.style.display="";}LEAP.removeCSS(r,"part-item-movebgcolor",false);}if(o=="1"){if(ad=="1"){LEAP.messagebox.alert("移动模块小于当前模块无法移动");LEAP.removeEvent(document.body,"mousemove",LEAP.partLayout.uiProcess,true);
LEAP.removeEvent(document.body,"mouseup",LEAP.partLayout.uiProcess,true);LEAP.stopEvent(ae);if(i._tempDiv){i.removeChild(i._tempDiv);i._tempDiv=null;}if(i._tempDiv1){i.removeChild(i._tempDiv1);i._tempDiv1=null;}i._objDiv=null;i.__tempitem=null;LEAP.partLayout.setElementModules(i);return;}}var H=i.__tempitem;
if(H!=null){if(ad=="2"){var J=LEAP._match(H,"partlayoutbox","ctfe",5);var v=i._objDiv.parentElement;var j=v.nextElementSibling;var q=J.nextElementSibling;var C=document.createElement("div");C.style.display="none";var W=document.createElement("div");W.style.display="none";if(j!=null){M.insertBefore(C,j);
}else{M.appendChild(C);}if(q!=null){M.insertBefore(W,q);}else{M.appendChild(W);}M.insertBefore(J,C);M.insertBefore(v,W);M.removeChild(C);M.removeChild(W);}else{var F=H;var z=LEAP.getElement("[ctf=partmodulebox]",F);if(z!=null){var v=i._objDiv.parentElement;var p=F.getAttribute("moduleinfo");var G=v.getAttribute("moduleinfo");
var b=JSON.parse(p);var P=JSON.parse(G);if(!b.lockmodule&&!P.lockmodule){LEAP.partLayout.exchangeattribute(v,F);F.appendChild(i._objDiv);v.appendChild(z);LEAP.partLayout.setItemMargin1(v,F);}}else{if(!String.isEmpty(F.getAttribute("minstance"))){var v=i._objDiv.parentElement;var G=v.getAttribute("moduleinfo");
var P=JSON.parse(G);if(!P.lockmodule){LEAP.partLayout.exchangeattribute(F,i._objDiv.parentElement);F.appendChild(i._objDiv);}}else{var v=i._objDiv.parentElement;var G=v.getAttribute("moduleinfo");var P=JSON.parse(G);if(!P.lockmodule){LEAP.partLayout.exchangeattribute(F,i._objDiv.parentElement);F.appendChild(i._objDiv);
}}}}}LEAP.removeEvent(document.body,"mousemove",LEAP.partLayout.uiProcess,true);LEAP.removeEvent(document.body,"mouseup",LEAP.partLayout.uiProcess,true);LEAP.stopEvent(ae);if(i._tempDiv){i.removeChild(i._tempDiv);i._tempDiv=null;}if(i._tempDiv1){i.removeChild(i._tempDiv1);i._tempDiv1=null;}i._objDiv=null;
i.__tempitem=null;LEAP.partLayout.setElementModules(i);}if(ah=="mousedown"&&(N=="partresize_left"||N=="partresize_bottom")){var B=t;var E=B.parentElement;var g=LEAP.getAbsolutePos(i);var L=LEAP.getAbsolutePos(B);var m=null;if(N=="partresize_left"){B.x=ae.clientX-L.x;m="e-resize";}else{if(N=="partresize_bottom"){B.y=ae.clientY-L.y;
m="n-resize";}}var R=pageYOffset;LEAP.addEvent(document.body,"mousemove",LEAP.partLayout.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseup",LEAP.partLayout.uiProcess,null,null,true);if(i._tempDiv==null){var C=document.createElement("div");LEAP.setStyle(C,{position:"absolute",width:(B.clientWidth)+"px",height:(B.clientHeight)+"px",left:((L.x+2)-g.x)+"px",top:((L.y+R+2)-g.y)+"px",zIndex:"9999",cursor:m});
i.appendChild(C);i._tempDiv=C;}E.x=B.x;E.y=B.y;E.selectctf=N;E.x1=ae.clientX-((L.x+2)-g.x);E.x2=ae.clientX-E.x1;E.y1=ae.clientY-((L.y+R+2)-g.y);E.y2=ae.clientY-E.y1;E.elpos=g;E.cw=E.clientWidth;E.ch=E.clientHeight;var A=E.parentElement.clientWidth;var O=E.parentElement.clientHeight;E.pcw=A;E.pch=O;i._objresizeDiv=E;
}if(ah=="mousemove"&&i._objresizeDiv){var s=i._objresizeDiv.selectctf;if(s=="partresize_left"){var S=ae.clientX-i._objresizeDiv.x1;if(S<0){S=0;}var g=LEAP.getAbsolutePos(i);U=i._tempDiv.clientWidth;var u=i.clientWidth;if(u>0&&U+S>u){S=u-U;}if((u>0&&U+S>u)){LEAP.stopEvent(ae);}LEAP.setStyle(i._tempDiv,{left:S+"px"});
var I=S-i._objresizeDiv.x2;var T=i._objresizeDiv.cw;var A=i._objresizeDiv.pcw;var l=((T+I)/A)*100;LEAP.partLayout.setItemW(i,parseInt(l)+"%",i._objresizeDiv);}else{if(s=="partresize_bottom"){var R=ae.clientY-i._objresizeDiv.y1;LEAP.setStyle(i._tempDiv,{top:R+"px"});var I=R-i._objresizeDiv.y2;var aa=i._objresizeDiv.ch;
var O=i._objresizeDiv.pch;var l=((aa+I)/O)*100;if(i._objresizeDiv.getAttribute("ctfe")!="partlayoutbox"){LEAP.partLayout.setItmeH(i,parseInt(l)+"%",i._objresizeDiv);}else{LEAP.partLayout.setItmeH(i,(aa+I)+"px",i._objresizeDiv);}}}}if(ah=="mouseup"&&i._objresizeDiv){LEAP.removeEvent(document.body,"mousemove",LEAP.partLayout.uiProcess,true);
LEAP.removeEvent(document.body,"mouseup",LEAP.partLayout.uiProcess,true);LEAP.stopEvent(ae);if(i._tempDiv){i.removeChild(i._tempDiv);i._tempDiv=null;}i._objresizeDiv=null;}}};LEAP.partLayout.setItemMargin1=function(b,e){var i=b.getAttribute("itemmargins");var g=e.getAttribute("itemmargins");if(!String.isEmpty(i)){i=JSON.parse(i);
var f=i.top;var a=i.bottom;var c=i.left;var h=i.right;var d=LEAP.getElement("[ctf=partmodulebox]",b);if(d!=null){if(!String.isEmpty(f)){d.style.top=f;}else{d.style.top="";}if(!String.isEmpty(a)){d.style.bottom=a;}else{d.style.bottom="";}if(!String.isEmpty(c)){d.style.left=c;}else{d.style.left="";}if(!String.isEmpty(h)){d.style.right=h;
}else{d.style.right="";}}}else{var d=LEAP.getElement("[ctf=partmodulebox]",b);if(d!=null){d.style.top="";d.style.bottom="";d.style.left="";d.style.right="";}}if(!String.isEmpty(g)){g=JSON.parse(g);var f=g.top;var a=g.bottom;var c=g.left;var h=g.right;var d=LEAP.getElement("[ctf=partmodulebox]",e);if(d!=null){if(!String.isEmpty(f)){d.style.top=f;
}else{d.style.top="";}if(!String.isEmpty(a)){d.style.bottom=a;}else{d.style.bottom="";}if(!String.isEmpty(c)){d.style.left=c;}else{d.style.left="";}if(!String.isEmpty(h)){d.style.right=h;}else{d.style.right="";}}}else{var d=LEAP.getElement("[ctf=partmodulebox]",e);if(d!=null){d.style.top="";d.style.bottom="";
d.style.left="";d.style.right="";}}};LEAP.partLayout.exchangeattribute=function(a,f){var i=a.getAttribute("moduleinfo");var j=a.getAttribute("minstance");var d=a.getAttribute("partgroup");var c=a.getAttribute("resourceid");var e=f.getAttribute("moduleinfo");var g=f.getAttribute("minstance");var b=f.getAttribute("partgroup");
var h=f.getAttribute("resourceid");if(!String.isEmpty(i)){f.setAttribute("moduleinfo",i);}else{f.removeAttribute("moduleinfo");}if(!String.isEmpty(e)){a.setAttribute("moduleinfo",e);}else{a.removeAttribute("moduleinfo");}if(!String.isEmpty(j)){f.setAttribute("minstance",j);}else{f.removeAttribute("minstance");
}if(!String.isEmpty(g)){a.setAttribute("minstance",g);}else{a.removeAttribute("minstance");}if(!String.isEmpty(d)){f.setAttribute("partgroup",d);}else{f.removeAttribute("partgroup");}if(!String.isEmpty(b)){a.setAttribute("partgroup",b);}else{a.removeAttribute("partgroup");}if(!String.isEmpty(c)){f.setAttribute("resourceid",c);
}else{f.removeAttribute("resourceid");}if(!String.isEmpty(h)){a.setAttribute("resourceid",h);}else{a.removeAttribute("resourceid");}};LEAP.partLayout.itemLocation=function(b,j,g,a){var o=pageYOffset;var e=LEAP.getElements("[ctf=partItem]",b);var n=null;for(var c=0;c<e.length;c++){var f=LEAP.getAbsolutePos(e[c]);
var l=e[c].clientWidth;var d=e[c].clientHeight;if((f.x<j&&j<(f.x+l))&&((f.y+o)<g&&g<(f.y+o+d))){n=e[c];break;}}return n;};LEAP.partLayout.setModules=function(c,a,b){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}if(c.__modules==null){c.__modules=new hashtable();}c.__modules.add(a,b);};LEAP.partLayout.setItemContent=function(a,r,t,p,j){a=LEAP._check(a,LEAP.partLayout.d);
if(!a){return;}var o=a.getAttribute("runtime");var d=a.getAttribute("autoedit");if(!t.path){LEAP.partLayout.destroyModule(r);}r.innerHTML=LEAP.partLayout.moduleitem;var i=LEAP.getElement("[ctf=partcontent]",r);if(i!=null){var e=LEAP.getElement("[ctf=partmodulebox]",r);if(o=="1"&&d=="0"){var f=LEAP.getElement("[ctf=partmove]",r);
LEAP.setStyle(f,{display:"none"});}var l=null;if(p){l=p;}else{l=UUID.cID();}r.setAttribute("minstance",l);if(!String.isEmpty(t.resourceid)){r.setAttribute("resourceid",t.resourceid);}var n=null;var b=r.getAttribute("itemmargins");if(!String.isEmpty(b)){n=JSON.parse(b);}var m={};for(var u in t){m[u]=t[u];
}m.minstance=l;m.isdisplay="block";if(n!=null){if(n.top){e.style.top=n.top;}if(n.bottom){e.style.bottom=n.bottom;}if(n.right){e.style.right=n.right;}if(n.left){e.style.left=n.left;}}r.setAttribute("moduleinfo",JSON.stringify(m));if(t.contenttype=="website"){if(t.websitetype=="1"){i.innerHTML=LEAP.partLayout.vueitem.replace("@src",leapconfig.server+t.icon);
}else{if(t.websitetype=="2"){i.innerHTML=LEAP.partLayout.pathitem.replace("@src",t.path);}}}else{if(t.path){LEAP.partLayout.setItempath(i,t);}else{var s={resource:t,par:LEAP.partLayout.getModulecustomize(t)};var g=t.name;if(!String.isEmpty(j)){var h={};h.path=g;h.parent=i;h.moduleLoadArg=s;LEAP.asyn(LEAP.partLayout.partLoadModule,null,LEAP.tonum(j),h,a);
}else{var c=LEAP.getLoadedModule(a.getAttribute("instance"));if(c!=null){var q=c.loadModule2({path:g,parent:i,moduleLoadArg:s});}}}}if(o=="0"&&d=="1"){LEAP.partLayout.initdragsize(null,r);}LEAP.partLayout.setElementModules(a);}};LEAP.partLayout.setItempath=function(b,a){LEAP.linkiframe.build(b,a.path,a.customize);
};LEAP.partLayout.partLoadModule=function(c,b){var d=LEAP.getLoadedModule(b.getAttribute("instance"));if(d!=null){var a=d.loadModule2(c);LEAP.partLayout.setModules(b,c.path,a);}};LEAP.partLayout.moduleRequest=function(b,a){var d=LEAP.getElement("[ct=partLayout]");if(d==null){return;}var c=d.__modules.getvalue(b);
if(c!=null){if(c.moduleResponse){c.moduleResponse(a);}}};LEAP.partLayout.hideModule=function(c,l){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}if(l.lockmodule){return;}var n=l.minstance;var m=LEAP.getElement("[minstance="+n+"]",c);if(m!=null){LEAP.partLayout.destroyModule(m);m.innerHTML="";var b=m.getAttribute("partgroup");
l.isdisplay="none";var f=m.getAttribute("ctfe");if(f=="partlayoutbox"){LEAP.setStyle(m,{display:"none"});m.setAttribute("moduleinfo",JSON.stringify(l));LEAP.partLayout.setElementModules(c);return;}var j=LEAP.getElements("[ctf=partItem]",c);var d=LEAP.getElement("[ctf=partmainbox]",c);var h=d.getAttribute("moduleinfos");
if(!String.isEmpty(h)){h=JSON.parse(h);var g=0;for(var a=0;a<h.length;a++){if(h[a].minstance==l.minstance){g=a;break;}}if(g!=h.length-1){LEAP.partLayout.sortModule(c,j,h,l,g,b);}else{m.setAttribute("moduleinfo",JSON.stringify(l));LEAP.partLayout.setElementModules(c);}LEAP.partLayout.shrink(c,m);var e=d.getAttribute("moduleinfos");
e=JSON.parse(e);LEAP.partLayout.tianchong(c,e);}}};LEAP.partLayout.shrink=function(b,c){b=LEAP._check(b,LEAP.partLayout.d);if(!b){return;}var e=LEAP.getElements("[ctfe=partlayoutbox]",b);if(e!=null){for(var a=0;a<e.length;a++){var d=LEAP.getElements("[ctf=partmodulebox]",e[a]);if(d==null){LEAP.setStyle(e[a],{display:"none"});
}}}};LEAP.partLayout.sortModule=function(f,l,j,q,h,n){f=LEAP._check(f,LEAP.partLayout.d);if(!f){return;}if(l!=null){var e=null;for(var g=h+1;g<j.length;g++){var s=j[g].minstance;var c=j[g].resourceid;var b=j[g].name;var r=LEAP.getElement("[minstance="+s+"]",f);var d=r.getAttribute("partgroup");LEAP.partLayout.destroyModule(r);
r.innerHTML="";l[g-1].setAttribute("minstance",s);l[g-1].setAttribute("resourceid",c);l[g-1].setAttribute("moduleinfo",JSON.stringify(j[g]));if(!String.isEmpty(d)){l[g-1].setAttribute("partgroup",d);}else{l[g-1].removeAttribute("partgroup");}if(j[g].isdisplay!="none"){l[g-1].innerHTML=LEAP.partLayout.moduleitem;
var a=LEAP.getElement("[ctf=partcontent]",l[g-1]);if(j[g].path!=null){LEAP.partLayout.setItempath(a,j[g]);}else{var o={resource:j[g],par:LEAP.partLayout.getModulecustomize(j[g])};var m=b;var p=LEAP.loadModule2({path:m,parent:a,moduleLoadArg:o});}}if(g==j.length-1){e=r;}}if(!String.isEmpty(n)){e.setAttribute("partgroup",n);
}e.setAttribute("minstance",q.minstance);e.setAttribute("resourceid",q.resourceid);e.setAttribute("moduleinfo",JSON.stringify(q));LEAP.partLayout.setElementModules(f);}};LEAP.partLayout.displayModule=function(f,o){f=LEAP._check(f,LEAP.partLayout.d);if(!f){return;}if(!o){return;}var r=o.minstance;var q=LEAP.getElement("[minstance="+r+"]",f);
var h=q.getAttribute("ctfe");if(h=="partlayoutbox"){LEAP.partLayout.setItemContent(f,q,o,r);LEAP.setStyle(q,{display:"block"});return;}var l=LEAP.getElements("[ctf=partItem]",f);if(l!=null){var b=null;for(var g=0;g<l.length;g++){var a=l[g].getAttribute("ctfe");if(String.isEmpty(l[g].innerHTML)&&a!="partlayoutbox"){b=l[g];
break;}}if(b.getAttribute("minstance")!=o.minstance){var n=b.getAttribute("minstance");var e=b.getAttribute("resourceid");var p=b.getAttribute("moduleinfo");b.setAttribute("minstance",o.minstance);b.setAttribute("resourceid",o.resourceid);b.setAttribute("moduleinfo",JSON.stringify(o));q.setAttribute("minstance",n);
q.setAttribute("moduleinfo",p);q.setAttribute("resourceid",e);}else{b=q;}}var j=b.getAttribute("oldheight");if(j!=null){var d=b.previousElementSibling;if(d!=null){var m=d.getAttribute("oldheight");if(m!=null){b.style.height=j;d.style.height=m;b.removeAttribute("oldheight");d.removeAttribute("oldheight");
}}}LEAP.partLayout.setItemContent(f,b,o,r);var c=LEAP._match(b,"partlayoutbox","ctfe",50);LEAP.setStyle(c,{display:"block"});};LEAP.partLayout.removeModule=function(b,d){b=LEAP._check(b,LEAP.partLayout.d);if(!b){return;}var c=LEAP.partLayout.checkSelect(b);if(d!=null){c=d;}if(!c){return;}var a=c.getAttribute("moduleinfo");
if(!String.isEmpty(a)){a=JSON.parse(a);if(!a.path){LEAP.partLayout.destroyModule(c);}c.removeAttribute("moduleinfo");c.removeAttribute("minstance");c.removeAttribute("partgroup");c.innerHTML="";LEAP.partLayout.setElementModules(b);}};LEAP.partLayout.setElementModules=function(e){e=LEAP._check(e,LEAP.partLayout.d);
if(!e){return;}var f=LEAP.getElements("[ctf=partItem]",e);if(f!=null){var b=[];for(var d=0;d<f.length;d++){var a=f[d].getAttribute("moduleinfo");if(!String.isEmpty(a)){a=JSON.parse(a);b.add(a);}}var g=JSON.stringify(b);var c=LEAP.getElement("[ctf=partmainbox]",e);c.setAttribute("moduleinfos",g);}};LEAP.partLayout.getElementModules=function(g,e){g=LEAP._check(g,LEAP.partLayout.d);
if(!g){return;}var c=LEAP.getElement("[ctf=partmainbox]",g);var d=c.getAttribute("moduleinfos");if(!String.isEmpty(d)){d=JSON.parse(d);var b=g.__resoucedatas;if(b==null){return null;}for(var f=0;f<b.length;f++){var h=LEAP.getElement("[resourceid="+b[f].id+"]",c);if(h!=null){var a=h.getAttribute("moduleinfo");
if(a!=null){a=JSON.parse(a);b[f].isdisplay=a.isdisplay;b[f].lockmodule=a.lockmodule;}}else{b[f].isdisplay="none";}}return b;}return null;};LEAP.partLayout.getNowDate=function(b,c){if(b!=null&&c!=null){return c-b;}else{var a=new Date();return a.getTime();}};LEAP.partLayout.createNewModule=function(b,y){b=LEAP._check(b,LEAP.partLayout.d);
if(!b){return;}var n=null;var a=b.__systemname;if(y.resourcetype=="11"){n={};n.showname=y.showname;n.name=a+y.name.replace(a+"_ipm_","");n.path=y.url;n.resourceid=y.id;}else{if(y.resourcetype=="3"){var A=y.url;n=LEAP.request2({name:"Studiov6_getindexPartBean",par:{name:A},router:"leap"});if(n!=null){n.resourceid=y.id;
}}}if(n!=null){var g=LEAP.getElement("[ctf=partmainbox]",b);var p=LEAP.getElements("[ctf=partItem]",g);if(p!=null){var s=false;var r=null;var w=null;for(var t=0;t<p.length;t++){var u=p[t];var l=u.getAttribute("ctfe");if(String.isEmpty(u.innerHTML)&&l!="partlayoutbox"){s=true;r=u;break;}else{if(l!="partlayoutbox"){w=u;
}}}if(s){var e=r.getAttribute("moduleinfo");if(!String.isEmpty(e)){e=JSON.parse(e);var o=e.top;var h=e.bottom;var d=e.left;var v=e.right;if(!String.isEmpty(o)){n.top=o;}if(!String.isEmpty(h)){n.bottom=h;}if(!String.isEmpty(d)){n.left=d;}if(!String.isEmpty(v)){n.right=v;}r.removeAttribute("partgroup");
r.removeAttribute("minstance");r.setAttribute("resourceid",n.resourceid);var j=r.getAttribute("oldheight");if(j!=null){var x=r.previousElementSibling;if(x!=null){var f=x.getAttribute("oldheight");if(f!=null){r.style.height=j;x.style.height=f;r.removeAttribute("oldheight");x.removeAttribute("oldheight");
}}}LEAP.partLayout.setItemContent(b,r,n);LEAP.partLayout.setElementModules(b);var z=LEAP._match(r,"partlayoutbox","ctfe",10);LEAP.setStyle(z,{display:"block"});}else{r.setAttribute("resourceid",n.resourceid);LEAP.partLayout.setItemContent(b,r,n);LEAP.partLayout.setElementModules(b);var z=LEAP._match(r,"partlayoutbox","ctfe",10);
LEAP.setStyle(z,{display:"block"});}}else{var z=LEAP._match(w,"partlayoutbox","ctfe",10);if(z!=null){var c=z.cloneNode(true);if(c!=null){var q=null;var m=LEAP.getElements("[ctf=partItem]",c);if(m!=null){for(var t=0;t<m.length;t++){m[t].innerHTML="";m[t].removeAttribute("partgroup");m[t].removeAttribute("minstance");
m[t].removeAttribute("resourceid");if(t==0){q=m[t];}}var e=q.getAttribute("moduleinfo");if(!String.isEmpty(e)){e=JSON.parse(e);var o=e.top;var h=e.bottom;var d=e.left;var v=e.right;if(!String.isEmpty(o)){n.top=o;}if(!String.isEmpty(h)){n.bottom=h;}if(!String.isEmpty(d)){n.left=d;}if(!String.isEmpty(v)){n.right=v;
}q.setAttribute("resourceid",n.resourceid);LEAP.partLayout.setItemContent(b,q,n);LEAP.partLayout.setElementModules(b);LEAP.setStyle(c,{display:"block"});}}g.appendChild(c);}}}}}};LEAP.partLayout.getModulecustomize=function(data){if(data!=null&&data.customize!=null&&!String.isEmpty(data.customize)){var _par=null;
try{_par=eval("({"+data.customize+"})");}catch(e){}if(_par==null){_par=data.customize;}return _par;}};LEAP.partLayout.getLayoutTree=function(c,l){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}var e=null;if(l==null){var h=LEAP.getElements("[ctfe=partlayoutbox]",c);if(h!=null){e=[];for(var d=0;d<h.length;
d++){var a={};var j=h[d].getAttribute("treeinstance");a.treeinstance=j;a.showname="布局排版"+(d+1);a.lt=h[d].getAttribute("lt");a.haschild=LEAP.getElement("[pbt=line]",h[d])!=null?"1":"0";e.add(a);}return e.length>0?e:null;}}else{var g=l.children;var f=0;if(g!=null){e=[];for(var d=0;d<g.length;d++){var b=g[d].getAttribute("pbt");
if(!String.isEmpty(b)){var a={};var j=g[d].getAttribute("treeinstance");a.treeinstance=j;a.showname="布局排版"+(f+=1);a.lt=g[d].getAttribute("lt");a.haschild=LEAP.getElement("[pbt=line]",g[d])!=null?"1":"0";e.add(a);}}return e.length>0?e:null;}}};LEAP.partLayout.setLayoutTreeInstance=function(c){if(!c){return;
}var a=LEAP.getElements("[pbt=line]",c);if(a!=null){for(var b=0;b<a.length;b++){a[b].setAttribute("treeinstance",UUID.cID());}}};LEAP.partLayout.changeItem=function(j,q,n){j=LEAP._check(j,LEAP.partLayout.d);if(!j){return;}var l=LEAP.getElement("[ctf=partmainbox]",j);var d=LEAP.getElement("[treeinstance="+q+"]",j);
var m=LEAP.getElement("[treeinstance="+n+"]",j);var g=d.parentElement;var f=m.parentElement;if(d.getAttribute("ctfe")=="partlayoutbox"){l.insertBefore(d,m);}else{var p=d.attributes;var e=m.attributes;var c=d.nextElementSibling;var b=m.nextElementSibling;var a={};a["class"]=d.getAttribute("class");a.style=d.getAttribute("style");
a.lt=d.getAttribute("lt");var o={};o["class"]=m.getAttribute("class");o.style=m.getAttribute("style");o.lt=m.getAttribute("lt");if(c!=null){g.insertBefore(m,c);}else{g.appendChild(m);}if(b!=null){f.insertBefore(d,b);}else{f.appendChild(d);}for(key in o){var s=o[key];d.setAttribute(key,s);}for(key in a){var s=a[key];
m.setAttribute(key,s);}if(d.previousElementSibling!=null){var r=d.children;for(var h=0;h<r.length;h++){if(r[h].getAttribute("ctf")=="partresize_left"||r[h].getAttribute("ctf")=="partresize_bottom"){d.removeChild(r[h]);break;}}}else{LEAP.partLayout.initdragsize(null,d);}if(m.previousElementSibling!=null){var r=m.children;
for(var h=0;h<r.length;h++){if(r[h].getAttribute("ctf")=="partresize_left"||r[h].getAttribute("ctf")=="partresize_bottom"){m.removeChild(r[h]);break;}}}else{LEAP.partLayout.initdragsize(null,m);}}};LEAP.partLayout.addLayout=function(c,d){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}var e=document.createElement("div");
e.className="part-wrap";e.setAttribute("ctf","partItem");e.setAttribute("ctfe","partlayoutbox");e.setAttribute("lt","h");e.setAttribute("pbt","line");if(d=="1"){e.setAttribute("fulltype","1");e.style.height="100%";}e.setAttribute("treeinstance",UUID.cID());e.innerHTML='<div class="prat-item-dragbottom" ctf="partresize_bottom"></div>';
var b=LEAP.getElement("[ctf=partmainbox]",c);if(LEAP.getElement("[ctf=tempwarp]",b)!=null){b.insertBefore(e,LEAP.getElement("[ctf=tempwarp]",b));}else{b.appendChild(e);}var a=LEAP.getAbsolutePos(c);var f=LEAP.getAbsolutePos(e);b.scrollTop=f.y+b.scrollTop-a.y;};LEAP.partLayout.removeLayout=function(c){c=LEAP._check(c,LEAP.partLayout.d);
if(!c){return;}var a=LEAP.getElement("[ctf=partmainbox]",c);var e=c.__selectItem;if(!e){return;}var g=null;if(e.getAttribute("ctfe")=="partlayoutbox"){g=e;}else{g=LEAP._match(e,"partlayoutbox","ctfe",50);}var d=LEAP.getElements("[ctf=partItem]",g);if(d!=null){if(window.confirm("布局下有子模块确定全部移除?")){for(var b=0;
b<d.length;b++){LEAP.partLayout.destroyModule(d[b]);}a.removeChild(g);}}else{var f=LEAP.getElement("[ctf=partcontent]",g);if(f!=null){if(window.confirm("布局下有模型确定移除?")){LEAP.partLayout.destroyModule(g);a.removeChild(g);}}else{a.removeChild(g);}}};LEAP.partLayout.getSelectItem=function(a){a=LEAP._check(a,LEAP.partLayout.d);
if(!a){return;}var b=LEAP.getElement(".part-sel",a);if(b!=null){return b;}return null;};LEAP.partLayout.checkSelect=function(a){a=LEAP._check(a,LEAP.partLayout.d);if(!a){return;}var b=LEAP.partLayout.getSelectItem(a);if(b==null){alert("请选择要操作的单元");return false;}return b;};LEAP.partLayout.splitW=function(c){c=LEAP._check(c,LEAP.partLayout.d);
if(!c){return;}var f=LEAP.partLayout.checkSelect(c);if(!f){return;}if(!String.isEmpty(f.getAttribute("minstance"))){var b=f.getAttribute("minstance");var a=f.getAttribute("moduleinfo");LEAP.partLayout.destroyModule(f);f.innerHTML=LEAP.partLayout.leftrightstr;LEAP.partLayout.setLayoutTreeInstance(f);f.removeAttribute("ctf");
f.removeAttribute("minstance");f.removeAttribute("moduleinfo");var e=f.children[0];var d=JSON.parse(a);LEAP.partLayout.setItemContent(c,e,d,b);LEAP.partLayout.removeSelected(c);f.setAttribute("pinstance",UUID.cID());}else{f.innerHTML=LEAP.partLayout.leftrightstr;LEAP.partLayout.setLayoutTreeInstance(f);
f.removeAttribute("ctf");LEAP.partLayout.removeSelected(c);f.setAttribute("pinstance",UUID.cID());}LEAP.partLayout.initdragsize(f);if(f.previousElementSibling==null){LEAP.partLayout.initdragsize(null,f);}else{if(f.getAttribute("ctfe")=="partlayoutbox"){LEAP.partLayout.initdragsize(null,f);}}};LEAP.partLayout.splitH=function(c){c=LEAP._check(c,LEAP.partLayout.d);
if(!c){return;}var f=LEAP.partLayout.checkSelect(c);if(!f){return;}if(!String.isEmpty(f.getAttribute("minstance"))){var b=f.getAttribute("minstance");var a=f.getAttribute("moduleinfo");LEAP.partLayout.destroyModule(f);f.innerHTML=LEAP.partLayout.updownstr;LEAP.partLayout.setLayoutTreeInstance(f);f.removeAttribute("ctf");
f.removeAttribute("minstance");f.removeAttribute("moduleinfo");var e=f.children[0];var d=JSON.parse(a);LEAP.partLayout.setItemContent(c,e,d,b);LEAP.partLayout.removeSelected(c);f.setAttribute("pinstance",UUID.cID());}else{f.innerHTML=LEAP.partLayout.updownstr;LEAP.partLayout.setLayoutTreeInstance(f);
f.removeAttribute("ctf");LEAP.partLayout.removeSelected(c);f.setAttribute("pinstance",UUID.cID());}LEAP.partLayout.initdragsize(f);if(f.previousElementSibling==null){LEAP.partLayout.initdragsize(null,f);}else{if(f.getAttribute("ctfe")=="partlayoutbox"){LEAP.partLayout.initdragsize(null,f);}}};LEAP.partLayout.merge=function(e){e=LEAP._check(e,LEAP.partLayout.d);
if(!e){return;}var d=LEAP.partLayout.checkSelect(e);if(!d){return;}if(d.getAttribute("ctfe")=="partlayoutbox"){return;}var g=d.parentElement;if(g!=null){if(!String.isEmpty(d.getAttribute("minstance"))){var i=d.getAttribute("minstance");var h=d.getAttribute("moduleinfo");LEAP.partLayout.destroyModule(d);
var c=d.nextElementSibling;var f=d.previousElementSibling;var b=null;if(c!=null){b=c;}else{if(f!=null){b=f;}}if(!String.isEmpty(b.getAttribute("minstance"))){LEAP.partLayout.destroyModule(b);}g.setAttribute("ctf","partItem");var a=JSON.parse(h);LEAP.partLayout.setItemContent(e,g,a,i);}else{var c=d.nextElementSibling;
var f=d.previousElementSibling;var b=null;if(c!=null){b=c;}else{if(f!=null){b=f;}}if(!String.isEmpty(b.getAttribute("minstance"))){var i=b.getAttribute("minstance");var h=b.getAttribute("moduleinfo");LEAP.partLayout.destroyModule(b);g.setAttribute("ctf","partItem");var a=JSON.parse(h);LEAP.partLayout.setItemContent(e,g,a,i);
}else{g.innerHTML="";g.setAttribute("ctf","partItem");}}if(g.previousElementSibling==null){LEAP.partLayout.initdragsize(null,g);}else{if(g.getAttribute("ctfe")=="partlayoutbox"){LEAP.partLayout.initdragsize(null,g);}}LEAP.partLayout.removeSelected(e);g.removeAttribute("pinstance");e.__selectItem=null;
}};LEAP.partLayout.removeSelected=function(a){a=LEAP._check(a,LEAP.partLayout.d);if(!a){return;}var b=LEAP.getElement(".part-sel",a);if(b!=null){LEAP.removeCSS(b,"part-sel",false);}};LEAP.partLayout.setItemW=function(f,i,a){f=LEAP._check(f,LEAP.partLayout.d);if(!f){return;}var e=null;if(a!=null){e=a;
}if(!e){e=LEAP.partLayout.checkSelect(f);}if(!e){return;}if(!i){return;}var c=e.getAttribute("lt");if(c!="w"){return;}var h=e.parentElement;var g=h.clientWidth;var b=e.nextElementSibling;var d=e.previousElementSibling;if(b!=null){if(i.indexOf("px")>-1){i=i.replace("px","");if(g>parseInt(i)){LEAP.partLayout.__setItemW(e,b,i,"2","left");
}}else{i=i.replace("%","");if(100>parseInt(i)){LEAP.partLayout.__setItemW(e,b,i,"1");}}}else{if(d!=null){if(i.indexOf("px")>-1){i=i.replace("px","");if(g>parseInt(i)){LEAP.partLayout.__setItemW(e,d,i,"2","right");}}else{i=i.replace("%","");if(100>parseInt(i)){LEAP.partLayout.__setItemW(e,d,i,"1");}}}}};
LEAP.partLayout.__setItemW=function(d,e,a,c,b){if(c=="1"){if(d.innerHTML!=null){d.style.position="relative";}else{d.style.position="";}d.style.left="";d.style.right="";d.style.width=a+"%";e.style.position="relative";e.style.left="";e.style.right="";e.style.width=(100-parseInt(a))+"%";if(String.isEmpty(d.parentElement.style.position)){d.parentElement.style.position="relative";
}}else{if(c=="2"){d.style.position="";d.style.left="";d.style.right="";d.style.width=a+"px";e.style.position="absolute";if(b=="left"){e.style.right="0px";e.style.left=a+"px";}else{if(b=="right"){d.style.position="absolute";d.style.right="0px";e.style.left="0px";e.style.right=a+"px";}}e.style.width="";
if(String.isEmpty(d.parentElement.style.position)){d.parentElement.style.position="relative";}}}};LEAP.partLayout.setItmeH=function(g,m,a){g=LEAP._check(g,LEAP.partLayout.d);if(!g){return;}var f=null;if(a!=null){f=a;}if(!f){f=LEAP.partLayout.checkSelect(g);}if(!f){return;}if(!m){return;}var d=f.getAttribute("lt");
if(d!="h"){return;}var l=f.getAttribute("ctfe");var j=f.parentElement.clientHeight;var c=f.nextElementSibling;var e=f.previousElementSibling;if(m.indexOf("px")>-1){var l=f.getAttribute("ctfe");m=m.replace("px","");if(l!="partlayoutbox"){if(m>=j){return;}}var b=0;var i=f.clientHeight;if(i>parseInt(m)){b=-((i+2)-parseInt(m));
}else{if(i<parseInt(m)){b=parseInt(m)-(i+2);}}f.style.height=m+"px";if(l=="partlayoutbox"){return;}if(String.isEmpty(f.parentElement.style.position)){f.parentElement.style.position="relative";}if(c!=null){f.style.position="";f.style.top="";f.style.bottom="";f.style.left="";f.style.right="";c.style.position="absolute";
c.style.top=m+"px";c.style.bottom="0px";c.style.left="0px";c.style.right="0px";c.style.height="";}else{if(e!=null){f.style.position="absolute";f.style.top="";f.style.bottom="0px";e.style.position="absolute";e.style.bottom=m+"px";e.style.top="0px";e.style.height="";}}}else{if(l=="partlayoutbox"){return;
}m=m.replace("%","");if(parseInt(m)<100){if(c!=null){f.style.height=m+"%";if(c.innerHTML!=null){c.style.position="relative";}c.style.top="";c.style.bottom="";c.style.left="";c.style.right="";c.style.height=(100-parseInt(m))+"%";}else{if(e!=null){f.style.height=m+"%";if(e.innerHTML!=null){e.style.position="relative";
}e.style.bottom="";e.style.top="";e.style.height=(100-parseInt(m))+"%";}}}}};LEAP.partLayout.selectParents=function(b){if(!b){return;}if(b.getAttribute("ctfe")=="partlayoutbox"){return;}var a=[];while(null!=b&&null!=b.parentElement&&b.parentElement.getAttribute("ctf")!="partmainbox"){if(b.parentElement.getAttribute("lt")=="w"||b.parentElement.getAttribute("lt")=="h"){a.add(b.parentElement);
}b=b.parentElement;}return a;};LEAP.partLayout.destroyModule=function(d){var c=LEAP.getElement("[ctf=partcontent]",d);if(c!=null){var e=c.children[0];if(e!=null){var a=e.getAttribute("instance");var b=LEAP.getLoadedModule(a);if(b!=null){if(b.dispose){b.dispose();b=null;}}}}};LEAP.partLayout.saveModule=function(d,c,D,g,f){d=LEAP._check(d,LEAP.partLayout.d);
if(!d){return;}if(!c){return;}var x=d.getAttribute("runtime");var l=d.getAttribute("autoedit");var B=d.__pageData;if(x=="1"){if(B!=null){c=B.name;}}var n=LEAP.getElement("[ctf=partmainbox]",d);var p=n.outerHTML;var m=document.createElement("div");m.innerHTML=p;var q=LEAP.getElements("[ctf=partItem]",m);
if(q!=null){for(var y=0;y<q.length;y++){q[y].innerHTML="";}}var v=LEAP.getElement("[ctf=tempwarp]",m);if(v!=null){var A=LEAP.getElement("[ctf=partmainbox]",m);A.removeChild(v);}var h=LEAP.getElements("[ctf=partresize_bottom]",m);var r=LEAP.getElements("[ctf=partresize_left]",m);if(h!=null){for(var y=h.length-1;
y>=0;y--){h[y].parentElement.removeChild(h[y]);}}if(r!=null){for(var y=r.length-1;y>=0;y--){r[y].parentElement.removeChild(r[y]);}}var t=LEAP.getElements(".part-sel",m);if(t!=null){LEAP.removeCSS(t,"part-sel",true);}LEAP.removeCSS(m.children[0],"part-line",false);var u=m.innerHTML;var w=null;var a=LEAP.userInfo.userid;
if(f=="1"){var j={};j.cb=g;j.domain=D;var e={};e.partid=c;if(LEAP.userInfo.userflag!="super"){e.partuserid=a;}e.htmlcontent=u;LEAP.request2({name:"Studiov6_addindexParConfig",par:{bean:e},callback:LEAP.partLayout.saveCallback,arg:j,router:"leap"});return;}var b=null;if(window.leaprouters!=null){b=LEAP.request2({name:"Studiov6_getindexPartSystemName",par:{pagename:c},router:"leap"});
}else{b=LEAP.request("Studiov6_getindexPartSystemName",{pagename:c});}if(LEAP.userInfo.userflag=="super"){w="partinitial.html";}else{w=a+".html";}var s=b+"/"+c+"/"+w;var j={};j.cb=g;j.domain=D;var C=null;if(window.leaprouters!=null){C=LEAP.request2({name:"Studiov6_getindexPartBean",par:{name:c},router:"leap"});
}else{C=LEAP.request("Studiov6_getindexPartBean",{name:c});}var e={};e.partid=C.id;if(w!="partinitial.html"){e.partuserid=a;}e.savepath=s;e.htmlcontent=u;if(window.leaprouters!=null){LEAP.request2({name:"Studiov6_addindexParConfig",par:{bean:e},callback:LEAP.partLayout.saveCallback,arg:j,router:"leap"});
}else{LEAP.request2({name:"Studiov6_addindexParConfig",par:{bean:e},callback:LEAP.partLayout.saveCallback,arg:j});}if(x=="1"){var B=d.__pageData;var z=null;var o=d.__indexstyle;if(B!=null){z=B.id;}if(o==null&&z==null){return;}LEAP.request2({name:"Studiov6_insertorupdateUserConfig",par:{userid:a,pagestyle:z,systemstyle:o},router:"leap"});
LEAP.partLayout.partstyle=z;}};LEAP.partLayout.saveCallback=function(b,a){var d=a.domain;if(d==null){d=window;}var c=a.cb;if(c!=null){c.apply(d,[b]);}};LEAP.partLayout.setQuickItem=function(c,e){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}var d=c.__selectItem;if(d!=null){var b=d.getAttribute("moduleinfo");
var a=JSON.parse(b);for(key in e){a[key]=e[key];}d.setAttribute("moduleinfo",JSON.stringify(a));LEAP.partLayout.setElementModules(c);}};LEAP.partLayout.quickitem='<div class="index-quicks-item" ctf="quickitem" quickinstance="@quickinstance"><a href="javascript:void(0)"><img src="@src@" alt=""><img src="@src1@" alt=""><span>@showname@</span><b style="display:none" ctf="quicknum"></b></a></div>';
LEAP.partLayout.showQuick=function(f){f=LEAP._check(f,LEAP.partLayout.d);if(!f){return;}var p=f.getAttribute("autoedit");var d=f.getAttribute("runtime");if(p=="1"&&d=="0"){return;}var h=LEAP.getElement("[ctf=partmainbox]",f);var r=LEAP.getElement("[ctf=partquicks]",f);if(r!=null){f.removeChild(r);}if(p=="1"&&d=="1"){return;
}var n=h.getAttribute("moduleinfos");if(!String.isEmpty(n)){n=JSON.parse(n);var m=[];for(var g=0;g<n.length;g++){var b=n[g];var l=b.isquick;var e=b.isdisplay;if(l=="1"&&e!="none"){m.add(b);}}if(m.length>0){var c=document.createElement("div");c.className="index-quicks";c.setAttribute("ctf","partquicks");
var j=new StringBuffer();j.append('<div class="index-quicks-item" ctf="quickitem_top"><a href="javascript:void(0)" ctf="quickitem_top"><img src="'+leapconfig.server+'LEAP/Resource/HTML/indexassembly/images/top.png" alt="" ctf="quickitem_top"><img src="'+leapconfig.server+'LEAP/Resource/HTML/indexassembly/images/top1.png" alt="" ctf="quickitem_top"></a></div>');
for(var g=0;g<m.length;g++){var b=m[g];var o=null;var a=null;var q=null;if(b.quickshowimg!=null&&b.quickselimg!=null){a=b.quickshowimg;q=b.quickselimg;}else{a="LEAP/Resource/HTML/indexassembly/images/f4.png";q="LEAP/Resource/HTML/indexassembly/images/f4-active.png";}o=LEAP.partLayout.quickitem.replace("@quickinstance",b.minstance).replace("@src@",leapconfig.server+a).replace("@src1@",leapconfig.server+q).replace("@showname@",b.quickshowname!=null?b.quickshowname:b.showname);
j.append(o);}j.append('<div class="index-quicks-item" ctf="quickitem_down"><a href="javascript:void(0)" ctf="quickitem_down"><img src="'+leapconfig.server+'LEAP/Resource/HTML/indexassembly/images/down.png" alt="" ctf="quickitem_down"><img src="'+leapconfig.server+'LEAP/Resource/HTML/indexassembly/images/down2.png" alt="" ctf="quickitem_down"></a></div>');
c.innerHTML=j.toString();f.appendChild(c);LEAP.addEvent(c,"click",LEAP.partLayout.quickuiProcess,null,null,true);LEAP.asyn(LEAP.partLayout.showQuickNums,null,1000,f,m);}else{return;}}};LEAP.partLayout.showQuickNums=function(e,g){e=LEAP._check(e,LEAP.partLayout.d);if(!e){return;}var m=LEAP.getElement("[ctf=partquicks]",e);
for(var f=0;f<g.length;f++){var c=g[f];var d=LEAP.getElement("[minstance="+c.minstance+"]",e);var h=LEAP.getElement("[ctf=partcontent]",d);if(h!=null){var j=LEAP.getElement("[quickinstance="+c.minstance+"]",m);var b=h.children[0];var l=b.getAttribute("instance");var a=LEAP.getLoadedModule(l);if(a!=null){if(a.showQuickNum){LEAP.asyn(LEAP.partLayout.showQnum,null,500,a,j);
}}}}};LEAP.partLayout.showQnum=function(c,a){var b=null;b=c.showQuickNum();var d=LEAP.getElement("[ctf=quicknum]",a);if(b!=null){d.innerHTML=b;d.style.display="";}else{d.style.display="none";}};LEAP.partLayout.removepartitemposy=function(b){b=LEAP._check(b,LEAP.partLayout.d);if(!b){return;}var c=LEAP.getElements("[ctf=partItem]",b);
if(c!=null){for(var a=0;a<c.length;a++){c[a].removeAttribute("partitemposy");}}};LEAP.partLayout.quickuiProcess=function(p){var b=p.e.srcElement;var g=p.e;var i=p.e.type;var r=b.tagName;var l=b.getAttribute("ctf");var o=LEAP._match(b,"partquicks","ctf",99);if(!o){return;}var f=LEAP._match(b,LEAP.partLayout.d,"ct",99);
if(!f){return;}if(i=="click"){var d=LEAP.getElement("[ctf=partmainbox]",f);if(l=="quickitem_top"){d.scrollTop=0;}else{if(l=="quickitem_down"){d.scrollTop=d.scrollHeight;}else{var n=LEAP._match(b,"quickitem","ctf",99);if(n!=null){var m=n.getAttribute("quickinstance");var h=LEAP.getElement("[minstance="+m+"]",f);
if(h!=null){var q=LEAP.getAbsolutePos(f);var j=LEAP.getAbsolutePos(h);var a=f.getAttribute("ishauto");if(a=="1"){var c=LEAP._match(b,"idxEl","ut",99);if(c!=null){if(Math.abs(j.y)==Math.abs(q.y)){c.scrollTop=0;}else{c.scrollTop=Math.abs(j.y)+c.scrollTop-Math.abs(q.y);}}}else{d.scrollTop=j.y+d.scrollTop-q.y;
}}}}}}};LEAP.partLayout.indexPartChange=function(a,b){a=LEAP._check(a,LEAP.partLayout.d);if(!a){return;}var c=b.name;a.__pageData=b;LEAP.partLayout.loadModule(a,b.name,"3");};LEAP.partLayout.setindexstyle=function(b,a){b=LEAP._check(b,LEAP.partLayout.d);if(!b){return;}b.__indexstyle=a;};LEAP.partLayout.loadModule=function(e,c,h){e=LEAP._check(e,LEAP.partLayout.d);
if(!e){return;}var w=e.getAttribute("runtime");var l=e.getAttribute("autoedit");if(!c){var m=LEAP.getElement("[ctf=partmainbox]",e);if(m!=null){m.removeAttribute("moduleinfos");m.innerHTML="";}return;}e.__indexpartid=c;var x=null;var n=null;var b=LEAP.userInfo.userid;if(w=="0"&&l=="1"){b=null;}var B=null;
var a=null;if(h!="2"){if(h=="1"||h=="4"){var E=null;if(h=="1"){E="Studiov6_delIndexPartUserConfig";LEAP.request2({name:E,par:{pagename:c,userid:b},router:"leap"});}else{if(h=="4"){E="Studiov6_changeIndexPartDefault";LEAP.request2({name:E,par:{pagename:c,userid:b,isdefault:false},router:"leap"});}}}var y=null;
if(h=="3"||h=="4"){if(LEAP.userInfo.userflag=="super"){b=null;}y="Studiov6_IndexPartChange";}else{if(h=="5"){b=LEAP.userInfo.userid;y="Studiov6_IndexPartChange1";}else{y="Studiov6_IndexPartSearchByPageName";}}B=LEAP.request2({name:y,par:{pagename:c,userid:b},router:"leap"});if(B!=null){e.__configbean=B;
e.__systemname=B.systemname;a=B.partcontent;}}else{if(e.__temphtml){a=e.__temphtml;}else{if(e.__configbean!=null){a=e.__configbean.partcontent;}}}if(!String.isEmpty(a)){e.innerHTML=a;LEAP.partLayout.setLayoutTreeInstance(e);var m=LEAP.getElement("[ctf=partmainbox]",e);if(w=="1"){var o=m.getAttribute("notscroll");
if(o=="1"){e.setAttribute("ishauto","1");}else{e.removeAttribute("ishauto");}}if(e.getAttribute("ishauto")=="1"){e.parentElement.style.position="static";}if(m.getAttribute("isoverflow")!=null){m.removeAttribute("isoverflow");m.removeAttribute("scrollops");m.removeAttribute("style");}var d=LEAP.getElement("[ctf=vertical]",e);
if(d!=null){m.removeChild(d);}var G=LEAP.getElement("[ctf=lcscrollbox]",e);if(G){m.innerHTML=G.innerHTML;}if(w=="0"&&l=="1"){var g=m.getAttribute("moduleinfos");if(!String.isEmpty(g)){g=JSON.parse(g);var A=[];for(var z=0;z<g.length;z++){var j=g[z];var C=LEAP.getElement("[minstance="+j.minstance+"]",e);
if(String.isEmpty(C.getAttribute("itemmargins"))){var s={};if(!String.isEmpty(j.top)){s.top=j.top;}if(!String.isEmpty(j.left)){s.left=j.left;}if(!String.isEmpty(j.bottom)){s.bottom=j.bottom;}if(!String.isEmpty(j.right)){s.right=j.right;}var r=(s.top||s.left||s.bottom||s.right)!=null?s:null;if(r!=null){C.setAttribute("itemmargins",JSON.stringify(r));
}}if(j.isdisplay=="none"||j.path){continue;}A.add(j.name);}var F={};F.element=e;F.moduleinfos=g;F.partmainbox=m;F.runtime=w;F.autoedit=l;if(window.leaprouters!=null){LEAP.asynFillModuleAuthoritys(A,LEAP.partLayout.asynLoadModule,window,F);}else{LEAP.partLayout.asynLoadModule(F);}}else{LEAP.partLayout.initdragsize(e);
}}else{if(h!="3"&&h!="4"){var g=m.getAttribute("moduleinfos");if(!String.isEmpty(g)){g=JSON.parse(g);var A=[];for(var z=0;z<g.length;z++){var j=g[z];var C=LEAP.getElement("[minstance="+j.minstance+"]",e);if(String.isEmpty(C.getAttribute("itemmargins"))){var s={};if(!String.isEmpty(j.top)){s.top=j.top;
}if(!String.isEmpty(j.left)){s.left=j.left;}if(!String.isEmpty(j.bottom)){s.bottom=j.bottom;}if(!String.isEmpty(j.right)){s.right=j.right;}var r=(s.top||s.left||s.bottom||s.right)!=null?s:null;if(r!=null){C.setAttribute("itemmargins",JSON.stringify(r));}}if(j.isdisplay=="none"||j.path){continue;}A.add(j.name);
}var F={};F.element=e;F.moduleinfos=g;F.partmainbox=m;F.runtime=w;F.autoedit=l;if(window.leaprouters!=null){LEAP.asynFillModuleAuthoritys(A,LEAP.partLayout.asynLoadModule,window,F);}else{LEAP.partLayout.asynLoadModule(F);}}}else{var v=null;if(e.__systemname!=null){var f=e.__systemname;var p=e.__systemname+"_indexpartmodule";
var I=LEAP.request2({name:"Studiov6_getindexPartBean",par:{name:p},router:"leap"});if(I!=null){v=I.id;}}else{v="82b0044fb0974ae39cb6312803070077";}if(v!=null){var q=LEAP.request2({name:"app_getUIResource2",par:{id:v,includeParentResource:false,getDeep:1,fields:["nodestring","resourcetype","icon","officon"]}});
if(q!=null){var D=LEAP.convertResult(q);if(D!=null){e.__resoucedatas=D;var u=[];for(var z=0;z<D.length;z++){u.add(D[z].id);}LEAP.partLayout.sortALL(e,u);e.__temphtml=e.innerHTML;var g=m.getAttribute("moduleinfos");if(!String.isEmpty(g)){g=JSON.parse(g);LEAP.partLayout.tianchong(e,g);var A=[];var H=[];
for(var z=0;z<g.length;z++){var j=g[z];H.add(j.resourceid);var C=LEAP.getElement("[minstance="+j.minstance+"]",e);if(String.isEmpty(C.getAttribute("itemmargins"))){var s={};if(!String.isEmpty(j.top)){s.top=j.top;}if(!String.isEmpty(j.left)){s.left=j.left;}if(!String.isEmpty(j.bottom)){s.bottom=j.bottom;
}if(!String.isEmpty(j.right)){s.right=j.right;}var r=(s.top||s.left||s.bottom||s.right)!=null?s:null;if(r!=null){C.setAttribute("itemmargins",JSON.stringify(r));}}if(j.isdisplay=="none"||j.path){continue;}A.add(j.name);}var F={};F.element=e;F.dataids=u;F.moduleinfos=g;F.partmainbox=m;F.runtime=w;F.autoedit=l;
if(window.leaprouters!=null){LEAP.asynFillModuleAuthoritys(A,LEAP.partLayout.asynLoadModule,window,F);}else{LEAP.partLayout.asynLoadModule(F);}if(window.isPartTip==true){var t=[];for(var z=0;z<D.length;z++){if(!H.contains(D[z].id)){t.add(D[z]);}}if(t.length>0){LEAP.partLayout.remind(e,t);}}}}}}}}}else{var m=LEAP.getElement("[ctf=partmainbox]",e);
if(m!=null){m.removeAttribute("moduleinfos");m.innerHTML="";}}};LEAP.partLayout.tianchong=function(e,g){for(var d=g.length-1;d>=0;d--){var a=g[d];if(a.isdisplay=="none"){var f=LEAP.getElement("[minstance="+a.minstance+"]",e);if(f.getAttribute("ctfe")!="partlayoutbox"){if(f.getAttribute("lt")=="h"){var c=f.previousElementSibling;
if(c!=null){var b=c.getAttribute("moduleinfo");if(!String.isEmpty(b)){b=JSON.parse(b);if(b.isdisplay=="block"){if(!c.getAttribute("oldheight")){c.setAttribute("oldheight",c.style.height);}if(!f.getAttribute("oldheight")){f.setAttribute("oldheight",f.style.height);}f.style.height="0px";c.style.height="100%";
}}}}}}}};LEAP.partLayout.remind=function(e,f){var b=document.createElement("div");b.innerHTML=LEAP.partLayout.tixingbox.replace("@title","新增"+f.length+"个模块,是否需要添加到首页!");document.body.appendChild(b.children[0]);var g=LEAP.getElement("[ctf=tixingbox]");g.__element=e;g.__datas=f;var a=LEAP.getInnerWindowSize();
var m=a.width;var c=a.height;if(LEAP.isIE&&LEAPBrowser.IEVersion<10&&(LEAPBrowser.documentMode&&LEAPBrowser.documentMode>7)){c-=35;m-=12;}var l=null;var j=null;if(l==null){l=(m-650)/2;}if(j==null){j=(c-420)/2;}LEAP.setStyle(g,{width:"650px",height:"420px",top:j+"px",left:l+"px",display:"block",zIndex:9999});
var o=LEAP.getElement("[ut=indexpartmodules]",g);var n=new StringBuffer();for(var d=0;d<f.length;d++){var h=null;var p=leapconfig.server+"LEAP/Resource/HTML/indexassembly/images/dfmoduleimg.png";if(data.icon!=null){p=leapconfig.server+f[d].icon;}h=LEAP.partLayout.tixingitem.replace("@src",p).replace("@text",f[d].showname);
n.append(h);}o.innerHTML=n.toString();LEAP.addEvent(g,"click",LEAP.partLayout.tixingboxuiProcess,null,null,true);};LEAP.partLayout.tixingboxuiProcess=function(n){var a=n.e.srcElement;var h=n.e;var l=n.e.type;var o=a.tagName;var m=a.getAttribute("ctf");var b=a.getAttribute("ut");var j=LEAP._match(a,"tixingbox","ctf",99);
if(!j){return;}if(l=="click"){if(m=="tixingclose"){LEAP.setStyle(j,{display:"none"});}else{if(b=="tixingsubmit"){var f=j.__element;var g=j.__datas;for(var d=0;d<g.length;d++){LEAP.partLayout.createNewModule(f,g[d]);}LEAP.setStyle(j,{display:"none"});var c=f.__indexpartid;LEAP.partLayout.saveModule(f,c,null,null,"1");
LEAP.partLayout.showQuick(f);}}}};LEAP.partLayout.initdragsize=function(e,m){if(m!=null){var f=m.getAttribute("ctfe");if(f!="partlayoutbox"){if(m.previousElementSibling!=null){return;}}var c=m.getAttribute("lt");if(c=="w"){var l=m.children;var g=false;for(var b=0;b<l.length;b++){if(l[b].getAttribute("ctf")=="partresize_left"){g=true;
break;}}if(g==false){var a=document.createElement("div");a.innerHTML='<div class="prat-item-dragleft" ctf="partresize_left"></div>';m.appendChild(a.children[0]);a=null;}}else{if(c=="h"){var l=m.children;var g=false;for(var b=0;b<l.length;b++){if(l[b].getAttribute("ctf")=="partresize_bottom"){g=true;break;
}}if(g==false){var a=document.createElement("div");a.innerHTML='<div class="prat-item-dragbottom" ctf="partresize_bottom"></div>';m.appendChild(a.children[0]);a=null;}}}return;}if(!e){return;}var n=LEAP.getElements("[pbt=line]",e);if(n!=null){for(var d=0;d<n.length;d++){var h=n[d];var c=h.getAttribute("lt");
if(c=="w"){if(h.previousElementSibling!=null){continue;}var l=h.children;var g=false;for(var b=0;b<l.length;b++){if(l[b].getAttribute("ctf")=="partresize_left"){g=true;break;}}if(g==false){var a=document.createElement("div");a.innerHTML='<div class="prat-item-dragleft" ctf="partresize_left"></div>';h.appendChild(a.children[0]);
a=null;}}else{if(c=="h"){var f=h.getAttribute("ctfe");if(f=="partlayoutbox"){var l=h.children;var g=false;for(var b=0;b<l.length;b++){if(l[b].getAttribute("ctf")=="partresize_bottom"){g=true;break;}}if(g==false){var a=document.createElement("div");a.innerHTML='<div class="prat-item-dragbottom" ctf="partresize_bottom"></div>';
h.appendChild(a.children[0]);a=null;}}else{if(h.previousElementSibling!=null){continue;}var l=h.children;var g=false;for(var b=0;b<l.length;b++){if(l[b].getAttribute("ctf")=="partresize_bottom"){g=true;break;}}if(g==false){var a=document.createElement("div");a.innerHTML='<div class="prat-item-dragbottom" ctf="partresize_bottom"></div>';
h.appendChild(a.children[0]);a=null;}}}}}}};LEAP.partLayout.asynLoadModule=function(o){var d=LEAP._check(o.element,LEAP.partLayout.d);if(!d){return;}var h=o.moduleinfos;var e=o.partmainbox;var b=o.runtime;var l=o.autoedit;var f=o.dataids;var j=10;for(var c=0;c<h.length;c++){var m=h[c];if(m.isdisplay=="none"){continue;
}var n=m.minstance;var a=LEAP.getElement("[minstance="+n+"]",e);if(a!=null){if(c==0){j=10;}else{j=((c+1)*10);}LEAP.partLayout.setItemContent(d,a,m,n,j);}}if(b=="0"&&l=="1"){LEAP.partLayout.initdragsize(d);}if(b=="1"){LEAP.partLayout.shrink(d);}if(b=="1"&&l=="0"){LEAP.asyn(LEAP.partLayout.showQuick,null,1000,d);
var g=LEAP.getElements("[ctf=partmove]",d);if(g!=null){LEAP.setStyle(g,{display:"none"});}LEAP.asyn(LEAP.partLayout.autoRefresh,null,1000,d);}};LEAP.partLayout.getStyle=function(b,a){return b.currentStyle?b.currentStyle[a]:getComputedStyle(b,false)[a];};LEAP.partLayout.sortALL=function(c,q){c=LEAP._check(c,LEAP.partLayout.d);
if(!c){return;}var p=LEAP.getElements("[ctf=partItem]",c);if(p!=null){var t=null;var u=[];for(var v=0;v<p.length;v++){var x=p[v];var e=x.getAttribute("moduleinfo");if(!String.isEmpty(e)){e=JSON.parse(e);if(!q.contains(e.resourceid)){var l=x.getAttribute("ctfe");if(l=="partlayoutbox"){e.isdisplay="none";
x.setAttribute("moduleinfo",JSON.stringify(e));continue;}if(e.lockmodule){e.isdisplay="none";x.setAttribute("moduleinfo",JSON.stringify(e));var f=x.getAttribute("lt");if(f=="w"){var m=null;if(x.nextElementSibling!=null){m=x.nextElementSibling;}else{if(x.previousElementSibling!=null){m=x.previousElementSibling;
}}if(m!=null){LEAP.setStyle(m,{width:"100%"});}}else{if(f=="h"){var g=x.clientHeight;var z=LEAP.partLayout.getStyle(x,"position");if(z=="relative"){var m=x.nextElementSibling;m.style.top="0px";var A=x.parentElement;var A=LEAP._match(x,"partlayoutbox","ctfe",99);if(A!=null){var o=LEAP.partLayout.getStyle(A,"height");
var y=o.replace("px","");LEAP.setStyle(A,{height:(LEAP.tonum(y)-g)+"px"});}}}}continue;}e.isdisplay="none";var b=x.getAttribute("partgroup");var w=x.getAttribute("minstance");var h=x.getAttribute("resourceid");if(v!=p.length-1){for(var s=v+1;s<p.length;s++){var B=p[s];var n=B.getAttribute("moduleinfo");
if(!String.isEmpty(n)){n=JSON.parse(n);if(n.lockmodule){break;}if(q.contains(n.resourceid)){var r=B.getAttribute("partgroup");var d=B.getAttribute("minstance");var a=B.getAttribute("resourceid");if(!String.isEmpty(r)){x.setAttribute("partgroup",r);}else{x.removeAttribute("partgroup");}x.setAttribute("minstance",d);
x.setAttribute("resourceid",a);x.setAttribute("moduleinfo",JSON.stringify(n));if(!String.isEmpty(b)){B.setAttribute("partgroup",b);}else{B.removeAttribute("partgroup");}B.setAttribute("minstance",w);B.setAttribute("resourceid",h);B.setAttribute("moduleinfo",JSON.stringify(e));break;}else{e.isdisplay="none";
x.setAttribute("moduleinfo",JSON.stringify(e));}}}}else{e.isdisplay="none";x.setAttribute("moduleinfo",JSON.stringify(e));}}}}LEAP.partLayout.setElementModules(c);}};LEAP.partLayout.setEditState=function(f,b){f=LEAP._check(f,LEAP.partLayout.d);if(!f){return;}var g=LEAP.getElements("[ctf=partItem]",f);
if(g){if(b){f.setAttribute("autoedit","1");}else{f.setAttribute("autoedit","0");}for(var e=0;e<g.length;e++){var d=g[e].getAttribute("moduleinfo");if(!String.isEmpty(d)){var a=JSON.parse(d);var c=LEAP.getElement("[ctf=partmove]",g[e]);if(c!=null){if(a.lockmodule){LEAP.setStyle(c,{display:"none"});}else{if(b){LEAP.setStyle(c,{display:"block"});
}else{LEAP.setStyle(c,{display:"none"});}}}}}}};LEAP.partLayout.setItemMargin=function(c,f,g){c=LEAP._check(c,LEAP.partLayout.d);if(!c){return;}if(!f){return;}var e=c.__selectItem;if(e){var b=LEAP.getElement("[ctf=partmodulebox]",e);if(b){var d=e.getAttribute("itemmargins");if(!String.isEmpty(d)){var h=b.clientWidth;
var i=LEAP.tonum(g.replace("px",""));if(i<(h/2)){var j=JSON.parse(d);if(!String.isEmpty(g)){b.style[f]=g;j[f]=g;}else{delete j[f];b.style[f]="";}e.setAttribute("itemmargins",JSON.stringify(j));}}else{var a={};var h=b.clientWidth;var i=LEAP.tonum(g.replace("px",""));if(i<(h/2)){if(!String.isEmpty(g)){b.style[f]=g;
a[f]=g;}}e.setAttribute("itemmargins",JSON.stringify(a));}}}};LEAP.qtlist={};LEAP.qtlist.d="qtlist";LEAP.qtlist.textli='<div class="LC_qtlist_text" ctf="qtlist_text" qtid="@qtid">@text</div>';LEAP.qtlist.checkbox='<div class="LC_checkbox_wrap" check="@check" ctf="qtlist_item" ct="checkbox2" qtid="@qtid" md="@md" radio="@radio" bt="text" mdtype="@mdtype" mdcn="@mdcn"  ccancel="0" cmin="0" cmax="0" ischild="@ischild"><!--vlaues--></div>';
LEAP.qtlist.checkboxitem='<div class="LC_checkbox@class@" ctf="checkbox2_item"><input type="checkbox" ctf="checkbox2_input" value="@value" @checked/><span></span><div class="LC_checkbox_gou" ctf="checkbox2_gou"><img src="'+leapconfig.server+'LEAP/Resource/images/lcimages/LC_qtlist/qtlist-bottom.png"/></div><label ctf="checkbox2_label" onselectstart="return false;" unselectable="on" oncontextmenu="return false">@text</label></div>';
LEAP.qtlist.textarea='<textarea class="LC_form_textarea" check="@check" ctf="qtlist_item" qtid="@qtid" rows="5" value="" md="@md" mdcn="@mdcn" ht="textarea" bt="text" mdtype="textarea" check="">@text</textarea>';LEAP.qtlist.libox='<div style="width:100%;@border">@content@</div>';LEAP.qtlist._init=function(){UIEventManager.removeEvent(window,"load",LEAP.qtlist._init);
};LEAP.qtlist.setValue=function(m,F){m=LEAP._check(m,LEAP.qtlist.d);if(null==m){return;}var q=m.getAttribute("pmd");var g=m.getAttribute("readonly");var c=LEAP.getLoadedModule(m.getAttribute(commfields.instance));var u=new StringBuffer();var K=null;if(K==null){var E=m.getAttribute("btvfn");if(E!=null){var o=E.split(";");
var e=null;for(var I=0;I<o.length;I++){e=o[I].split("=");if(e[0]=="method"){break;}}var y=null;if(e!=null){y=e[1];}if(c[y]!=null&&typeof(c[y])=="function"){K=c[y].call(c);}}}if(K!=null){m._pid=K[q];m._values=K.values;var M=K.mode;var n=K.modetext;if(g==null){if(M){var G=LEAP.qtlist.textli.replace("@text",n).replace("@qtid","");
u.append(G);var J=LEAP.qtlist.buildItem(m,M);var a=LEAP.qtlist.checkbox.replace("@radio","1").replace("@mdtype","checkbox").replace("@mdcn","").replace("@md","mode").replace("<!--vlaues-->",J).replace("@check","").replace("@qtid","").replace("qtlist_item","").replace("@ischild","0");u.append(a);u.append("<br/><br/>");
}}if(K.values!=null){if(F){F=JSON.parse(F);}var L=K.values;var p=L.length;if(p>0){for(var I=0;I<p;I++){var j=new StringBuffer();var b=L[I].qtype;var x=L[I].text;var r=L[I].items;var v=L[I].check;var B=L[I].id;var G=LEAP.qtlist.textli.replace("@text",(I+1)+"、"+x).replace("@qtid",B);j.append(G);var l=null;
if(F){l=F.values[B];}var C="";var A=null;if(b=="checkbox"){if(r!=null&&r!=""){C=LEAP.qtlist.buildItem(m,r,l);}A=LEAP.qtlist.checkbox.replace("@radio","0").replace("@mdtype","checkbox").replace("@mdcn",x).replace("@md",I).replace("<!--vlaues-->",C).replace("@check",v!=null?v:"").replace("@qtid",B).replace("@ischild","0");
j.append(A);}else{if(b=="radio"){if(r!=null&&r!=""){C=LEAP.qtlist.buildItem(m,r,l);}A=LEAP.qtlist.checkbox.replace("@radio","1").replace("@mdtype","radio").replace("@md",I).replace("@mdcn",x).replace("<!--vlaues-->",C).replace("@check",v!=null?v:"").replace("@qtid",B).replace("@ischild","0");j.append(A);
}else{if(b=="input"){A=LEAP.qtlist.textarea.replace("@md",I).replace("@mdcn",x).replace("@check",v!=null?v:"").replace("@text",l!=null?l:"").replace("@qtid",B);j.append(A);}}}var f=null;if(I==p-1){f=LEAP.qtlist.libox.replace("@content@",j.toString()).replace("@border","");}else{f=LEAP.qtlist.libox.replace("@content@",j.toString()).replace("@border","border-bottom:5px solid #EDEDED;margin-bottom:10px;padding-bottom:10px");
}u.append(f);}m.innerHTML=u.toString();var t=LEAP.getElements("[ctf=qtlist_item]",m);for(var I=0;I<t.length;I++){var w=t[I].getAttribute("ct");if(w=="checkbox2"){var r=L[I].items;LEAP.addEvent(t[I],"valueChange",LEAP.qtlist.checkboxValueChange,m,t[I]);var H=LEAP.getElements("[ctf=checkbox2_item]",t[I]);
LEAP.qtlist.buildItems(m,H,r);}}}if(g==null){var s=LEAP.getElement("[md=mode]",m);LEAP.addEvent(s,"valueChange",LEAP.qtlist.modeValueChange,m);}}var z=F;if(z!=null){var t=LEAP.getElements("[ctf=qtlist_item]",m);for(var I=0;I<t.length;I++){if(t[I].getAttribute("ischild")=="1"){LEAP.checkbox2.checkedAll(t[I],false);
t[I].style.display="none";}}var D=null;if(z){D=z;}for(var I=0;I<t.length;I++){var B=t[I].getAttribute("qtid");var l=D.values[B];if(l!=null){if(t[I].getAttribute("ischild")=="1"){t[I].style.display="block";var h=t[I].previousSibling.previousSibling;h.style.display="block";}}var w=t[I].getAttribute("ct");
if(w=="checkbox2"){LEAP.checkbox2.setValue(t[I],l);}else{LEAP.setValue(t[I],l);}}}}else{m.innerHTML="";}};LEAP.qtlist.buildItems=function(e,g,c){e=LEAP._check(e,LEAP.qtlist.d);if(null==e){return;}if(g){for(var d=0;d<g.length;d++){var f=c[d];if(f.childs){var b=f.childs.items;var a=LEAP.qtlist.buildcheckbox(e,g[d],f.childs);
LEAP.qtlist.buildItems(e,LEAP.getElements("[ctf=checkbox2_item]",a),b);}}}};LEAP.qtlist.buildcheckbox=function(f,r,c){f=LEAP._check(f,LEAP.qtlist.d);if(null==f){return;}var p=c.qtype;var q=c.text;var j=c.items;var b=c.check;var o=c.id;var d=LEAP.qtlist.buildItem(f,j,null,"1");var n=new StringBuffer();
var m="1";if(p=="radio"){m="1";}else{if(p=="checkbox"){m="0";}}var l=LEAP.qtlist.checkbox.replace("@radio",m).replace("@mdtype","radio").replace("@md",o).replace("@mdcn",q).replace("<!--vlaues-->",d).replace("@check",b!=null?b:"").replace("@qtid",o).replace("@ischild","1");n.append(l);var a=document.createElement("div");
a.innerHTML=n.toString();r.appendChild(a.children[0]);var g=LEAP.getElement("[qtid="+o+"]",r);var h=false;if(j){for(var e=0;e<j.length;e++){if(j[e].isdefault=="1"){h=true;}}}if(h){LEAP.setStyle(g,{display:"block"});}else{LEAP.setStyle(g,{display:"none"});}LEAP.addEvent(g,"valueChange",LEAP.qtlist.checkboxValueChange,f,g);
return g;};LEAP.qtlist.checkboxValueChange=function(j){var c=j.arg;c=LEAP._check(c,LEAP.qtlist.d);if(null==c){return;}if(j.arg2){var g=j.arg2.lv;var a=j.caller;var h=LEAP.getElements("[ct=checkbox2]",a);LEAP.setStyle(h,{display:"none"});var b=LEAP.getElements("[ctf=checkbox2_item]",a);for(var d=0;d<b.length;
d++){var e=LEAP.getElement("[ctf=checkbox2_input]",b[d]).value;if(g==e){var f=LEAP.getElement("[ct=checkbox2]",b[d]);if(f!=null){LEAP.getElement("[ctf=checkbox2_gou]",b[d]).style.display="block";f.style.display="block";}else{LEAP.getElement("[ctf=checkbox2_gou]",b[d]).style.display="none";}}else{LEAP.getElement("[ctf=checkbox2_gou]",b[d]).style.display="none";
}}}};LEAP.qtlist.modeValueChange=function(q){var c=q.arg;c=LEAP._check(c,LEAP.qtlist.d);if(null==c){return;}var b=LEAP.getLoadedModule(c.getAttribute(commfields.instance));var g=c.getAttribute("btvfn");if(g!=null){var a=g.split(";");var p=null;var j=null;for(var e=0;e<a.length;e++){p=a[e].split("=");
if(p[0]=="valueChange"){break;}}var l=null;if(p!=null){l=p[1];}if(b[l]!=null&&typeof(b[l])=="function"){j=b[l].call(b,{arg:q.arg2});}}if(j!=null){var h=LEAP.getElements("[ctf=qtlist_item]",c);for(var e=0;e<h.length;e++){if(h[e].getAttribute("ischild")=="1"){LEAP.checkbox2.checkedAll(h[e],false);h[e].style.display="none";
}}var n=null;if(j){n=JSON.parse(j);}for(var e=0;e<h.length;e++){var o=h[e].getAttribute("qtid");var m=n.values[o];if(m!=null){if(h[e].getAttribute("ischild")=="1"){h[e].style.display="block";}}var f=h[e].getAttribute("ct");if(f=="checkbox2"){LEAP.checkbox2.setValue(h[e],m);}else{LEAP.setValue(h[e],m);
}}}};LEAP.qtlist.getValue=function(f){f=LEAP._check(f,LEAP.qtlist.d);if(null==f){return;}var l=LEAP.getElements("[ctf=qtlist_item]",f);var c=LEAP.getElements("[ctf=qtlist_text]",f);if(l){var e={};e.pid=f._pid;var j={};for(var g=0;g<l.length;g++){var o=l[g].getAttribute("qtid");var n=null;var h=l[g].getAttribute("ct");
if(h=="checkbox2"){var m=LEAP.check.validate(l[g],true);if(m!=null){return;}n=LEAP.checkbox2.getValue(l[g]);}else{var m=LEAP.check.validate(l[g]);if(m!=null){return;}n=LEAP.getValue(l[g]);}j[o]=n;}e.values=j;var b=JSON.stringify(e);return b;}};LEAP.qtlist.buildItem=function(e,o,m,c){e=LEAP._check(e,LEAP.qtlist.d);
if(null==e){return;}if(null==o){return;}var l=new StringBuffer();var f=o.length;var b=false;if(LEAPBrowser.isIE&&(LEAPBrowser.IEVersion==7||LEAPBrowser.IEVersion==8)){b=true;}var a=false;for(var d=0;d<f;d++){var n=o[d];if(n.childs){a=true;}}for(var d=0;d<f;d++){var n=o[d];var j=null;var h="";var g="";
if(m){var p=m.split(",");if(p.contains(n.codeid)){h='checked="true"';if(b){g=" LC_focus LC_checked";}}if(a||c=="1"){g+=" LC_checkbox_float";}j=LEAP.qtlist.checkboxitem.replace("@value",n.codeid).replace("@checked",h).replace("@text",n.codevalue).replace("@class@",g);}else{if(n.isdefault=="1"){h='checked="true"';
if(b){g=" LC_focus LC_checked";}}if(a||c=="1"){g+=" LC_checkbox_float";}j=LEAP.qtlist.checkboxitem.replace("@value",n.codeid).replace("@checked",h).replace("@text",n.codevalue).replace("@class@",g);}l.append(j);}return l.toString();};LEAP.qtlist.init=function(){if(document!=null&&document.body!=null){LEAP.qtlist._init();
}else{UIEventManager.addEvent(window,"load",LEAP.qtlist._init);}}();LEAP.quick={};LEAP.quick.d="quick";LEAP.quick.li='<li ctf="quick_item" @color bussno="@bussno" mid="@mid"><a href="javascript:" mid="@mid" title="@text"><img src="@img" bussno="@bussno" mid="@mid"><span bussno="@bussno" mid="@mid">@text</span></a></li>';
LEAP.quick.addli='<li ctf="quick_item_add" @color><a ctf="quick_item_add" href="javascript:" ctf="quick_item_add"><img ctf="quick_item_add" src="@img"><span ctf="quick_item_add">快捷设置</span></a></li>';LEAP.quick.dts="_datas";LEAP.quick.moduleel="_lastmodule";LEAP.quick.form=null;LEAP.quick.initSrc=null;
LEAP.quick._init=function(){LEAP.addEvent(document.body,"click",LEAP.quick.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.quick._init);};LEAP.quick.initControl=function(wait,src){LEAP.quick.initSrc=src;if(!src){if(!event){return;}src=event.srcElement;}if(!src){return;}if(wait!=null){var fn=function(){LEAP.quick.initControl(null,src);
src=null;};setTimeout(fn,wait);return;}var element=src.parentElement;if(element!=null){var res=LEAP.request2({name:"studiov2_getQuickResourceUI",router:"leap"});var beans=null;var lwfpbuss=[];if(res!=null){beans=LEAP.convertResult(res);if(beans!=null&&beans.length>0){for(var m=0;m<beans.length;m++){var type=beans[m].resourcetype;
if(type=="25"){var bussname=beans[m].url;if(bussname!=null&&bussname!=""){lwfpbuss.add(bussname);}}}}var bussBeans=null;var busshash=new hashtable();if(lwfpbuss.length>0){bussBeans=LEAP.request("studiov2_checkQuickAuthority",{bussNames:lwfpbuss});if(bussBeans!=null){for(var k=0;k<bussBeans.length;k++){busshash.add(bussBeans[k].bussname,bussBeans[k].bussno);
}}}if(beans!=null&&beans.length>0){var sb=new StringBuffer();var dtable=new hashtable();for(var i=0;i<beans.length;i++){dtable.add(beans[i].id,beans[i]);}var showbeans=[];var dbeans=LEAP.request("studiov2_searchQuickResource",{userid:LEAP.userInfo.userid});if(dbeans&&dbeans.length>0){for(var i=0;i<dbeans.length;
i++){if(!dtable.contains(dbeans[i].resid)){continue;}var cur=dtable.getvalue(dbeans[i].resid);showbeans.add(cur);}}if(showbeans.length==0){showbeans=beans;}var groupname=element.getAttribute("groupname");var groupbeans=[];if(groupname){for(var i=0;i<showbeans.length;i++){var cus=showbeans[i].customize;
if(cus.indexOf("{")>-1&&cus.indexOf("}")>-1){var def=eval("("+cus+")");if(def.groupname&&def.groupname==groupname){groupbeans.add(showbeans[i]);}}}}if(groupbeans.length==0){groupbeans=showbeans;}for(var i=0;i<groupbeans.length;i++){var cur=groupbeans[i];var type=cur.resourcetype;var url=cur.url;var bussno=null;
if(type=="25"&&url!=null&&url!=""){if(!busshash.contains(url)){continue;}bussno=busshash.getvalue(url);}if(bussno==null){bussno="";}var str=null;var img=null;if(cur.icon){img=leapconfig.server+cur.icon;}else{img=leapconfig.server+"LEAP/Resource/images/lcimages/LC_quick/link03.png";}str=LEAP.quick.li.replaceall("@bussno",bussno).replaceall("@mid",cur.id).replaceall("@text",cur.showname).replace("@img",img);
var rescolor=cur.rescolor;if(rescolor){str=str.replace("@color","style='background:"+rescolor+"'");}else{str=str.replace("@color","");}sb.append(str);if(!element[LEAP.quick.dts]){element[LEAP.quick.dts]=new hashtable();}if(!element[LEAP.quick.dts].contains(cur.id)){element[LEAP.quick.dts].add(cur.id,cur);
}}var editorImg=element.getAttribute("setimg");var bgcolor=element.getAttribute("bgcolor");var imgSrc=leapconfig.server+"LEAP/systemImgs/img_quick/size_60/quick.png";if(editorImg){imgSrc=leapconfig.server+editorImg;}var liStr=LEAP.quick.addli.replace("@img",imgSrc);if(bgcolor){liStr=liStr.replace("@color","style='background:"+bgcolor+"'");
}else{liStr=liStr.replace("@color","");}sb.append(liStr);var quick_body=LEAP.getElement("[ctf=quick_body]",element);quick_body.innerHTML=sb.toString();var editorEl=LEAP.getElement("IMG[ctf=quick_item_add]",element);if(editorEl!=null){var ew=element.getAttribute("imgwidth");var eh=element.getAttribute("imgheight");
if(ew){editorEl.setAttribute("width",ew);}if(ew){editorEl.setAttribute("height",eh);}}element._data=beans;if(groupbeans.length>0){var callback=element.getAttribute("callback");if(callback){var module=LEAP.getLoadedModule(element.getAttribute("instance"));if(module&&module[callback]){module[callback]();
}}}}}}};LEAP.quick.uiProcess=function(arg){var src=arg.e.srcElement;var type=arg.e.type;var tag=src.tagName;var ctf=src.getAttribute(commfields.ctf);var element=LEAP._match(src,LEAP.quick.d,"ct",99);if(!element){var element=LEAP._match(src,"quick_item_list","ctf",99);if(!element){LEAP.quick.hideItemlist();
}return;}if(type=="click"){var mid=src.getAttribute("mid");var bussno=src.getAttribute("bussno");var btqfn=element.getAttribute("btqfn");var module=LEAP.getLoadedModule(element.getAttribute("instance"));if(mid){var data=element[LEAP.quick.dts].getvalue(mid);if(data!=null){ElementEventManager.handleEvent(element,"clickItem",{element:element,data:data});
}var resourcetype=data.resourcetype;if(resourcetype=="19"){try{var res=LEAP.request2({name:"DI_InnerAuthTicket",par:{s:data.url},router:"leap"});var w=window.open(res,data.id);}catch(E){}return;}else{if(resourcetype=="25"&&bussno!=null&&bussno!=""){var customize=data.customize;var mversion=null;if(customize&&customize.indexOf("{")>-1&&customize.indexOf("}")>0){try{var cusObj=eval("("+customize+")");
if(cusObj&&cusObj.moduleversion){mversion=cusObj.moduleversion;}}catch(e){}}if(mversion&&mversion==2){LWFP.API.startForm(null,bussno,null,null,module);}else{var def={businessNo:bussno,delegate:null,extendParam:null,container:null,formtype:"3",maxsize:false,callBackFunc:null};LWFP.API.StartFlow(def,module);
}return;}}var moduleLoadArg={resource:data,par:LEAP.quick.getModulecustomize(data)};if(element[LEAP.quick.moduleel]!=null){element[LEAP.quick.moduleel].hide();element[LEAP.quick.moduleel]=null;}if(data.url==null||data.url==""){if(btqfn){if(module[btqfn]!=null&&typeof(module[btqfn])=="function"){module[btqfn].call(module,{arg:moduleLoadArg});
}}return;}var url=data.url;if(!String.isEmpty(url)){var lurl=url.toLowerCase();if(lurl.indexOf("@server")==0||lurl.endsWith(".html")||lurl.endsWith(".htm")||lurl.startsWith("http://")||lurl.startsWith("https://")||lurl.startsWith("@server")){if(lurl.indexOf("@server")==0){url=url.replace("@server",leapconfig.server);
}if(lurl.startsWith("@server")){try{if(url.indexOf(leapconfig.server)==-1){var str="directories=0,titlebar=0,resizable=1,menubar=0,location=0,status=1,toolbar=0,width="+(screen.width-10)+",height="+(screen.height-91)+",top=0,left=0";window.open(window.geturl(url),null,str);}else{var str="resizable=1,menubar=0,location=0,status=0,toolbar=0,top=0,left=0,height="+screen.availHeight+",width="+screen.availWidth;
var mywin=window.open(window.geturl(url),null,str);mywin.moveTo(0,0);mywin.resizeTo(screen.availWidth,screen.availHeight);mywin.focus();}}catch(E){}}else{var lid=null;if(lurl.endsWith("index.html")&&url.indexOf("/LEAP/Login/")>0){var index=lurl.indexOf("/index.html");var prefixStr=url.substring(0,index);
if(prefixStr.lastIndexOf("/")>0){var applname=prefixStr.substring(prefixStr.lastIndexOf("/")+1);if(applname){lid=LEAP.request("app_jumpSystem",{appname:applname});}}}if(lid){url=url+"?lid="+lid;}window.open(window.geturl(url));}return;}else{if((data.indexpagemodulestyle!=null&&(data.indexpagemodulestyle==2||data.indexpagemodulestyle==4))){var url=window.geturl(leapconfig.server+"LEAP/Resource/HTML/trusted/trustedload.html?module="+url+"&text="+encodeURIComponent(data.text));
if(data.customize){url+="&arg="+data.customize;}window.open(url);}else{element[LEAP.quick.moduleel]=module.forms(data.url,data.showname,moduleLoadArg,null,3);if(element[LEAP.quick.moduleel]){if(data.width=="100%"&&data.height=="100%"){LEAP.form.maxSize(element[LEAP.quick.moduleel].form);}else{if(data.width&&data.height){LEAP.form.setSize(element[LEAP.quick.moduleel].form,data.width,data.height);
}}if(element[LEAP.quick.moduleel].module){var m=LEAP._peGetMM(element[LEAP.quick.moduleel].module);if(element[LEAP.quick.moduleel].module.pageMode=="insert"){m.clearPageData();}}element[LEAP.quick.moduleel].show();}}}}}if(ctf=="quick_item_add"){var datas=element._data;var def={name:"leapaasquickitemlist",title:"快捷项设置",width:"780",height:"500",formtype:"3"};
if(!element[LEAP.quick.itemForm]){element[LEAP.quick.itemForm]=module.loadForm3(def);element[LEAP.quick.itemForm].module.regEvent("onSubmit",LEAP.quick.reloadQuick,LEAP.quick);}var groupname=element.getAttribute("groupname");if(groupname&&element[LEAP.quick.itemForm].module.setGroupName){element[LEAP.quick.itemForm].module.setGroupName(groupname);
}element[LEAP.quick.itemForm].show();element[LEAP.quick.itemForm].module.intiQuick(datas);}}};LEAP.quick.reloadQuick=function(a){if(a&&LEAP.quick.initSrc){LEAP.quick.initControl(null,LEAP.quick.initSrc);}};LEAP.quick.hideItemlist=function(){var a=LEAP.getElement("[ctf=quick_item_list]",document.body);
if(a){a.style.display="none";}};LEAP.quick.showItemlist=function(){var a=LEAP.getElement("[ctf=quick_item_list]",document.body);if(a){a.style.display="";}};LEAP.quick.addClick=function(a){var e=a.e.srcElement;if(!e){return;}var b=e.getAttribute("mid");if(e.tagName!="LI"){e=e.parentElement;}var d=LEAP.getElement("INPUT",e);
if(d){var c=LEAP._match(e,"quick_item_list","ctf",99);if(!c){return;}LEAP.quick.showItemlist();if(d.checked){LEAP.quick.addItem(c,b);}else{LEAP.quick.deleteItem(c,b);}}};LEAP.quick.addItem=function(d,n){if(!n||!d){return;}var g=d._element;if(!g){return;}var c=g._data;if(c&&c.length>0){for(var e=0;e<c.length;
e++){var m=c[e];if(n==m.id){var f=null;if(m.icon){f=leapconfig.server+m.icon;}else{f=leapconfig.server+"LEAP/LC/lcimages/LC_quick/link03.png";}var j=LEAP.quick.li.replaceall("@mid",m.id).replaceall("@text",m.showname).replace("@img",f);var h=document.createElement("div");h.innerHTML=j;var o=LEAP.getElement("[ctf=quick_body]",g);
if(o&&h.children&&h.children.length>0){o.insertBefore(h.children[0],o.children[o.children.length-1]);var b=LEAP.getElement("li[ctf=quick_item_add]",g);if(b){var l=LEAP.getAbsolutePos(b);d.style.top=l.y+20+"px";d.style.left=l.x+80+"px";}var a=LEAP.request("studiov2_deleteResourceitem",{userid:LEAP.userInfo.userid,resid:n});
}}}}};LEAP.quick.deleteItem=function(d,f){if(!f||!d){return;}var c=d._element;if(!c){return;}var b=LEAP.getElement("[ctf=quick_body]",c);if(b){var h=LEAP.getElement("[mid="+f+"][ctf=quick_item]",c);b.removeChild(h);var e=LEAP.getElement("li[ctf=quick_item_add]",c);if(e){var g=LEAP.getAbsolutePos(e);d.style.top=g.y+20+"px";
d.style.left=g.x+80+"px";}var a=LEAP.request("studiov2_addResourceitem",{userid:LEAP.userInfo.userid,resid:f});}};LEAP.quick.getModulecustomize=function(data){if(data!=null&&data.customize!=null&&!String.isEmpty(data.customize)){var _par=null;try{_par=eval("({"+data.customize+"})");}catch(e){}if(_par==null){_par=data.customize;
}return _par;}};LEAP.quick.init=function(){if(document!=null&&document.body!=null){LEAP.quick._init();}else{UIEventManager.addEvent(window,"load",LEAP.quick._init);}ElementEventManager.addManagedEventType(LEAP.quick.d,"clickItem");}();LEAP.range={};LEAP.range.d="range";LEAP.range._init=function(){LEAP.addEvent(document.body,"click",LEAP.range.uiProcess,null,null,true);
LEAP.addEvent(document.body,"mousedown",LEAP.range.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.range._init);};LEAP.range.setValue=function(h,q){if(!h){return;}if(!q){q="0";}if(typeof(q)=="string"||typeof(q)=="number"){q=q.toString();}var r=h.getAttribute("values");var c=h.getAttribute("showtype");
var l=0;var b=null;if(c=="3"){if(typeof(q)=="string"){q=JSON.parse(q);}if(!String.isEmpty(r)){r=JSON.parse(r);for(var j=0;j<r.length;j++){if(r[j].jspath==q.jspath&&r[j].csspath==q.csspath){b=r[j].name;l=j+1;break;}}if(b==null){b=r[0].name;l=1;}}}else{if(q.indexOf("%")<0&&c!="2"){q=q+"%";}}var a=h.getAttribute("minnum");
var d=h.getAttribute("maxnum");var g=h.getAttribute("pernum");var p=h.getAttribute("unit");var c=h.getAttribute("showtype");if(!a){a=1;}if(!d){d=100;}if(!g){g=d;}var f=LEAP.getElement("[ctf=range_text]",h);var s=LEAP.getElement("[ctf=range_btn]",h);if(!f||!s){return;}if(String.isEmpty(p)){p="";}if(b!=null){f.innerText=b+p;
}else{f.innerText=q+p;}h._value=q;s._oldx=q;var e=h.clientWidth;var o=s.clientWidth;if(h.getAttribute("ctwidth")!=null){e=LEAP.tonum(h.getAttribute("ctwidth"));}if(h.getAttribute("btwidth")!=null){o=LEAP.tonum(h.getAttribute("btwidth"));}var m=0;if(c==2){m=parseInt((q-LEAP.tonum(a))*((e-o))/(LEAP.tonum(d)-LEAP.tonum(a)));
}if(c==3){if(l!=0){m=parseInt((l-LEAP.tonum(a))*((e-o))/(LEAP.tonum(d)-LEAP.tonum(a)));}}else{m=(e-o)*(parseInt(q.substring(0,q.length-1))/100);}var n=m;if(n<0){n=0;}LEAP.setStyle(s,{left:n+"px"});LEAP.setStyle(f,{left:n+"px"});};LEAP.range.getValue=function(b){if(!b){return null;}var a=b._value;if(!a){a="0%";
}return a;};LEAP.range.uiProcess=function(m){var a=m.e.srcElement;var h=m.e;var i=m.e.type;var n=a.tagName;var g=LEAP._match(a,LEAP.range.d,"ct",99);if(!g){return;}var j=a.getAttribute("ctf");var c=g.getAttribute("minnum");var d=g.getAttribute("maxnum");var f=g.getAttribute("pernum");var l=g.getAttribute("values");
var b=g.getAttribute("showtype");if(!c){c=1;}if(!d){d=100;}if(!f){f=d;}if(i=="mousedown"&&j=="range_btn"){a.x=h.clientX-a.offsetLeft;g._rangebtn=a;g._rangetext=LEAP.getElement("[ctf=range_text]",g);document.onmousemove=function(u){var t=g.getAttribute("unit");var p=u.clientX-g._rangebtn.x;if(p<0){p=0;
}if(p==0){LEAP.setStyle(g._rangebtn,{left:p+"px"});LEAP.setStyle(g._rangetext,{left:p+"px"});LEAP.stopEvent(u);return false;}var r=g._rangebtn.clientWidth;var q=g.clientWidth;if(g.getAttribute("ctwidth")!=null){q=LEAP.tonum(g.getAttribute("ctwidth"));}if(g.getAttribute("btwidth")!=null){r=LEAP.tonum(g.getAttribute("btwidth"));
}if(q>0&&r+p>q){p=q-r;}if((q>0&&r+p>q)){LEAP.stopEvent(u);return false;}LEAP.setStyle(g._rangebtn,{left:p+"px"});LEAP.setStyle(g._rangetext,{left:p+"px"});var s=(p/(q-r))*100;if(b==2){s=parseInt(p*(LEAP.tonum(d)-LEAP.tonum(c))/((q-r))+LEAP.tonum(c));}else{if(b==3){s=parseInt(p*(LEAP.tonum(d)-LEAP.tonum(c))/((q-r))+LEAP.tonum(c));
}else{s=parseInt(s)+"%";}}if(String.isEmpty(t)){t="";}var o=null;if(b==3){if(!String.isEmpty(l)&&typeof l=="string"){l=JSON.parse(l);}o=l[s-1];}if(o!=null){g._rangetext.innerText=o.name+t;g._value=o;g._value1=s;}else{g._rangetext.innerText=s+t;g._value=s;}ElementEventManager.handleEvent(g,"scrollMove",{element:g,lv:g._value});
window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();};document.onmouseup=function(s){document.onmousemove=null;document.onmouseup=null;var p=s.clientX-g._rangebtn.x;var r=g.getAttribute("unit");var q=null;if(b==2){q=g._value;}else{if(b==3){q=g._value1;}else{q=parseInt(q)+"%";
}}if(String.isEmpty(r)){r="";}var o=null;if(b==3){if(!String.isEmpty(l)&&typeof l=="string"){l=JSON.parse(l);}o=l[q-1];}g._rangebtn["_oldx"]=p;if(o!=null){g._rangetext.innerText=o.name+r;g._value=o;g._value1=q;}else{g._rangetext.innerText=q+r;g._value=q;}ElementEventManager.handleEvent(g,"scrollEnd",{element:g,lv:g._value});
LEAP.stopEvent(s);g._rangebtn=null;g._rangetext=null;};}};LEAP.range.init=function(){if(document!=null&&document.body!=null){LEAP.range._init();}else{UIEventManager.addEvent(window,"load",LEAP.range._init);}ElementEventManager.addManagedEventType(LEAP.range.d,"scrollMove");ElementEventManager.addManagedEventType(LEAP.range.d,"scrollEnd");
}();LEAP.scrollbar={};LEAP.scrollbar.d="scrollbar";LEAP.scrollbar.btnflag=false;LEAP.scrollbar.y1=null;LEAP.scrollbar.l=null;LEAP.scrollbar.max=null;LEAP.scrollbar.srflag=false;LEAP.scrollbar._init=function(){UIEventManager.removeEvent(window,"load",LEAP.scrollbar._init);};LEAP.scrollbar.showScrollBar=function(d,r,m,n,a){n=n!=null?n:"";
var s="scrollBar"+n;var e="scrollBar_btn"+n;var p=false;var f=LEAP.getElement("[ctf="+s+"]",d);if(f==null){if(!d){return;}if(!r){return;}if(!m){m=0;}var g=document.createElement("div");g.className="LC_scrollBar_bar";g.setAttribute("ctf",s);g.setAttribute("ct","scrollbar");g.setAttribute("instance",UUID.cID());
d.appendChild(g);var o=document.createElement("input");o.type="button";o.className="LC_scrollBar_btn";o.setAttribute("ctf",e);if(a){LEAP.setStyle(o,{backgroundColor:a});}g.appendChild(o);f=LEAP.getElement("[ctf="+s+"]",d);var l=r._scrollTop;if(!l){l=0;}var c=r;g.style.height=c.clientHeight+"px";f.style.top=m+l+"px";
var q=c.clientHeight-8;var j=c.scrollHeight;var i=c.clientHeight;if(j>i+1){var b=0;if(m!=null){b=m+l;}LEAP.addCSS(f,"LC_scrollBarDis");var t=LEAP.getElement("[ctf="+e+"]",d);t.style.minHeight=q*(q/j)+"px";t.style.top="0px";p=false;LEAP.scrollbar.btnflag=false;}else{p=true;var t=LEAP.getElement("[ctf="+e+"]",d);
t.style.top="0px";LEAP.removeCSS(f,"LC_scrollBarDis",false);}}else{if(!m){m=0;}f=LEAP.getElement("[ctf="+s+"]",d);var c=r;f.style.height=c.clientHeight+"px";var q=c.clientHeight-8;var j=c.scrollHeight;var i=c.clientHeight;if(j>i+1){LEAP.addCSS(f,"LC_scrollBarDis");var t=LEAP.getElement("[ctf="+e+"]",d);
t.style.minHeight=q*(q/j)+"px";t.style.top="0px";p=false;LEAP.scrollbar.btnflag=false;}else{p=true;var t=LEAP.getElement("[ctf="+e+"]",d);t.style.top="0px";LEAP.removeCSS(f,"LC_scrollBarDis",false);}if(t._scrolltop){t._scrolltop=0;}}r._barctf=s;r._barbtnctf=e;if(p==false){var t=LEAP.getElement("[ctf="+e+"]",d);
if(t!=null){if(LEAP.scrollbar.btnflag==false){if(!t.___events){LEAP.addEvent(t,"mousedown",LEAP.scrollbar.mousetd,{element:d,wheelelement:r,ch:m},null,true);LEAP.addEvent(t,"touchstart",LEAP.scrollbar.mousetd1,{element:d,wheelelement:r,ch:m},null,true);}if(!r.___events){LEAP.addEvent(r,"touchstart",LEAP.scrollbar.urlwheel1,{element:d,wheelelement:r,ch:m},null,true);
LEAP.addEvent(r,"mousewheel",LEAP.scrollbar.urlwheel,{element:d,wheelelement:r,ch:m},null,true);}else{if(!r.___events.contains("mousewheel")){LEAP.addEvent(r,"mousewheel",LEAP.scrollbar.urlwheel,{element:d,wheelelement:r,ch:m},null,true);}}}LEAP.scrollbar.btnflag=true;}}};LEAP.scrollbar.mousetd=function(i){var j=i.e.srcElement;
var f=i.e.type;var w=j.tagName;var c=j.getAttribute(commfields.ctf);var d=i.arg.element;var u=i.arg.wheelelement;var q=i.arg.ch;var e=d;if(!e){return;}var t=u._barctf;var g=u._barbtnctf;if(f=="mouseup"){var v=LEAP.getElement("[ctf="+g+"]",e);LEAP.removeEvent(document.body,"mousemove",LEAP.scrollbar.mousetd,true);
LEAP.removeEvent(document.body,"mouseup",LEAP.scrollbar.mousetd,true);LEAP.scrollbar.srflag=false;}else{if(f=="mousedown"){var l=LEAP.getElement("[ctf="+t+"]",e);var v=LEAP.getElement("[ctf="+g+"]",e);var b=u;LEAP.scrollbar.y1=i.e.clientY;LEAP.scrollbar.l=v.offsetTop;LEAP.scrollbar.max=l.offsetHeight-v.offsetHeight;
LEAP.addEvent(document.body,"mousemove",LEAP.scrollbar.mousetd,{element:d,wheelelement:u},null,true);LEAP.addEvent(document.body,"mouseup",LEAP.scrollbar.mousetd,{element:d,wheelelement:u},null,true);LEAP.scrollbar.srflag=true;}else{if(f=="mousemove"){if(LEAP.scrollbar.srflag==true){var l=LEAP.getElement("[ctf="+t+"]",e);
var v=LEAP.getElement("[ctf="+g+"]",e);var b=u;var n=i.e.clientY;var o=Math.min(LEAP.scrollbar.max,Math.max(-2,LEAP.scrollbar.l+(n-LEAP.scrollbar.y1)));var r=o*b.scrollHeight/l.offsetHeight;v._scrolltop=o;v.style.top=o+"px";b.scrollTop=r;var p=b._scrollTop;if(!p){p=0;}var s=b.clientHeight-8;var m=b.scrollHeight;
var a=0;if(q!=null){a=q+p;}v.style.minHeight=s*(s/m)-a+"px";ElementEventManager.handleEvent(e,"listmousewheel",{be:b,list:e,sb:l,sbb:v});}}}}};LEAP.scrollbar.mousetd1=function(i){var j=i.e.srcElement;var f=i.e.type;var x=j.tagName;var c=j.getAttribute(commfields.ctf);var d=i.arg.element;var v=i.arg.wheelelement;
var q=i.arg.ch;var e=d;if(!e){return;}var u=v._barctf;var g=v._barbtnctf;var s=null;if(window){s=i.e.touches[0];}else{s=i.e;}if(f=="touchend"){var w=LEAP.getElement("[ctf="+g+"]",e);LEAP.removeEvent(document.body,"touchmove",LEAP.scrollbar.mousetd1,true);LEAP.removeEvent(document.body,"touchend",LEAP.scrollbar.mousetd1,true);
LEAP.scrollbar.srflag1=false;}else{if(f=="touchstart"){var l=LEAP.getElement("[ctf="+u+"]",e);var w=LEAP.getElement("[ctf="+g+"]",e);var b=v;LEAP.scrollbar.y11=s.clientY;LEAP.scrollbar.l1=w.offsetTop;LEAP.scrollbar.max1=l.offsetHeight-w.offsetHeight;LEAP.addEvent(document.body,"touchmove",LEAP.scrollbar.mousetd1,{element:d,wheelelement:v},null,true);
LEAP.addEvent(document.body,"touchend",LEAP.scrollbar.mousetd1,{element:d,wheelelement:v},null,true);LEAP.scrollbar.srflag1=true;}else{if(f=="touchmove"){if(LEAP.scrollbar.srflag1==true){var l=LEAP.getElement("[ctf="+u+"]",e);var w=LEAP.getElement("[ctf="+g+"]",e);var b=v;var n=s.clientY;var o=Math.min(LEAP.scrollbar.max1,Math.max(-2,LEAP.scrollbar.l1+(n-LEAP.scrollbar.y11)));
var r=o*b.scrollHeight/l.offsetHeight;w._scrolltop=o;w.style.top=o+"px";b.scrollTop=r;var p=b._scrollTop;if(!p){p=0;}var t=b.clientHeight-8;var m=b.scrollHeight;var a=0;if(q!=null){a=q+p;}w.style.minHeight=t*(t/m)-a+"px";ElementEventManager.handleEvent(e,"listmousewheel",{be:b,list:e,sb:l,sbb:w});}}}}};
LEAP.scrollbar.urlwheel1=function(h){var i=h.e.srcElement;var f=h.e.type;var s=i.tagName;var b=i.getAttribute(commfields.ctf);var c=h.arg.element;var q=h.arg.wheelelement;var m=h.arg.ch;var d=c;if(!d){return;}var p=q._barctf;var g=q._barbtnctf;var a=q;var o=null;if(window){o=h.e.touches[0];}else{o=h.e;
}if(a){if(f=="touchend"){LEAP.removeEvent(document.body,"touchmove",LEAP.scrollbar.urlwheel1,true);LEAP.removeEvent(document.body,"touchend",LEAP.scrollbar.urlwheel1,true);LEAP.scrollbar.wlflag=false;}else{if(f=="touchstart"){var j=LEAP.getElement("[ctf="+p+"]",d);var r=LEAP.getElement("[ctf="+g+"]",d);
var a=q;LEAP.scrollbar.wly1=o.clientY;LEAP.scrollbar.wll=a.scrollTop;LEAP.addEvent(document.body,"touchmove",LEAP.scrollbar.urlwheel1,{element:c,wheelelement:q},null,true);LEAP.addEvent(document.body,"touchend",LEAP.scrollbar.urlwheel1,{element:c,wheelelement:q},null,true);LEAP.scrollbar.wlflag=true;
}else{if(f=="touchmove"){if(LEAP.scrollbar.wlflag==true){var n=o.clientY;var e=0;if(n>LEAP.scrollbar.y1){a.scrollTop=LEAP.scrollbar.wll-(n-LEAP.scrollbar.wly1);}else{if(n<LEAP.scrollbar.y1){e=LEAP.scrollbar.y1-n;a.scrollTop=LEAP.scrollbar.wll+(LEAP.scrollbar.wly1-n);console.log("cha=====>>>"+e);}}var j=LEAP.getElement("[ctf="+p+"]",d);
var r=LEAP.getElement("[ctf="+g+"]",d);var l=a.scrollTop/(a.scrollHeight/j.offsetHeight);r._scrolltop=l;r.style.top=l+"px";ElementEventManager.handleEvent(d,"listmousewheel",{be:a,list:d,sb:j,sbb:r});}}}}}};LEAP.scrollbar.urlwheel=function(j){var a=j.e.srcElement;var h=j.e.type;var l=a.tagName;var i=a.getAttribute(commfields.ctf);
var d=j.arg.element;var c=j.arg.wheelelement;var b=j.arg.ch;var e=d;if(!e){return;}var f=c;if(f){var g=false;if(event.wheelDelta<0){LEAP.scrollbar.urlwheeldown(d,c,b);}else{if(event.wheelDelta>0){LEAP.scrollbar.urlwheelup(d,c,b);}}}};LEAP.scrollbar.urlwheeldown=function(f,d,c){var i=f;if(!i){return;}var n=d._barctf;
var q=d._barbtnctf;var m=d;if(m){m.scrollTop+=30;if(m.scrollHeight>m.clientHeight){var r=m.clientHeight*(30/m.scrollHeight);var p=LEAP.getElement("[ctf="+q+"]",i);var b=LEAP.getElement("[ctf="+n+"]",i);var g=(b.clientHeight-p.clientHeight);if(g>p.offsetTop+5){if(p._scrolltop){var l=LEAP.tonum(p._scrolltop);
l+=r;p._scrolltop=l;}else{p._scrolltop=p.offsetTop+r;}p.style.top=LEAP.tonum(p._scrolltop)+"px";var e=m._scrollTop;if(!e){e=0;}var j=m.clientHeight-8;var o=m.scrollHeight;var a=0;if(c!=null){a=c+e;}p.style.minHeight=j*(j/o)-a+"px";}ElementEventManager.handleEvent(i,"listmousewheel",{be:m,list:i,sb:b,sbb:p});
}}};LEAP.scrollbar.urlwheelup=function(d,c,b){var f=d;if(!f){return;}var i=c._barctf;var l=c._barbtnctf;var h=c;if(h){h.scrollTop-=30;if(h.scrollHeight>h.clientHeight){var m=h.clientHeight*(30/h.scrollHeight);var j=LEAP.getElement("[ctf="+l+"]",f);var a=LEAP.getElement("[ctf="+i+"]",f);var e=(a.clientHeight-j.clientHeight);
if(5<j.offsetTop+5){if(j._scrolltop){var g=LEAP.tonum(j._scrolltop);g-=m;if(g<0){g=0;}j._scrolltop=g;}else{j._scrolltop=(j.offsetTop-m)>0?(j.offsetTop-m):0;}j.style.top=LEAP.tonum(j._scrolltop)+"px";}ElementEventManager.handleEvent(f,"listmousewheel",{be:h,list:f,sb:a,sbb:j});}}};LEAP.scrollbar.init=function(){if(document!=null&&document.body!=null){LEAP.scrollbar._init();
}else{UIEventManager.addEvent(window,"load",LEAP.scrollbar._init);}}();LEAP.scrollbar2={};LEAP.scrollbar2.settings={barWidth:5,hoverWidth:5,position:"x,y",wheelDis:15,bgcolor:"#848484",hoverbgcolor:"#000"};LEAP.scrollbar2.horizontalDiv='<div class="LC2_scrollBarBox" ctf="horizontal" style="width:100%;left:0;height:@barsize@px;bottom:0;"><div class="LC2_scrollBar LC2_horizontalBar" ctf="horizontalBar" style="height:@barsize@px;border-radius:@barsizepj@px;background:@background@;"></div></div>';
LEAP.scrollbar2.verticalDiv='<div class="LC2_scrollBarBox" ctf="vertical" style="height:100%;top:0;width:@barsize@px;right:0;"><div class="LC2_scrollBar LC2_verticalBar" ctf="verticalBar" style="width:@barsize@px;border-radius:@barsizepj@px;background:@background@;"></div></div>';LEAP.scrollbar2.showScrollBar=function(){var a=LEAP.getElements("[isoverflow=auto]");
if(a!=null){for(var c=0;c<a.length;c++){var b=a[c];if(!b){return;}LEAP.scrollbar2.setElpar(b);LEAP.scrollbar2.creatScrollBar(b);}}LEAP.scrollbar2.addTimer();};LEAP.scrollbar2.setElpar=function(c){if(c._options==null){LEAP.setStyle(c,{overflow:"hidden"});var b=c.getAttribute("scrollops");b=b?JSON.parse(b):{};
var e={};if(b.barWidth){e.barWidth=b.barWidth;}else{e.barWidth=LEAP.scrollbar2.settings.barWidth;}if(b.position){e.position=b.position;}else{e.position=LEAP.scrollbar2.settings.position;}if(b.wheelDis){e.wheelDis=b.wheelDis;}else{e.wheelDis=LEAP.scrollbar2.settings.wheelDis;}if(b.hoverWidth){e.hoverWidth=b.hoverWidth;
}else{e.hoverWidth=LEAP.scrollbar2.settings.hoverWidth;}if(b.bgcolor){e.bgcolor=b.bgcolor;}else{e.bgcolor=LEAP.scrollbar2.settings.bgcolor;}if(b.hoverbgcolor){e.hoverbgcolor=b.hoverbgcolor;}else{e.hoverbgcolor=LEAP.scrollbar2.settings.hoverbgcolor;}c._options=e;var a=LEAP.scrollbar2.settings.barWidth;
var d=LEAP.tonum(LEAP.scrollbar2.settings.barWidth)/2;c._horizontalDiv=LEAP.scrollbar2.horizontalDiv.replace("@background@",LEAP.scrollbar2.settings.bgcolor).replaceall("@barsize@",a).replace("@barsizepj@",d);c._verticalDiv=LEAP.scrollbar2.verticalDiv.replace("@background@",LEAP.scrollbar2.settings.bgcolor).replaceall("@barsize@",a).replace("@barsizepj@",d);
}};LEAP.scrollbar2.creatScrollBar=function(c){LEAP.scrollbar2.setElpar(c);var s=LEAP.getElement("[srtf=lcscrollbox]",c);if(s==null){c=LEAP.scrollbar2.wrapInner(c,"lcscrollbox");s=LEAP.getElement("[srtf=lcscrollbox]",c);var r=c.getAttribute("stf");if(r!=null){var g=LEAP.getElement("[srtf=flowscrollbox_"+r+"]");
if(g==null){var o=LEAP.getElement("[flowscroll="+r+"]");o=LEAP.scrollbar2.wrapInner(o,"flowscrollbox_"+r+"");var t=LEAP.scrollbar2.getStyle(o,"position");if(String.isEmpty(t)||t=="static"){LEAP.setStyle(o,{position:"relative"});}LEAP.setStyle(o,{overflow:"hidden"});}}}if(s.getAttribute("transy")==null){s.setAttribute("transy",0);
}if(s.getAttribute("transx")==null){s.setAttribute("transx",0);}var t=LEAP.scrollbar2.getStyle(c,"position");if(String.isEmpty(t)||t=="static"){LEAP.setStyle(c,{position:"relative"});}LEAP.setStyle(c,{overflow:"hidden"});var a=s.scrollHeight;var l=s.scrollWidth;var f=LEAP.scrollbar2.height(s);var q=LEAP.scrollbar2.width(s);
var e=c.clientHeight;var p=c.clientWidth;var d=c._options;var t=d.position;if(String.isEmpty(t)){t=LEAP.scrollbar2.settings.position;}var h=null;var j=null;switch(t){case"x,y":if(a>f&&l>q){f=LEAP.scrollbar2.height(c);e=c.clientHeight-LEAP.scrollbar2.settings.barWidth;var m=(e)*((f)/a);var b=LEAP.getElement("[ctf=vertical]",c);
if(!b){b=LEAP.scrollbar2.append(c,c._verticalDiv);}if(b!=null){LEAP.setStyle(b,{height:e+"px"});}h=LEAP.getElement("[ctf=verticalBar]",b);if(h!=null){if(h.getAttribute("transy")==null){h.setAttribute("transy",0);}LEAP.setStyle(h,{height:m+"px"});}q=LEAP.scrollbar2.width(c);var i=((p)*((q)/l));var n=LEAP.getElement("[ctf=horizontal]",c);
if(!n){n=LEAP.scrollbar2.append(c,c._horizontalDiv);}if(n!=null){LEAP.setStyle(n,{width:p+"px",boxSizing:"border-box"});}j=LEAP.getElement("[ctf=horizontalBar]",n);if(j!=null){if(j.getAttribute("transx")==null){j.setAttribute("transx",0);}LEAP.setStyle(j,{width:i+"px"});}}else{if(a>f){LEAP.scrollbar2.addVerticalBar(c,e,a);
h=LEAP.getElement("[ctf=verticalBar]",c);}else{var b=LEAP.getElement("[ctf=vertical]",c);if(b!=null){c.removeChild(b);}}if(l>q){LEAP.scrollbar2.addHorizontalBar(c,p,l);j=LEAP.getElement("[ctf=horizontalBar]",c);}else{var n=LEAP.getElement("[ctf=horizontal]",c);if(n!=null){c.removeChild(n);}}}break;case"x":if(l>q){LEAP.scrollbar2.addHorizontalBar(c,p,l);
j=LEAP.getElement("[ctf=horizontalBar]",c);}else{var n=LEAP.getElement("[ctf=horizontal]",c);if(n!=null){c.removeChild(n);}}break;case"y":if(a>f){LEAP.scrollbar2.addVerticalBar(c,e,a);h=LEAP.getElement("[ctf=verticalBar]",c);}else{var b=LEAP.getElement("[ctf=vertical]",c);if(b!=null){c.removeChild(b);
}}break;}LEAP.scrollbar2.addEvent(c,h,j);};LEAP.scrollbar2.addEvent=function(a,c,b){if(null==a.___events){LEAP.addEvent(a,"mousewheel",LEAP.scrollbar2.elmousetd,{element:a},null,true);}else{if(a.___events.indexOf("mousewheel")==-1){LEAP.addEvent(a,"mousewheel",LEAP.scrollbar2.elmousetd,{element:a},null,true);
}}if(c!=null){if(null==c.___events){LEAP.addEvent(c,"mousedown",LEAP.scrollbar2.mousetd,{element:a,direction:"0"},null,true);LEAP.addEvent(c,"mouseover",LEAP.scrollbar2.mousetd,{element:a,direction:"0"},null,true);}else{if(c.___events.indexOf("mousedown")==-1){LEAP.addEvent(c,"mousedown",LEAP.scrollbar2.mousetd,{element:a,direction:"0"},null,true);
}if(c.___events.indexOf("mouseover")==-1){LEAP.addEvent(c,"mouseover",LEAP.scrollbar2.mousetd,{element:a,direction:"0"},null,true);}}}if(b!=null){if(null==b.___events){LEAP.addEvent(b,"mousedown",LEAP.scrollbar2.mousetd,{element:a,direction:"1"},null,true);LEAP.addEvent(b,"mouseover",LEAP.scrollbar2.mousetd,{element:a,direction:"1"},null,true);
}else{if(b.___events.indexOf("mousedown")==-1){LEAP.addEvent(b,"mousedown",LEAP.scrollbar2.mousetd,{element:a,direction:"1"},null,true);}if(b.___events.indexOf("mouseover")==-1){LEAP.addEvent(b,"mouseover",LEAP.scrollbar2.mousetd,{element:a,direction:"1"},null,true);}}}};LEAP.scrollbar2.mousetd=function(j){var l=j.e.srcElement;
var f=j.e.type;var u=l.tagName;var c=l.getAttribute(commfields.ctf);var d=j.arg.element;var s=j.arg.direction;if(d==null){return;}var e=d._options;if(f=="mousedown"){var m=LEAP.scrollbar2.height(l.parentElement)-LEAP.scrollbar2.height(l);var p=LEAP.scrollbar2.width(l.parentElement)-LEAP.scrollbar2.width(l);
var o=LEAP.getElement("[srtf=lcscrollbox]",d);var a=o.scrollHeight;var i=LEAP.scrollbar2.height(l.parentElement.parentElement);var q=o.scrollWidth;var t=LEAP.scrollbar2.width(l.parentElement.parentElement);var r=r||event;var g=r.clientY-parseFloat(l.getAttribute("transy"));var h=r.clientX-parseFloat(l.getAttribute("transx"));
var b=null;var n=null;switch(s){case"0":document.onmousemove=function(v){var v=v||event;if(v.clientY-g<=0){b=0;}else{if((v.clientY-g)>=m){b=m;}else{b=v.clientY-g;}}l.setAttribute("transy",b);l.style.transform="translateY("+b+"px)";o.setAttribute("transy",(-(b*(a-i)/m)));o.style.transform="translate("+parseFloat(o.getAttribute("transx"))+"px,"+(-(b*(a-i)/m))+"px)";
window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();};break;case"1":document.onmousemove=function(w){var w=w||event;if(w.clientX-h<=0){n=0;}else{if((w.clientX-h)>=p){n=p;}else{n=w.clientX-h;}}l.setAttribute("transx",n);l.style.transform="translateX("+n+"px)";o.setAttribute("transx",(-(n*(q-t)/p)));
o.style.transform="translate("+(-(n*(q-t)/p))+"px,"+parseFloat(o.getAttribute("transy"))+"px)";var x=d.getAttribute("stf");if(x!=null){var v=LEAP.getElement("[ctf=flowscrollbox_"+x+"]");if(v!=null){v.style.transform="translate("+(-(n*(q-t)/p))+"px,"+parseFloat(o.getAttribute("transy"))+"px)";}}window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();
};break;}document.onmouseup=function(){document.onmousemove=null;document.onmouseup=null;};}else{if(f=="mouseover"){LEAP.addEvent(l,"mouseout",LEAP.scrollbar2.mousetd,{element:d,direction:s},null,true);LEAP.setStyle(l,{background:e.hoverbgcolor});if(s=="0"){LEAP.setStyle(l,{width:e.hoverWidth+"px"});
LEAP.setStyle(l.parentElement,{width:e.hoverWidth+"px"});}else{if(s=="1"){LEAP.setStyle(l,{height:e.hoverWidth+"px"});LEAP.setStyle(l.parentElement,{height:e.hoverWidth+"px"});}}}else{if(f=="mouseout"){LEAP.removeEvent(l,"mouseout",LEAP.scrollbar2.mousetd,true);LEAP.setStyle(l,{background:e.bgcolor});
if(s=="0"){LEAP.setStyle(l,{width:e.barWidth+"px"});LEAP.setStyle(l.parentElement,{width:e.barWidth+"px"});}else{if(s=="1"){LEAP.setStyle(l,{height:e.barWidth+"px"});LEAP.setStyle(l.parentElement,{height:e.barWidth+"px"});}}}}}};LEAP.scrollbar2.elmousetd=function(o){var a=o.e.srcElement;var l=o.e;var h=o.e.type;
var q=a.tagName;var j=a.getAttribute(commfields.ctf);var d=o.arg.element;if(d==null){return;}var p=d._options;if(h=="mousewheel"){var f=LEAP.getElement("[ctf=verticalBar]",d);if(f){var i=true;var m=LEAP.scrollbar2.height(f.parentElement)-LEAP.scrollbar2.height(f);var e=LEAP.getElement("[srtf=lcscrollbox]",d);
var g=e.scrollHeight;var c=LEAP.scrollbar2.height(d);if(l.wheelDelta){i=l.wheelDelta>0?true:false;}else{i=l.detail<0?true:false;}var n=parseFloat(f.getAttribute("transy"));if(i){n-=p.wheelDis;if(n<0){n=0;}}else{n+=p.wheelDis;if(n>m){n=m;}}f.setAttribute("transy",n);f.style.transform="translateY("+n+"px)";
e.setAttribute("transy",(-(n*(g-c)/m)));e.style.transform="translate("+parseFloat(e.getAttribute("transx"))+"px,"+(-(n*(g-c)/m))+"px)";}return false;}};LEAP.scrollbar2.wrapInner=function(a,b){var c=a.children[0];c.setAttribute("srtf",b);return a;};LEAP.scrollbar2.height=function(d){var e=LEAP.scrollbar2.getStyle(d,"paddingTop");
if(e!=null){e=e.replace("px","");}else{e=0;}var b=LEAP.scrollbar2.getStyle(d,"paddingBottom");if(b!=null){b=b.replace("px","");}else{b=0;}var c=d.clientHeight;var a=c-LEAP.tonum(e)-LEAP.tonum(b);return a;};LEAP.scrollbar2.width=function(d){var b=LEAP.scrollbar2.getStyle(d,"paddingRight");if(b!=null){b=b.replace("px","");
}else{b=0;}var e=LEAP.scrollbar2.getStyle(d,"paddingLeft");if(e!=null){e=e.replace("px","");}else{e=0;}var a=d.clientWidth;var c=a-LEAP.tonum(b)-LEAP.tonum(e);return c;};LEAP.scrollbar2.append=function(b,a){var c=document.createElement("div");c.innerHTML=a;b.appendChild(c.children[0]);c=null;return b.children[b.children.length-1];
};LEAP.scrollbar2.getStyle=function(b,a){return b.currentStyle?b.currentStyle[a]:getComputedStyle(b,false)[a];};LEAP.scrollbar2.addVerticalBar=function(d,e,c){var a=LEAP.scrollbar2.height(d);var f=e*(a/c);var b=LEAP.getElement("[ctf=vertical]",d);if(b!=null){d.removeChild(b);}LEAP.scrollbar2.append(d,d._verticalDiv);
var g=LEAP.getElement("[ctf=verticalBar]",d);if(g!=null){if(g.getAttribute("transy")==null){g.setAttribute("transy",0);}LEAP.setStyle(g,{height:f+"px"});}};LEAP.scrollbar2.addHorizontalBar=function(d,b,g){var f=LEAP.scrollbar2.width(d);var c=b*(f/g);var a=LEAP.getElement("[ctf=horizontal]",d);if(a!=null){d.removeChild(a);
}LEAP.scrollbar2.append(d,d._horizontalDiv);var e=LEAP.getElement("[ctf=horizontalBar]",d);if(e!=null){if(e.getAttribute("transx")==null){e.setAttribute("transx",0);}LEAP.setStyle(e,{width:c+"px"});}};LEAP.scrollbar2.creatTimer=function(){try{return new Promise(function(w,e){var c=LEAP.getElements("[isoverflow=auto]");
if(c!=null){for(var y=0;y<c.length;y++){var o=c[y];var s=o._oldWidth;var l=o._oldHeight;var u=o._oldInnerWidth;var m=o._oldInnerHeight;var n=null;var v=null;var g=null;var B=null;var h=null;var C=null;var q=null;var d=null;var x=LEAP.getElement("[srtf=lcscrollbox]",o);if(x){n=x.scrollWidth;v=x.scrollHeight;
g=LEAP.scrollbar2.width(x);B=LEAP.scrollbar2.height(x);}else{n=o.scrollWidth-parseFloat(LEAP.scrollbar2.getStyle(o,"paddingLeft").replace("px",""));v=o.scrollHeight-parseFloat(LEAP.scrollbar2.getStyle(o,"paddingTop").replace("px",""));g=LEAP.scrollbar2.width(o);B=LEAP.scrollbar2.height(o);}if(n!=s||v!=l||g!=u||B!=m){if(x){h=parseFloat(x.getAttribute("transy"));
C=parseFloat(x.getAttribute("transx"));}var p=LEAP.getElement("[ctf=verticalBar]",o);if(p){q=parseFloat(p.getAttribute("transy"));}var t=LEAP.getElement("[ctf=horizontalBar]",o);if(t){d=parseFloat(t.getAttribute("transx"));}LEAP.scrollbar2.creatScrollBar(o);var A=LEAP.getElement("[ctf=horizontal]",o);
var b=LEAP.getElement("[ctf=vertical]",o);if(A||b){if(h){var f=x.scrollHeight-LEAP.scrollbar2.height(o);var r=x.scrollWidth-LEAP.scrollbar2.width(o);if(-C>r){C=-r;}if(-h>f){h=-f;}x.setAttribute("transy",h);x.setAttribute("transx",C);x.style.transform="translate("+C+"px,"+h+"px)";}if(b==null){x.setAttribute("transy",0);
x.style.transform="translate("+parseFloat(x.getAttribute("transx"))+"px,0px)";}if(A==null){x.setAttribute("transx",0);x.style.transform="translate(0px,"+parseFloat(x.getAttribute("transy"))+"px)";var D=o.getAttribute("stf");if(D!=null){var j=LEAP.getElement("[ctf=flowscrollbox_"+D+"]");if(j!=null){j.style.transform="translate(0px,"+parseFloat(x.getAttribute("transy"))+"px)";
}}}if(q&&LEAP.getElement("[ctf=verticalBar]",o)){var p=LEAP.getElement("[ctf=verticalBar]",o);var E=LEAP.scrollbar2.height(p.parentElement)-LEAP.scrollbar2.height(p);if(q>E){q=E;}p.setAttribute("transy",q);p.style.transform="translateY("+q+"px)";}if(d&&LEAP.getElement("[ctf=horizontalBar]",o)){var t=LEAP.getElement("[ctf=horizontalBar]",o);
var z=LEAP.scrollbar2.width(t.parentElement)-LEAP.scrollbar2.width(t);if(d>z){d=z;}t.setAttribute("transx",d);t.style.transform="translateX("+d+"px)";}}o._oldWidth=n;o._oldHeight=v;o._oldInnerWidth=g;o._oldInnerHeight=B;}}}return w();}).then(function(){window.setTimeout(LEAP.scrollbar2.creatTimer,300);
});}catch(a){}};LEAP.scrollbar2.addTimer=function(){var g=LEAP.getElements("[isoverflow=auto]");if(g!=null){for(var d=0;d<g.length;d++){var e=g[d];var b=null;var h=null;var a=null;var f=null;var c=LEAP.getElement("[srtf=lcscrollbox]",e);if(c){b=c.scrollWidth;h=c.scrollHeight;a=LEAP.scrollbar2.width(c);
f=LEAP.scrollbar2.height(c);}else{b=e.scrollWidth-parseFloat(LEAP.scrollbar2.getStyle(e,"paddingLeft"));h=e.scrollHeight-parseFloat(LEAP.scrollbar2.getStyle(e,"paddingTop"));a=LEAP.scrollbar2.width(e);f=LEAP.scrollbar2.height(e);}e._oldWidth=b;e._oldHeight=h;e._oldInnerWidth=a;e._oldInnerHeight=f;}}window.setTimeout(LEAP.scrollbar2.creatTimer,300);
};LEAP.conversion={};LEAP.conversion.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY";
LEAP.conversion.oMultiDiff={"19969":"DZ","19975":"WM","19988":"QJ","20048":"YL","20056":"SC","20060":"NM","20094":"QG","20127":"QJ","20167":"QC","20193":"YG","20250":"KH","20256":"ZC","20282":"SC","20285":"QJG","20291":"TD","20314":"YD","20340":"NE","20375":"TD","20389":"YJ","20391":"CZ","20415":"PB","20446":"YS","20447":"SQ","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20985":"AW","21032":"PB","21048":"XQ","21049":"SC","21089":"YS","21119":"JC","21242":"SB","21273":"SC","21305":"YP","21306":"QO","21330":"ZC","21333":"SDC","21345":"QK","21378":"CA","21397":"SC","21414":"XS","21442":"SC","21477":"JG","21480":"TD","21484":"ZS","21494":"YX","21505":"YX","21512":"HG","21523":"XH","21537":"PB","21542":"PF","21549":"KH","21571":"E","21574":"DA","21588":"TD","21589":"O","21618":"ZC","21621":"KHA","21632":"ZJ","21654":"KG","21679":"LKG","21683":"KH","21710":"A","21719":"YH","21734":"WOE","21769":"A","21780":"WN","21804":"XH","21834":"A","21899":"ZD","21903":"RN","21908":"WO","21939":"ZC","21956":"SA","21964":"YA","21970":"TD","22003":"A","22031":"JG","22040":"XS","22060":"ZC","22066":"ZC","22079":"MH","22129":"XJ","22179":"XA","22237":"NJ","22244":"TD","22280":"JQ","22300":"YH","22313":"XW","22331":"YQ","22343":"YJ","22351":"PH","22395":"DC","22412":"TD","22484":"PB","22500":"PB","22534":"ZD","22549":"DH","22561":"PB","22612":"TD","22771":"KQ","22831":"HB","22841":"JG","22855":"QJ","22865":"XQ","23013":"ML","23081":"WM","23487":"SX","23558":"QJ","23561":"YW","23586":"YW","23614":"YW","23615":"SN","23631":"PB","23646":"ZS","23663":"ZT","23673":"YG","23762":"TD","23769":"ZS","23780":"QJ","23884":"QK","24055":"XH","24113":"DC","24162":"ZC","24191":"GA","24273":"QJ","24324":"NL","24377":"TD","24378":"QJ","24439":"PF","24554":"ZS","24683":"TD","24694":"WE","24733":"LK","24925":"TN","25094":"ZG","25100":"XQ","25103":"XH","25153":"PB","25170":"PB","25179":"KG","25203":"PB","25240":"ZS","25282":"FB","25303":"NA","25324":"KG","25341":"ZY","25373":"WZ","25375":"XJ","25384":"A","25457":"A","25528":"SD","25530":"SC","25552":"TD","25774":"ZC","25874":"ZC","26044":"YW","26080":"WM","26292":"PB","26333":"PB","26355":"ZY","26366":"CZ","26397":"ZC","26399":"QJ","26415":"ZS","26451":"SB","26526":"ZC","26552":"JG","26561":"TD","26588":"JG","26597":"CZ","26629":"ZS","26638":"YL","26646":"XQ","26653":"KG","26657":"XJ","26727":"HG","26894":"ZC","26937":"ZS","26946":"ZC","26999":"KJ","27099":"KJ","27449":"YQ","27481":"XS","27542":"ZS","27663":"ZS","27748":"TS","27784":"SC","27788":"ZD","27795":"TD","27812":"O","27850":"PB","27852":"MB","27895":"SL","27898":"PL","27973":"QJ","27981":"KH","27986":"HX","27994":"XJ","28044":"YC","28065":"WG","28177":"SM","28267":"QJ","28291":"KH","28337":"ZQ","28463":"TL","28548":"DC","28601":"TD","28689":"PB","28805":"JG","28820":"QG","28846":"PB","28952":"TD","28975":"ZC","29100":"A","29325":"QJ","29575":"SL","29602":"FB","30010":"TD","30044":"CX","30058":"PF","30091":"YSP","30111":"YN","30229":"XJ","30427":"SC","30465":"SX","30631":"YQ","30655":"QJ","30684":"QJG","30707":"SD","30729":"XH","30796":"LG","30917":"PB","31074":"NM","31085":"JZ","31109":"SC","31181":"ZC","31192":"MLB","31293":"JQ","31400":"YX","31584":"YJ","31896":"ZN","31909":"ZY","31995":"XJ","32321":"PF","32327":"ZY","32418":"HG","32420":"XQ","32421":"HG","32438":"LG","32473":"GJ","32488":"TD","32521":"QJ","32527":"PB","32562":"ZSQ","32564":"JZ","32735":"ZD","32793":"PB","33071":"PF","33098":"XL","33100":"YA","33152":"PB","33261":"CX","33324":"BP","33333":"TD","33406":"YA","33426":"WM","33432":"PB","33445":"JG","33486":"ZN","33493":"TS","33507":"QJ","33540":"QJ","33544":"ZC","33564":"XQ","33617":"YT","33632":"QJ","33636":"XH","33637":"YX","33694":"WG","33705":"PF","33728":"YW","33882":"SR","34067":"WM","34074":"YW","34121":"QJ","34255":"ZC","34259":"XL","34425":"JH","34430":"XH","34485":"KH","34503":"YS","34532":"HG","34552":"XS","34558":"YE","34593":"ZL","34660":"YQ","34892":"XH","34928":"SC","34999":"QJ","35048":"PB","35059":"SC","35098":"ZC","35203":"TQ","35265":"JX","35299":"JX","35782":"SZ","35828":"YS","35830":"E","35843":"TD","35895":"YG","35977":"MH","36158":"JG","36228":"QJ","36426":"XQ","36466":"DC","36710":"JC","36711":"ZYG","36767":"PB","36866":"SK","36951":"YW","37034":"YX","37063":"XH","37218":"ZC","37325":"ZC","38063":"PB","38079":"TD","38085":"QY","38107":"DC","38116":"TD","38123":"YD","38224":"HG","38241":"XTC","38271":"ZC","38415":"YE","38426":"KH","38461":"YD","38463":"AE","38466":"PB","38477":"XJ","38518":"YT","38551":"WK","38585":"ZC","38704":"XS","38739":"LJ","38761":"GJ","38808":"SQ","39048":"JG","39049":"XJ","39052":"HG","39076":"CZ","39271":"XT","39534":"TD","39552":"TD","39584":"PB","39647":"SB","39730":"LG","39748":"TPB","40109":"ZQ","40479":"ND","40516":"HG","40536":"HG","40583":"QJ","40765":"YQ","40784":"QJ","40840":"YK","40863":"QJG"};
LEAP.conversion.getValue=function(a){if(typeof(a)!="string"){return;}return LEAP.conversion.checkCh(a);};LEAP.conversion.checkCh=function(a){var b=a.charCodeAt(0);if(b>40869||b<19968){return a;}return(LEAP.conversion.oMultiDiff[b]?LEAP.conversion.oMultiDiff[b]:(LEAP.conversion.strChineseFirstPY.charAt(b-19968)));
};LEAP.conversion.makePy=function(e){if(typeof(e)!="string"){return;}var b=new Array();for(var c=0,a=e.length;c<a;c++){var d=e.charAt(c);b.push(LEAP.conversion.checkCh(d));}return LEAP.conversion.mkRslt(b);};LEAP.conversion.mkRslt=function(f){var h=[""];for(var e=0,g=f.length;e<g;e++){var l=f[e];var m=l.length;
if(m==1){for(var a=0;a<h.length;a++){h[a]+=l;}}else{var c=h.slice(0);h=[];for(a=0;a<m;a++){var d=c.slice(0);for(var b=0;b<d.length;b++){d[b]+=l.charAt(a);}h=h.concat(d);}}}return h;};LEAP.select2={};LEAP.select2.d="select2";LEAP.select2.rh="_rowhtml";LEAP.select2.ih="_itemhtml";LEAP.select2.level="_level";
LEAP.select2.dt="_datas";LEAP.select2.idx="_index";LEAP.select2.fd="_fndata";LEAP.select2.fa="_pkeys";LEAP.select2.help="字母：聚焦对应值\n空格：选中值\n回车：确定选中的值\n左右箭头：移动聚焦";LEAP.select2.hideArr=new Array();LEAP.select2.hideBox=new Array();LEAP.select2.event=false;LEAP.select2._init=function(){LEAP.addEvent(document.body,"click",LEAP.select2.uiProcess,null,null,true);
LEAP.addEvent(document.body,"keydown",LEAP.select2.uiProcess,null,null,true);LEAP.addEvent(document.body,"mouseover",LEAP.select2.uiProcess,null,null,true);LEAP.addEvent(document.body,"mousewheel",LEAP.select2.uiProcess,null,null,true);UIEventManager.removeEvent(window,"load",LEAP.select2._init);};LEAP.select2.initControl=function(h,a){if(!a){if(!event){return;
}a=event.srcElement;}if(!a){return;}if(h!=null){var l=function(){LEAP.select2.initControl(null,a);a=null;};setTimeout(l,h);return;}var g=a.parentElement;var e=LEAP.getElement(".LC_select_main",g);if(g!=null){if(LEAP!=null){if(LEAP.getElement){var n=LEAP.getElement("[ctf=select2_help]",g);if(n!=null){n.style.display="none";
n.title=LEAP.select2.help;}var j=LEAP.getElement("input[ctf=select2_value]",g);if(j!=null){LEAP.addEvent(j,"focus",LEAP.select2.uiProcess,null,null,true);LEAP.addEvent(j,"blur",LEAP.select2.uiProcess,null,null,true);if(j.value){if(g._initvalue==null){if(!j[LEAP.select2.dt]){g._initvalue=j.value;}}}}var d=LEAP.getElement("[ctf=select2_home]",g);
if(d!=null){d.setAttribute("title","清空值");}var i=g.getAttribute("issearch");if(i=="1"){var b=LEAP.getElement("[ctf=select2_search]",g);b.style.display="inline-block";var c=LEAP.getElement("[ctf=select2_searchvalue]",g);}var f=LEAP.getElement("[ctf=select2_btn]",g);var m=g.getAttribute("hidebtn");if(m&&m=="1"&&f){LEAP.addCSS(f,"LC_select_hide");
}}}}};LEAP.select2.setValue=function(o,z){if(!o){return;}var q=LEAP.getElement("input[ctf=select2_value]",o);var l=o.getAttribute("readonly");if(!z){if(o._initvalue){q.value=o._initvalue;q[LEAP.select2.dt]=null;q.style.color="Gray";}else{q.value="";q[LEAP.select2.dt]=null;q.style.color="Gray";}LEAP.removeCSS(o,"LC_select_active1",false);
if(l=="1"||l=="readonly"||l==true){LEAP.select2.setReadOnly(o,true);}else{LEAP.select2.setReadOnly(o,false);}var f=LEAP.getElement("[ctf=select2_title_values]",o);if(f!=null){f.innerHTML='<a href="javascript:" class="LC_select_none" ctf="select2_title_value"></a>';}return;}if(o._titlevalue!=null){var f=LEAP.getElement("[ctf=select2_title_values]",o);
if(f!=null){f.innerHTML="";}}var j=o.getAttribute("sct");var e=o.getAttribute("code");var K=o.getAttribute("values");var F=o.getAttribute("btfns");var a=o.getAttribute("codelen");var E=o.getAttribute("vlen");var g=o.getAttribute("router");var n=o.getAttribute("areasource");if(!g){var p=LEAP.getLoadedModule(o.getAttribute("instance"));
if(p&&p.leapclient){g=p.leapclient.router;}o.setAttribute("router",g);}if(l=="1"||l=="readonly"||l==true){LEAP.select2.setReadOnly(o,true);}else{LEAP.select2.setReadOnly(o,false);}var w=null;if(e){w=e.split(",");}var t=null;if(a){t=a.split(",");}var B=null;var b=null;var c=null;z=z+"";if(j=="areagroup"){if(w){if(E){z=LEAP.select._sub(E,z);
var D=z;var m=null;if(t){for(var G=0;G<w.length;G++){var y=D.substring(0,t[G]);if(y){D=D.replace(y,"");y=LEAP.select._fill(t[G],y);if(G==0){m=y;}else{m+=y;}}}}else{m=z;}if(!E){z=LEAP.select._fill(18,m);}else{z=LEAP.select._fill(E,m);}}}var u=o.getAttribute("pvalue");var A=null;if(u!=null){A=u;}else{if(n=="user"){A=LEAP.userInfo.detail.areaid;
}else{A=LEAP.userInfo.areaid;}}var h=LEAP.getarealevel(A);if(h==null){h=0;}c=LEAP.getarealevel(z);b=LEAP.getareacodevalue(z);if(b!=null){if(h==c){var J=LEAP.getarea(z,c);var s=LEAP.getareacodevalue(J);if(s!=null){s.codelevel=c;LEAP.select2.addtitle(o,s);}if(B==null){B=s.codevalue;}}else{for(var G=h+1;
G<=c;G++){var J=LEAP.getarea(z,G);var s=LEAP.getareacodevalue(J);if(s!=null){s.codelevel=G;LEAP.select2.addtitle(o,s);}else{if(w!=null){s=LEAP.select2.getCodeData(w[0],J);if(s){s.codelevel=G;LEAP.select2.addtitle(o,s);}}}var L=o.getAttribute("separator");if(!L){L=">";}if(B==null){B=s.codevalue;}else{B+=L+s.codevalue;
}}}}}else{if(F!=null){if(!o[LEAP.select2.fd]){LEAP.select2.getFnData(o);}if(o[LEAP.select2.fd]){var d=LEAP.select2.getCodeData2(o,z);if(d){var v=o[LEAP.select2.fa];if(d.codeparentid==null){c=1;if(v.length==1){B=d.codevalue;b=d;d.codelevel=1;LEAP.select2.addtitle(o,d);}else{for(var G=0;G<v.length;G++){if(d.codeid==v[G].codeid){B=v[G].codevalue;
b=v[G];v[G].codelevel=1;LEAP.select2.addtitle(o,v[G]);break;}}}}else{var x=null;var z=d.codeparentid;var r=new Array();r.add(d);for(var G=0;G<v.length;G++){if(x!=null){z=x;}var I=LEAP.select2.getCodeData1(o,z);if(I!=null){x=I.codeparentid;if(!r.contains(I)){r.add(I);}}}var C=1;for(var G=r.length-1;G>=0;
G--){var H=r[G];if(H!=null){if(G==0){c=C;b=H;}H.codelevel=C;LEAP.select2.addtitle(o,H);var L=o.getAttribute("separator");if(!L){L=">";}if(B==null){B=H.codevalue;}else{B+=L+H.codevalue;}}C++;}}}}}else{if(E){z=LEAP.select._sub(E,z);if(!String.isEmpty(z)&&E!=null&&z.length<E){while(z.length<E){z="0"+z;}}z=LEAP.select._fill(E,z);
}if(w){if(w.length==1){if(K==""){K=null;}var K=JSON.parse(K);if(null==K||""==K){K=LEAP.getCodeValue(w[0],null,g);}c=1;if(K!=null){for(var G=0;G<K.length;G++){if(K[G].codeid==z){B=K[G].codevalue;b=K[G];K[G].codelevel=1;LEAP.select2.addtitle(o,b);}}}}else{var r=new Array();var x=null;for(var G=w.length-1;
G>=0;G--){if(x!=null){z=x;}var H=LEAP.select2.getCodeData(w[G],z);if(H!=null){x=H.codeparentid;r.add(H);}}var C=1;for(var G=r.length-1;G>=0;G--){var H=r[G];if(H!=null){if(G==0){c=C;b=H;}H.codelevel=C;LEAP.select2.addtitle(o,H);var L=o.getAttribute("separator");if(!L){L=">";}if(B==null){B=H.codevalue;
}else{B+=L+H.codevalue;}}C++;}}}}}if(B!=null&&b!=null){q.value=B;q.setAttribute("value",B);q[LEAP.select2.dt]=b;q[LEAP.select2.level]=c;}};LEAP.select2.getCodeData1=function(c,a){if(c[LEAP.select2.fa]){var d=c[LEAP.select2.fa];for(var b=0;b<d.length;b++){if(d[b].codeid==a){return d[b];}}}};LEAP.select2.getCodeData2=function(c,f){if(c[LEAP.select2.fd]){var e=c[LEAP.select2.fa];
for(var b=0;b<e.length;b++){var d=c[LEAP.select2.fd].getvalue(e[b].codeid);if(d){for(var a=0;a<d.length;a++){if(d[a].codeid==f){return d[a];}}}}}};LEAP.select2.getCodeData=function(c,e,b){var a=LEAP.getCodeValue(c,null,b);if(a!=null){for(var d=0;d<a.length;d++){var f=LEAP.parsenum(a[d].codeid);if(a[d].codeid==e||(f!=null&&f==e)){return a[d];
}}}};LEAP.select2._setValue=function(U,S,H){var p=null;var w=null;var c=LEAP.select2._getBoxElement(U);if(c){w=c[1];p=c[0];}else{w=LEAP._check(U,LEAP.select2.d);if(!w){return false;}p=w;}if(!S){return false;}var a=new Array();for(var Z=0;Z<S.length;Z++){if(S[Z].islogout!=1){a.add(S[Z]);}}if(a.length==0){return;
}S=a;var f=LEAP.getElement("[ctf=select2_title_values]",p);var Y=w.getAttribute("btfns");var F=null;var v=w.getAttribute("ml");if(!f){F=1;}else{var J=f.children;if(Y!=null){if(H!=null){F=H[LEAP.select2.dt].codelevel;}else{if(J!=null){var D=J.length;if(D>0){if(J[D-1][LEAP.select2.dt]!=null){F=J[D-1][LEAP.select2.dt].codelevel;
}}}}}else{if(J!=null){var D=J.length;if(D>0){if(J[D-1][LEAP.select2.dt]!=null){F=J[D-1][LEAP.select2.dt].codelevel;}}}}}var V=LEAP.getElement("[ctf=select2_body]",p);var aa=LEAP.getElement("[ctf=select2_row_items]",p);if(w[LEAP.select2.rh]==null){w[LEAP.select2.rh]=V.innerHTML;}if(w[LEAP.select2.ih]==null){w[LEAP.select2.ih]=aa.innerHTML;
}var m=w.getAttribute("sct");var d=w.getAttribute("code");var P=w.getAttribute("le");var s=w.getAttribute("slv");var O=w.getAttribute("ismenu");var K=w.getAttribute("isfilter");var g=w.getAttribute("router");var A=w.getAttribute("itemwidth");if(A){if(A.indexOf("px")<0){A=A+"px";}}if(!g){var x=LEAP.getLoadedModule(w.getAttribute("instance"));
if(x&&x.leapclient){g=x.leapclient.router;}w.setAttribute("router",g);}var b=null;if(d!=null&&d!=""){b=d.split(",");}if(v=="1"){var G=false;var af=new hashtable();var I=new StringBuffer();var L=false;for(var Z=0;Z<S.length;Z++){if(K=="1"&&S[Z].islogout==1){continue;}var ac=null;if(m=="areagroup"){if(!b){LEAP.messagebox.alert("请绑定代码表!",3);
return;}var h=LEAP.getarealevel(S[Z].codeid);var n=false;if(s){if(b[h-1]==s){n=true;}}if(n){ac=null;}else{ac=LEAP.getCodeValue(b[h],S[Z].codeid);}if(ac!=null){G=false;L=true;}else{if(L==false){G=true;}}}else{if(Y!=null){if(w[LEAP.select2.fd]){var o=w[LEAP.select2.fd].getvalue(S[Z].codeid);ac=o;if(ac!=null){L=true;
}else{if(L==false){G=true;}else{G=false;}}}F=null;}else{if(!b){LEAP.messagebox.alert("请绑定代码表!",3);return;}var F=0;for(var X=0;X<b.length;X++){if(b[X]==S[Z].codetypename){F=X;}}ac=LEAP.getCodeValue(b[F+1],S[Z].codeid,g);ac=LEAP.select2.setCodeTypeName(ac,b[F+1]);if(b.length==F+1){G=true;}}}var r=new StringBuffer();
if(ac!=null){af.add(S[Z].codeid,ac);for(var X=0;X<ac.length;X++){r.append(w[LEAP.select2.ih]);}}var z=w[LEAP.select2.rh].replaceall("\n","").replaceall("\t","");var N=w[LEAP.select2.ih].replaceall("\n","").replaceall("\t","");var Q=z.replace(N,r.toString());I.append(Q);}V.innerHTML=I.toString();var u=LEAP.getElements("[ctf=select2_row]",V);
var D=0;var e=0;if(u){D=u.length;}for(var Z=0;Z<D;Z++){var ac=af.getvalue(S[Z].codeid);LEAP.addCSS(u[Z],"LC_has_parent");if(G==true){if(O!="1"){LEAP.addCSS(u[Z],"LC_select_left");LEAP.addCSS(u[Z],"LC_has_parent_zh");}}var t=LEAP.getElement("[ctf=select2_letter]",u[Z]);var y=LEAP.getElement("[ctf=select2_parent]",u[Z]);
if(y){var T=LEAP._match(y,"LC_select_tag","class",5);if(T){T.setAttribute("ctf","select2_tag");}}y[LEAP.select2.idx]=e;LEAP.addCSS(t,"LC_select_hide");LEAP.removeCSS(y,"LC_select_hide",false);y.innerHTML=S[Z].codevalue;y.title=S[Z].codevalue;y[LEAP.select2.dt]=S[Z];y.setAttribute("value",S[Z].codeid);
if(F==null){y[LEAP.select2.level]=1;}else{y[LEAP.select2.level]=F+1;}var ae=LEAP.getElements("[ctf=select2_item]",u[Z]);u[Z]["_codevalues"]=ac;if(ac!=null){for(X=0;X<ac.length;X++){e++;ae[X][LEAP.select2.idx]=e;ae[X][LEAP.select2.dt]=ac[X];if(F==null){ae[X][LEAP.select2.level]=2;}else{ae[X][LEAP.select2.level]=y[LEAP.select2.level]+1;
}ae[X].setAttribute("value",ac[X].codeid);ae[X].innerHTML=ac[X].codevalue;ae[X].title=ac[X].codevalue;if(A){ae[X].style.width=A;}}}e++;}try{var M=LEAP.getElements("[ctfe=select2_item]",p);M[0].focus();}catch(ab){}}else{if(P=="0"){var I=new StringBuffer();var z=w[LEAP.select2.rh].replaceall("\n","").replaceall("\t","");
for(var Z=0;Z<S.length;Z++){I.append(z);}V.innerHTML=I.toString();var u=LEAP.getElements("[ctf=select2_row]",V);var D=0;var e=0;if(u){D=u.length;LEAP.setStyle(u,{paddingLeft:"0px"});}var C=LEAP.getElements(".LC_select_tag",V);LEAP.setStyle(C,{width:"0px"});var ae=LEAP.getElements("[ctf=select2_item]",V);
LEAP.setStyle(ae,{width:"100%"});for(var Z=0;Z<D;Z++){var ad=LEAP.getElement("[ctf=select2_item]",u[Z]);ad[LEAP.select2.idx]=e;ad[LEAP.select2.dt]=S[Z];if(F==null){ad[LEAP.select2.level]=1;}else{if(!b){LEAP.messagebox.alert("请绑定代码表!",3);return;}if(b!=null){if(b.length==F){ad[LEAP.select2.level]=F;}else{ad[LEAP.select2.level]=F+1;
}}else{if(F!=ad[LEAP.select2.level]){ad[LEAP.select2.level]=F+1;}}}ad.setAttribute("value",S[Z].codeid);ad.innerHTML=S[Z].codevalue;ad.title=S[Z].codevalue;if(A){ad.style.width=A;}e++;}}else{var E=new Array();var af=new hashtable();for(var Z=0;Z<S.length;Z++){var q=LEAP.conversion.getValue(S[Z].codevalue.charAt(0));
if(!E.contains(q)){E.add(q);}}E.sort();var I=new StringBuffer();for(var Z=0;Z<E.length;Z++){var r=new StringBuffer();var B=new Array();for(var X=0;X<S.length;X++){var q=LEAP.conversion.getValue(S[X].codevalue.charAt(0));if(E[Z]==q){B.add(S[X]);r.append(w[LEAP.select2.ih]);}}af.add(E[Z],B);var Q=w[LEAP.select2.rh].replace(w[LEAP.select2.ih],r.toString());
I.append(Q);}V.innerHTML=I.toString();var u=LEAP.getElements("[ctf=select2_row]",V);var D=0;if(u){D=u.length;}var e=0;for(var Z=0;Z<D;Z++){var t=LEAP.getElement("[ctf=select2_letter]",u[Z]);var ae=LEAP.getElements("[ctf=select2_item]",u[Z]);var W=ae.length;var q=E[Z];t.innerHTML=q;var R=af.getvalue(q);
for(var X=0;X<W;X++){if(!R[X]){continue;}R[X].py=q;ae[X][LEAP.select2.idx]=e;ae[X][LEAP.select2.dt]=R[X];if(F==null){ae[X][LEAP.select2.level]=1;}else{if(!b){LEAP.messagebox.alert("请绑定代码表!",3);return;}if(b!=null){if(Y!=null){ae[X][LEAP.select2.level]=F+1;}else{if(b.length==F){ae[X][LEAP.select2.level]=F;
}else{ae[X][LEAP.select2.level]=F+1;}}}else{if(F!=ae[X][LEAP.select2.level]){ae[X][LEAP.select2.level]=F+1;}}}ae[X].setAttribute("value",R[X].codeid);ae[X].innerHTML=R[X].codevalue;ae[X].title=R[X].codevalue;if(A){ae[X].style.width=A;}e++;}}try{var M=LEAP.getElements("[ctfe=select2_item]",p);M[0].focus();
}catch(ab){}}}};LEAP.select2.setCodeTypeName=function(b,a){if(b!=null){for(var c=0;c<b.length;c++){b[c].codetypename=a;}return b;}return b;};LEAP.select2.getValues=function(e){var f=LEAP.getElement("[ctf=select2_title_values]",e);if(f!=null){var b=new Array();var d=f.children;var a=d.length;if(a>0){for(var c=0;
c<a;c++){if(d[c][[LEAP.select2.dt]]!=null){b.add(d[c][[LEAP.select2.dt]]);}}return b;}return null;}return null;};LEAP.select2.getValue=function(b){if(b==null){return;}if(typeof(b)=="string"){b=LEAP.getElement(b);}if(b==null){return;}var a=LEAP.getElement("input[ctf=select2_value]",b);var d=b.getAttribute("codelen");
var g=b.getAttribute("vlen");var c=b.getAttribute("sct");if(!a.value){return null;}var f=a[LEAP.select2.dt];if(f!=null){var e=null;if(c){if(!g){e=LEAP.select._fill(18,f.codeid);}else{e=LEAP.select._fill(g,f.codeid);}}else{if(g){e=LEAP.select._fill(g,f.codeid);}else{e=f.codeid;}}return e;}else{return null;
}};LEAP.select2.addItem=function(d,e){d=LEAP._check(d,LEAP.select2.d);if(null==d){return;}if(null==e){return;}var a=d.getAttribute("values");if(a!=null&&a!=""){var c=JSON.parse(a);c.add(e);var b=JSON.stringify(c);d.setAttribute("values",b);}else{var c=new Array();c.add(e);var b=JSON.stringify(c);d.setAttribute("values",b);
}};LEAP.select2.removeItem=function(e,f){e=LEAP._check(e,LEAP.select2.d);if(null==e){return;}if(null==f){return;}var a=e.getAttribute("values");if(a!=null&&a!=""){var d=JSON.parse(a);for(var c=0;c<d.length;c++){if(d[c].codeid==f.codeid&&d[c].codevalue==f.codevalue){d.removeindex(c);break;}}var b=JSON.stringify(d);
e.setAttribute("values",b);}};LEAP.select2.clearItem=function(a){a=LEAP._check(a,LEAP.select2.d);if(null==a){return;}a.setAttribute("values","");a.setAttribute("code"," ");};LEAP.select2.uiProcess=function(at){var A=at.e.srcElement;var U=at.e.type;var g=A.tagName;var W=A.getAttribute(commfields.ctf);
var ax=LEAP._match(A,LEAP.select2.d,"ct",99);var v=null;if(!ax&&W&&W.indexof("select2_")==0){var f=LEAP.select2._getBoxElement(A);if(f){ax=f[1];v=f[0];}}var M=-1;if(LEAP.isIE){M=at.e.keyCode;}else{M=at.e.which;}if(!ax){if((U=="click"&&W!="scrollBar_btn")||(U=="keydown"&&M==9)){if(LEAP.select2.hideArr.length!=0){for(var N=LEAP.select2.hideArr.length-1;
N>=0;N--){var y=LEAP.getElement("[ctid="+LEAP.select2.hideArr[N]+"]");if(!y){var aq=LEAP.getElement("[ctid="+LEAP.select2.hideBox[N]+"]");if(aq){document.body.removeChild(aq);}}else{LEAP.select2.hide(y);}LEAP.select2.hideArr.removeindex(N);if(LEAP.select2.hideBox!=null&&LEAP.select2.hideBox.length>0){LEAP.select2.hideBox.removeindex(N);
}}}}else{if(U=="mouseover"&&W=="select2_value"&&(M==-1||M==null||M==0)){if(LEAP.select2.hideArr.length!=0){for(var N=LEAP.select2.hideArr.length-1;N>=0;N--){var y=LEAP.getElement("[ctid="+LEAP.select2.hideArr[N]+"]");LEAP.select2.hide(y);LEAP.select2.hideArr.removeindex(N);if(LEAP.select2.hideBox!=null&&LEAP.select2.hideBox.length>0){LEAP.select2.hideBox.removeindex(N);
}}}}else{if(U=="mousewheel"){if(LEAP.select2.hideArr.length!=0){for(var N=LEAP.select2.hideArr.length-1;N>=0;N--){var y=LEAP.getElement("[ctid="+LEAP.select2.hideArr[N]+"]");LEAP.select2.hide(y);LEAP.select2.hideArr.removeindex(N);if(LEAP.select2.hideBox!=null&&LEAP.select2.hideBox.length>0){LEAP.select2.hideBox.removeindex(N);
}}}}}}return;}else{if((U=="click"&&W!="scrollBar_btn")||(U=="keydown"&&M==9)){if(LEAP.select2.hideArr.length!=0){for(var N=LEAP.select2.hideArr.length-1;N>=0;N--){if(LEAP.ctid(ax)!=LEAP.select2.hideArr[N]){var y=LEAP.getElement("[ctid="+LEAP.select2.hideArr[N]+"]");LEAP.select2.hide(y);LEAP.select2.hideArr.removeindex(N);
if(LEAP.select2.hideBox!=null&&LEAP.select2.hideBox.length>0){LEAP.select2.hideBox.removeindex(N);}}}}}else{if(U=="mouseover"&&W=="select2_value"&&(M==-1||M==null||M==0)){if(LEAP.select2.hideArr.length!=0){for(var N=LEAP.select2.hideArr.length-1;N>=0;N--){if(LEAP.ctid(ax)!=LEAP.select2.hideArr[N]){var y=LEAP.getElement("[ctid="+LEAP.select2.hideArr[N]+"]");
LEAP.select2.hide(y);LEAP.select2.hideArr.removeindex(N);if(LEAP.select2.hideBox!=null&&LEAP.select2.hideBox.length>0){LEAP.select2.hideBox.removeindex(N);}}}}}}}var ag=ax.getAttribute("ml");var ad=ax.getAttribute("sct");var z=ax.getAttribute("code");var av=ax.getAttribute("ismenu");var I=ax.getAttribute("dtv");
var ac=ax.getAttribute("issearch");var t=ax.getAttribute("slv");var B=ax.getAttribute("router");if(!B){var e=LEAP.getLoadedModule(ax.getAttribute("instance"));if(e&&e.leapclient){B=e.leapclient.router;}ax.setAttribute("router",B);}var O=ax.getAttribute("sltitle");var j=null;if(z!=null&&z!=""){j=z.split(",");
}var Z=LEAP.getElement("input[ctf=select2_value]",ax);var E=LEAP.getElement("[ctf=select2_title_values]",v);var ar=ax.getAttribute("btfns");var ai=ax.getAttribute("readonly");var S=ax.getAttribute("areasource");if(ai=="1"){Z.setAttribute("disabled","true");return;}else{Z.removeAttribute("disabled");}if(U=="click"){if(W=="select2_value"){if(av==null||av=="0"){var V=LEAP.select2.initValue(ax,W,Z,ad,ar,M,j);
if(V==true){if(!Z[LEAP.select2.dt]){v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",v);}else{aj=LEAP.getElements("[ctf=select2_item]",v);}aj[0].focus();Z.blur();}}}}else{if(W=="select2_searchbtn"){var aw=LEAP.getElement("[ctf=select2_searchvalue]",v);
var C=aw.value;if(!String.isEmpty(C)){if(j.length==1){var T=ax.__datas;if(T!=null){var w=[];for(var N=0;N<T.length;N++){if(T[N].codevalue.indexOf(C)>-1){w.add(T[N]);}}if(w.length>0){LEAP.select2._setValue(v,w);}}}}else{var T=ax.__datas;LEAP.select2._setValue(v,T);}}else{if(W=="select2_home"){var o=null;
var am=null;if(E.children.length==0){return;}if(E.children[E.children.length-1][LEAP.select2.dt]){o=E.children[E.children.length-1][LEAP.select2.dt].codeid;}ElementEventManager.handleEvent(ax,"valueChange",{olddata:E.children[E.children.length-1][LEAP.select2.dt],data:null,pv:o,lv:am});LEAP.addCSS(ax,"LC_select_active1");
if(j!=null){if(ar==null){if(j.length==1){Z[LEAP.select2.dt]=null;Z[LEAP.select2.level]=0;if(ax._initvalue){Z.value=ax._initvalue;}else{Z.value="";}var af=LEAP.getElement("div[ctf=select2_value]",ax);LEAP.removeCSS(af,"LC_select_vlaue",false);LEAP.select2.hide(ax);LEAP.removeCSS(ax,"LC_select_active1",false);
Z.style.color="Gray";var P=E.children;if(P!=null){var aa=P.length;for(var N=aa-1;N>=0;N--){if(P[N][LEAP.select2.dt]!=null){E.removeChild(P[N]);}}}return;}}}var ap=null;if(ar!=null){var w=ax.getAttribute("values");if(w!=null&&w!=""){ap=JSON.parse(w);}else{if(ax[LEAP.select2.fd]){var m=ax[LEAP.select2.fd].getvalue("-99");
ap=m;}}}else{if(ad=="areagroup"){var ao=ax.getAttribute("pvalue");var s=ax.getAttribute("pcode");var ae=ax.getAttribute("showpt");if(!String.isEmpty(ao)&&!String.isEmpty(s)){if(ao=="00"){ap=LEAP.getCodeValue(s,null);}else{ap=LEAP.getCodeValue(s,ao);}}else{if(String.isEmpty(ao)&&!String.isEmpty(s)){ap=LEAP.getCodeValue(s,null);
}else{if(ae=="1"){var R=0;var al=null;if(S=="user"){R=LEAP.getarealevel(LEAP.userInfo.detail.areaid);al=LEAP.userInfo.detail.areaid;}else{R=LEAP.userInfo.areaLevel;al=LEAP.userInfo.areaid;}var H=j[R-1];var J=LEAP.request("getCodeValue",{codeTypeName:H,codeValue:al});if(J!=null){J.codetypename=H;var an=[];
an[0]=J;ap=an;}}else{ap=LEAP.userInfo.areavalues;}}}}else{ap=LEAP.getCodeValue(j[0],null,B);}}var P=E.children;if(P!=null){var aa=P.length;for(var N=aa-1;N>=0;N--){if(P[N][LEAP.select2.dt]!=null){E.removeChild(P[N]);}}}Z._flag=true;Z[LEAP.select2.level]=0;Z[LEAP.select2.dt]=null;if(v){LEAP.select2._setValue(A,ap);
var Q=LEAP.getElement("[ctf=select2_body]",v);var G=LEAP.getElement("[ctf=select2_title]",v);var D=G.clientHeight;if(Q){LEAP.scrollbar.showScrollBar(v,Q,D);}}else{LEAP.select2._setValue(ax,ap);}LEAP.select2.orientate(ax,v);Z.value="";Z.setAttribute("value","");}else{if(W=="select2_btn"||W=="select2_item"||W=="select2_parent"||W=="select2_title_value"){var X=false;
if(W=="select2_item"||W=="select2_parent"){LEAP.select2.selectValue(A);X=true;}if(W=="select2_title_value"){var p=null;var u=null;if(A[LEAP.select2.dt]!=null){if(ar!=null){p=A[LEAP.select2.dt];if(ax[LEAP.select2.fd]){var m=ax[LEAP.select2.fd].getvalue(p.codeid);u=m;}if(u!=null){Z._flag=true;}else{Z._flag=false;
}}else{var x=A._codetypename;p=A[LEAP.select2.dt];u=LEAP.getCodeValue(x,p.codeid,B);if(u!=null){Z._flag=true;}else{Z._flag=false;}}if(v){LEAP.select2._setValue(A,u,A);LEAP.select2.removetitle(A,p);var Q=LEAP.getElement("[ctf=select2_body]",v);var G=LEAP.getElement("[ctf=select2_title]",v);var D=G.clientHeight;
if(Q){LEAP.scrollbar.showScrollBar(v,Q,D);}}else{LEAP.select2._setValue(ax,u,A);LEAP.select2.removetitle(ax,p);}LEAP.select2.orientate(ax,v);}}var af=LEAP.getElement("div[ctf=select2_value]",ax);if(E.children.length==0){if(ax._initvalue){Z.value=ax._initvalue;Z.setAttribute("value",ax._initvalue);}else{Z.value="";
Z.setAttribute("value","");}LEAP.removeCSS(af,"LC_select_vlaue",false);LEAP.removeCSS(ax,"LC_select_active1",false);Z.style.color="Gray";}else{if(E.children[0][LEAP.select2.dt]==null){if(ax._initvalue){Z.value=ax._initvalue;Z.setAttribute("value",ax._initvalue);}else{Z.value="";Z.setAttribute("value","");
}LEAP.removeCSS(af,"LC_select_vlaue",false);LEAP.removeCSS(ax,"LC_select_active1",false);Z.style.color="Gray";}else{var o=null;var am=null;if(Z[LEAP.select2.dt]){o=Z[LEAP.select2.dt].codeid;}if(E.children[E.children.length-1][LEAP.select2.dt]){am=E.children[E.children.length-1][LEAP.select2.dt].codeid;
}var ab=E.children[E.children.length-1][LEAP.select2.dt].codelevel;if(t){if(j[ab-1]!=t){if(O){LEAP.messagebox.alert(O,3);}else{LEAP.messagebox.alert("请选择"+LEAP.select2.getAreaText(t)+"一级!",3);}Z[LEAP.select2.dt]=E.children[E.children.length-1][LEAP.select2.dt];return;}}if(!X){ElementEventManager.handleEvent(ax,"valueChange",{olddata:Z[LEAP.select2.dt],data:E.children[E.children.length-1][LEAP.select2.dt],pv:o,lv:am});
}LEAP.addCSS(ax,"LC_select_active1");LEAP.select2.valueChangeComplete(ax,Z[LEAP.select2.dt],E.children[E.children.length-1][LEAP.select2.dt],E.children[E.children.length-1]);if(E.children.length!=0){Z[LEAP.select2.dt]=E.children[E.children.length-1][LEAP.select2.dt];}else{Z[LEAP.select2.dt]=null;}var ah=null;
if(E.children.length!=0){var b=ax.getAttribute("separator");if(!b){b=">";}for(var N=0;N<E.children.length;N++){var F=E.children[N][LEAP.select2.dt];if(N==0){ah=F.codevalue;}else{ah+=b+F.codevalue;}if(N==E.children.length-1){}if(E.children.length>=2){if(N==E.children.length-2){}}}}LEAP.select2._s(Z,0);
LEAP.select2._s(Z,ah.length-1);if(ah!=null){if(!LEAP.hasCSS(ax,"LC_select_active1")){}LEAP.addCSS(af,"LC_select_vlaue");var h=ax.getAttribute("textshow");var b=ax.getAttribute("separator");if(!b){b=">";}if(h=="1"){var l=ah.split(b);Z.value=l[l.length-1];Z.setAttribute("value",l[l.length-1]);}else{if(I=="1"){Z.value=ax._initvalue+":"+ah;
Z.setAttribute("value",ax._initvalue+":"+ah);}else{Z.value=ah;Z.setAttribute("value",ah);}}Z.style.color="#000000";}else{if(ax._initvalue){Z.value=ax._initvalue;Z.setAttribute("value",ax._initvalue);}else{Z.value="";Z.setAttribute("value","");}LEAP.removeCSS(af,"LC_select_vlaue",false);LEAP.removeCSS(ax,"LC_select_active1",false);
}Z._flag==false;}}if(W=="select2_btn"){LEAP.select2.hide(ax);}}}}}}else{if(U=="keydown"){var M=-1;if(LEAP.isIE){M=at.e.keyCode;}else{M=at.e.which;}if(M==27){LEAP.select2.hide(ax);LEAP.stopEvent(at.e);return;breakEvent:true;}else{if(M==40){if(ac=="1"){return;}v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");
var d=null;if(v!=null){d=v;}else{d=ax;}var Q=LEAP.getElement("[ctf=select2_body]",d);if(W=="select2_value"||W=="select2_body"||W=="select2_box"){var K=ax.className;if(K.indexOf("LC_active")==-1){var V=LEAP.select2.initValue(ax,W,Z,ad,ar,M,j);if(V==true){v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");
var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",v);}else{aj=LEAP.getElements("[ctf=select2_item]",v);}aj[0].focus();Z.blur();}}var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Q);}else{aj=LEAP.getElements("[ctf=select2_item]",Q);}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();
}else{aj[0].focus();}}}else{if(W=="select2_item"||W=="select2_parent"){var aj=null;var ak=LEAP._match(A,"select2_row","ctf",99);var Y=LEAP.getElements("[ctf=select2_row]",Q);if(ak.nextElementSibling!=null){if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",ak.nextElementSibling);}else{aj=LEAP.getElements("[ctf=select2_item]",ak.nextElementSibling);
}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();}else{aj[0].focus();}}}else{if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Y[0]);}else{aj=LEAP.getElements("[ctf=select2_item]",Y[0]);}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();}else{aj[0].focus();}}}}}LEAP.stopEvent(at.e);return;
breakEvent:true;}else{if(M==38){if(ac=="1"){return;}v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");var d=null;if(v!=null){d=v;}else{d=ax;}var Q=LEAP.getElement("[ctf=select2_body]",d);if(W=="select2_value"||W=="select2_body"||W=="select2_box"){var aj=null;var Y=LEAP.getElements("[ctf=select2_row]",Q);
if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Y[Y.length-1]);}else{aj=LEAP.getElements("[ctf=select2_item]",Y[Y.length-1]);}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();}else{aj[0].focus();}}}else{if(W=="select2_item"||W=="select2_parent"){var aj=null;var ak=LEAP._match(A,"select2_row","ctf",99);
var Y=LEAP.getElements("[ctf=select2_row]",Q);if(ak.previousElementSibling!=null){if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",ak.previousElementSibling);}else{aj=LEAP.getElements("[ctf=select2_item]",ak.previousElementSibling);}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();}else{aj[0].focus();
}}}else{if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Y[Y.length-1]);}else{aj=LEAP.getElements("[ctf=select2_item]",Y[Y.length-1]);}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();}else{aj[0].focus();}}}}}LEAP.stopEvent(at.e);return;breakEvent:true;}else{if(M==37){if(ac=="1"){return;}v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");
var d=null;if(v!=null){d=v;}else{d=ax;}var Q=LEAP.getElement("[ctf=select2_body]",d);if(W=="select2_value"||W=="select2_body"||W=="select2_box"){var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Q);}else{aj=LEAP.getElements("[ctf=select2_item]",Q);}if(aj!=null){aj[aj.length-1].focus();
}}else{if(W=="select2_item"||W=="select2_parent"){var L=A[LEAP.select2.idx];var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Q);}else{aj=LEAP.getElements("[ctf=select2_item]",Q);}if(L==null){return;}if(aj!=null){if(L==0){aj[aj.length-1].focus();}else{aj[L-1].focus();}}}}LEAP.stopEvent(at.e);
return;breakEvent:true;}else{if(M==39){if(ac=="1"){return;}v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");var d=null;if(v!=null){d=v;}else{d=ax;}var Q=LEAP.getElement("[ctf=select2_body]",d);if(W=="select2_value"||W=="select2_body"||W=="select2_box"){var K=ax.className;if(K.indexOf("LC_active")==-1){var V=LEAP.select2.initValue(ax,W,Z,ad,ar,M,j);
if(V==true){v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",v);}else{aj=LEAP.getElements("[ctf=select2_item]",v);}aj[0].focus();Z.blur();}}var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Q);}else{aj=LEAP.getElements("[ctf=select2_item]",Q);
}if(aj!=null){if(!aj[0][LEAP.select2.dt]){aj[1].focus();}else{aj[0].focus();}}}else{if(W=="select2_item"||W=="select2_parent"){var L=A[LEAP.select2.idx];var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",Q);}else{aj=LEAP.getElements("[ctf=select2_item]",Q);}if(L==null){return;}if(aj!=null){if(L+1==aj.length){if(!aj[0][LEAP.select2.dt]){aj[1].focus();
}else{aj[0].focus();}}else{aj[L+1].focus();}}}}LEAP.stopEvent(at.e);return;breakEvent:true;}else{if(M==32){if(ac=="1"){return;}if(M==13){return;}if(W=="select2_value"){var V=LEAP.select2.initValue(ax,W,Z,ad,ar,M,j);if(V==true){v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");var aj=null;
if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",v);}else{aj=LEAP.getElements("[ctf=select2_item]",v);}aj[0].focus();Z.blur();}}else{if(W=="select2_item"||W=="select2_parent"){LEAP.select2.selectValue(A);}}LEAP.stopEvent(at.e);return;breakEvent:true;}else{if(M==13){if(ac=="1"){var aw=LEAP.getElement("[ctf=select2_searchvalue]",v);
var C=aw.value;if(!String.isEmpty(C)){if(j.length==1){var T=ax.__datas;if(T!=null){var w=[];for(var N=0;N<T.length;N++){if(T[N].codevalue.indexOf(C)>-1){w.add(T[N]);}}if(w.length>0){LEAP.select2._setValue(v,w);}}}}else{var T=ax.__datas;LEAP.select2._setValue(v,T);}return;}if(W=="select2_value"){return;
var K=ax.className;if(K.indexOf("LC_active")==-1){var V=LEAP.select2.initValue(ax,W,Z,ad,ar,M,j);if(V==true){if(!Z[LEAP.select2.dt]){v=LEAP.getElement("div[ctid="+ax.getAttribute("_targetbox")+"]");var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",v);}else{aj=LEAP.getElements("[ctf=select2_item]",v);
}aj[0].focus();Z.blur();}}}}var o=null;var am=null;if(Z[LEAP.select2.dt]){o=Z[LEAP.select2.dt].codeid;}if(A[LEAP.select2.dt]){am=A[LEAP.select2.dt].codeid;}var ab=A[LEAP.select2.level];if(t){if(j[ab-1]!=t){LEAP.messagebox.alert("请选择"+LEAP.select2.getAreaText(t)+"一级!",3);LEAP.stopEvent(at.e);return;breakEvent:true;
}}ElementEventManager.handleEvent(ax,"valueChange",{olddata:Z[LEAP.select2.dt],data:A[LEAP.select2.dt],src:A,pv:o,lv:am});LEAP.addCSS(ax,"LC_select_active1");LEAP.select2.valueChangeComplete(ax,Z[LEAP.select2.dt],A[LEAP.select2.dt],A);LEAP.select2.setLevelTtitle(A);if(E.children.length!=0){Z[LEAP.select2.dt]=E.children[E.children.length-1][LEAP.select2.dt];
}else{Z[LEAP.select2.dt]=null;}var ah=null;if(E.children.length!=0){var b=ax.getAttribute("separator");if(!b){b=">";}for(var N=0;N<E.children.length;N++){var F=E.children[N][LEAP.select2.dt];if(N==0){ah=F.codevalue;}else{ah+=b+F.codevalue;}if(N==E.children.length-1){LEAP.addCSS(E.children[N],"LC_select_hide");
}if(E.children.length>=2){if(N==E.children.length-2){LEAP.addCSS(E.children[N],"LC_select_none");}}}}if(ah!=null){if(I=="1"){Z.value=ax._initvalue+":"+ah;Z.setAttribute("value",ax._initvalue+":"+ah);}else{Z.value=ah;Z.setAttribute("value",ah);}Z._flag==false;Z.style.color="#000000";LEAP.select2.hide(ax);
}else{Z.value=ax._initvalue;Z.setAttribute("value",ax._initvalue);Z._flag==false;Z.style.color="Gray";}LEAP.stopEvent(at.e);return;breakEvent:true;}else{if(M==8){if(ac=="1"){return;}var d=null;if(v!=null){d=v;}else{d=ax;}var E=LEAP.getElement("[ctf=select2_title_values]",d);var P=E.children;if(P==null){return;
}var aa=P.length;if(aa==1){var r=P[0][LEAP.select2.dt];if(r==null){LEAP.select2._setValue(ax,null);var aj=null;if(ag=="1"){aj=LEAP.getElements("[ctfe=select2_item]",d);}else{aj=LEAP.getElements("[ctf=select2_item]",d);}aj[0].focus();}else{var au=P[aa-1];var p=au[LEAP.select2.dt];var x=j[p.codelevel-1];
var c=LEAP.getarea(p.codeid,LEAP.getarealevel(p.codeid)-1);var u=LEAP.getCodeValue(x,c);if(u!=null){Z._flag=true;}else{Z._flag=false;}var q=LEAP._match(A,"select2_body","ctf",99);LEAP.select2._setValue(A,u,A);LEAP.select2.removetitle(q,p);}}else{var au=P[aa-2];var x=au._codetypename;var p=au[LEAP.select2.dt];
var u=LEAP.getCodeValue(x,p.codeid,B);if(u!=null){Z._flag=true;}else{Z._flag=false;}var q=LEAP._match(A,"select2_body","ctf",99);LEAP.select2._setValue(A,u,A);LEAP.select2.removetitle(q,p);}LEAP.stopEvent(at.e);return;breakEvent:true;}else{if(M>=65&&M<=90){if(ac=="1"){return;}if(ag=="1"){return;}var d=null;
if(v!=null){d=v;}else{d=ax;}var aj=LEAP.getElements("[ctf=select2_item]",d);if(aj!=null){for(var N=0;N<aj.length;N++){if(!aj[N]||!aj[N][LEAP.select2.dt]){continue;}var n=aj[N][LEAP.select2.dt].py;if(!n){break;}var a=n.charCodeAt();if(a==M){aj[N].focus();break;}}}LEAP.stopEvent(at.e);return;breakEvent:true;
}else{if(M==9){if(W=="select2_item"||W=="select2_parent"){Z.focus();LEAP.select2.hide(ax);}}}}}}}}}}}}else{if(U=="focus"){if(!LEAP.hasCSS(ax,"LC_select_active1")){}}else{if(U=="blur"){if(Z[LEAP.select2.dt]==null){LEAP.removeCSS(ax,"LC_select_active1",false);}}}}}};LEAP.select2.getAreaText=function(a){if(a!=null){if(a=="Province"){return"省";
}else{if(a=="City"){return"市";}else{if(a=="County"){return"区";}else{if(a=="Street"){return"街道";}else{if(a=="Community"){return"社区";}else{if(a=="Team"){return"网格";}}}}}}}};LEAP.select2.valueChangeComplete=function(d,a,e,f){d=LEAP._check(d,LEAP.select2.d);if(null==d){return;}var b=d.getAttribute("tct");
if(b&&LEAP[b]&&LEAP[b].onSelectVCComplete){var c=LEAP._match(d,b,"ct",99);if(c){try{LEAP[b].onSelectVCComplete.call(LEAP[b],c,a,e,d);}finally{c=null;}}}};LEAP.select2.setReadOnly=function(b,c){b=LEAP._check(b,LEAP.select2.d);if(null==b){return;}var a=LEAP.getElement("input[ctf=select2_value]",b);if(c){b.setAttribute("readonly","1");
a.setAttribute("disabled","true");}else{b.setAttribute("readonly","0");a.removeAttribute("disabled");LEAP.setStyle(b,{backgroundColor:"transparent"});}};LEAP.select2.initValue=function(n,z,q,f,G,E,C){if(z=="select2_value"){if(q.value){if(n._initvalue==null){if(!q[LEAP.select2.dt]){n._initvalue=q.value;
}}}var B=n.getAttribute("ismenu");var l=n.getAttribute("areasource");var m=n.getAttribute("ml");var d=n.getAttribute("router");if(!d){var o=LEAP.getLoadedModule(n.getAttribute("instance"));if(o&&o.leapclient){d=o.leapclient.router;}n.setAttribute("router",d);}var a=n.className;if(a.indexOf("LC_active")>-1){if(B==null||B=="0"){LEAP.select2.hide(n);
return false;}}else{LEAP.select2.hideArr.add(LEAP.ctid(n));var D=null;if(q[LEAP.select2.dt]!=null){if(f=="areagroup"){if(!C){LEAP.messagebox.alert("请绑定代码表!",3);return;}var t=q[LEAP.select2.dt];if(t==null){var y=n.getAttribute("pvalue");var v=n.getAttribute("pcode");if(!String.isEmpty(y)&&!String.isEmpty(v)){if(y=="00"){D=LEAP.getCodeValue(v,null,d);
}else{D=LEAP.getCodeValue(v,y,d);}}else{if(String.isEmpty(y)&&!String.isEmpty(v)){D=LEAP.getCodeValue(v,null,d);}}}else{var c=t.codeparentid;if(c!=""&&c!=null){var K=LEAP.getareacodevalue(t.codeid);var e=LEAP.getarealevel(t.codeid);if(e==6){D=LEAP.getCodeValue(C[e-1],K.codeparentid);}else{D=LEAP.getCodeValue(C[e],t.codeid);
}}else{var e=LEAP.getarealevel(t.codeid);D=LEAP.getCodeValue(C[e],t.codeid);}}}else{var j=LEAP.getElement("[ctf=select2_btn]",n);var x=LEAP.getElement("[ctf=select2_home]",n);var I=q[LEAP.select2.dt];var b=I.codeparentid;var e=q[LEAP.select2.level];if(G!=null){var h=null;if(n[LEAP.select2.fd]){if(!I){h=n[LEAP.select2.fd].getvalue("-99");
}else{h=n[LEAP.select2.fd].getvalue(I.codeparentid);}}if(!h){var J=n.getAttribute("values");if(J){h=JSON.parse(J);}}D=h;}else{if(!C){LEAP.messagebox.alert("请绑定代码表!",3);return;}var i=n.getAttribute("hidebtn");if((i&&i=="1")||C.length==1){LEAP.addCSS(j,"LC_select_hide");}if(C.length==1){var J=n.getAttribute("values");
if(J!=null&&J!=""){var g=JSON.parse(J);D=g;}else{D=LEAP.getCodeValue(C[0],null,d);}}else{if(!i||i!="1"){LEAP.removeCSS(j,"LC_select_hide",false);}if(b!=""){D=LEAP.getCodeValue(C[e-1],b,d);}else{D=LEAP.getCodeValue(C[e],I.codeid,d);}}}}}else{var J=n.getAttribute("values");var y=n.getAttribute("pvalue");
var v=n.getAttribute("pcode");var H=n.getAttribute("showpt");if(f=="areagroup"){if(J!=null&&J!=""){D=JSON.parse(J);}else{if(!String.isEmpty(y)&&!String.isEmpty(v)){if(y=="00"){D=LEAP.getCodeValue(v,null,d);}else{D=LEAP.getCodeValue(v,y,d);}}else{if(String.isEmpty(y)&&!String.isEmpty(v)){D=LEAP.getCodeValue(v,null,d);
}else{if(H=="1"){var w=0;var s=null;if(l=="user"){w=LEAP.getarealevel(LEAP.userInfo.detail.areaid);s=LEAP.userInfo.detail.areaid;}else{w=LEAP.userInfo.areaLevel;s=LEAP.userInfo.areaid;}var F=C[w-1];var A=LEAP.request("getCodeValue",{codeTypeName:F,codeValue:s});A.codetypename=F;var r=[];r[0]=A;D=r;}else{D=LEAP.userInfo.areavalues;
}}}}}else{if(G!=null){if(!n[LEAP.select2.fd]){LEAP.select2.getFnData(n);}if(n[LEAP.select2.fd]){var h=n[LEAP.select2.fd].getvalue("-99");D=h;}}else{if(!C){LEAP.messagebox.alert("请绑定代码表!",3);return;}var j=LEAP.getElement("[ctf=select2_btn]",n);var x=LEAP.getElement("[ctf=select2_home]",n);var i=n.getAttribute("hidebtn");
if((i&&i=="1")||C.length==1){LEAP.addCSS(j,"LC_select_hide");}else{LEAP.removeCSS(j,"LC_select_hide",false);}if(J!=null&&J!=""){D=JSON.parse(J);}else{D=LEAP.getCodeValue(C[0],null,d);}JSON.stringify(D);}}}var u=n.getAttribute("issearch");if(u=="1"){var p=LEAP.getElement("[ctf=select2_searchvalue]",n);
p.value="";n.__datas=D;}LEAP.select2._setValue(n,D);if(D!=null){if(B==null||B=="0"){LEAP.select2.show(n);}return true;}else{if(B==null||B=="0"){LEAP.select2.show(n);}return false;}}}};LEAP.select2.orientate=function(b,j,h,t,a){var x=b.getAttribute("tswz");var v=0;if(x=="1"){var o=b.getAttribute("zIndex");
if(o){j.style.zIndex=o;}v=document.documentElement.scrollTop||document.body.scrollTop;}var n=null;var c=null;if(window.innerWidth){n=window.innerWidth;}else{if((document.body)&&(document.body.clientWidth)){n=document.body.clientWidth;}}if(window.innerHeight){c=window.innerHeight;}else{if((document.body)&&(document.body.clientHeight)){c=document.body.clientHeight;
}}if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth){c=document.documentElement.clientHeight;n=document.documentElement.clientWidth;}var y=b.getAttribute("ismenu");var f=LEAP.getAbsolutePos(b);var d=n-f.x;var m=(c-f.y)-b.clientHeight;if(t==null){t=0;
}if(b._position){var e=b._position;if(e=="bl"){if(y=="1"){j.style.top=(f.y-h.clientHeight/2)+LEAP.tonum(t)+"px";}else{j.style.top=v+(f.y-j.clientHeight+1)+LEAP.tonum(t)+"px";}j.style.left=f.x+2+LEAP.tonum(a)+"px";LEAP.addCSS(b,"LC_select_active2");}else{if(e=="br"){j.style.top=v+(f.y-j.clientHeight+1)+LEAP.tonum(t)+"px";
j.style.left=f.x-(j.clientWidth-b.clientWidth)+LEAP.tonum(a)+"px";LEAP.addCSS(b,"LC_select_active2");}else{if(e=="rt"){if(h==null){h=LEAP.getElement("[ctf=select2_value]",b);}j.style.top=v+f.y+h.clientHeight+LEAP.tonum(t)+"px";j.style.left=f.x-(j.clientWidth-b.clientWidth)+LEAP.tonum(a)+"px";}else{if(e=="lt"){if(h==null){h=LEAP.getElement("[ctf=select2_value]",b);
}j.style.top=v+f.y+h.clientHeight+LEAP.tonum(t)+"px";j.style.left=f.x+2+LEAP.tonum(a)+"px";}}}}}else{if(m>j.clientHeight&&d<j.clientWidth){b._position="rt";if(h==null){h=LEAP.getElement("[ctf=select2_value]",b);}j.style.top=v+f.y+h.clientHeight+LEAP.tonum(t)+"px";j.style.left=f.x-(j.clientWidth-b.clientWidth)+LEAP.tonum(a)+"px";
}else{if(m<j.clientHeight&&d>j.clientWidth){b._position="bl";if(y=="1"){j.style.top=(f.y-h.clientHeight/2)+LEAP.tonum(t)+"px";}else{j.style.top=v+(f.y-j.clientHeight+1)+LEAP.tonum(t)+"px";}j.style.left=f.x+2+LEAP.tonum(a)+"px";LEAP.addCSS(b,"LC_select_active2");}else{if(m<j.clientHeight&&d<j.clientWidth){b._position="br";
j.style.top=v+(f.y-j.clientHeight+1)+LEAP.tonum(t)+"px";j.style.left=f.x-(j.clientWidth-b.clientWidth)+LEAP.tonum(a)+"px";LEAP.addCSS(b,"LC_select_active2");}else{b._position="lt";if(h==null){h=LEAP.getElement("[ctf=select2_value]",b);}j.style.top=v+f.y+h.clientHeight+LEAP.tonum(t)+"px";j.style.left=f.x+2+LEAP.tonum(a)+"px";
}}}}if(x=="1"){var w=b.getAttribute("zuobiao");if(w){j.style.position="fixed";var p=w.split("|");for(var s=0;s<p.length;s++){var r=p[s].split(":");j.style[r[0]]=r[1];}}}var l=LEAP.getElement("input[ctf=select2_value]",b);if(l!=null){if(l[LEAP.select2.dt]!=null){var q=l[LEAP.select2.dt].codeid;var g=LEAP.getElements("[ctfe=select2_item]",j);
if(null!=g&&g.length>0){var u=g.length;for(var s=0;s<u;s++){if(g[s][LEAP.select2.dt]!=null){if(q==g[s][LEAP.select2.dt].codeid){if(y==null||y=="0"){g[s].focus();}else{g[s].style.color="red";}l.blur();break;}}}}}}};LEAP.select2.show=function(e){e=LEAP._check(e,LEAP.select2.d);if(!e){return;}LEAP.addCSS(e,"LC_active");
var b=LEAP.getElement(".LC_select_main",e);if(b){document.body.appendChild(b);e.setAttribute("_targetbox",LEAP.ctid(b));b.setAttribute("_targetct",LEAP.ctid(e));b.style.zIndex="998";b.style.display="block";var c=e.getAttribute("ismenu");if(null==c||c!="1"){LEAP.select2.orientate(e,b);}LEAP.select2.hideBox.add(LEAP.ctid(b));
var a=LEAP.getElement("[ctf=select2_body]",b);var d=LEAP.getElement("[ctf=select2_title]",b);var f=d.clientHeight;if(a){LEAP.scrollbar.showScrollBar(b,a,f);}e._flag=true;}};LEAP.select2.hide=function(a){a=LEAP._check(a,LEAP.select2.d);if(!a){return;}LEAP.removeCSS(a,"LC_active",false);LEAP.removeCSS(a,"LC_select_active",false);
LEAP.removeCSS(a,"LC_select_active1",false);LEAP.removeCSS(a,"LC_select_active2",false);var b=LEAP.getElement("div[ctid="+a.getAttribute("_targetbox")+"]");if(b){b.style.zIndex="-1";b.style.display="none";a.appendChild(b);ElementEventManager.handleEvent(a,"hidebox",{element:a});a._flag=false;}};LEAP.select2.hide2=function(e){var b=e.caller;
b.style.display="none";var g=b.parentElement;var d=LEAP.getElements("div[ct=select2]",g);if(d){for(var c=0;c<d.length;c++){}}};LEAP.select2.getFnData=function(b,g){try{b=LEAP._check(b,LEAP.select2.d);if(!b){return;}var d=LEAP.select2.getDataMethod(b,g);if(d){if(!b[LEAP.select2.fd]){b[LEAP.select2.fd]=new hashtable();
b[LEAP.select2.fa]=new Array();}if(g==null){b[LEAP.select2.fd].add("-99",d);var c={codeid:"-99",codevalue:"-99"};if(!b[LEAP.select2.fa].contains(c)){b[LEAP.select2.fa].add(c);}}else{b[LEAP.select2.fd].add(g.codeid,d);if(!b[LEAP.select2.fa].contains(g)){b[LEAP.select2.fa].add(g);}}for(var a=0;a<d.length;
a++){if(d.length!=0){LEAP.select2.getFnData(b,d[a]);}}}}catch(f){LEAP.messagebox.alert("初始化失败!",3);return;}};LEAP.select2.getDataMethod=function(e,h){e=LEAP._check(e,LEAP.select2.d);if(!e){return;}var a=e.getAttribute("btfns");if(a==null){return null;}var c=a.split("=");var f=null;if(c!=null){if(c[0]=="getchild"){f=c[1];
}}var b=LEAP.getLoadedModule(e.getAttribute(commfields.instance));var i=null;if(b[f]!=null&&typeof(b[f])=="function"){i=b[f].call(b,{pdata:h});}if(h==null){if(i!=null){var g=JSON.stringify(i);e.setAttribute("values",g);}}return i;};LEAP.select2.setLevelTtitle=function(t){var j=null;var n=LEAP._match(t,LEAP.select2.d,"ct",99);
var a=LEAP.select2._getBoxElement(t);if(a){n=a[1];j=a[0];}if(!n){return;}var h=n.getAttribute("sct");var d=n.getAttribute("code");var f=n.getAttribute("router");if(!f){var o=LEAP.getLoadedModule(n.getAttribute("instance"));if(o&&o.leapclient){f=o.leapclient.router;}n.setAttribute("router",f);}var z=null;
if(d!=null){z=d.split(",");}var F=n.getAttribute("btfns");var m=n.getAttribute("ml");var e=LEAP.getElement("[ctf=select2_title_values]",j);if(n._titlevalue==null){n._titlevalue=e.innerHTML;}e.innerHTML="";var L=n.getAttribute("values");var H=n.getAttribute("showpt");var l=n.getAttribute("areasource");
var c=t[LEAP.select2.dt];if(c!=null){if(h=="areagroup"){var v=n.getAttribute("pvalue");var C=null;if(v!=null){C=v;}else{if(H=="1"){var u=0;var r=null;if(l=="user"){u=LEAP.getarealevel(LEAP.userInfo.detail.areaid);r=LEAP.userInfo.detail.areaid;}else{u=LEAP.userInfo.areaLevel;r=LEAP.userInfo.areaid;}var E=z[u-1];
var w=LEAP.request("getCodeValue",{codeTypeName:E,codeValue:r});if(w!=null){C=w.codeparentid;}}else{if(l=="user"){C=LEAP.userInfo.detail.areaid;}else{C=LEAP.userInfo.areaid;}}}var g=LEAP.getarealevel(C);if(g==null){g=0;}var b=LEAP.getarealevel(c.codeid);for(var G=g+1;G<=b;G++){var K=LEAP.getarea(c.codeid,G);
var s=LEAP.getareacodevalue(K);if(s!=null){s.codelevel=G;LEAP.select2.addtitle(t,s);}else{if(z!=null){s=LEAP.select2.getCodeData(z[0],K);s.codelevel=G;LEAP.select2.addtitle(t,s);}}}}else{if(F!=null){var y=n[LEAP.select2.fa];var x=false;if(c.codeparentid==null){for(var G=0;G<y.length;G++){if(c.codeid==y[G].codeid){y[G].codelevel=1;
LEAP.select2.addtitle(t,y[G]);x=true;break;}}if(x==false){var p=n[LEAP.select2.fd].getvalue("-99");if(p){for(var G=0;G<p.length;G++){if(p[G].codeid==c.codeid){p[G].codelevel=1;LEAP.select2.addtitle(t,p[G]);break;}}}}}else{var A=null;var B=c.codeparentid;var q=new Array();q.add(c);for(var G=0;G<y.length;
G++){if(A!=null){B=A;}var J=LEAP.select2.getCodeData1(n,B);if(J!=null){A=J.codeparentid;if(!q.contains(J)){q.add(J);}}}var D=1;for(var G=q.length-1;G>=0;G--){var I=q[G];if(I!=null){I.codelevel=D;LEAP.select2.addtitle(t,I);}D++;}}}else{if(z.length==1){if(!String.isEmpty(L)){L=JSON.parse(L);}if(null==L||""==L){L=LEAP.getCodeValue(z[0],null,f);
}if(L!=null){for(var G=0;G<L.length;G++){if(L[G].codeid==c.codeid){L[G].codelevel=1;LEAP.select2.addtitle(t,L[G]);}}}}else{var q=new Array();var A=null;var B=c.codeid;for(var G=z.length-1;G>=0;G--){if(A!=null){B=A;}var I=LEAP.select2.getCodeData(z[G],B,f);if(I!=null){A=I.codeparentid;q.add(I);}}var D=1;
for(var G=q.length-1;G>=0;G--){var I=q[G];if(I!=null){I.codelevel=D;LEAP.select2.addtitle(t,I);}D++;}}}}}};LEAP.select2._getBoxElement=function(c){var a=null;var b=LEAP._match(c,"select2_box","ctf",99);if(b){a=LEAP.getElement("div[ctid="+b.getAttribute("_targetct")+"]");}try{if(a!=null&&b!=null){return[b,a];
}else{return null;}}finally{b=c=a=null;}};LEAP.select2.selectValue=function(w){var K=w.tagName;var B=w.getAttribute(commfields.ctf);var r=null;var j=null;var a=LEAP.select2._getBoxElement(w);if(a){r=a[1];j=a[0];}if(!r){return;}var g=r.getAttribute("sct");var c=r.getAttribute("code");var m=r.getAttribute("slv");
var F=c.split(",");var v=LEAP.getElement("input[ctf=select2_value]",r);var d=LEAP.getElement("[ctf=select2_title_values]",j);var H=w.getAttribute("value");var L=r.getAttribute("btfns");var q=r.getAttribute("ml");var D=r.getAttribute("ismenu");var e=r.getAttribute("router");if(!e){var s=LEAP.getLoadedModule(r.getAttribute("instance"));
if(s&&s.leapclient){e=s.leapclient.router;}r.setAttribute("router",e);}var t=r.getAttribute("dtv");var x=false;if(H!=null){var f=null;x=true;if(g=="areagroup"){if(H.length<=6){f=(H.length/2);}else{f=(H.length/3)+1;}}else{f=w[LEAP.select2.level];}w[LEAP.select2.dt].codelevel=f;var b=v[LEAP.select2.level];
var C=v._flag;LEAP.select2.setLevelTtitle(w);var p=null;if(f<F.length){p=F[f];}var h=false;if(g=="areagroup"){if(m){if(F[f-1]==m){h=true;}}}var N=null;if(L!=null){if(r[LEAP.select2.fd]!=null){if(q=="1"&&f=="1"){var N=r[LEAP.select2.fd].getvalue(w[LEAP.select2.dt].codeid);}else{N=r[LEAP.select2.fd].getvalue(w[LEAP.select2.dt].codeid);
}}}else{if(h){N=null;}else{N=LEAP.getCodeValue(p,H,e);}}if(N==null){var o=null;var y=null;if(v[LEAP.select2.dt]){o=v[LEAP.select2.dt].codeid;}if(w[LEAP.select2.dt]){y=w[LEAP.select2.dt].codeid;}var A=v[LEAP.select2.dt];LEAP.select2.valueChangeComplete(r,v[LEAP.select2.dt],w[LEAP.select2.dt],w);if(x==true){v[LEAP.select2.dt]=w[LEAP.select2.dt];
v[LEAP.select2.level]=f;v._flag=false;var O=r.getAttribute("separator");if(!O){O=">";}var I=null;if(d.children.length!=0){for(var M=0;M<d.children.length;M++){var E=d.children[M][LEAP.select2.dt];if(M==0){I=E.codevalue;}else{I+=O+E.codevalue;}if(M==d.children.length-1){}if(d.children.length>=2){if(M==d.children.length-2){}}}}var G=LEAP.getElement("div[ctf=select2_value]",r);
if(I!=null){LEAP.addCSS(G,"LC_select_vlaue");}else{LEAP.removeCSS(G,"LC_select_vlaue",false);LEAP.removeCSS(r,"LC_select_active1",false);}var n=r.getAttribute("textshow");if(n=="1"){var u=I.split(O);v.value=u[u.length-1];v.setAttribute("value",u[u.length-1]);}else{if(t=="1"){v.value=r._initvalue+":"+I;
v.setAttribute("value",r._initvalue+":"+I);}else{v.value=I;v.setAttribute("value",I);}}v.style.color="#000000";LEAP.select2._s(v,0);LEAP.select2._s(v,I.length-1);}LEAP.select2.hide(r);ElementEventManager.handleEvent(r,"valueChange",{olddata:A,data:w[LEAP.select2.dt],element:r,src:w,pv:o,lv:y});LEAP.addCSS(r,"LC_select_active1");
}else{if(D=="1"){var o=null;var y=null;if(v[LEAP.select2.dt]){o=v[LEAP.select2.dt].codeid;}if(w[LEAP.select2.dt]){y=w[LEAP.select2.dt].codeid;}ElementEventManager.handleEvent(r,"valueChange",{olddata:v[LEAP.select2.dt],data:w[LEAP.select2.dt],element:r,src:w,pv:o,lv:y});LEAP.addCSS(r,"LC_select_active1");
}v[LEAP.select2.level]=f;v._flag=true;N=LEAP.select2.setCodeTypeName(N,p);if(j!=null){LEAP.select2._setValue(w,N);}else{LEAP.select2._setValue(r,N);}var J=LEAP.getElement("[ctf=select2_body]",j);var l=LEAP.getElement("[ctf=select2_title]",j);var z=l.clientHeight;if(J){LEAP.scrollbar.showScrollBar(j,J,z);
}if(D==null||D=="0"){LEAP.select2.orientate(r,j);}}}};LEAP.select2.updatetitle=function(c,e){var d=e.codelevel;var g=LEAP.getElement("[ctf=select2_title_values]",c);var f=g.children;var a=f.length;for(var b=0;b<a;b++){var h=f[b][LEAP.select2.dt].codelevel;if(d==h){f[b].innerHTML=e.codevalue;f[b][LEAP.select2.dt]=e;
}}};LEAP.select2.removetitle=function(f,l){var g=null;var e=LEAP.select2._getBoxElement(f);if(e){f=e[1];g=e[0];}else{return;}var c=l.codelevel;var m=LEAP.getElement("[ctf=select2_title_values]",g);var j=LEAP.getElement("input[ctf=select2_value]",f);var b=m.children;var h=b.length;if(h==1){return;}else{for(var d=h-1;
d>0;d--){var a=b[d][LEAP.select2.dt].codelevel;if(a>c){m.removeChild(b[d]);}}}if(b[b.length-1]!=null){j[LEAP.select2.level]=b[b.length-1][LEAP.select2.dt].codelevel;LEAP.addCSS(b[b.length-1],"LC_select_none");}else{j[LEAP.select2.level]=0;}};LEAP.select2.addtitle=function(g,l){var h=null;var f=LEAP.select2._getBoxElement(g);
if(f){g=f[1];h=f[0];}else{g=LEAP._check(g,LEAP.select2.d);if(!g){return;}h=g;}var b=g.getAttribute("code");var a=b.split(",");var m=LEAP.getElement("[ctf=select2_title_values]",h);if(m!=null){if(g._titlevalue==null){g._titlevalue=m.innerHTML;}var c=m.children[0];if(c!=null){if(c[LEAP.select2.dt]==null){m.innerHTML="";
}}var e=null;if(e==null){var j=document.createElement("div");j.innerHTML=g._titlevalue;e=j.children[j.children.length-1];}var i=e.cloneNode(true);if(i==null){return;}var d=m.children[m.children.length-1];LEAP.removeCSS(d,"LC_select_none",false);i.innerHTML=l.codevalue;i._codetypename=a[l.codelevel];i[LEAP.select2.dt]=l;
m.appendChild(i);}};LEAP.select2._s=function(c,a){if(LEAP.isIE){var b=c.createTextRange();b.moveStart("character",a);b.collapse(true);b.select();}else{c.selectionStart=c.selectionEnd=a;}};LEAP.select2.init=function(){if(document!=null&&document.body!=null){LEAP.select2._init();}else{UIEventManager.addEvent(window,"load",LEAP.select2._init);
}ElementEventManager.addManagedEventType(LEAP.select2.d,"click");ElementEventManager.addManagedEventType(LEAP.select2.d,"valueChange");ElementEventManager.addManagedEventType(LEAP.select2.d,"hidebox");}();LEAP.switchbox={};LEAP.switchbox.d="switchbox";LEAP.switchbox._init=function(){LEAP.addEvent(document.body,"click",LEAP.switchbox.uiProcess,null,null,true);
UIEventManager.removeEvent(window,"load",LEAP.switchbox._init);};LEAP.switchbox.uiProcess=function(n){var a=n.e.srcElement;var g=LEAP._match(a,LEAP.switchbox.d,"ct",5);if(!g){return;}var h=n.e.type;var i=a.getAttribute(commfields.ctf);if(h=="click"){var b=LEAP._match(a,"switchbox_label","ctf",2);if(!b){return;
}var c=LEAP.getElements("SPAN[ctf=switchbox_span]",b);if(!c||c.length!=2){return;}var m=b.className;var d=c[0].getAttribute("value");var j=c[1].getAttribute("value");var f="lc_switchbox_label";var e=null;var l=null;if(m.indexOf(" selected")<0){f=f+" selected";c[0].setAttribute("hasselect",1);c[1].setAttribute("hasselect",0);
e=c[1].getAttribute("value");l=c[0].getAttribute("value");}else{c[0].setAttribute("hasselect",0);c[1].setAttribute("hasselect",1);e=c[0].getAttribute("value");l=c[1].getAttribute("value");}b.className=f;ElementEventManager.handleEvent(g,"valueChange",{element:g,lv:e,pv:l,oldvalue:e,newvalue:l});}};LEAP.switchbox.getValue=function(b){b=LEAP._check(b,LEAP.switchbox.d);
if(!b){return null;}var a=LEAP.getElement("LABEL[ctf=switchbox_label]",b);if(!a){return null;}var c=LEAP.getElement("SPAN[hasselect=1]",a);if(!c){return null;}return c.getAttribute("value");};LEAP.switchbox.setValue=function(d,f){d=LEAP._check(d,LEAP.switchbox.d);if(!d){return null;}var c=LEAP.getElement("LABEL[ctf=switchbox_label]",d);
if(!c){return null;}var e=LEAP.getElements("SPAN[ctf=switchbox_span]",c);if(!e||e.length!=2){return null;}var a=e[0].getAttribute("value");var b=e[1].getAttribute("value");var g="lc_switchbox_label";if(b==f){e[0].setAttribute("hasselect",0);e[1].setAttribute("hasselect",1);}else{e[0].setAttribute("hasselect",1);
e[1].setAttribute("hasselect",0);g=g+" selected";}c.className=g;};LEAP.switchbox.init=function(){if(document!=null&&document.body!=null){LEAP.switchbox._init();}else{UIEventManager.addEvent(window,"load",LEAP.switchbox._init);}ElementEventManager.addManagedEventType(LEAP.switchbox.d,"valueChange");}();
LEAP.tipbox={};LEAP.tipbox.str='<div class="LC_tipbox_floatmessage_con"><img class="LC_tipbox_floatmessage_img" src="'+leapconfig.server+'LEAP/Resource/images/itemstyle/messagebox/email2.png"><div class="LC_tipbox_floatmessage_toptitle"></div><div class="LC_tipbox_floatmessage_text"></div></div>';LEAP.tipbox.closestr='<div class="LC_tipbox_floatmessage_close" ctf="tipboxclose"></div>';
LEAP.tipbox.titlestr='<div class="LC_tipbox_floatmessage_tdiv"></div>';LEAP.tipbox.buttonstr='<div class="LC_tipbox_floatmessage_buttons"></div>';LEAP.tipbox.div=null;LEAP.tipbox.t=null;LEAP.tipbox.lm=null;LEAP.tipbox.scope=null;LEAP.tipbox.stoptime=7;LEAP.tipbox.init=function(){if(document!=null&&document.body!=null){LEAP.tipbox._init();
}else{UIEventManager.addEvent(window,"load",LEAP.tipbox._init);}};LEAP.tipbox._init=function(){UIEventManager.removeEvent(window,"load",LEAP.tipbox._init);var a=document.createElement("div");document.body.appendChild(a);a.style.display="none";a.className="LC_tipbox_floatmessage";a.innerHTML=LEAP.tipbox.titlestr+LEAP.tipbox.closestr+LEAP.tipbox.buttonstr+LEAP.tipbox.str;
LEAP.addEvent(a,"mouseover",LEAP.tipbox.uiProcess,null,null,true);LEAP.addEvent(a,"mouseleave",LEAP.tipbox.uiProcess,null,null,true);LEAP.addEvent(a,"click",LEAP.tipbox.uiProcess,null,null,true);LEAP.tipbox.div=a;a=null;};LEAP.tipbox.bool=false;LEAP.tipbox.uiProcess=function(b){var e=b.e.srcElement;var c=b.e.type;
var a=e.tagName;var d=e.getAttribute(commfields.ctf);if(e.className&&e.className=="LC_tipbox_floatmessage"){if(c=="mouseover"){window.clearInterval(LEAP.tipbox.t);LEAP.tipbox.div.style.right="10px";LEAP.tipbox.div.style.opacity=100;LEAP.tipbox.div.style.filter="Alpha(Opacity=100)";}else{if(c=="mouseleave"){if(LEAP.tipbox.bool==false){LEAP.tipbox.alert(LEAP.tipbox.lm.msg,LEAP.tipbox.lm.type,LEAP.tipbox.lm.title,LEAP.tipbox.lm.mtype,LEAP.tipbox.lm.id,LEAP.tipbox.lm.arg,LEAP.tipbox.lm.topimg,LEAP.tipbox.lm.toptitle,LEAP.tipbox.lm.topcolor,LEAP.tipbox.lm.titlecolor,LEAP.tipbox.lm.centercolor,LEAP.tipbox.lm.buttons);
}LEAP.tipbox.bool=false;}}}else{if(c=="click"){if(d=="tipboxclose"){LEAP.tipbox.close();LEAP.tipbox.bool=true;}else{if(d=="tipboxtitle"||d=="tipboxcenter"){var f=e.getAttribute("dataid");if(LEAP.tipbox.scope){if(LEAP.tipbox.scope.messageclick){LEAP.tipbox.scope.messageclick(LEAP.tipbox.lm);}}LEAP.tipbox.close();
LEAP.tipbox.bool=true;}}}}};LEAP.tipbox.alert=function(e,b,y,h,p,f,g,n,d,l,j,u){if(b==null){b=1;}if(LEAP.tipbox.t!=null){window.clearInterval(LEAP.tipbox.t);}LEAP.tipbox.tc=0;LEAP.tipbox.scope=f;var t=LEAP.getElement(".LC_tipbox_floatmessage_text",LEAP.tipbox.div);if(t==null){return;}var i=LEAP.getElement(".LC_tipbox_floatmessage_close",LEAP.tipbox.div);
var w=LEAP.getElement(".LC_tipbox_floatmessage_img",LEAP.tipbox.div);var o=LEAP.getElement(".LC_tipbox_floatmessage_tdiv",LEAP.tipbox.div);var c=LEAP.getElement(".LC_tipbox_floatmessage_toptitle",LEAP.tipbox.div);var v=LEAP.getElement(".LC_tipbox_floatmessage_buttons",LEAP.tipbox.div);if(h=="1"){i.style.display="block";
if(u){v.innerHTML=u;v.style.display="block";LEAP.tipbox.div.style.height="260px";}else{v.innerHTML="";v.style.display="none";LEAP.tipbox.div.style.height="220px";}t.style.height="180px";t.style.left="20px";t.style.top="30px";t.style.width="260px";LEAP.tipbox.stoptime=2000;w.style.marginTop="0px";w.style.height="30px";
o.style.display="block";if(n!=null){c.innerHTML=n;c.style.display="inline-block";}else{c.innerHTML="";c.style.display="none";}}else{i.style.display="none";LEAP.tipbox.div.style.height="65px";t.style.height="45px";t.style.left="60px";t.style.top="15px";t.style.width="235px";LEAP.tipbox.stoptime=7;w.style.marginTop="15px";
w.style.height="35px";o.style.display="none";c.style.display="none";c.innerHTML="";v.innerHTML="";v.style.display="none";}var r=null;if(h=="1"){var a="#4D4D4D";if(b==2){a="#3797FC";}else{if(b==3){a="red";}}if(y!=null){r="<a href='javascript:' class='LC_tipbox_floatmessage_title' style='color:"+a+"' title='"+y+"' ctf='tipboxtitle' dataid='"+p+"'>"+y+"</a><br><br><a ctf='tipboxcenter' href='javascript:' style='color:"+a+"' class='LC_tipbox_floatmessage_center' dataid='"+p+"'>"+e.replaceall("\n","<br>").replaceall(" ","&nbsp")+"</a>";
}else{r=e.replaceall("\n","<br>").replaceall(" ","&nbsp");}if(r==null){return;}}else{if(y!=null){r=y+"<br>"+e;}else{r=e;}if(r==null){return;}r=r.replaceall("\n","<br>").replaceall(" ","&nbsp");}t.innerHTML=r;LEAP.tipbox.lm={msg:e,title:y,type:b,mtype:h,id:p,arg:f,topimg:g,toptitle:n,topcolor:d,titlecolor:l,centercolor:j,buttons:u};
if(f){if(f.messageButtonLoadEvent){f.messageButtonLoadEvent(f,LEAP.tipbox.lm);}}var s=LEAP.tipbox.div.style;s.right="10px";s.opacity=1;s.filter="Alpha(Opacity=100)";s.display="block";if(h=="1"){var x=LEAP.getElement(".LC_tipbox_floatmessage_title",LEAP.tipbox.div);var q=LEAP.getElement(".LC_tipbox_floatmessage_center",LEAP.tipbox.div);
if(l!=null){x.style.color=l;}else{x.style.color="#4D4D4D";}if(j!=null){q.style.color=j;}else{q.style.color="#4D4D4D";}if(d!=null){s.color=d;}else{s.color="#4D4D4D";}if(g!=null){LEAP.getElement(".LC_tipbox_floatmessage_img",LEAP.tipbox.div).src=leapconfig.server+g;}}else{if(b==2){s.color="#3797FC";LEAP.getElement(".LC_tipbox_floatmessage_img",LEAP.tipbox.div).src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/email2.png";
}else{if(b==3){s.color="red";LEAP.getElement(".LC_tipbox_floatmessage_img",LEAP.tipbox.div).src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/email3.png";}else{s.color="#4D4D4D";LEAP.getElement(".LC_tipbox_floatmessage_img",LEAP.tipbox.div).src=leapconfig.server+"LEAP/Resource/images/itemstyle/messagebox/email1.png";
}}}LEAP.tipbox.t=setInterval(LEAP.tipbox._m1,150);};LEAP.tipbox.tc=0;LEAP.tipbox.close=function(){LEAP.tipbox.div.style.display="none";if(LEAP.tipbox.t!=null){window.clearInterval(LEAP.tipbox.t);}LEAP.tipbox.tc=0;};LEAP.tipbox._m1=function(){LEAP.tipbox.tc++;if(LEAP.tipbox.tc>LEAP.tipbox.stoptime){var a=(10-(LEAP.tipbox.tc-LEAP.tipbox.stoptime))*30;
if(a<10){LEAP.tipbox.div.style.display="none";if(LEAP.tipbox.t!=null){window.clearInterval(LEAP.tipbox.t);}LEAP.tipbox.tc=0;}else{LEAP.tipbox.div.style.right=(10-310/(a/30))+"px";LEAP.tipbox.div.style.opacity=a/100;LEAP.tipbox.div.style.filter="Alpha(Opacity="+a+")";}}};LEAP.tipbox.init();LEAP.topper={};
LEAP.topper.topperTag=null;LEAP.topper._init=function(){if(document&&document.body){LEAP.topper._createToptag();LEAP.addEvent(document.body,"click",LEAP.topper.uiProcess,null,null,true);}};LEAP.topper._createToptag=function(){var a=LEAP.getElement("[ctf=page_topper]",document.body);if(!a){a=document.createElement("IMG");
a.src=leapconfig.server+"LEAP/Resource/images/lcimages/LC_toppers/top.png";a.style.position="absolute";a.style.width="50px";a.style.height="35px";a.setAttribute("title","置顶");a.setAttribute("ctf","page_topper");a.style.cursor="pointer";a.style["z-index"]="9999";a.style.display="none";document.body.appendChild(a);
}else{a.style.display="none";}LEAP.topper.topperTag=a;window.setInterval(LEAP.topper.hideTopTag,1000*3);};LEAP.topper.uiProcess=function(b){if(b==null){return;}var f=b.e.srcElement;if(f==null){return;}var c=b.e.type;if(c==null||c!="click"){return;}var a=f.tagName;if(a==null){return;}var d=f.getAttribute(commfields.ctf);
if(c=="click"&&d=="page_topper"){var e=f._scrollElement;if(e){e.scrollTop=0;LEAP.asyn(LEAP.topper.setTimeOuttoTop,this,200,f);}}};LEAP.topper.setTimeOuttoTop=function(a){if(a){a.style.display="none";}};LEAP.topper.scroll=function(d){if(!d){return;}if(!LEAP.topper.topperTag){LEAP.topper._createToptag();
}var c=d.getAttribute("showtopper");var b=LEAP.getAbsolutePos(d);var a=LEAP.getElement("[ctf=page_topper]",document.body);if(d.scrollTop==0&&a){a.style.display="none";return;}if(c&&a){a.style.left=b.x+d.offsetWidth-80+"px";a.style.top=b.y+d.offsetHeight-50+"px";a.style.display="";a._scrollElement=d;}};
LEAP.topper.hideTopTag=function(){var a=LEAP.getElement("[ctf=page_topper]",document.body);if(a){a.style.display="none";}};LEAP.topper.init=function(){if(document!=null&&document.body!=null){LEAP.topper._init();}else{UIEventManager.addEvent(window,"load",LEAP.topper._init);}}();