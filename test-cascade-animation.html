<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cascade Animation Test</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            padding: 20px;
            background: var(--td-bg-color-container, #f5f5f5);
            color: var(--td-text-color-primary, #333);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
            margin: 40px 0;
        }
        
        .demo-card {
            padding: 20px;
            border-radius: 8px;
            background: var(--td-bg-color-component, white);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }
        
        .demo-card:hover {
            transform: translateY(-2px);
        }
        
        .t-button, .td-button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background: var(--td-brand-color, #0052d9);
            color: white;
            cursor: pointer;
            margin: 4px;
            display: inline-block;
        }
        
        .td-tag {
            padding: 4px 8px;
            border-radius: 4px;
            background: var(--td-brand-color-light, #ecf2fe);
            color: var(--td-brand-color, #0052d9);
            display: inline-block;
            margin: 4px;
        }
        
        .td-badge {
            display: inline-block;
            padding: 2px 6px;
            background: var(--td-error-color, #e34d59);
            color: white;
            border-radius: 10px;
            font-size: 12px;
            margin: 4px;
        }
        
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            max-width: 300px;
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .control-group input,
        .control-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .preset-colors {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .color-btn {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .color-btn:hover {
            transform: scale(1.1);
            border-color: #333;
        }
    </style>
</head>
<body>
    <h1>主题切换动画测试 - Cascade Animation</h1>
    
    <div class="controls">
        <h3>动画控制</h3>
        
        <div class="control-group">
            <label>动画模式</label>
            <select id="animationMode">
                <option value="cascade">Cascade (级联)</option>
                <option value="smooth">Smooth (平滑)</option>
                <option value="subtle">Subtle (细微)</option>
                <option value="fade">Fade (淡入淡出)</option>
                <option value="instant">Instant (立即)</option>
                <option value="auto">Auto (自动)</option>
            </select>
        </div>
        
        <div class="control-group">
            <label>动画时长 (ms): <span id="durationValue">300</span></label>
            <input type="range" id="duration" min="100" max="2000" value="300" step="100">
        </div>
        
        <div class="control-group">
            <label>级联延迟 (ms): <span id="cascadeDelayValue">50</span></label>
            <input type="range" id="cascadeDelay" min="10" max="200" value="50" step="10">
        </div>
        
        <div class="control-group">
            <label>预设主题</label>
            <div class="preset-colors">
                <div class="color-btn" style="background: #0052d9" data-theme="default" title="默认"></div>
                <div class="color-btn" style="background: #022a99" data-theme="kleinBlue" title="克莱因蓝"></div>
                <div class="color-btn" style="background: #0d2d57" data-theme="prussianBlue" title="普鲁士蓝"></div>
                <div class="color-btn" style="background: #53589a" data-theme="periwinkle" title="长春花蓝"></div>
                <div class="color-btn" style="background: #0d7e9c" data-theme="peacockBlue" title="孔雀蓝"></div>
                <div class="color-btn" style="background: #185a56" data-theme="darkSeaGreen" title="深海绿"></div>
                <div class="color-btn" style="background: #2196f3" data-theme="techBlue" title="科技蓝"></div>
                <div class="color-btn" style="background: #26a69a" data-theme="mintGreen" title="薄荷绿"></div>
                <div class="color-btn" style="background: #ff7043" data-theme="coralOrange" title="珊瑚橙"></div>
                <div class="color-btn" style="background: #4caf50" data-theme="emeraldGreen" title="翡翠绿"></div>
                <div class="color-btn" style="background: #ff9800" data-theme="sunnyOrange" title="阳光橙"></div>
                <div class="color-btn" style="background: #9c27b0" data-theme="purpleViolet" title="紫罗兰"></div>
                <div class="color-btn" style="background: #9d73bd" data-theme="violet" title="优雅紫"></div>
                <div class="color-btn" style="background: #b81e22" data-theme="chinaRed" title="中国红"></div>
            </div>
        </div>
        
        <div class="control-group">
            <button onclick="testCascadeAnimation()" style="width: 100%; padding: 10px; background: #0052d9; color: white; border: none; border-radius: 4px; cursor: pointer;">
                测试级联动画
            </button>
        </div>
    </div>
    
    <div class="demo-grid">
        <div class="demo-card td-1">
            <h3>卡片 1</h3>
            <p>这是一个示例卡片，用于展示级联动画效果。</p>
            <button class="t-button">按钮 1</button>
            <span class="td-tag">标签 1</span>
        </div>
        
        <div class="demo-card td-2">
            <h3>卡片 2</h3>
            <p>颜色会逐个变化，形成波浪效果。</p>
            <button class="t-button">按钮 2</button>
            <span class="td-badge">99+</span>
        </div>
        
        <div class="demo-card td-3">
            <h3>卡片 3</h3>
            <p>每个元素都有自己的动画延迟。</p>
            <button class="td-button">按钮 3</button>
            <span class="td-tag">标签 3</span>
        </div>
        
        <div class="demo-card td-4">
            <h3>卡片 4</h3>
            <p>观察颜色如何依次变化。</p>
            <button class="t-button">按钮 4</button>
            <span class="td-badge">新</span>
        </div>
        
        <div class="demo-card td-5">
            <h3>卡片 5</h3>
            <p>这种效果适合列表或网格布局。</p>
            <button class="td-button">按钮 5</button>
            <span class="td-tag">标签 5</span>
        </div>
        
        <div class="demo-card td-6">
            <h3>卡片 6</h3>
            <p>级联动画让切换更加生动。</p>
            <button class="t-button">按钮 6</button>
            <span class="td-badge">Hot</span>
        </div>
        
        <div class="demo-card td-7">
            <h3>卡片 7</h3>
            <p>可以调整延迟时间控制速度。</p>
            <button class="td-button">按钮 7</button>
            <span class="td-tag">标签 7</span>
        </div>
        
        <div class="demo-card td-8">
            <h3>卡片 8</h3>
            <p>最后一个元素完成整个动画。</p>
            <button class="t-button">按钮 8</button>
            <span class="td-badge">End</span>
        </div>
    </div>
    
    <script type="module">
        import { setTheme } from '../ldesign-all/packages/shared/color-generate/es/simple.js';
        
        // 初始化主题
        setTheme('default');
        
        // 监听控制器变化
        document.getElementById('duration').addEventListener('input', (e) => {
            document.getElementById('durationValue').textContent = e.target.value;
        });
        
        document.getElementById('cascadeDelay').addEventListener('input', (e) => {
            document.getElementById('cascadeDelayValue').textContent = e.target.value;
        });
        
        // 颜色按钮点击事件
        document.querySelectorAll('.color-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const theme = btn.dataset.theme;
                const mode = document.getElementById('animationMode').value;
                const duration = parseInt(document.getElementById('duration').value);
                const cascadeDelay = parseInt(document.getElementById('cascadeDelay').value);
                
                console.log(`切换到主题: ${theme}, 动画: ${mode}, 时长: ${duration}ms, 级联延迟: ${cascadeDelay}ms`);
                
                setTheme(theme, {
                    transition: mode,
                    duration: duration,
                    cascadeDelay: cascadeDelay,
                    easing: 'cubic-bezier(0.4, 0.0, 0.2, 1.0)'
                });
            });
        });
        
        // 测试级联动画
        window.testCascadeAnimation = function() {
            const themes = ['techBlue', 'mintGreen', 'coralOrange', 'emeraldGreen', 'purpleViolet', 'default'];
            let index = 0;
            
            const interval = setInterval(() => {
                if (index >= themes.length) {
                    clearInterval(interval);
                    return;
                }
                
                const duration = parseInt(document.getElementById('duration').value);
                const cascadeDelay = parseInt(document.getElementById('cascadeDelay').value);
                
                setTheme(themes[index], {
                    transition: 'cascade',
                    duration: duration,
                    cascadeDelay: cascadeDelay
                });
                
                index++;
            }, 2000);
        };
    </script>
</body>
</html>