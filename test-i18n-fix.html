<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I18n ä¿®å¤éªŒè¯</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .success {
            border-left: 4px solid #28a745;
            background: #f8fff9;
        }
        .error {
            border-left: 4px solid #dc3545;
            background: #fff8f8;
        }
        .warning {
            border-left: 4px solid #ffc107;
            background: #fffef8;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        button {
            padding: 8px 16px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            cursor: pointer;
        }
        button:hover {
            background: #f0f0f0;
        }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .status.online {
            background: #d4edda;
            color: #155724;
        }
        .status.offline {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ LDesign I18n ä¿®å¤éªŒè¯</h1>
    
    <div class="test-section">
        <h2>ğŸ“± åº”ç”¨çŠ¶æ€</h2>
        <p><strong>åº”ç”¨åœ°å€:</strong> <a href="http://localhost:8889/" target="_blank">http://localhost:8889/</a>
        <span id="app-status" class="status offline">æ£€æŸ¥ä¸­...</span></p>
        <button onclick="checkAppStatus()">ğŸ”„ é‡æ–°æ£€æŸ¥</button>
        <button onclick="openApp()">ğŸš€ åœ¨æ–°çª—å£æ‰“å¼€</button>
    </div>

    <div class="test-section">
        <h2>âœ… ä¿®å¤éªŒè¯æ¸…å•</h2>
        <div id="fix-status">
            <p><strong>è¯·æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®æ˜¯å¦å·²ä¿®å¤:</strong></p>
            <ul>
                <li>âœ… é¡µé¢ä¸å†æ˜¾ç¤ºç¿»è¯‘é”®åï¼ˆå¦‚ home.titleï¼‰</li>
                <li>âœ… é¡µé¢æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡ç¿»è¯‘å†…å®¹</li>
                <li>âœ… å¯¼èˆªæ æ˜¾ç¤º"é¦–é¡µ"å’Œ"ç™»å½•"è€Œä¸æ˜¯é”®å</li>
                <li>âœ… è¯­è¨€åˆ‡æ¢å™¨ç»„ä»¶å¯è§ä¸”å¯ç”¨</li>
                <li>âœ… ç‚¹å‡»è¯­è¨€åˆ‡æ¢å™¨å¯ä»¥åˆ‡æ¢åˆ°è‹±æ–‡</li>
                <li>âœ… åˆ‡æ¢åˆ°è‹±æ–‡åå†…å®¹å˜ä¸ºè‹±æ–‡</li>
                <li>âœ… æ§åˆ¶å°æ— é”™è¯¯ä¿¡æ¯</li>
            </ul>
        </div>
        <button onclick="markFixed()">âœ… ç¡®è®¤å·²ä¿®å¤</button>
        <button onclick="reportIssue()">âŒ ä»æœ‰é—®é¢˜</button>
    </div>

    <div class="test-section">
        <h2>ğŸ“º åº”ç”¨é¢„è§ˆ</h2>
        <iframe id="app-frame" src="http://localhost:8889/"></iframe>
        <button onclick="refreshFrame()">ğŸ”„ åˆ·æ–°é¢„è§ˆ</button>
    </div>

    <div class="test-section" id="result-section" style="display: none;">
        <h2>ğŸ“Š ä¿®å¤ç»“æœ</h2>
        <div id="result-content"></div>
    </div>

    <script>
        // æ£€æŸ¥åº”ç”¨çŠ¶æ€
        async function checkAppStatus() {
            const statusEl = document.getElementById('app-status');
            statusEl.textContent = 'æ£€æŸ¥ä¸­...';
            statusEl.className = 'status offline';

            try {
                const response = await fetch('http://localhost:8889/', { 
                    method: 'HEAD',
                    mode: 'no-cors'
                });
                statusEl.textContent = 'åœ¨çº¿';
                statusEl.className = 'status online';
            } catch (error) {
                statusEl.textContent = 'ç¦»çº¿';
                statusEl.className = 'status offline';
            }
        }

        // æ‰“å¼€åº”ç”¨
        function openApp() {
            window.open('http://localhost:8889/', '_blank');
        }

        // åˆ·æ–°é¢„è§ˆ
        function refreshFrame() {
            const frame = document.getElementById('app-frame');
            frame.src = frame.src;
        }

        // æ ‡è®°ä¸ºå·²ä¿®å¤
        function markFixed() {
            const resultSection = document.getElementById('result-section');
            const resultContent = document.getElementById('result-content');
            
            resultSection.style.display = 'block';
            resultSection.className = 'test-section success';
            resultContent.innerHTML = `
                <h3>ğŸ‰ ä¿®å¤æˆåŠŸï¼</h3>
                <p>å¤šè¯­è¨€åŠŸèƒ½å·²æ¢å¤æ­£å¸¸å·¥ä½œã€‚</p>
                <p><strong>ä¿®å¤å†…å®¹:</strong></p>
                <ul>
                    <li>ç®€åŒ–äº† i18n é…ç½®ï¼Œä½¿ç”¨åŸºç¡€çš„ createI18n å‡½æ•°</li>
                    <li>ç§»é™¤äº†å¯èƒ½å¯¼è‡´é—®é¢˜çš„é«˜çº§é…ç½®</li>
                    <li>ç¡®ä¿ç¿»è¯‘æ–‡ä»¶æ­£ç¡®åŠ è½½</li>
                    <li>ä¿®å¤äº†è¯­è¨€åˆ‡æ¢åŠŸèƒ½</li>
                </ul>
                <p><strong>æ—¶é—´:</strong> ${new Date().toLocaleString()}</p>
            `;
        }

        // æŠ¥å‘Šé—®é¢˜
        function reportIssue() {
            const resultSection = document.getElementById('result-section');
            const resultContent = document.getElementById('result-content');
            
            resultSection.style.display = 'block';
            resultSection.className = 'test-section error';
            resultContent.innerHTML = `
                <h3>âŒ ä»æœ‰é—®é¢˜</h3>
                <p>å¤šè¯­è¨€åŠŸèƒ½å¯èƒ½ä»éœ€è¦è¿›ä¸€æ­¥ä¿®å¤ã€‚</p>
                <p><strong>å¯èƒ½çš„é—®é¢˜:</strong></p>
                <ul>
                    <li>ç¿»è¯‘æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®</li>
                    <li>Vue ç»„ä»¶ä¸­çš„ useI18n é’©å­æœ‰é—®é¢˜</li>
                    <li>i18n æ’ä»¶æ²¡æœ‰æ­£ç¡®æ³¨å†Œ</li>
                    <li>ç¼“å­˜é—®é¢˜ï¼Œéœ€è¦æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</li>
                </ul>
                <p><strong>å»ºè®®:</strong></p>
                <ul>
                    <li>æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯</li>
                    <li>å°è¯•ç¡¬åˆ·æ–°é¡µé¢ (Ctrl+F5)</li>
                    <li>æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æ­£å¸¸</li>
                </ul>
                <p><strong>æ—¶é—´:</strong> ${new Date().toLocaleString()}</p>
            `;
        }

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥åº”ç”¨çŠ¶æ€
        window.addEventListener('load', () => {
            checkAppStatus();
        });
    </script>
</body>
</html>
