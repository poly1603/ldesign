<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据展示与复制</title>
    <style>
        :root {
            --primary-color: #4a6cf7;
            --success-color: #28a745;
            --background-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .description {
            color: #666;
            margin-bottom: 20px;
        }

        .data-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        @media (min-width: 768px) {
            .data-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .data-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .data-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 15px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .data-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .data-email {
            font-weight: bold;
            margin-bottom: 8px;
            word-break: break-all;
        }

        .data-token {
            font-size: 0.85rem;
            color: #555;
            word-break: break-all;
            background-color: #f5f5f5;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 10px;
            height: 80px;
            overflow: auto;
        }

        .copy-btn {
            display: block;
            width: 100%;
            padding: 8px 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s ease;
        }

        .copy-btn:hover {
            background-color: #3a57d0;
        }

        .copy-btn.copied {
            background-color: var(--success-color);
        }
        
        .copy-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .loading {
            text-align: center;
            padding: 20px;
            font-size: 18px;
        }

        footer {
            margin-top: 30px;
            text-align: center;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>数据展示与复制工具</h1>
            <p class="description">点击每条数据旁边的"复制"按钮可将数据复制到剪贴板</p>
        </header>

        <div class="data-container" id="dataContainer">
            <div class="loading">正在加载数据...</div>
        </div>

        <footer>
            <p>© 2024 数据展示工具 | 支持现代浏览器</p>
        </footer>
    </div>

    <script>
        // 预设数据
        const presetData = [
            {
                email: "lpcakf343@haibaistu.xin",
                token: "user_01K7F8RNNKR0GE79C9PVQNVV5G::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGOFJOTktSMEdFNzlDOVBWUU5WVjVHIiwidGltZSI6IjE3NjAzNzUzODIiLCJyYW5kb21uZXNzIjoiOWU1MWQzNzAtYzA2OS00N2Q2IiwiZXhwIjoxNzY1NTU5MzgyLCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.kl-ho01r30F9pN0PeiJJUhV9NW8gfkUnKfWNpDs1JNQ"
            },
            {
                email: "bcfjej5622@haibaistu.xin",
                token: "user_01K7F91SP9RB8Q41A79396SJTR::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGOTFTUDlSQjhRNDFBNzkzOTZTSlRSIiwidGltZSI6IjE3NjAzNzU2ODEiLCJyYW5kb21uZXNzIjoiZTM4MWQ1NTItNDdhZi00YzRmIiwiZXhwIjoxNzY1NTU5NjgxLCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.GY3PxtE5GwOr03qrF1Y9DpR-RwRenTB_ErUwJ6_ZnJc"
            },
            {
                email: "qbdhre689@haibaistu.xin",
                token: "user_01K7F938V17TBAY1PJEM1YSBVA::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGOTM4VjE3VEJBWTFQSkVNMVlTQlZBIiwidGltZSI6IjE3NjAzNzU3MjciLCJyYW5kb21uZXNzIjoiYjhhYWI5ZDAtOWNlOC00NTE0IiwiZXhwIjoxNzY1NTU5NzI3LCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.A-ZUPZ1GnrFhaaHf5fyTNsjZGcKVcD9B_Xw1K9ieclA"
            },
            {
                email: "pvrvhy5828@haibaistu.xin",
                token: "user_01K7F97FEQZB51RH70QFJ8DPJ8::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGOTdGRVFaQjUxUkg3MFFGSjhEUEo4IiwidGltZSI6IjE3NjAzNzU4NjYiLCJyYW5kb21uZXNzIjoiZDRmYTExMjAtMmE4OS00YzU5IiwiZXhwIjoxNzY1NTU5ODY2LCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.3HQisscvvX-OFsi6KfMpd83JKggUAtSPsvO7nUC-tFM"
            },
            {
                email: "juasgj959@haibaistu.xin",
                token: "user_01K7F9BGFDAG6J1B8C2WND8WEY::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGOUJHRkRBRzZKMUI4QzJXTkQ4V0VZIiwidGltZSI6IjE3NjAzNzU5OTYiLCJyYW5kb21uZXNzIjoiOTUzZjI0ZWMtYzA4NC00ZThhIiwiZXhwIjoxNzY1NTU5OTk2LCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.iOMYZNB7Jwtt-a2mySnCtQzm2EhWBwToX6SAt_23SCk"
            },
            {
                email: "mprvqt6073@haibaistu.xin",
                token: "user_01K7F9EZNQ4ZPG9VC2H548QQHH::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGOUVaTlE0WlBHOVZDMkg1NDhRUUhIIiwidGltZSI6IjE3NjAzNzYxMTAiLCJyYW5kb21uZXNzIjoiNWI4YWJlNGMtMjIwNC00MzU1IiwiZXhwIjoxNzY1NTYwMTEwLCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.lqZ518xP0Zvs6U8tlPJ71b-xVDAuGATrW6C_b5Cd0_0"
            },
            {
                email: "ymgkxb880@haibaistu.xin",
                token: "user_01K7FA7NZWZ0R8XZQPYF1HMGE3::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGQTdOWldaMFI4WFpRUFlGMUhNR0UzIiwidGltZSI6IjE3NjAzNzY5MTgiLCJyYW5kb21uZXNzIjoiNGE5ZTVmNjEtZDljNy00ZmYyIiwiZXhwIjoxNzY1NTYwOTE4LCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.fV3nrAZnjnTXgQ9Ulq9PnFDw4xLWslBJSugteyGzrrg"
            },
            {
                email: "oxsxze977@haibaistu.xin",
                token: "user_01K7FAAHVNWNEBDB5DKYMV5RKW::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGQUFIVk5XTkVCREI1REtZTVY1UktXIiwidGltZSI6IjE3NjAzNzcwMTUiLCJyYW5kb21uZXNzIjoiZTkwNjJjYjMtZDkxMC00ZmFkIiwiZXhwIjoxNzY1NTYxMDE1LCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.haWi4lmz5GEsOa0c7usTAT1ey-AXJzHXNqKbReMzN24"
            },
            {
                email: "pgzlrk7024@haibaistu.xin",
                token: "user_01K7FAC1F97XSJSHPP38YS9EX3::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGQUMxRjk3WFNKU0hQUDM4WVM5RVgzIiwidGltZSI6IjE3NjAzNzcwNjIiLCJyYW5kb21uZXNzIjoiZDIwNmVlZmUtY2Q2OC00NGM1IiwiZXhwIjoxNzY1NTYxMDYyLCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.xJmIcDCkPeW4pMy2apCY2KEYuVkO7MvUqKJ7wSmv7OE"
            },
            {
                email: "hmizuo7071@haibaistu.xin",
                token: "user_01K7FADG91YDVT4XC815MMDPSC::eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhdXRoMHx1c2VyXzAxSzdGQURHOTFZRFZUNFhDODE1TU1EUFNDIiwidGltZSI6IjE3NjAzNzcxMTEiLCJyYW5kb21uZXNzIjoiMTYxMDE1OWItNTQ5YS00NDY1IiwiZXhwIjoxNzY1NTYxMTExLCJpc3MiOiJodHRwczovL2F1dGhlbnRpY2F0aW9uLmN1cnNvci5zaCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgb2ZmbGluZV9hY2Nlc3MiLCJhdWQiOiJodHRwczovL2N1cnNvci5jb20iLCJ0eXBlIjoid2ViIn0.jLRkh8vumKSQRIxA4DyalSNEei3S1XC6SBzlC6UKMNQ"
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            try {
                // 从文件加载数据
                loadDataFromFile('d:/WorkBench/ldesign/order_HOU2510251250MBK7B.txt');
            } catch (error) {
                console.error('加载数据失败:', error);
                document.getElementById('dataContainer').innerHTML = `
                    <div style="text-align: center; color: red; grid-column: 1/-1;">
                        <p>加载数据失败，请确保文件路径正确。</p>
                        <p>错误信息: ${error.message}</p>
                    </div>
                `;
                // 如果加载失败，使用预设数据
                renderData(presetData);
            }
        });

        // 从文件加载数据
        function loadDataFromFile(filePath) {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', 'file:///' + filePath, true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200 || xhr.status === 0) {
                        const text = xhr.responseText;
                        const lines = text.split('\n').filter(line => line.trim() !== '');
                        
                        // 解析数据
                        const dataItems = lines.map(line => {
                            const parts = line.split('\t');
                            return {
                                email: parts[0] || '',
                                token: parts[1] || ''
                            };
                        });
                        
                        // 渲染数据
                        renderData(dataItems);
                    } else {
                        // 如果加载失败，使用预设数据
                        console.error('无法加载文件，使用预设数据');
                        renderData(presetData);
                    }
                }
            };
            
            try {
                xhr.send();
            } catch (error) {
                console.error('加载文件失败:', error);
                renderData(presetData);
            }
        }

        function renderData(dataItems) {
            const container = document.getElementById('dataContainer');
            
            if (dataItems.length === 0) {
                container.innerHTML = '<div style="text-align: center; grid-column: 1/-1;">没有找到数据</div>';
                return;
            }
            
            container.innerHTML = dataItems.map((item, index) => `
                <div class="data-card">
                    <div class="data-email">${item.email}</div>
                    <div class="data-token">${item.token}</div>
                    <button class="copy-btn" data-index="${index}">复制</button>
                </div>
            `).join('');
            
            // 添加复制功能
            document.querySelectorAll('.copy-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    const item = dataItems[index];
                    const textToCopy = `${item.email}\t${item.token}`;
                    
                    try {
                        // 使用更可靠的复制方法
                        copyToClipboard(textToCopy, this);
                    } catch (err) {
                        console.error('复制失败:', err);
                        this.textContent = '复制失败';
                        setTimeout(() => {
                            this.textContent = '复制';
                            this.disabled = false;
                        }, 3000);
                    }
                });
            });
        }
        
        // 更可靠的复制到剪贴板方法
        function copyToClipboard(text, button) {
            // 禁用按钮
            button.disabled = true;
            
            // 创建临时文本区域
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';  // 避免滚动到底部
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                // 尝试使用document.execCommand复制
                const successful = document.execCommand('copy');
                if (successful) {
                    // 视觉反馈
                    button.textContent = '已复制!';
                    button.classList.add('copied');
                    
                    // 按钮保持禁用状态
                    button.disabled = true;
                } else {
                    throw new Error('复制命令失败');
                }
            } catch (err) {
                // 如果execCommand失败，尝试使用Clipboard API
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text)
                        .then(() => {
                            // 视觉反馈
                            button.textContent = '已复制!';
                            button.classList.add('copied');
                            
                            // 按钮保持禁用状态
                            button.disabled = true;
                        })
                        .catch(err => {
                            console.error('Clipboard API 复制失败:', err);
                            button.textContent = '复制失败';
                            button.disabled = false;
                        });
                } else {
                    console.error('复制失败:', err);
                    button.textContent = '复制失败';
                    button.disabled = false;
                }
            } finally {
                // 移除临时文本区域
                document.body.removeChild(textarea);
            }
        }
    </script>
</body>
</html>