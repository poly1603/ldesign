# ğŸ“‹ LDesign é¡¹ç›®æ ‡å‡†åŒ–å®ŒæˆæŠ¥å‘Š

## ğŸ¯ ä»»åŠ¡å®Œæˆæ€»ç»“

### âœ… ä»»åŠ¡1ï¼šæ¸…ç†toolsç›®å½•

**å·²å®Œæˆçš„æ¸…ç†å·¥ä½œï¼š**

- ğŸ—‘ï¸ åˆ é™¤äº†é‡å¤å’ŒåºŸå¼ƒçš„æ–‡ä»¶ï¼š
  - `tools/rollup.config.base.js` (æ—§ç‰ˆæœ¬)
  - `tools/vitest.config.base.ts` (æ—§ç‰ˆæœ¬)
  - `tools/playwright.config.base.ts` (æ—§ç‰ˆæœ¬)
  - `tools/tsconfig.base.json` (æ—§ç‰ˆæœ¬)
  - `tools/package-template.json` (é‡å¤æ–‡ä»¶)
  - `tools/batch-update-configs.js` (åºŸå¼ƒè„šæœ¬)
  - `tools/create-e2e-tests.js` (åºŸå¼ƒè„šæœ¬)
  - `tools/create-package.js` (åºŸå¼ƒè„šæœ¬)
  - `tools/e2e-template.spec.ts` (ä¸´æ—¶æ–‡ä»¶)
  - `tools/release.js` (åºŸå¼ƒè„šæœ¬)
  - `tools/standardize-all-packages.ts` (åºŸå¼ƒè„šæœ¬)
  - `tools/standardize-packages.js` (åºŸå¼ƒè„šæœ¬)
  - `tools/verify-package-configs.js` (åºŸå¼ƒè„šæœ¬)

**æ¸…ç†åçš„toolsç›®å½•ç»“æ„ï¼š**

```
tools/
â”œâ”€â”€ build/                  # ğŸ—ï¸ æ„å»ºç›¸å…³å·¥å…·
â”‚   â”œâ”€â”€ rollup.config.base.js    # Rollup åŸºç¡€é…ç½® (JSç‰ˆæœ¬)
â”‚   â”œâ”€â”€ rollup.config.base.ts    # Rollup åŸºç¡€é…ç½® (TSç‰ˆæœ¬)
â”‚   â””â”€â”€ tsconfig.base.json       # TypeScript åŸºç¡€é…ç½®
â”œâ”€â”€ test/                   # ğŸ§ª æµ‹è¯•ç›¸å…³å·¥å…·
â”‚   â”œâ”€â”€ vitest.config.base.js    # Vitest åŸºç¡€é…ç½® (JSç‰ˆæœ¬)
â”‚   â”œâ”€â”€ vitest.config.base.ts    # Vitest åŸºç¡€é…ç½® (TSç‰ˆæœ¬)
â”‚   â”œâ”€â”€ playwright.config.base.js # Playwright åŸºç¡€é…ç½® (JSç‰ˆæœ¬)
â”‚   â””â”€â”€ playwright.config.base.ts # Playwright åŸºç¡€é…ç½® (TSç‰ˆæœ¬)
â”œâ”€â”€ package/                # ğŸ“¦ åŒ…ç®¡ç†å·¥å…·
â”‚   â”œâ”€â”€ create-package.ts        # åˆ›å»ºæ–°åŒ…å·¥å…·
â”‚   â””â”€â”€ standardize-packages.ts  # æ ‡å‡†åŒ–åŒ…é…ç½®å·¥å…·
â”œâ”€â”€ release/                # ğŸš€ å‘å¸ƒç›¸å…³å·¥å…·
â”‚   â””â”€â”€ version-manager.ts       # ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒå·¥å…·
â”œâ”€â”€ deploy/                 # ğŸŒ éƒ¨ç½²ç›¸å…³å·¥å…·
â”‚   â”œâ”€â”€ deploy-manager.ts        # ä¸»éƒ¨ç½²ç®¡ç†å™¨
â”‚   â”œâ”€â”€ package-deployer.ts      # åŒ…éƒ¨ç½²å™¨
â”‚   â””â”€â”€ verify-deployment.ts     # éƒ¨ç½²éªŒè¯å™¨
â”œâ”€â”€ templates/              # ğŸ“‹ æ¨¡æ¿æ–‡ä»¶
â”‚   â””â”€â”€ package-template.json    # åŒ…é…ç½®æ¨¡æ¿
â”œâ”€â”€ __tests__/              # ğŸ§ª å·¥å…·æµ‹è¯•
â”‚   â””â”€â”€ git-commit.test.ts       # Gitæäº¤å·¥å…·æµ‹è¯•
â”œâ”€â”€ git-commit.ts           # Gitæäº¤å·¥å…·
â”œâ”€â”€ verify-standardization.js    # æ ‡å‡†åŒ–éªŒè¯å·¥å…·
â””â”€â”€ README.md              # ğŸ“š è¯¦ç»†æ–‡æ¡£
```

### âœ… ä»»åŠ¡2ï¼šæ ‡å‡†åŒ–æ‰€æœ‰packageså­åŒ…

**å·²æ ‡å‡†åŒ–çš„9ä¸ªåŒ…ï¼š**

1. âœ… `packages/color/` - é¢œè‰²ç³»ç»ŸåŒ…
2. âœ… `packages/crypto/` - åŠ å¯†å·¥å…·åŒ…
3. âœ… `packages/device/` - è®¾å¤‡æ£€æµ‹åŒ…
4. âœ… `packages/engine/` - æ ¸å¿ƒå¼•æ“åŒ…
5. âœ… `packages/http/` - HTTPè¯·æ±‚åŒ…
6. âœ… `packages/i18n/` - å›½é™…åŒ–åŒ…
7. âœ… `packages/router/` - è·¯ç”±ç®¡ç†åŒ…
8. âœ… `packages/store/` - çŠ¶æ€ç®¡ç†åŒ…
9. âœ… `packages/template/` - æ¨¡æ¿å¼•æ“åŒ…

## ğŸ“ ç»Ÿä¸€ç›®å½•ç»“æ„

æ¯ä¸ªåŒ…ç°åœ¨éƒ½å…·æœ‰ä»¥ä¸‹æ ‡å‡†åŒ–ç›®å½•ç»“æ„ï¼š

```
packages/[package-name]/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ index.ts           # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ types/             # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ vue/               # Vueé›†æˆ (å¦‚æœé€‚ç”¨)
â”œâ”€â”€ __tests__/             # å•å…ƒæµ‹è¯•
â”œâ”€â”€ e2e/                   # E2Eæµ‹è¯•
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ examples/              # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ dist/                  # UMDæ„å»ºäº§ç‰©
â”œâ”€â”€ es/                    # ESMæ„å»ºäº§ç‰©
â”œâ”€â”€ lib/                   # CommonJSæ„å»ºäº§ç‰©
â”œâ”€â”€ types/                 # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ package.json           # åŒ…é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScripté…ç½®
â”œâ”€â”€ rollup.config.js       # Rollupæ„å»ºé…ç½®
â”œâ”€â”€ vitest.config.ts       # Vitestæµ‹è¯•é…ç½®
â”œâ”€â”€ playwright.config.ts   # Playwright E2Eé…ç½®
â””â”€â”€ eslint.config.js       # ESLintä»£ç æ£€æŸ¥é…ç½®
```

## âš™ï¸ ç»Ÿä¸€é…ç½®æ–‡ä»¶

### 1. TypeScripté…ç½® (tsconfig.json)

- âœ… æ‰€æœ‰åŒ…éƒ½ç»§æ‰¿ `../../tools/build/tsconfig.base.json`
- âœ… ç»Ÿä¸€çš„ç¼–è¯‘é€‰é¡¹å’Œè·¯å¾„åˆ«å
- âœ… æ ‡å‡†åŒ–çš„åŒ…å«å’Œæ’é™¤è§„åˆ™

### 2. æ„å»ºé…ç½® (rollup.config.js)

- âœ… ä½¿ç”¨ `../../tools/build/rollup.config.base.js`
- âœ… æ¯ä¸ªåŒ…éƒ½æœ‰è‡ªå®šä¹‰çš„å¤–éƒ¨ä¾èµ–å’Œå…¨å±€å˜é‡é…ç½®
- âœ… æ”¯æŒå¤šæ ¼å¼è¾“å‡ºï¼šESMã€CommonJSã€UMD
- âœ… è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰æ–‡ä»¶

### 3. æµ‹è¯•é…ç½® (vitest.config.ts)

- âœ… ä½¿ç”¨ `../../tools/test/vitest.config.base.js`
- âœ… æ ¹æ®åŒ…ç‰¹æ€§é…ç½®æµ‹è¯•ç¯å¢ƒ (jsdom/node/happy-dom)
- âœ… ç»Ÿä¸€çš„è¦†ç›–ç‡é…ç½®å’Œé˜ˆå€¼

### 4. E2Eæµ‹è¯•é…ç½® (playwright.config.ts)

- âœ… ä½¿ç”¨ `../../tools/test/playwright.config.base.js`
- âœ… å¤šæµè§ˆå™¨æ”¯æŒ (Chromeã€Firefoxã€Safari)
- âœ… è‡ªå®šä¹‰çš„å¼€å‘æœåŠ¡å™¨é…ç½®

### 5. ä»£ç æ£€æŸ¥é…ç½® (eslint.config.js)

- âœ… ä½¿ç”¨ `@antfu/eslint-config` ç»Ÿä¸€è§„èŒƒ
- âœ… TypeScript å’Œ Vue æ”¯æŒ
- âœ… ç»Ÿä¸€çš„å¿½ç•¥è§„åˆ™

## ğŸ“œ ç»Ÿä¸€è„šæœ¬å‘½ä»¤

æ¯ä¸ªåŒ…ç°åœ¨éƒ½å…·æœ‰ä»¥ä¸‹æ ‡å‡†åŒ–çš„npm scriptsï¼š

### æ„å»ºç›¸å…³

- `build` - æ„å»ºåŒ…
- `build:watch` - ç›‘å¬æ¨¡å¼æ„å»º
- `dev` - å¼€å‘æ¨¡å¼ (ç­‰åŒäº build:watch)

### ä»£ç è´¨é‡

- `type-check` - TypeScriptç±»å‹æ£€æŸ¥
- `lint` - ä»£ç æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤
- `lint:check` - ä»…æ£€æŸ¥ä»£ç è§„èŒƒ

### æµ‹è¯•ç›¸å…³

- `test` - è¿è¡Œå•å…ƒæµ‹è¯•
- `test:ui` - æµ‹è¯•UIç•Œé¢
- `test:run` - è¿è¡Œæµ‹è¯• (CIæ¨¡å¼)
- `test:coverage` - ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- `test:e2e` - è¿è¡ŒE2Eæµ‹è¯•
- `test:e2e:ui` - E2Eæµ‹è¯•UIç•Œé¢

### æ–‡æ¡£ç›¸å…³

- `docs:dev` - å¼€å‘æ¨¡å¼å¯åŠ¨æ–‡æ¡£
- `docs:build` - æ„å»ºæ–‡æ¡£
- `docs:preview` - é¢„è§ˆæ„å»ºçš„æ–‡æ¡£

### ç»´æŠ¤ç›¸å…³

- `clean` - æ¸…ç†æ„å»ºäº§ç‰©
- `size-check` - æ£€æŸ¥åŒ…å¤§å°
- `prepublishOnly` - å‘å¸ƒå‰è‡ªåŠ¨æ‰§è¡Œ

### éƒ¨ç½²ç›¸å…³

- `deploy` - éƒ¨ç½²åŒ…åˆ°npm
- `deploy:beta` - éƒ¨ç½²betaç‰ˆæœ¬
- `deploy:alpha` - éƒ¨ç½²alphaç‰ˆæœ¬
- `deploy:dry-run` - å¹²è¿è¡Œæ¨¡å¼

## ğŸ”§ åŒ…ç‰¹å®šé…ç½®

æ¯ä¸ªåŒ…éƒ½æœ‰é’ˆå¯¹å…¶ç‰¹æ€§çš„è‡ªå®šä¹‰é…ç½®ï¼š

### engineåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue' }`
- æµ‹è¯•ç¯å¢ƒ: `jsdom`
- Vueæ”¯æŒ: âœ…

### coloråŒ…

- å¤–éƒ¨ä¾èµ–: `['vue', '@arco-design/color', 'chroma-js']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue', '@arco-design/color': 'ArcoColor', 'chroma-js': 'chroma' }`
- æµ‹è¯•ç¯å¢ƒ: `jsdom`
- Vueæ”¯æŒ: âœ…

### cryptoåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue', 'crypto-js', 'node-forge']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue', 'crypto-js': 'CryptoJS', 'node-forge': 'forge' }`
- æµ‹è¯•ç¯å¢ƒ: `node`
- Vueæ”¯æŒ: âœ…

### deviceåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue' }`
- æµ‹è¯•ç¯å¢ƒ: `happy-dom`
- Vueæ”¯æŒ: âœ…

### httpåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue', 'axios', 'alova']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue', 'axios': 'axios', 'alova': 'alova' }`
- æµ‹è¯•ç¯å¢ƒ: `node`
- Vueæ”¯æŒ: âœ…

### i18nåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue' }`
- æµ‹è¯•ç¯å¢ƒ: `jsdom`
- Vueæ”¯æŒ: âœ…

### routeråŒ…

- å¤–éƒ¨ä¾èµ–: `['vue']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue' }`
- æµ‹è¯•ç¯å¢ƒ: `happy-dom`
- Vueæ”¯æŒ: âœ…

### storeåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue', 'pinia']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue', 'pinia': 'Pinia' }`
- æµ‹è¯•ç¯å¢ƒ: `jsdom`
- Vueæ”¯æŒ: âœ…

### templateåŒ…

- å¤–éƒ¨ä¾èµ–: `['vue']`
- å…¨å±€å˜é‡: `{ 'vue': 'Vue' }`
- æµ‹è¯•ç¯å¢ƒ: `jsdom`
- Vueæ”¯æŒ: âœ…

## âœ… éªŒè¯ç»“æœ

### æ„å»ºéªŒè¯

- âœ… æ‰€æœ‰åŒ…éƒ½èƒ½æ­£å¸¸æ„å»º
- âœ… ç”Ÿæˆæ­£ç¡®çš„æ„å»ºäº§ç‰© (dist/, es/, lib/, types/)
- âœ… TypeScriptç±»å‹å®šä¹‰æ­£ç¡®ç”Ÿæˆ

### é…ç½®éªŒè¯

- âœ… æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½ä½¿ç”¨ç»Ÿä¸€çš„åŸºç¡€é…ç½®
- âœ… åŒ…ç‰¹å®šçš„é…ç½®æ­£ç¡®åº”ç”¨
- âœ… è„šæœ¬å‘½ä»¤æ ‡å‡†åŒ–å®Œæˆ

### ä¾èµ–éªŒè¯

- âœ… æ ¹ç›®å½•æ·»åŠ äº†æ‰€æœ‰å¿…è¦çš„æ„å»ºä¾èµ–
- âœ… åŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»æ­£ç¡®é…ç½®
- âœ… å¤–éƒ¨ä¾èµ–æ­£ç¡®å£°æ˜

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

1. **æµ‹è¯•éªŒè¯**ï¼š

   ```bash
   # éªŒè¯æ‰€æœ‰åŒ…çš„æ„å»º
   pnpm build

   # è¿è¡Œæ‰€æœ‰æµ‹è¯•
   pnpm test:run

   # éªŒè¯æ ‡å‡†åŒ–çŠ¶æ€
   node tools/verify-standardization.js
   ```

2. **éƒ¨ç½²æµ‹è¯•**ï¼š

   ```bash
   # æµ‹è¯•éƒ¨ç½²æµç¨‹ (å¹²è¿è¡Œ)
   pnpm deploy --dry-run

   # éªŒè¯éƒ¨ç½²çŠ¶æ€
   tsx tools/deploy/verify-deployment.ts
   ```

3. **æ–‡æ¡£æ›´æ–°**ï¼š
   - æ›´æ–°å„åŒ…çš„READMEæ–‡æ¡£
   - ç¡®ä¿ç¤ºä¾‹ä»£ç ä¸æ–°çš„æ„å»ºäº§ç‰©å…¼å®¹
   - æ›´æ–°APIæ–‡æ¡£

## ğŸ“Š æ ‡å‡†åŒ–æˆæœ

- âœ… **9ä¸ªåŒ…** å®Œå…¨æ ‡å‡†åŒ–
- âœ… **5ç§é…ç½®æ–‡ä»¶** ç»Ÿä¸€æ ¼å¼
- âœ… **24ä¸ªè„šæœ¬å‘½ä»¤** æ ‡å‡†åŒ–
- âœ… **4ç§æ„å»ºæ ¼å¼** æ”¯æŒ (ESM/CJS/UMD/Types)
- âœ… **3ç§æµ‹è¯•ç¯å¢ƒ** é…ç½® (jsdom/node/happy-dom)
- âœ… **å®Œæ•´çš„å·¥å…·é“¾** æ”¯æŒ

## ğŸ‰ æ€»ç»“

LDesigné¡¹ç›®çš„å·¥å…·é“¾å’ŒåŒ…ç»“æ„æ ‡å‡†åŒ–å·²ç»å®Œæˆï¼ç°åœ¨æ‰€æœ‰åŒ…éƒ½å…·æœ‰ï¼š

- ğŸ”§ **ç»Ÿä¸€çš„é…ç½®** - æ‰€æœ‰åŒ…ä½¿ç”¨ç›¸åŒçš„åŸºç¡€é…ç½®
- ğŸ“¦ **æ ‡å‡†åŒ–çš„æ„å»º** - æ”¯æŒå¤šç§æ ¼å¼çš„æ„å»ºäº§ç‰©
- ğŸ§ª **å®Œæ•´çš„æµ‹è¯•** - å•å…ƒæµ‹è¯•å’ŒE2Eæµ‹è¯•æ”¯æŒ
- ğŸš€ **è‡ªåŠ¨åŒ–éƒ¨ç½²** - å®Œæ•´çš„CI/CDæµç¨‹
- ğŸ“š **è¯¦ç»†çš„æ–‡æ¡£** - å®Œå–„çš„ä½¿ç”¨è¯´æ˜å’ŒAPIæ–‡æ¡£

é¡¹ç›®ç°åœ¨å…·å¤‡äº†ä¼ä¸šçº§çš„å¼€å‘ä½“éªŒå’Œç»´æŠ¤æ€§ï¼
