<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¿çº¿æ ·å¼æ¼”ç¤º - FlowChart</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
    }

    .description {
      color: #666;
      margin-bottom: 30px;
    }

    .controls {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .control-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 15px;
    }

    .control-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 8px 16px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      transition: all 0.3s;
    }

    .control-group label:hover {
      border-color: #2196f3;
      background: #e3f2fd;
    }

    .control-group input[type="radio"]:checked + span {
      color: #2196f3;
      font-weight: 600;
    }

    .control-group input[type="radio"] {
      display: none;
    }

    .control-group input[type="radio"]:checked ~ label {
      border-color: #2196f3;
      background: #e3f2fd;
    }

    .section-title {
      font-weight: 600;
      color: #333;
      margin-bottom: 10px;
      display: block;
    }

    #flowchart-container {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      height: 600px;
      overflow: hidden;
    }

    .legend {
      background: white;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .legend h3 {
      margin-bottom: 10px;
      color: #333;
    }

    .legend ul {
      list-style: none;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
    }

    .legend li {
      padding: 5px 0;
      color: #666;
    }

    .legend li strong {
      color: #2196f3;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ è¿çº¿æ ·å¼æ¼”ç¤º</h1>
    <p class="description">å±•ç¤ºä¸åŒçš„è¿çº¿ç±»å‹å’ŒåŠ¨ç”»æ•ˆæœ</p>

    <div class="controls">
      <div class="control-group">
        <span class="section-title">è¿çº¿ç±»å‹:</span>
        <label>
          <input type="radio" name="edgeType" value="bezier" checked>
          <span>è´å¡å°”æ›²çº¿</span>
        </label>
        <label>
          <input type="radio" name="edgeType" value="straight">
          <span>ç›´çº¿</span>
        </label>
        <label>
          <input type="radio" name="edgeType" value="smooth">
          <span>å¹³æ»‘æ›²çº¿</span>
        </label>
        <label>
          <input type="radio" name="edgeType" value="polyline">
          <span>æŠ˜çº¿</span>
        </label>
        <label>
          <input type="radio" name="edgeType" value="step">
          <span>é˜¶æ¢¯çº¿</span>
        </label>
        <label>
          <input type="radio" name="edgeType" value="orthogonal">
          <span>æ­£äº¤çº¿</span>
        </label>
      </div>

      <div class="control-group">
        <span class="section-title">åŠ¨ç”»æ•ˆæœ:</span>
        <label>
          <input type="radio" name="animation" value="none" checked>
          <span>æ— åŠ¨ç”»</span>
        </label>
        <label>
          <input type="radio" name="animation" value="flow">
          <span>æµåŠ¨æ•ˆæœ</span>
        </label>
        <label>
          <input type="radio" name="animation" value="dash">
          <span>è™šçº¿æµåŠ¨</span>
        </label>
        <label>
          <input type="radio" name="animation" value="pulse">
          <span>è„‰å†²æ•ˆæœ</span>
        </label>
        <label>
          <input type="radio" name="animation" value="glow">
          <span>å‘å…‰æ•ˆæœ</span>
        </label>
      </div>
    </div>

    <div id="flowchart-container"></div>

    <div class="legend">
      <h3>ğŸ“– è¿çº¿ç±»å‹è¯´æ˜</h3>
      <ul>
        <li><strong>è´å¡å°”æ›²çº¿:</strong> ç»å…¸çš„å¹³æ»‘æ›²çº¿ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯</li>
        <li><strong>ç›´çº¿:</strong> æœ€ç®€å•ç›´æ¥çš„è¿æ¥æ–¹å¼</li>
        <li><strong>å¹³æ»‘æ›²çº¿:</strong> æ°´å¹³æ–¹å‘ä¼˜åŒ–çš„å¹³æ»‘è¿çº¿</li>
        <li><strong>æŠ˜çº¿:</strong> å¸¦åœ†è§’çš„æŠ˜çº¿ï¼Œæ¸…æ™°æ˜äº†</li>
        <li><strong>é˜¶æ¢¯çº¿:</strong> é˜¶æ¢¯å¼è¿æ¥ï¼Œé€‚åˆå±‚çº§å…³ç³»</li>
        <li><strong>æ­£äº¤çº¿:</strong> ç›´è§’æŠ˜çº¿ï¼Œé€‚åˆè§„æ•´çš„å¸ƒå±€</li>
      </ul>
    </div>
  </div>

  <script type="module">
    import { FlowChart, NodeType, EdgeType, EdgeAnimationType } from '../dist/flowchart.esm.js';

    let flowChart;
    let currentEdgeType = 'bezier';
    let currentAnimation = 'none';

    // åˆå§‹åŒ–æµç¨‹å›¾
    function initFlowChart() {
      const container = document.getElementById('flowchart-container');
      container.innerHTML = '';

      flowChart = new FlowChart({
        container: '#flowchart-container',
        autoLayout: false,
        enableZoom: true,
        enablePan: true
      });

      // åˆ›å»ºèŠ‚ç‚¹
      const nodes = [
        {
          id: 'start',
          type: NodeType.START,
          label: 'å¼€å§‹',
          position: { x: -300, y: -200 }
        },
        {
          id: 'process1',
          type: NodeType.PROCESS,
          label: 'æµç¨‹ 1',
          position: { x: -100, y: -200 }
        },
        {
          id: 'condition',
          type: NodeType.CONDITION,
          label: 'æ¡ä»¶åˆ¤æ–­',
          position: { x: 100, y: -200 }
        },
        {
          id: 'process2',
          type: NodeType.APPROVAL,
          label: 'å®¡æ‰¹',
          position: { x: 300, y: -100 }
        },
        {
          id: 'process3',
          type: NodeType.PROCESS,
          label: 'æµç¨‹ 2',
          position: { x: 300, y: -300 }
        },
        {
          id: 'merge',
          type: NodeType.MERGE,
          label: 'åˆå¹¶',
          position: { x: 500, y: -200 }
        },
        {
          id: 'end',
          type: NodeType.END,
          label: 'ç»“æŸ',
          position: { x: 700, y: -200 }
        }
      ];

      // åˆ›å»ºè¾¹
      const edges = [
        {
          id: 'e1',
          source: 'start',
          target: 'process1',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#2196f3',
            strokeWidth: 2
          }
        },
        {
          id: 'e2',
          source: 'process1',
          target: 'condition',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#9c27b0',
            strokeWidth: 2
          }
        },
        {
          id: 'e3',
          source: 'condition',
          target: 'process2',
          label: 'é€šè¿‡',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#4caf50',
            strokeWidth: 2
          }
        },
        {
          id: 'e4',
          source: 'condition',
          target: 'process3',
          label: 'æ‹’ç»',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#f44336',
            strokeWidth: 2
          }
        },
        {
          id: 'e5',
          source: 'process2',
          target: 'merge',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#ff9800',
            strokeWidth: 2
          }
        },
        {
          id: 'e6',
          source: 'process3',
          target: 'merge',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#ff9800',
            strokeWidth: 2
          }
        },
        {
          id: 'e7',
          source: 'merge',
          target: 'end',
          style: {
            type: currentEdgeType,
            animated: currentAnimation !== 'none',
            animationType: currentAnimation,
            strokeColor: '#607d8b',
            strokeWidth: 2
          }
        }
      ];

      flowChart.load(nodes, edges);
    }

    // ç›‘å¬è¿çº¿ç±»å‹å˜åŒ–
    document.querySelectorAll('input[name="edgeType"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        currentEdgeType = e.target.value;
        initFlowChart();
      });
    });

    // ç›‘å¬åŠ¨ç”»æ•ˆæœå˜åŒ–
    document.querySelectorAll('input[name="animation"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        currentAnimation = e.target.value;
        initFlowChart();
      });
    });

    // åˆå§‹åŒ–
    initFlowChart();
  </script>
</body>
</html>










