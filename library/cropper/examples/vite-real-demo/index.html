<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>真实库演示 - @ldesign/cropper</title>
    <link rel="icon" type="image/svg+xml" href="/vite.svg">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div id="app">
        <!-- 头部 -->
        <header class="header">
            <div class="container">
                <h1>🖼️ 图片裁剪器 - 真实库演示</h1>
                <p>使用 src 中的真实 Cropper 类</p>
            </div>
        </header>

        <!-- 主要内容 -->
        <main class="main">
            <div class="container">
                <!-- 状态提示 -->
                <div id="status" class="status info">
                    📋 请选择一张图片开始裁剪
                </div>

                <!-- 文件上传 -->
                <section class="upload-section">
                    <h2>📁 选择图片</h2>
                    <div class="upload-area">
                        <input type="file" id="imageInput" accept="image/*" class="file-input">
                        <label for="imageInput" class="upload-label">
                            <div class="upload-content">
                                <span class="upload-icon">📷</span>
                                <span class="upload-text">点击选择图片或拖拽到此处</span>
                                <span class="upload-hint">支持 JPG、PNG、WebP 格式</span>
                            </div>
                        </label>
                        <div class="sample-buttons">
                            <button id="loadSample" class="sample-btn">加载示例图片</button>
                        </div>
                    </div>
                </section>

                <!-- 裁剪器 -->
                <section class="cropper-section">
                    <h2>✂️ 图片裁剪</h2>
                    <div id="cropperContainer" class="cropper-container">
                        <div class="cropper-placeholder">
                            <div class="placeholder-content">
                                <span class="placeholder-icon">🖼️</span>
                                <h3>图片裁剪器</h3>
                                <p>选择图片后将在此处显示裁剪界面</p>
                                <p class="tech-note">使用真实的 Cropper 类</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 控制面板 -->
                <section class="controls-section">
                    <h2>🎛️ 控制面板</h2>
                    
                    <!-- 基本设置 -->
                    <div class="control-group">
                        <h3>基本设置</h3>
                        <div class="control-row">
                            <label for="shapeSelect">裁剪形状:</label>
                            <select id="shapeSelect" class="select-input">
                                <option value="rectangle">矩形</option>
                                <option value="circle">圆形</option>
                                <option value="ellipse">椭圆</option>
                            </select>
                        </div>
                        <div class="control-row">
                            <label for="aspectRatioSelect">宽高比:</label>
                            <select id="aspectRatioSelect" class="select-input">
                                <option value="0">自由比例</option>
                                <option value="1">1:1 (正方形)</option>
                                <option value="1.333">4:3</option>
                                <option value="1.777">16:9</option>
                            </select>
                        </div>
                    </div>

                    <!-- 变换操作 -->
                    <div class="control-group">
                        <h3>变换操作</h3>
                        <div class="button-grid">
                            <button id="rotateLeftBtn" class="control-btn" disabled>
                                <span class="btn-icon">↺</span>
                                <span class="btn-text">左转 90°</span>
                            </button>
                            <button id="rotateRightBtn" class="control-btn" disabled>
                                <span class="btn-icon">↻</span>
                                <span class="btn-text">右转 90°</span>
                            </button>
                            <button id="flipHBtn" class="control-btn" disabled>
                                <span class="btn-icon">⟷</span>
                                <span class="btn-text">水平翻转</span>
                            </button>
                            <button id="flipVBtn" class="control-btn" disabled>
                                <span class="btn-icon">⟷</span>
                                <span class="btn-text">垂直翻转</span>
                            </button>
                        </div>
                    </div>

                    <!-- 缩放控制 -->
                    <div class="control-group">
                        <h3>缩放控制</h3>
                        <div class="zoom-controls">
                            <button id="zoomOutBtn" class="zoom-btn" disabled>🔍-</button>
                            <div class="zoom-info">
                                <span id="zoomValue">100%</span>
                                <input type="range" id="zoomSlider" min="10" max="500" value="100" step="10" disabled>
                            </div>
                            <button id="zoomInBtn" class="zoom-btn" disabled>🔍+</button>
                        </div>
                        <button id="resetBtn" class="control-btn reset-btn" disabled>
                            <span class="btn-icon">🔄</span>
                            <span class="btn-text">重置</span>
                        </button>
                    </div>

                    <!-- 导出功能 -->
                    <div class="control-group">
                        <h3>导出功能</h3>
                        <div class="export-settings">
                            <div class="setting-row">
                                <label for="exportFormat">格式:</label>
                                <select id="exportFormat" class="select-input">
                                    <option value="png">PNG</option>
                                    <option value="jpeg">JPEG</option>
                                    <option value="webp">WebP</option>
                                </select>
                            </div>
                            <div class="setting-row">
                                <label for="exportQuality">质量:</label>
                                <input type="range" id="exportQuality" min="0.1" max="1" value="0.9" step="0.1">
                                <span id="qualityValue">90%</span>
                            </div>
                        </div>
                        <div class="export-buttons">
                            <button id="previewBtn" class="control-btn preview-btn" disabled>
                                <span class="btn-icon">👁️</span>
                                <span class="btn-text">预览</span>
                            </button>
                            <button id="downloadBtn" class="control-btn download-btn" disabled>
                                <span class="btn-icon">📥</span>
                                <span class="btn-text">下载</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- 信息面板 -->
                <section class="info-section">
                    <h2>📊 裁剪信息</h2>
                    <div class="info-grid">
                        <div class="info-card">
                            <h4>原图信息</h4>
                            <div class="info-item">
                                <span>尺寸:</span>
                                <strong id="originalSize">-</strong>
                            </div>
                            <div class="info-item">
                                <span>格式:</span>
                                <strong id="originalFormat">-</strong>
                            </div>
                        </div>
                        <div class="info-card">
                            <h4>裁剪区域</h4>
                            <div class="info-item">
                                <span>位置:</span>
                                <strong id="cropPosition">-</strong>
                            </div>
                            <div class="info-item">
                                <span>尺寸:</span>
                                <strong id="cropSize">-</strong>
                            </div>
                        </div>
                        <div class="info-card">
                            <h4>变换状态</h4>
                            <div class="info-item">
                                <span>缩放:</span>
                                <strong id="scaleInfo">100%</strong>
                            </div>
                            <div class="info-item">
                                <span>旋转:</span>
                                <strong id="rotationInfo">0°</strong>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 预览区域 -->
                <section class="preview-section">
                    <h2>👁️ 实时预览</h2>
                    <div class="preview-grid">
                        <div class="preview-item">
                            <h4>小尺寸 (100x100)</h4>
                            <div id="smallPreview" class="preview-container small"></div>
                        </div>
                        <div class="preview-item">
                            <h4>中等尺寸 (200x200)</h4>
                            <div id="mediumPreview" class="preview-container medium"></div>
                        </div>
                        <div class="preview-item">
                            <h4>大尺寸 (300x300)</h4>
                            <div id="largePreview" class="preview-container large"></div>
                        </div>
                    </div>
                </section>

                <!-- 技术信息 -->
                <section class="tech-section">
                    <h2>🔧 技术信息</h2>
                    <div class="tech-info">
                        <div class="tech-item">
                            <strong>库版本:</strong>
                            <span id="libVersion">@ldesign/cropper v1.0.0</span>
                        </div>
                        <div class="tech-item">
                            <strong>构建工具:</strong>
                            <span>Vite + JavaScript</span>
                        </div>
                        <div class="tech-item">
                            <strong>渲染引擎:</strong>
                            <span>Canvas API</span>
                        </div>
                        <div class="tech-item">
                            <strong>事件系统:</strong>
                            <span id="eventCount">0 个监听器</span>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- 底部 -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2024 LDesign Team. 使用真实的 @ldesign/cropper 库</p>
                <p>
                    <a href="https://github.com/ldesign/cropper" target="_blank">GitHub</a> |
                    <a href="../../README.md" target="_blank">文档</a> |
                    <a href="../../src" target="_blank">源码</a>
                </p>
            </div>
        </footer>
    </div>

    <!-- 预览模态框 -->
    <div id="previewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>裁剪预览</h3>
                <button id="closeModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <canvas id="previewCanvas" class="preview-canvas"></canvas>
                <div class="preview-info">
                    <p>格式: <span id="previewFormat">PNG</span></p>
                    <p>质量: <span id="previewQuality">90%</span></p>
                    <p>尺寸: <span id="previewSize">-</span></p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="downloadFromModal" class="control-btn download-btn">
                    <span class="btn-icon">📥</span>
                    <span class="btn-text">下载此图片</span>
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="./main.js"></script>
</body>
</html>
