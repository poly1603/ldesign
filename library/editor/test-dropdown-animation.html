<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>下拉框动画测试 - LDesign Editor</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: #f5f5f5;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }
    
    h1 {
      margin: 0 0 20px 0;
      color: #333;
      font-size: 24px;
    }
    
    .editor-container {
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      min-height: 400px;
    }
    
    /* 加载样式 */
    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 400px;
      color: #666;
    }
    
    .demo-section {
      margin: 30px 0;
    }
    
    .demo-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #333;
    }
    
    .demo-description {
      color: #666;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .test-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    
    .test-button {
      padding: 8px 16px;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }
    
    .test-button:hover {
      background: #2563eb;
    }
    
    .highlight-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      border-radius: 8px;
      color: white;
      margin: 20px 0;
    }
    
    .highlight-box h3 {
      margin: 0 0 10px 0;
      font-size: 20px;
    }
    
    .highlight-box ul {
      margin: 10px 0;
      padding-left: 20px;
    }
    
    .highlight-box li {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎨 LDesign Editor - 下拉框动画测试</h1>
    
    <div class="highlight-box">
      <h3>✨ 动画特性</h3>
      <ul>
        <li>📍 <strong>打开动画</strong>：渐入 + 缩放（0.2秒，cubic-bezier缓动）</li>
        <li>📍 <strong>关闭动画</strong>：渐出 + 缩放（0.15秒，快速响应）</li>
        <li>📍 <strong>悬停效果</strong>：选项右移2px，增强交互反馈</li>
        <li>📍 <strong>ESC键支持</strong>：按ESC键可快速关闭下拉框</li>
        <li>📍 <strong>点击外部关闭</strong>：点击下拉框外部区域自动关闭</li>
      </ul>
    </div>
    
    <div class="demo-section">
      <div class="demo-title">📝 富文本编辑器</div>
      <div class="demo-description">
        使用工具栏上的下拉框按钮，体验统一的动画效果。包括标题级别、对齐方式、字体大小、字体选择等下拉框。
      </div>
      <div class="editor-container" id="editor">
        <div class="loading">正在加载编辑器...</div>
      </div>
    </div>
    
    <div class="demo-section">
      <div class="demo-title">🧪 独立测试按钮</div>
      <div class="demo-description">
        点击下面的按钮，快速测试不同类型的下拉框动画效果。
      </div>
      <div class="test-buttons">
        <button class="test-button" id="test-heading">标题级别</button>
        <button class="test-button" id="test-align">对齐方式</button>
        <button class="test-button" id="test-fontsize">字体大小</button>
        <button class="test-button" id="test-fontfamily">字体选择</button>
      </div>
    </div>
  </div>

  <script type="module">
    import { LDesignEditor } from './src/index.ts'
    
    // 初始化编辑器
    const container = document.getElementById('editor')
    container.innerHTML = '' // 清除加载提示
    
    const editor = new LDesignEditor(container, {
      placeholder: '开始输入内容，或使用工具栏测试下拉框动画...',
      content: `
        <h1>欢迎使用 LDesign Editor！</h1>
        <p>这是一个功能强大的富文本编辑器，支持：</p>
        <ul>
          <li><strong>文本格式化</strong>：加粗、斜体、下划线、删除线等</li>
          <li><strong>标题级别</strong>：H1-H6 标题</li>
          <li><strong>列表</strong>：有序列表、无序列表</li>
          <li><strong>对齐方式</strong>：左对齐、居中、右对齐、两端对齐</li>
          <li><strong>字体设置</strong>：字体大小、字体家族</li>
          <li><strong>更多功能</strong>：链接、引用、对齐等</li>
        </ul>
        <p>点击工具栏上的下拉框按钮，体验流畅的动画效果！</p>
      `
    })
    
    // 添加独立测试按钮的功能
    import { showDropdown } from './src/ui/Dropdown.ts'
    
    // 测试标题级别下拉框
    document.getElementById('test-heading').addEventListener('click', (e) => {
      showDropdown(e.target, {
        options: [
          { label: '正文', value: 'p' },
          { label: '标题 1', value: 'h1' },
          { label: '标题 2', value: 'h2' },
          { label: '标题 3', value: 'h3' },
          { label: '标题 4', value: 'h4' },
          { label: '标题 5', value: 'h5' },
          { label: '标题 6', value: 'h6' }
        ],
        onSelect: (value) => {
          console.log('选中标题级别:', value)
        }
      })
    })
    
    // 测试对齐方式下拉框
    document.getElementById('test-align').addEventListener('click', (e) => {
      showDropdown(e.target, {
        options: [
          { label: '左对齐', value: 'left' },
          { label: '居中', value: 'center' },
          { label: '右对齐', value: 'right' },
          { label: '两端对齐', value: 'justify' }
        ],
        onSelect: (value) => {
          console.log('选中对齐方式:', value)
        }
      })
    })
    
    // 测试字体大小下拉框
    document.getElementById('test-fontsize').addEventListener('click', (e) => {
      showDropdown(e.target, {
        options: [
          { label: '12px', value: '12px' },
          { label: '14px', value: '14px' },
          { label: '16px', value: '16px' },
          { label: '18px', value: '18px' },
          { label: '20px', value: '20px' },
          { label: '24px', value: '24px' },
          { label: '28px', value: '28px' },
          { label: '32px', value: '32px' },
          { label: '36px', value: '36px' }
        ],
        onSelect: (value) => {
          console.log('选中字体大小:', value)
        }
      })
    })
    
    // 测试字体家族下拉框
    document.getElementById('test-fontfamily').addEventListener('click', (e) => {
      showDropdown(e.target, {
        options: [
          { label: '默认', value: 'inherit' },
          { label: '宋体', value: '宋体, SimSun' },
          { label: '黑体', value: '黑体, SimHei' },
          { label: '微软雅黑', value: '微软雅黑, Microsoft YaHei' },
          { label: '楷体', value: '楷体, KaiTi' },
          { label: 'Arial', value: 'Arial, sans-serif' },
          { label: 'Times New Roman', value: 'Times New Roman, serif' },
          { label: 'Courier New', value: 'Courier New, monospace' },
          { label: 'Georgia', value: 'Georgia, serif' }
        ],
        onSelect: (value) => {
          console.log('选中字体:', value)
        }
      })
    })
    
    console.log('✅ 编辑器初始化完成')
    console.log('📍 点击工具栏按钮或测试按钮查看动画效果')
  </script>
</body>
</html>