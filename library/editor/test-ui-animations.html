<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UI ç»„ä»¶åŠ¨ç”»æµ‹è¯•</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    h1 {
      font-size: 32px;
      margin-bottom: 12px;
      color: #1a1a1a;
    }

    .subtitle {
      font-size: 16px;
      color: #666;
      margin-bottom: 40px;
    }

    .test-section {
      margin-bottom: 48px;
      padding-bottom: 48px;
      border-bottom: 2px solid #f0f0f0;
    }

    .test-section:last-child {
      border-bottom: none;
    }

    .test-section h2 {
      font-size: 24px;
      margin-bottom: 8px;
      color: #333;
    }

    .test-section p {
      color: #666;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .button-group {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .test-button {
      padding: 12px 24px;
      font-size: 15px;
      font-weight: 500;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .test-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .test-button:active {
      transform: translateY(0);
    }

    .test-button.secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .test-button.secondary:hover {
      background: #f0f4ff;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .demo-text {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      margin-top: 20px;
      color: #555;
      line-height: 1.8;
    }

    .status {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 500;
      margin-left: 12px;
    }

    .status.success {
      background: #d4edda;
      color: #155724;
    }

    .status.info {
      background: #d1ecf1;
      color: #0c5460;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ UI ç»„ä»¶åŠ¨ç”»æµ‹è¯•</h1>
    <p class="subtitle">æµ‹è¯•å¢å¼ºå‹ UI ç»„ä»¶çš„æ‰“å¼€å’Œå…³é—­åŠ¨ç”»æ•ˆæœ</p>

    <!-- Dropdown Menu Test -->
    <div class="test-section">
      <h2>1. Dropdown Menu <span class="status info">ä¸‹æ‹‰èœå•</span></h2>
      <p>æµ‹è¯•ä¸‹æ‹‰èœå•çš„æµç•…æ·¡å…¥æ·¡å‡ºå’Œæ»‘åŠ¨åŠ¨ç”»ã€‚ç‚¹å‡»æŒ‰é’®æ‰“å¼€ä¸‹æ‹‰èœå•ï¼Œè§‚å¯Ÿæ‰“å¼€å’Œå…³é—­æ—¶çš„è¿‡æ¸¡æ•ˆæœã€‚</p>
      <div class="button-group">
        <button class="test-button" id="dropdownBtn">æ‰“å¼€ä¸‹æ‹‰èœå•</button>
        <button class="test-button secondary" id="dropdownSearchBtn">å¸¦æœç´¢çš„ä¸‹æ‹‰èœå•</button>
      </div>
    </div>

    <!-- Dialog Modal Test -->
    <div class="test-section">
      <h2>2. Dialog Modal <span class="status info">å¯¹è¯æ¡†</span></h2>
      <p>æµ‹è¯•æ¨¡æ€å¯¹è¯æ¡†çš„ç¼©æ”¾å’Œæ·¡å…¥æ·¡å‡ºåŠ¨ç”»ã€‚æ³¨æ„èƒŒæ™¯é®ç½©å’Œå¯¹è¯æ¡†å†…å®¹çš„åŒæ­¥åŠ¨ç”»æ•ˆæœã€‚</p>
      <div class="button-group">
        <button class="test-button" id="dialogBtn">æ‰“å¼€ç®€å•å¯¹è¯æ¡†</button>
        <button class="test-button secondary" id="dialogFormBtn">æ‰“å¼€è¡¨å•å¯¹è¯æ¡†</button>
      </div>
    </div>

    <!-- Popover Test -->
    <div class="test-section">
      <h2>3. Popover <span class="status info">å¼¹å‡ºæç¤º</span></h2>
      <p>æµ‹è¯• Popover çš„ç¼©æ”¾åŠ¨ç”»å’Œå®šä½æ•ˆæœã€‚æ”¯æŒå¤šç§è§¦å‘æ–¹å¼å’Œä½ç½®ã€‚</p>
      <div class="button-group">
        <button class="test-button" id="popoverClickBtn">ç‚¹å‡»è§¦å‘ Popover</button>
        <button class="test-button secondary" id="popoverHoverBtn">æ‚¬åœè§¦å‘ Popover</button>
        <button class="test-button" id="popoverBottomBtn">åº•éƒ¨ Popover</button>
      </div>
    </div>

    <!-- Emoji Picker Test -->
    <div class="test-section">
      <h2>4. Emoji Picker <span class="status success">å·²å¢å¼º</span></h2>
      <p>æµ‹è¯•ä½¿ç”¨ Popover é‡æ„åçš„ Emoji é€‰æ‹©å™¨ã€‚åº”è¯¥å…·æœ‰æµç•…çš„æ‰“å¼€/å…³é—­åŠ¨ç”»ã€‚</p>
      <div class="button-group">
        <button class="test-button" id="emojiBtn">ğŸ˜€ æ‰“å¼€ Emoji é€‰æ‹©å™¨</button>
      </div>
      <div class="demo-text" id="emojiResult">
        é€‰ä¸­çš„ Emoji å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
      </div>
    </div>
  </div>

  <script type="module">
    import { DropdownMenu } from './src/ui/enhanced/DropdownMenu.js';
    import { DialogModal } from './src/ui/enhanced/DialogModal.js';
    import { Popover } from './src/ui/enhanced/Popover.js';
    import { EmojiPicker } from './src/ui/EmojiPickerEnhanced.js';

    // Dropdown Menu Tests
    const dropdownBtn = document.getElementById('dropdownBtn');
    const dropdown = new DropdownMenu({
      trigger: dropdownBtn,
      items: [
        { id: '1', label: 'é€‰é¡¹ 1', icon: 'ğŸ“„' },
        { id: '2', label: 'é€‰é¡¹ 2', icon: 'âœï¸' },
        { id: '3', label: 'é€‰é¡¹ 3', icon: 'ğŸ—‘ï¸', disabled: true },
        { id: 'divider1', divider: true },
        { id: '4', label: 'åµŒå¥—èœå•', icon: 'ğŸ“', children: [
          { id: '4-1', label: 'å­é€‰é¡¹ 1' },
          { id: '4-2', label: 'å­é€‰é¡¹ 2' }
        ]},
        { id: '5', label: 'é€€å‡º', icon: 'ğŸšª', shortcut: 'Ctrl+Q' }
      ],
      onSelect: (item) => {
        console.log('Selected:', item.label);
      }
    });

    const dropdownSearchBtn = document.getElementById('dropdownSearchBtn');
    const dropdownSearch = new DropdownMenu({
      trigger: dropdownSearchBtn,
      searchable: true,
      items: Array.from({ length: 20 }, (_, i) => ({
        id: `item-${i}`,
        label: `æœç´¢é¡¹ ${i + 1}`,
        icon: 'ğŸ”'
      })),
      maxHeight: 300,
      onSelect: (item) => {
        console.log('Selected:', item.label);
      }
    });

    // Dialog Modal Tests
    const dialogBtn = document.getElementById('dialogBtn');
    dialogBtn.addEventListener('click', () => {
      const dialog = new DialogModal({
        title: 'ç®€å•å¯¹è¯æ¡†',
        content: 'è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è¯æ¡†ç¤ºä¾‹ã€‚è§‚å¯Ÿæ‰“å¼€å’Œå…³é—­æ—¶çš„åŠ¨ç”»æ•ˆæœã€‚èƒŒæ™¯é®ç½©åº”è¯¥æ·¡å…¥æ·¡å‡ºï¼Œå¯¹è¯æ¡†å†…å®¹åº”è¯¥æœ‰ç¼©æ”¾æ•ˆæœã€‚',
        buttons: [
          { id: 'cancel', label: 'å–æ¶ˆ', type: 'secondary' },
          { id: 'confirm', label: 'ç¡®å®š', type: 'primary', onClick: (modal) => modal.close() }
        ]
      });
      dialog.open();
    });

    const dialogFormBtn = document.getElementById('dialogFormBtn');
    dialogFormBtn.addEventListener('click', () => {
      const formDialog = new DialogModal({
        title: 'è¡¨å•å¯¹è¯æ¡†',
        fields: [
          { id: 'name', type: 'text', label: 'å§“å', placeholder: 'è¯·è¾“å…¥å§“å', required: true },
          { id: 'email', type: 'email', label: 'é‚®ç®±', placeholder: 'example@email.com', required: true },
          { id: 'message', type: 'textarea', label: 'ç•™è¨€', placeholder: 'è¯·è¾“å…¥ç•™è¨€å†…å®¹' },
          { id: 'subscribe', type: 'checkbox', label: 'è®¢é˜…', placeholder: 'æ¥æ”¶æ›´æ–°é€šçŸ¥' }
        ],
        onSubmit: async (data) => {
          console.log('Form submitted:', data);
          alert('è¡¨å•æäº¤æˆåŠŸï¼\n' + JSON.stringify(data, null, 2));
        }
      });
      formDialog.open();
    });

    // Popover Tests
    const popoverClickBtn = document.getElementById('popoverClickBtn');
    const popoverClick = new Popover({
      trigger: popoverClickBtn,
      content: '<strong>ç‚¹å‡»è§¦å‘çš„ Popover</strong><br>è¿™æ˜¯é€šè¿‡ç‚¹å‡»è§¦å‘æ˜¾ç¤ºçš„æç¤ºå†…å®¹ã€‚',
      placement: 'top',
      triggerType: 'click',
      arrow: true
    });

    const popoverHoverBtn = document.getElementById('popoverHoverBtn');
    const popoverHover = new Popover({
      trigger: popoverHoverBtn,
      content: '<strong>æ‚¬åœè§¦å‘çš„ Popover</strong><br>é¼ æ ‡æ‚¬åœå³å¯æ˜¾ç¤ºã€‚',
      placement: 'top',
      triggerType: 'hover',
      delay: 200,
      hideDelay: 100,
      arrow: true,
      interactive: true
    });

    const popoverBottomBtn = document.getElementById('popoverBottomBtn');
    const popoverBottom = new Popover({
      trigger: popoverBottomBtn,
      content: '<strong>åº•éƒ¨ Popover</strong><br>è¿™ä¸ª Popover æ˜¾ç¤ºåœ¨æŒ‰é’®ä¸‹æ–¹ã€‚',
      placement: 'bottom',
      triggerType: 'click',
      arrow: true
    });

    // Emoji Picker Test
    const emojiBtn = document.getElementById('emojiBtn');
    const emojiResult = document.getElementById('emojiResult');
    
    emojiBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const picker = new EmojiPicker({
        onSelect: (emoji) => {
          emojiResult.textContent = `ä½ é€‰æ‹©äº†: ${emoji}`;
          console.log('Selected emoji:', emoji);
        }
      });
      picker.show(emojiBtn);
    });

    console.log('ğŸ¨ UI åŠ¨ç”»æµ‹è¯•é¡µé¢å·²åŠ è½½');
    console.log('æµ‹è¯•æ‰€æœ‰ç»„ä»¶çš„æ‰“å¼€/å…³é—­åŠ¨ç”»æ•ˆæœ');
  </script>
</body>
</html>
