<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½æµ‹è¯• - LDesign Editor</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, -apple-system, BlinkMacSystemFont, 'Microsoft YaHei', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }
    
    .header {
      background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
      color: white;
      padding: 30px;
      text-align: center;
    }
    
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      font-weight: 600;
    }
    
    .subtitle {
      font-size: 1.1rem;
      opacity: 0.95;
      margin-bottom: 20px;
    }
    
    .features {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      margin-top: 20px;
    }
    
    .feature-badge {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .toolbar {
      background: #f8fafc;
      padding: 20px;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }
    
    .btn-group {
      display: flex;
      gap: 8px;
      align-items: center;
      padding: 0 10px;
      border-right: 1px solid #cbd5e1;
    }
    
    .btn-group:last-child {
      border-right: none;
    }
    
    .btn-group-label {
      font-size: 0.85rem;
      color: #64748b;
      font-weight: 500;
      margin-right: 5px;
    }
    
    button {
      background: white;
      border: 1px solid #cbd5e1;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 6px;
      color: #475569;
      font-weight: 500;
    }
    
    button:hover {
      background: #f1f5f9;
      border-color: #94a3b8;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    button:active {
      transform: translateY(0);
    }
    
    button.primary {
      background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
      color: white;
      border: none;
    }
    
    button.primary:hover {
      background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
    }
    
    .editor-wrapper {
      padding: 30px;
      min-height: 500px;
    }
    
    #editor {
      min-height: 400px;
      max-height: 600px;
      overflow-y: auto;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      font-size: 16px;
      line-height: 1.6;
      background: white;
      transition: border-color 0.3s;
    }
    
    #editor:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .help-panel {
      background: #f8fafc;
      padding: 20px 30px;
      border-top: 1px solid #e2e8f0;
    }
    
    .help-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .help-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .help-section {
      background: white;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #e2e8f0;
    }
    
    .help-section h3 {
      font-size: 0.95rem;
      color: #3b82f6;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .help-list {
      list-style: none;
      font-size: 0.9rem;
      color: #64748b;
      line-height: 1.8;
    }
    
    .help-list li {
      padding-left: 20px;
      position: relative;
    }
    
    .help-list li:before {
      content: 'âœ“';
      position: absolute;
      left: 0;
      color: #10b981;
      font-weight: bold;
    }
    
    .shortcut {
      background: #f1f5f9;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.85rem;
      color: #475569;
      margin-left: 5px;
    }
    
    .status-bar {
      background: #1e293b;
      color: white;
      padding: 10px 30px;
      font-size: 0.85rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .status-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .status-indicator {
      width: 8px;
      height: 8px;
      background: #10b981;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* ç¡®ä¿å›¾ç‰‡ç›¸å…³çš„æ ·å¼æ­£ç¡® */
    #editor img {
      max-width: 100%;
      cursor: pointer;
      display: inline-block;
      margin: 10px;
    }

    /* ç§»é™¤æ‚¬åœæ•ˆæœ */
    #editor img:hover {
      /* ä¸æ·»åŠ ä»»ä½•æ‚¬åœæ ·å¼ */
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ–¼ï¸ å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½æµ‹è¯•</h1>
      <p class="subtitle">ç‚¹å‡»å›¾ç‰‡è°ƒæ•´å¤§å° â€¢ å³é”®æ‰“å¼€åŠŸèƒ½èœå• â€¢ åŒå‡»ç¼–è¾‘å±æ€§</p>
      <div class="features">
        <div class="feature-badge">
          <span>ğŸ“</span> æ‹–åŠ¨è°ƒæ•´å¤§å°
        </div>
        <div class="feature-badge">
          <span>ğŸ¨</span> æ»¤é•œæ•ˆæœ
        </div>
        <div class="feature-badge">
          <span>ğŸ“</span> æ–‡å­—ç¯ç»•
        </div>
        <div class="feature-badge">
          <span>ğŸ–¼ï¸</span> è¾¹æ¡†æ ·å¼
        </div>
        <div class="feature-badge">
          <span>ğŸŒ‘</span> é˜´å½±æ•ˆæœ
        </div>
        <div class="feature-badge">
          <span>âš™ï¸</span> å›¾ç‰‡å±æ€§
        </div>
      </div>
    </div>
    
    <div class="toolbar">
      <div class="btn-group">
        <span class="btn-group-label">æ’å…¥åª’ä½“:</span>
        <button onclick="insertImage()">
          <span>ğŸ–¼ï¸</span> æ’å…¥å›¾ç‰‡
        </button>
        <button onclick="insertVideo()">
          <span>ğŸ¬</span> æ’å…¥è§†é¢‘
        </button>
        <button onclick="insertAudio()">
          <span>ğŸµ</span> æ’å…¥éŸ³é¢‘
        </button>
      </div>
      
      <div class="btn-group">
        <span class="btn-group-label">ç¤ºä¾‹å›¾ç‰‡:</span>
        <button onclick="insertSampleImage('nature')">
          <span>ğŸ”ï¸</span> é£æ™¯
        </button>
        <button onclick="insertSampleImage('tech')">
          <span>ğŸ’»</span> ç§‘æŠ€
        </button>
        <button onclick="insertSampleImage('abstract')">
          <span>ğŸ¨</span> æŠ½è±¡
        </button>
      </div>
      
      <div class="btn-group">
        <span class="btn-group-label">å¿«é€Ÿæ“ä½œ:</span>
        <button onclick="clearEditor()">
          <span>ğŸ—‘ï¸</span> æ¸…ç©º
        </button>
        <button onclick="addSampleContent()">
          <span>ğŸ“„</span> ç¤ºä¾‹å†…å®¹
        </button>
      </div>
    </div>
    
    <div class="editor-wrapper">
      <div id="editor" contenteditable="true">
        <p>æ¬¢è¿ä½¿ç”¨å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½ï¼è¯·ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ’å…¥å›¾ç‰‡ï¼Œæˆ–ç›´æ¥ç²˜è´´å›¾ç‰‡åˆ°ç¼–è¾‘å™¨ä¸­ã€‚</p>
        <p>æ’å…¥å›¾ç‰‡åï¼Œæ‚¨å¯ä»¥ï¼š</p>
        <ul>
          <li><strong>å•å‡»å›¾ç‰‡</strong> - æ˜¾ç¤ºè°ƒæ•´å¤§å°æ‰‹æŸ„ï¼Œæ‹–åŠ¨è§’ç‚¹æˆ–è¾¹ç¼˜è°ƒæ•´å°ºå¯¸</li>
          <li><strong>å³é”®ç‚¹å‡»å›¾ç‰‡</strong> - æ‰“å¼€åŠŸèƒ½èœå•ï¼Œè®¾ç½®æ»¤é•œã€æ–‡å­—ç¯ç»•ã€è¾¹æ¡†ç­‰</li>
          <li><strong>åŒå‡»å›¾ç‰‡</strong> - æ‰“å¼€å±æ€§å¯¹è¯æ¡†ï¼Œç¼–è¾‘æ ‡é¢˜ã€æ›¿ä»£æ–‡æœ¬ç­‰</li>
        </ul>
      </div>
    </div>
    
    <div class="help-panel">
      <h2 class="help-title">
        <span>ğŸ’¡</span> åŠŸèƒ½è¯´æ˜
      </h2>
      <div class="help-grid">
        <div class="help-section">
          <h3><span>ğŸ–±ï¸</span> è°ƒæ•´å¤§å°</h3>
          <ul class="help-list">
            <li>å•å‡»å›¾ç‰‡æ˜¾ç¤º8ä¸ªè°ƒæ•´æ‰‹æŸ„</li>
            <li>æ‹–åŠ¨è§’ç‚¹ç­‰æ¯”ä¾‹ç¼©æ”¾</li>
            <li>æ‹–åŠ¨è¾¹ç¼˜è‡ªç”±è°ƒæ•´å®½é«˜</li>
            <li>å®æ—¶æ˜¾ç¤ºå½“å‰å°ºå¯¸</li>
            <li>æŒ‰<span class="shortcut">ESC</span>å–æ¶ˆè°ƒæ•´</li>
          </ul>
        </div>
        
        <div class="help-section">
          <h3><span>ğŸ¨</span> æ»¤é•œæ•ˆæœ</h3>
          <ul class="help-list">
            <li>é»‘ç™½ã€å¤å¤ã€æ¨¡ç³Šæ•ˆæœ</li>
            <li>äº®åº¦ã€å¯¹æ¯”åº¦è°ƒæ•´</li>
            <li>åè‰²ç‰¹æ•ˆ</li>
            <li>å¯ç»„åˆå¤šç§æ»¤é•œ</li>
            <li>ä¸€é”®æ¸…é™¤æ‰€æœ‰æ»¤é•œ</li>
          </ul>
        </div>
        
        <div class="help-section">
          <h3><span>ğŸ“</span> å¸ƒå±€æ ·å¼</h3>
          <ul class="help-list">
            <li>å·¦å¯¹é½ã€å±…ä¸­ã€å³å¯¹é½</li>
            <li>æ–‡å­—ç¯ç»•ï¼ˆå·¦ä¾§/å³ä¾§ï¼‰</li>
            <li>è¾¹æ¡†æ ·å¼ï¼ˆç»†/ä¸­/ç²—/åœ†è§’ï¼‰</li>
            <li>é˜´å½±æ•ˆæœï¼ˆå°/ä¸­/å¤§ï¼‰</li>
            <li>è‡ªå®šä¹‰å°ºå¯¸è®¾ç½®</li>
          </ul>
        </div>
        
        <div class="help-section">
          <h3><span>âŒ¨ï¸</span> å¿«æ·é”®</h3>
          <ul class="help-list">
            <li><span class="shortcut">Alt+Enter</span> å›¾ç‰‡å±æ€§</li>
            <li><span class="shortcut">Ctrl+C</span> å¤åˆ¶å›¾ç‰‡</li>
            <li><span class="shortcut">Ctrl+S</span> ä¿å­˜å›¾ç‰‡</li>
            <li><span class="shortcut">Delete</span> åˆ é™¤å›¾ç‰‡</li>
            <li><span class="shortcut">ESC</span> å–æ¶ˆæ“ä½œ</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="status-bar">
      <div class="status-item">
        <span class="status-indicator"></span>
        <span>ç¼–è¾‘å™¨å°±ç»ª</span>
      </div>
      <div class="status-item">
        <span id="imageCount">å›¾ç‰‡: 0</span> | 
        <span id="lastAction" style="margin-left: 10px;">ç­‰å¾…æ“ä½œ...</span>
      </div>
    </div>
  </div>

  <!-- å¼•å…¥ç¼–è¾‘å™¨è„šæœ¬ -->
  <script type="module">
    import { Editor } from '../dist/editor.es.js';
    
    // åˆå§‹åŒ–ç¼–è¾‘å™¨
    const editor = new Editor({
      element: '#editor',
      placeholder: 'å¼€å§‹è¾“å…¥å†…å®¹...',
      autofocus: false,
      plugins: 'all' // ä½¿ç”¨æ‰€æœ‰æ’ä»¶
    });
    
    window.editor = editor;
    
    // æ’å…¥å›¾ç‰‡å‡½æ•°
    window.insertImage = function() {
      const url = prompt('è¯·è¾“å…¥å›¾ç‰‡URL:', 'https://picsum.photos/400/300?random=' + Date.now());
      if (url) {
        editor.execute('insertImage', url);
        updateStatus('æ’å…¥äº†ä¸€å¼ å›¾ç‰‡');
        updateImageCount();
      }
    };
    
    // æ’å…¥è§†é¢‘å‡½æ•°
    window.insertVideo = function() {
      const url = prompt('è¯·è¾“å…¥è§†é¢‘URL:', 'https://www.w3schools.com/html/mov_bbb.mp4');
      if (url) {
        editor.execute('insertVideo', url);
        updateStatus('æ’å…¥äº†ä¸€ä¸ªè§†é¢‘');
      }
    };
    
    // æ’å…¥éŸ³é¢‘å‡½æ•°
    window.insertAudio = function() {
      const url = prompt('è¯·è¾“å…¥éŸ³é¢‘URL:', 'https://www.w3schools.com/html/horse.mp3');
      if (url) {
        editor.execute('insertAudio', url);
        updateStatus('æ’å…¥äº†ä¸€ä¸ªéŸ³é¢‘');
      }
    };
    
    // æ’å…¥ç¤ºä¾‹å›¾ç‰‡
    window.insertSampleImage = function(type) {
      const images = {
        nature: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&h=400&fit=crop',
        tech: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=600&h=400&fit=crop',
        abstract: 'https://images.unsplash.com/photo-1557683316-973673baf926?w=600&h=400&fit=crop'
      };
      
      const url = images[type] || images.nature;
      const img = `<img src="${url}" alt="${type} image" title="ç¤ºä¾‹${type}å›¾ç‰‡" style="max-width: 500px;">`;
      editor.insertHTML(img);
      updateStatus(`æ’å…¥äº†${type}ç¤ºä¾‹å›¾ç‰‡`);
      updateImageCount();
    };
    
    // æ¸…ç©ºç¼–è¾‘å™¨
    window.clearEditor = function() {
      if (confirm('ç¡®å®šè¦æ¸…ç©ºç¼–è¾‘å™¨å†…å®¹å—ï¼Ÿ')) {
        editor.setContent('<p>ç¼–è¾‘å™¨å·²æ¸…ç©ºï¼Œè¯·é‡æ–°å¼€å§‹ã€‚</p>');
        updateStatus('æ¸…ç©ºäº†ç¼–è¾‘å™¨');
        updateImageCount();
      }
    };
    
    // æ·»åŠ ç¤ºä¾‹å†…å®¹
    window.addSampleContent = function() {
      const content = `
        <h2>å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½æ¼”ç¤º</h2>
        <p>è¿™é‡Œæ˜¯ä¸€äº›ç¤ºä¾‹å†…å®¹ï¼ŒåŒ…å«äº†ä¸åŒæ ·å¼çš„å›¾ç‰‡å±•ç¤ºï¼š</p>
        
        <h3>1. å·¦æµ®åŠ¨å›¾ç‰‡</h3>
        <img src="https://picsum.photos/300/200?random=1" 
             alt="å·¦æµ®åŠ¨ç¤ºä¾‹" 
             title="å·¦ä¾§æ–‡å­—ç¯ç»•æ•ˆæœ"
             style="float: left; margin: 0 20px 20px 0; border-radius: 8px;">
        <p>è¿™æ˜¯ä¸€æ®µæ–‡å­—ï¼Œå±•ç¤ºäº†å›¾ç‰‡å·¦æµ®åŠ¨æ—¶çš„æ–‡å­—ç¯ç»•æ•ˆæœã€‚å½“å›¾ç‰‡è®¾ç½®ä¸ºå·¦æµ®åŠ¨åï¼Œæ–‡å­—ä¼šè‡ªåŠ¨ç¯ç»•åœ¨å›¾ç‰‡çš„å³ä¾§å’Œä¸‹æ–¹ã€‚è¿™ç§å¸ƒå±€æ–¹å¼å¸¸ç”¨äºæ–‡ç« é…å›¾ï¼Œå¯ä»¥è®©å†…å®¹æ›´åŠ ç”ŸåŠ¨æœ‰è¶£ã€‚ä½ å¯ä»¥å³é”®ç‚¹å‡»å›¾ç‰‡ï¼Œé€‰æ‹©ä¸åŒçš„ç¯ç»•æ–¹å¼ã€‚</p>
        <p style="clear: both;"></p>
        
        <h3>2. å±…ä¸­å›¾ç‰‡å¸¦è¾¹æ¡†</h3>
        <div style="text-align: center;">
          <img src="https://picsum.photos/400/250?random=2" 
               alt="å±…ä¸­ç¤ºä¾‹" 
               title="å±…ä¸­æ˜¾ç¤ºçš„å›¾ç‰‡"
               style="border: 3px solid #3b82f6; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        </div>
        
        <h3>3. å¸¦æ»¤é•œæ•ˆæœçš„å›¾ç‰‡</h3>
        <p>ä¸‹é¢çš„å›¾ç‰‡åº”ç”¨äº†ä¸åŒçš„æ»¤é•œæ•ˆæœï¼š</p>
        <div style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
          <img src="https://picsum.photos/200/200?random=3" 
               alt="é»‘ç™½æ»¤é•œ" 
               title="é»‘ç™½æ•ˆæœ"
               style="filter: grayscale(100%);">
          <img src="https://picsum.photos/200/200?random=4" 
               alt="å¤å¤æ»¤é•œ" 
               title="å¤å¤æ•ˆæœ"
               style="filter: sepia(100%);">
          <img src="https://picsum.photos/200/200?random=5" 
               alt="é«˜å¯¹æ¯”åº¦" 
               title="é«˜å¯¹æ¯”åº¦"
               style="filter: contrast(1.5);">
        </div>
        
        <p>ğŸ’¡ <strong>æç¤ºï¼š</strong>è¯•è¯•ç‚¹å‡»ã€å³é”®æˆ–åŒå‡»è¿™äº›å›¾ç‰‡æ¥ä½“éªŒä¸åŒçš„ç¼–è¾‘åŠŸèƒ½ï¼</p>
      `;
      
      editor.insertHTML(content);
      updateStatus('æ·»åŠ äº†ç¤ºä¾‹å†…å®¹');
      updateImageCount();
    };
    
    // æ›´æ–°çŠ¶æ€æ 
    function updateStatus(action) {
      document.getElementById('lastAction').textContent = action;
    }
    
    // æ›´æ–°å›¾ç‰‡æ•°é‡
    function updateImageCount() {
      const images = document.querySelectorAll('#editor img');
      document.getElementById('imageCount').textContent = `å›¾ç‰‡: ${images.length}`;
    }
    
    // ç›‘å¬ç¼–è¾‘å™¨å˜åŒ–
    const editorElement = document.getElementById('editor');
    editorElement.addEventListener('input', () => {
      updateImageCount();
    });
    
    // ç›‘å¬å›¾ç‰‡æ“ä½œ
    editorElement.addEventListener('click', (e) => {
      if (e.target.tagName === 'IMG') {
        updateStatus('é€‰ä¸­äº†å›¾ç‰‡ - å¯ä»¥è°ƒæ•´å¤§å°');
      }
    });
    
    editorElement.addEventListener('contextmenu', (e) => {
      if (e.target.tagName === 'IMG') {
        updateStatus('æ‰“å¼€äº†å›¾ç‰‡èœå•');
      }
    });
    
    editorElement.addEventListener('dblclick', (e) => {
      if (e.target.tagName === 'IMG') {
        updateStatus('æ‰“å¼€äº†å›¾ç‰‡å±æ€§å¯¹è¯æ¡†');
      }
    });
    
    // åˆå§‹åŒ–
    updateImageCount();
    console.log('å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
  </script>
</body>
</html>