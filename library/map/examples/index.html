<!DOCTYPE                                                                                html>
<html                                                                                lang="zh-CN">
<head>
                                                                                <meta                                                                                charset="UTF-8">
                                                                                <meta                                                                                name="viewport"                                                                                content="width=device-width,                                                                                initial-scale=1.0">
                                                                                <title>GeoJSON                                                                                Âú∞ÂõæÊ∏≤ÊüìÁ§∫‰æã</title>
                                                                                <style>
                                                                                                *                                                                                {
                                                                                                                margin:                                                                                0;
                                                                                                                padding:                                                                                0;
                                                                                                                box-sizing:                                                                                border-box;
                                                                                                }

                                                                                                body                                                                                {
                                                                                                                font-family:                                                                                -apple-system,                                                                                BlinkMacSystemFont,                                                                                'Segoe                                                                                UI',                                                                                sans-serif;
                                                                                                                background:                                                                                linear-gradient(135deg,                                                                                #667eea                                                                                0%,                                                                                #764ba2                                                                                100%);
                                                                                                                min-height:                                                                                100vh;
                                                                                                                display:                                                                                flex;
                                                                                                                flex-direction:                                                                                column;
                                                                                                                padding:                                                                                20px;
                                                                                                }

                                                                                                .container                                                                                {
                                                                                                                max-width:                                                                                1400px;
                                                                                                                width:                                                                                100%;
                                                                                                                margin:                                                                                0                                                                                auto;
                                                                                                }

                                                                                                h1                                                                                {
                                                                                                                color:                                                                                white;
                                                                                                                text-align:                                                                                center;
                                                                                                                margin-bottom:                                                                                30px;
                                                                                                                font-size:                                                                                2.5rem;
                                                                                                                text-shadow:                                                                                2px                                                                                2px                                                                                4px                                                                                rgba(0,                                                                                0,                                                                                0,                                                                                0.2);
                                                                                                }

                                                                                                .controls                                                                                {
                                                                                                                background:                                                                                white;
                                                                                                                border-radius:                                                                                12px;
                                                                                                                padding:                                                                                20px;
                                                                                                                margin-bottom:                                                                                20px;
                                                                                                                box-shadow:                                                                                0                                                                                10px                                                                                30px                                                                                rgba(0,                                                                                0,                                                                                0,                                                                                0.2);
                                                                                                }

                                                                                                .button-group                                                                                {
                                                                                                                display:                                                                                flex;
                                                                                                                gap:                                                                                10px;
                                                                                                                flex-wrap:                                                                                wrap;
                                                                                                                margin-bottom:                                                                                15px;
                                                                                                }

                                                                                                button                                                                                {
                                                                                                                padding:                                                                                10px                                                                                20px;
                                                                                                                border:                                                                                none;
                                                                                                                border-radius:                                                                                6px;
                                                                                                                background:                                                                                linear-gradient(135deg,                                                                                #667eea                                                                                0%,                                                                                #764ba2                                                                                100%);
                                                                                                                color:                                                                                white;
                                                                                                                font-size:                                                                                14px;
                                                                                                                font-weight:                                                                                600;
                                                                                                                cursor:                                                                                pointer;
                                                                                                                transition:                                                                                all                                                                                0.3s                                                                                ease;
                                                                                                                box-shadow:                                                                                0                                                                                4px                                                                                15px                                                                                rgba(102,                                                                                126,                                                                                234,                                                                                0.4);
                                                                                                }

                                                                                                button:hover                                                                                {
                                                                                                                transform:                                                                                translateY(-2px);
                                                                                                                box-shadow:                                                                                0                                                                                6px                                                                                20px                                                                                rgba(102,                                                                                126,                                                                                234,                                                                                0.6);
                                                                                                }

                                                                                                button:active                                                                                {
                                                                                                                transform:                                                                                translateY(0);
                                                                                                }

                                                                                                .style-controls                                                                                {
                                                                                                                display:                                                                                grid;
                                                                                                                grid-template-columns:                                                                                repeat(auto-fit,                                                                                minmax(200px,                                                                                1fr));
                                                                                                                gap:                                                                                15px;
                                                                                                                margin-top:                                                                                15px;
                                                                                                                padding-top:                                                                                15px;
                                                                                                                border-top:                                                                                2px                                                                                solid                                                                                #f0f0f0;
                                                                                                }

                                                                                                .style-control                                                                                {
                                                                                                                display:                                                                                flex;
                                                                                                                flex-direction:                                                                                column;
                                                                                                                gap:                                                                                8px;
                                                                                                }

                                                                                                .style-control                                                                                label                                                                                {
                                                                                                                font-size:                                                                                13px;
                                                                                                                font-weight:                                                                                600;
                                                                                                                color:                                                                                #333;
                                                                                                }

                                                                                                .style-control                                                                                input                                                                                {
                                                                                                                padding:                                                                                8px                                                                                12px;
                                                                                                                border:                                                                                2px                                                                                solid                                                                                #e0e0e0;
                                                                                                                border-radius:                                                                                6px;
                                                                                                                font-size:                                                                                13px;
                                                                                                                transition:                                                                                border-color                                                                                0.3s;
                                                                                                }

                                                                                                .style-control                                                                                input:focus                                                                                {
                                                                                                                outline:                                                                                none;
                                                                                                                border-color:                                                                                #667eea;
                                                                                                }

                                                                                                .style-control                                                                                input[type="color"]                                                                                {
                                                                                                                height:                                                                                40px;
                                                                                                                cursor:                                                                                pointer;
                                                                                                }

                                                                                                .map-container                                                                                {
                                                                                                                background:                                                                                white;
                                                                                                                border-radius:                                                                                12px;
                                                                                                                padding:                                                                                20px;
                                                                                                                box-shadow:                                                                                0                                                                                10px                                                                                30px                                                                                rgba(0,                                                                                0,                                                                                0,                                                                                0.2);
                                                                                                                display:                                                                                flex;
                                                                                                                justify-content:                                                                                center;
                                                                                                                align-items:                                                                                center;
                                                                                                }

                                                                                                canvas                                                                                {
                                                                                                                border-radius:                                                                                8px;
                                                                                                                box-shadow:                                                                                0                                                                                4px                                                                                15px                                                                                rgba(0,                                                                                0,                                                                                0,                                                                                0.1);
                                                                                                }

                                                                                                .info                                                                                {
                                                                                                                background:                                                                                rgba(255,                                                                                255,                                                                                255,                                                                                0.95);
                                                                                                                border-radius:                                                                                8px;
                                                                                                                padding:                                                                                15px;
                                                                                                                margin-top:                                                                                20px;
                                                                                                                color:                                                                                #333;
                                                                                                                line-height:                                                                                1.6;
                                                                                                }

                                                                                                .info                                                                                h3                                                                                {
                                                                                                                margin-bottom:                                                                                10px;
                                                                                                                color:                                                                                #667eea;
                                                                                                }

                                                                                                .info                                                                                ul                                                                                {
                                                                                                                margin-left:                                                                                20px;
                                                                                                }

                                                                                                .info                                                                                code                                                                                {
                                                                                                                background:                                                                                #f5f5f5;
                                                                                                                padding:                                                                                2px                                                                                6px;
                                                                                                                border-radius:                                                                                4px;
                                                                                                                font-family:                                                                                'Courier                                                                                New',                                                                                monospace;
                                                                                                                color:                                                                                #667eea;
                                                                                                }
                                                                                </style>
</head>
<body>
                                                                                <div                                                                                class="container">
                                                                                                <h1>üó∫Ô∏è                                                                                GeoJSON                                                                                Âú∞ÂõæÊ∏≤ÊüìÂô®</h1>

                                                                                                <div                                                                                class="controls">
                                                                                                                <div                                                                                class="button-group">
                                                                                                                                <button                                                                                                onclick="loadChinaMap()">Âä†ËΩΩ‰∏≠ÂõΩÂú∞Âõæ</button>
                                                                                                                                <button                                                                                                onclick="loadMixedGeometry()">Âä†ËΩΩÊ∑∑ÂêàÂá†‰Ωï</button>
                                                                                                                                <button                                                                                                onclick="resetView()">ÈáçÁΩÆËßÜÂõæ</button>
                                                                                                                </div>

                                                                                                                <div                                                                                class="style-controls">
                                                                                                                                <div                                                                                class="style-control">
                                                                                                                                                <label>Â°´ÂÖÖÈ¢úËâ≤</label>
                                                                                                                                                <input                                                                                                type="color"                                                                                                id="fillColor"                                                                                                value="#e0f2fe">
                                                                                                                                </div>
                                                                                                                                <div                                                                                class="style-control">
                                                                                                                                                <label>ËæπÊ°ÜÈ¢úËâ≤</label>
                                                                                                                                                <input                                                                                                type="color"                                                                                                id="strokeColor"                                                                                                value="#0284c7">
                                                                                                                                </div>
                                                                                                                                <div                                                                                class="style-control">
                                                                                                                                                <label>ËæπÊ°ÜÂÆΩÂ∫¶</label>
                                                                                                                                                <input                                                                                                type="number"                                                                                                id="strokeWidth"                                                                                                value="1"                                                                                                min="0"                                                                                                max="10"                                                                                                step="0.5">
                                                                                                                                </div>
                                                                                                                                <div                                                                                class="style-control">
                                                                                                                                                <label>ÁÇπÂçäÂæÑ</label>
                                                                                                                                                <input                                                                                                type="number"                                                                                                id="pointRadius"                                                                                                value="5"                                                                                                min="1"                                                                                                max="20">
                                                                                                                                </div>
                                                                                                                                <div                                                                                class="style-control">
                                                                                                                                                <label>ÁÇπÈ¢úËâ≤</label>
                                                                                                                                                <input                                                                                                type="color"                                                                                                id="pointColor"                                                                                                value="#dc2626">
                                                                                                                                </div>
                                                                                                                                <div                                                                                class="style-control">
                                                                                                                                                <label>ËÉåÊôØÈ¢úËâ≤</label>
                                                                                                                                                <input                                                                                                type="color"                                                                                                id="backgroundColor"                                                                                                value="#f0f9ff">
                                                                                                                                </div>
                                                                                                                </div>
                                                                                                </div>

                                                                                                <div                                                                                class="map-container">
                                                                                                                <canvas                                                                                                id="mapCanvas"                                                                                                width="1200"                                                                                                height="700"></canvas>
                                                                                                </div>

                                                                                                <div                                                                                class="info">
                                                                                                                <h3>‰ΩøÁî®ËØ¥Êòé</h3>
                                                                                                                <ul>
                                                                                                                                <li><strong>Èº†Ê†áÊªöËΩÆ</strong>ÔºöÁº©ÊîæÂú∞Âõæ</li>
                                                                                                                                <li><strong>Èº†Ê†áÊãñÊãΩ</strong>ÔºöÂπ≥ÁßªÂú∞Âõæ</li>
                                                                                                                                <li><strong>Èº†Ê†áÊÇ¨ÂÅú</strong>ÔºöÈ´ò‰∫ÆÊòæÁ§∫Âå∫Âüü</li>
                                                                                                                                <li><strong>È¢úËâ≤ÈÄâÊã©Âô®</strong>ÔºöÂÆûÊó∂‰øÆÊîπÂú∞ÂõæÊ†∑Âºè</li>
                                                                                                                                <li><strong>Êï∞ÊçÆÊåâÈíÆ</strong>ÔºöÂàáÊç¢‰∏çÂêåÁöÑ                                                                                GeoJSON                                                                                Êï∞ÊçÆÈõÜ</li>
                                                                                                                </ul>

                                                                                                                <h3                                                                                style="margin-top:                                                                                20px;">ÂäüËÉΩÁâπÊÄß</h3>
                                                                                                                <ul>
                                                                                                                                <li>‚úÖ                                                                                ÊîØÊåÅÊâÄÊúâ                                                                                GeoJSON                                                                                Âá†‰ΩïÁ±ªÂûãÔºàPoint,                                                                                LineString,                                                                                Polygon,                                                                                Multi*Ôºâ</li>
                                                                                                                                <li>‚úÖ                                                                                ÊîØÊåÅÂ∏¶Â≠îÂ§öËæπÂΩ¢ÔºàPolygon                                                                                with                                                                                holesÔºâ</li>
                                                                                                                                <li>‚úÖ                                                                                Ëá™Âä®ËÆ°ÁÆóÂú∞ÁêÜËæπÁïåÂπ∂ÈÄÇÂ∫îÁîªÂ∏É</li>
                                                                                                                                <li>‚úÖ                                                                                Âπ≥ÊªëÁöÑÁº©ÊîæÂíåÂπ≥Áßª‰∫§‰∫í</li>
                                                                                                                                <li>‚úÖ                                                                                Èº†Ê†áÊÇ¨ÂÅúÈ´ò‰∫ÆÊïàÊûú</li>
                                                                                                                                <li>‚úÖ                                                                                ÂÆåÂÖ®ÂèØÂÆöÂà∂ÁöÑÊ†∑ÂºèÁ≥ªÁªü</li>
                                                                                                                                <li>‚úÖ                                                                                Âü∫‰∫é                                                                                Canvas                                                                                ÁöÑÈ´òÊÄßËÉΩÊ∏≤Êüì</li>
                                                                                                                </ul>

                                                                                                                <h3                                                                                style="margin-top:                                                                                20px;">‰ª£Á†ÅÁ§∫‰æã</h3>
                                                                                                                <pre                                                                                style="background:                                                                                #f5f5f5;                                                                                padding:                                                                                15px;                                                                                border-radius:                                                                                6px;                                                                                overflow-x:                                                                                auto;"><code>import                                                                                {                                                                                GeoMapRenderer                                                                                }                                                                                from                                                                                './GeoMapRenderer';

const                                                                                renderer                                                                                =                                                                                new                                                                                GeoMapRenderer({
                                                                                container:                                                                                document.getElementById('mapCanvas'),
                                                                                style:                                                                                {
                                                                                                fillColor:                                                                                '#e0f2fe',
                                                                                                strokeColor:                                                                                '#0284c7',
                                                                                                strokeWidth:                                                                                1
                                                                                }
});

renderer.loadGeoJSON(geoJsonData);</code></pre>
                                                                                                </div>
                                                                                </div>

                                                                                <script                                                                                type="module">
                                                                                                import                                                                                {                                                                                GeoMapRenderer                                                                                }                                                                                from                                                                                '../src/GeoMapRenderer.ts';

                                                                                                let                                                                                renderer                                                                                =                                                                                null;
                                                                                                const                                                                                canvas                                                                                =                                                                                document.getElementById('mapCanvas');

                                                                                                //                                                                                ÂàùÂßãÂåñÊ∏≤ÊüìÂô®
                                                                                                function                                                                                initRenderer()                                                                                {
                                                                                                                renderer                                                                                =                                                                                new                                                                                GeoMapRenderer({
                                                                                                                                container:                                                                                canvas,
                                                                                                                                style:                                                                                {
                                                                                                                                                fillColor:                                                                                document.getElementById('fillColor').value,
                                                                                                                                                strokeColor:                                                                                document.getElementById('strokeColor').value,
                                                                                                                                                strokeWidth:                                                                                parseFloat(document.getElementById('strokeWidth').value),
                                                                                                                                                pointRadius:                                                                                parseFloat(document.getElementById('pointRadius').value),
                                                                                                                                                pointColor:                                                                                document.getElementById('pointColor').value,
                                                                                                                                },
                                                                                                                                backgroundColor:                                                                                document.getElementById('backgroundColor').value
                                                                                                                });
                                                                                                }

                                                                                                //                                                                                Âä†ËΩΩ‰∏≠ÂõΩÂú∞Âõæ
                                                                                                window.loadChinaMap                                                                                =                                                                                async                                                                                function()                                                                                {
                                                                                                                const                                                                                response                                                                                =                                                                                await                                                                                fetch('./data/china-simple.json');
                                                                                                                const                                                                                geoData                                                                                =                                                                                await                                                                                response.json();
                                                                                                                if                                                                                (!renderer)                                                                                initRenderer();
                                                                                                                renderer.loadGeoJSON(geoData);
                                                                                                };

                                                                                                //                                                                                Âä†ËΩΩÊ∑∑ÂêàÂá†‰Ωï
                                                                                                window.loadMixedGeometry                                                                                =                                                                                async                                                                                function()                                                                                {
                                                                                                                const                                                                                response                                                                                =                                                                                await                                                                                fetch('./data/mixed-geometry.json');
                                                                                                                const                                                                                geoData                                                                                =                                                                                await                                                                                response.json();
                                                                                                                if                                                                                (!renderer)                                                                                initRenderer();
                                                                                                                renderer.loadGeoJSON(geoData);
                                                                                                };

                                                                                                //                                                                                ÈáçÁΩÆËßÜÂõæ
                                                                                                window.resetView                                                                                =                                                                                function()                                                                                {
                                                                                                                if                                                                                (renderer)                                                                                {
                                                                                                                                renderer.reset();
                                                                                                                }
                                                                                                };

                                                                                                //                                                                                ÁõëÂê¨Ê†∑ÂºèÂèòÂåñ
                                                                                                ['fillColor',                                                                                'strokeColor',                                                                                'strokeWidth',                                                                                'pointRadius',                                                                                'pointColor'].forEach(id                                                                                =>                                                                                {
                                                                                                                document.getElementById(id).addEventListener('input',                                                                                function()                                                                                {
                                                                                                                                if                                                                                (renderer)                                                                                {
                                                                                                                                                const                                                                                style                                                                                =                                                                                {
                                                                                                                                                                fillColor:                                                                                document.getElementById('fillColor').value,
                                                                                                                                                                strokeColor:                                                                                document.getElementById('strokeColor').value,
                                                                                                                                                                strokeWidth:                                                                                parseFloat(document.getElementById('strokeWidth').value),
                                                                                                                                                                pointRadius:                                                                                parseFloat(document.getElementById('pointRadius').value),
                                                                                                                                                                pointColor:                                                                                document.getElementById('pointColor').value,
                                                                                                                                                };
                                                                                                                                                renderer.updateStyle(style);
                                                                                                                                }
                                                                                                                });
                                                                                                });

                                                                                                //                                                                                ÁõëÂê¨ËÉåÊôØÈ¢úËâ≤ÂèòÂåñ
                                                                                                document.getElementById('backgroundColor').addEventListener('input',                                                                                function()                                                                                {
                                                                                                                if                                                                                (renderer)                                                                                {
                                                                                                                                renderer.destroy();
                                                                                                                                initRenderer();
                                                                                                                                //                                                                                ÈáçÊñ∞Âä†ËΩΩÂΩìÂâçÊï∞ÊçÆ
                                                                                                                                loadChinaMap();
                                                                                                                }
                                                                                                });

                                                                                                //                                                                                ÈªòËÆ§Âä†ËΩΩ‰∏≠ÂõΩÂú∞Âõæ
                                                                                                loadChinaMap();
                                                                                </script>
</body>
</html>
