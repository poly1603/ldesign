/**
 * 动画工具样式
 * 
 * @author LDesign Team
 * @since 2.0.0
 */

// 基础动画变量
@animation-duration-fast: 0.1s;
@animation-duration-base: 0.2s;
@animation-duration-slow: 0.3s;

@animation-timing-ease-in: cubic-bezier(0.4, 0, 1, 1);
@animation-timing-ease-out: cubic-bezier(0, 0, 0.2, 1);
@animation-timing-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

// 淡入淡出动画
@keyframes ldesign-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes ldesign-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

// 滑入滑出动画
@keyframes ldesign-slide-in-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ldesign-slide-in-down {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ldesign-slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes ldesign-slide-in-right {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

// 缩放动画
@keyframes ldesign-scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes ldesign-scale-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.9);
  }
}

// 旋转动画
@keyframes ldesign-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// 脉冲动画
@keyframes ldesign-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

// 弹跳动画
@keyframes ldesign-bounce {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    transform: translate3d(0, -30px, 0);
  }
  70% {
    transform: translate3d(0, -15px, 0);
  }
  90% {
    transform: translate3d(0, -4px, 0);
  }
}

// 摇摆动画
@keyframes ldesign-shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-10px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(10px);
  }
}

// 动画工具类
.ldesign-fade-in {
  animation: ldesign-fade-in @animation-duration-base @animation-timing-ease-out;
}

.ldesign-fade-out {
  animation: ldesign-fade-out @animation-duration-base @animation-timing-ease-in;
}

.ldesign-slide-in-up {
  animation: ldesign-slide-in-up @animation-duration-base @animation-timing-ease-out;
}

.ldesign-slide-in-down {
  animation: ldesign-slide-in-down @animation-duration-base @animation-timing-ease-out;
}

.ldesign-slide-in-left {
  animation: ldesign-slide-in-left @animation-duration-base @animation-timing-ease-out;
}

.ldesign-slide-in-right {
  animation: ldesign-slide-in-right @animation-duration-base @animation-timing-ease-out;
}

.ldesign-scale-in {
  animation: ldesign-scale-in @animation-duration-base @animation-timing-ease-out;
}

.ldesign-scale-out {
  animation: ldesign-scale-out @animation-duration-base @animation-timing-ease-in;
}

.ldesign-rotate {
  animation: ldesign-rotate 1s linear infinite;
}

.ldesign-pulse {
  animation: ldesign-pulse 2s infinite;
}

.ldesign-bounce {
  animation: ldesign-bounce 1s;
}

.ldesign-shake {
  animation: ldesign-shake 0.5s;
}

// 过渡效果
.ldesign-transition {
  transition: all @animation-duration-base @animation-timing-ease-in-out;
}

.ldesign-transition-fast {
  transition: all @animation-duration-fast @animation-timing-ease-in-out;
}

.ldesign-transition-slow {
  transition: all @animation-duration-slow @animation-timing-ease-in-out;
}

// 表单特定动画
.ldesign-form-item {
  // 错误消息动画
  .ldesign-form-error {
    animation: ldesign-slide-in-up @animation-duration-base @animation-timing-ease-out;
  }
  
  // 字段聚焦动画
  &.ldesign-form-item-focused {
    .ldesign-form-label {
      transition: all @animation-duration-base @animation-timing-ease-out;
    }
  }
}

// 下拉菜单动画
.ldesign-dropdown {
  &-enter {
    opacity: 0;
    transform: translateY(-10px);
  }
  
  &-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: all @animation-duration-base @animation-timing-ease-out;
  }
  
  &-leave {
    opacity: 1;
    transform: translateY(0);
  }
  
  &-leave-active {
    opacity: 0;
    transform: translateY(-10px);
    transition: all @animation-duration-base @animation-timing-ease-in;
  }
}

// 加载动画
.ldesign-loading {
  &-spin {
    animation: ldesign-rotate 1s linear infinite;
  }
  
  &-pulse {
    animation: ldesign-pulse 1.5s ease-in-out infinite;
  }
}

// 禁用动画（用于减少动画的用户偏好）
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
