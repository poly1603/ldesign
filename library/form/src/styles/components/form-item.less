/**
 * FormItem 组件样式
 * 
 * @author LDesign Team
 * @since 1.0.0
 */

.ldesign-form-item {
  position: relative;
  margin-bottom: var(--ldesign-form-margin);
  
  // 标签容器
  &__label-container {
    display: flex;
    align-items: flex-start;
    width: var(--ldesign-form-label-width);
    padding: var(--ldesign-form-label-padding);
    
    // 标签对齐方式
    &--left {
      justify-content: flex-start;
      text-align: left;
    }
    
    &--right {
      justify-content: flex-end;
      text-align: right;
    }
    
    &--top {
      width: 100%;
      margin-bottom: var(--ldesign-form-label-margin-bottom);
    }
  }
  
  // 标签文本
  &__label {
    color: var(--ldesign-form-label-color);
    font-size: var(--ldesign-form-label-font-size);
    font-weight: var(--ldesign-form-label-font-weight);
    line-height: var(--ldesign-form-label-line-height);
    word-break: break-word;
    
    // 必填标记
    &-required {
      color: var(--ldesign-form-required-color);
      margin: var(--ldesign-form-required-margin);
      
      &::before {
        content: '*';
      }
    }
    
    // 冒号
    &-colon {
      margin: var(--ldesign-form-colon-margin);
      
      &::after {
        content: ':';
      }
    }
  }
  
  // 控件容器
  &__control {
    flex: 1;
    min-width: 0;
  }
  
  // 错误信息
  &__error {
    color: var(--ldesign-form-error-color);
    font-size: var(--ldesign-form-error-font-size);
    line-height: var(--ldesign-form-error-line-height);
    margin-top: var(--ldesign-form-error-margin-top);
    word-break: break-word;
    
    // 错误状态下的控件样式
    .ldesign-form-item--error & {
      display: block;
    }
  }
  
  // 帮助信息
  &__help {
    color: var(--ldesign-form-help-color);
    font-size: var(--ldesign-form-help-font-size);
    line-height: var(--ldesign-form-help-line-height);
    margin-top: var(--ldesign-form-help-margin-top);
    word-break: break-word;
  }
  
  // 额外信息
  &__extra {
    color: var(--ldesign-form-extra-color);
    font-size: var(--ldesign-form-extra-font-size);
    line-height: var(--ldesign-form-extra-line-height);
    margin-top: var(--ldesign-form-extra-margin-top);
    word-break: break-word;
  }
  
  // 布局方式
  &--horizontal {
    display: flex;
    align-items: flex-start;
    
    .ldesign-form-item__label-container {
      flex-shrink: 0;
    }
  }
  
  &--vertical {
    display: block;
    
    .ldesign-form-item__label-container {
      width: 100%;
      margin-bottom: var(--ldesign-form-label-margin-bottom);
    }
  }
  
  // 状态样式
  &--error {
    .ldesign-form-item__control {
      .ldesign-input,
      .ldesign-select,
      .ldesign-textarea {
        border-color: var(--ldesign-input-error-border-color);
        
        &:focus {
          border-color: var(--ldesign-input-error-border-color);
          box-shadow: var(--ldesign-input-error-shadow);
        }
      }
    }
  }
  
  &--validating {
    .ldesign-form-item__control {
      position: relative;
      
      &::after {
        content: '';
        position: absolute;
        top: 50%;
        right: 8px;
        width: 16px;
        height: 16px;
        margin-top: -8px;
        border: 2px solid var(--ldesign-brand-color);
        border-top-color: transparent;
        border-radius: 50%;
        animation: ldesign-form-item-spin 1s linear infinite;
      }
    }
  }
  
  &--success {
    .ldesign-form-item__control {
      .ldesign-input,
      .ldesign-select,
      .ldesign-textarea {
        border-color: var(--ldesign-success-color);
      }
    }
  }
  
  // 禁用状态
  &--disabled {
    .ldesign-form-item__label {
      color: var(--ldesign-text-color-disabled);
    }
  }
}

// 验证中的旋转动画
@keyframes ldesign-form-item-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
