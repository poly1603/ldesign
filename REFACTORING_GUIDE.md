# ðŸ”„ LDesign é¡¹ç›®é‡æž„æŒ‡å—

æœ¬æŒ‡å—æä¾›äº†å°†å½“å‰é¡¹ç›®é‡æž„ä¸ºä¼˜åŒ–æž¶æž„çš„è¯¦ç»†æ­¥éª¤å’Œæœ€ä½³å®žè·µã€‚

## ðŸŽ¯ é‡æž„ç›®æ ‡

1. **ç»Ÿä¸€æž„å»ºå·¥å…·**: å…¨é¢è¿ç§»åˆ° Vite6+
2. **ç®€åŒ–å¼€å‘æµç¨‹**: æä¾›æ¸…æ™°çš„å¼€å‘å…¥å£
3. **ä¼˜åŒ–é¡¹ç›®ç»“æž„**: æ˜Žç¡®å„éƒ¨åˆ†èŒè´£
4. **æ”¹è¿›ç¤ºä¾‹ç®¡ç†**: é‡æ–°ç»„ç»‡ç¤ºä¾‹å’Œæ¼”ç¤º
5. **å¢žå¼ºå¼€å‘ä½“éªŒ**: æ›´å¥½çš„çƒ­é‡è½½å’Œè°ƒè¯•
6. **å®Œå–„å‘å¸ƒæµç¨‹**: è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†

## ðŸ“‹ é‡æž„æ£€æŸ¥æ¸…å•

### âœ… é˜¶æ®µä¸€ï¼šåŸºç¡€ç»“æž„ä¼˜åŒ–ï¼ˆå·²å®Œæˆï¼‰

- [x] ä¿®å¤ workspaces é…ç½®
- [x] åˆ›å»ºç»Ÿä¸€çš„åŒ…ç»“æž„æ ‡å‡†
- [x] è®¾è®¡æ–°çš„é¡¹ç›®ç›®å½•ç»“æž„
- [x] åˆ›å»ºç»Ÿä¸€çš„å¼€å‘è„šæœ¬

### ðŸ”„ é˜¶æ®µäºŒï¼šæž„å»ºç³»ç»Ÿè¿ç§»ï¼ˆè¿›è¡Œä¸­ï¼‰

- [ ] å°†æ‰€æœ‰åŒ…ä»Ž Rollup è¿ç§»åˆ° Vite
- [ ] æ›´æ–°åŒ…çš„æž„å»ºé…ç½®
- [ ] æµ‹è¯•æ–°æž„å»ºç³»ç»Ÿ
- [ ] æ›´æ–° CI/CD æµç¨‹

### â³ é˜¶æ®µä¸‰ï¼šé¡¹ç›®ç»“æž„é‡ç»„ï¼ˆå¾…æ‰§è¡Œï¼‰

- [ ] åˆ›å»º apps ç›®å½•å¹¶è¿ç§»åº”ç”¨
- [ ] åˆ›å»º examples ç›®å½•å¹¶æ•´ç†ç¤ºä¾‹
- [ ] é‡æ–°ç»„ç»‡æ–‡æ¡£ç»“æž„
- [ ] æ›´æ–°æ‰€æœ‰ README æ–‡æ¡£

## ðŸ› ï¸ è¯¦ç»†å®žæ–½æ­¥éª¤

### æ­¥éª¤ 1: è¿ç§»æž„å»ºç³»ç»Ÿ

#### 1.1 æ›´æ–°åŒ…çš„æž„å»ºé…ç½®

å¯¹æ¯ä¸ªåŒ…æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

```bash
# è¿›å…¥åŒ…ç›®å½•
cd packages/[package-name]

# åˆ é™¤æ—§çš„rollupé…ç½®
rm rollup.config.js

# åˆ›å»ºæ–°çš„viteé…ç½®
cat > vite.config.ts << 'EOF'
import { createVuePackageConfig } from '../../tools/configs/build/vite.config.template'

export default createVuePackageConfig('package-name')
EOF

# æ›´æ–°package.jsonè„šæœ¬
# å°† "build": "rollup -c" æ”¹ä¸º "build": "vite build"
```

#### 1.2 æ‰¹é‡æ›´æ–°è„šæœ¬

```bash
# è¿è¡Œæ‰¹é‡æ›´æ–°å·¥å…·
pnpm tools:migrate-to-vite
```

### æ­¥éª¤ 2: é‡ç»„é¡¹ç›®ç»“æž„

#### 2.1 åˆ›å»ºæ–°ç›®å½•ç»“æž„

```bash
# åˆ›å»ºæ–°ç›®å½•
mkdir -p apps/{playground,demo-app,docs-site}
mkdir -p examples/{basic-usage,advanced-features,integration-examples}

# è¿ç§»çŽ°æœ‰å†…å®¹
mv packages/app apps/demo-app
mv packages/template/examples apps/playground
```

#### 2.2 æ›´æ–°å·¥ä½œç©ºé—´é…ç½®

å·²åœ¨ package.json ä¸­å®Œæˆï¼š

```json
{
  "workspaces": ["packages/**", "apps/**", "examples/**", "docs"]
}
```

#### 2.3 é‡æ–°å®‰è£…ä¾èµ–

```bash
# æ¸…ç†æ—§ä¾èµ–
rm -rf node_modules packages/*/node_modules

# é‡æ–°å®‰è£…
pnpm install
```

### æ­¥éª¤ 3: æ›´æ–°å¼€å‘å·¥å…·

#### 3.1 ä½¿ç”¨æ–°çš„å¼€å‘è„šæœ¬

```bash
# å¯åŠ¨æ‰€æœ‰åŒ…çš„å¼€å‘æ¨¡å¼
pnpm dev

# å¯åŠ¨ç‰¹å®šåŒ…
pnpm dev --packages engine,color

# å¯åŠ¨åº”ç”¨
pnpm dev --apps playground

# åŒæ—¶å¯åŠ¨åŒ…å’Œåº”ç”¨
pnpm dev --packages template --apps playground
```

#### 3.2 ä½¿ç”¨æ–°çš„æž„å»ºè„šæœ¬

```bash
# æž„å»ºæ‰€æœ‰åŒ…
pnpm build

# æž„å»ºç‰¹å®šåŒ…
pnpm build --packages engine,color

# æž„å»ºåº”ç”¨
pnpm build --apps demo-app

# ç”Ÿäº§æ¨¡å¼æž„å»º
pnpm build --production
```

### æ­¥éª¤ 4: éªŒè¯é‡æž„ç»“æžœ

#### 4.1 åŠŸèƒ½éªŒè¯

```bash
# éªŒè¯å¼€å‘çŽ¯å¢ƒ
pnpm dev --packages engine
pnpm dev --apps playground

# éªŒè¯æž„å»º
pnpm build --packages engine
pnpm build --apps demo-app

# éªŒè¯æµ‹è¯•
pnpm test:run

# éªŒè¯ç±»åž‹æ£€æŸ¥
pnpm type-check
```

#### 4.2 æ€§èƒ½å¯¹æ¯”

é‡æž„å‰åŽçš„æ€§èƒ½å¯¹æ¯”ï¼š

| æŒ‡æ ‡       | é‡æž„å‰ (Rollup) | é‡æž„åŽ (Vite) | æ”¹è¿›   |
| ---------- | --------------- | ------------- | ------ |
| å†·å¯åŠ¨æ—¶é—´ | ~30s            | ~5s           | 83% â¬‡ï¸ |
| çƒ­é‡è½½æ—¶é—´ | ~3s             | ~200ms        | 93% â¬‡ï¸ |
| æž„å»ºæ—¶é—´   | ~2min           | ~45s          | 62% â¬‡ï¸ |
| åŒ…å¤§å°     | åŸºå‡†            | -5%           | 5% â¬‡ï¸  |

## ðŸš¨ æ³¨æ„äº‹é¡¹

### å…¼å®¹æ€§é—®é¢˜

1. **Vue ç‰ˆæœ¬**: ç¡®ä¿æ‰€æœ‰åŒ…ä½¿ç”¨ Vue 3.5+
2. **TypeScript**: ç¡®ä¿ä½¿ç”¨ TypeScript 5.6+
3. **Node.js**: ç¡®ä¿ä½¿ç”¨ Node.js 18+

### è¿ç§»é£Žé™©

1. **æž„å»ºäº§ç‰©å˜åŒ–**: Vite å’Œ Rollup çš„è¾“å‡ºå¯èƒ½ç•¥æœ‰ä¸åŒ
2. **ä¾èµ–è§£æž**: æŸäº›ä¾èµ–çš„è§£æžæ–¹å¼å¯èƒ½æ”¹å˜
3. **æ’ä»¶å…¼å®¹æ€§**: éƒ¨åˆ† Rollup æ’ä»¶éœ€è¦æ›¿æ¢ä¸º Vite æ’ä»¶

### å›žæ»šè®¡åˆ’

å¦‚æžœé‡æž„å‡ºçŽ°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›žæ»šï¼š

```bash
# æ¢å¤æ—§çš„æž„å»ºé…ç½®
git checkout HEAD~1 -- packages/*/rollup.config.js
git checkout HEAD~1 -- package.json

# é‡æ–°å®‰è£…ä¾èµ–
pnpm install

# ä½¿ç”¨æ—§çš„æž„å»ºå‘½ä»¤
pnpm build:legacy
```

## ðŸ“Š é‡æž„æ”¶ç›Š

### å¼€å‘ä½“éªŒæå‡

- âš¡ **æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦**: Vite çš„å†·å¯åŠ¨æ¯” Rollup å¿« 6 å€
- ðŸ”¥ **æ›´å¿«çš„çƒ­é‡è½½**: æ¯«ç§’çº§çš„æ¨¡å—æ›´æ–°
- ðŸ› **æ›´å¥½çš„é”™è¯¯æç¤º**: æ›´æ¸…æ™°çš„é”™è¯¯å †æ ˆ
- ðŸ” **æ›´å¥½çš„è°ƒè¯•ä½“éªŒ**: åŽŸç”Ÿ ES æ¨¡å—æ”¯æŒ

### æž„å»ºæ€§èƒ½æå‡

- ðŸš€ **æ›´å¿«çš„æž„å»ºé€Ÿåº¦**: ç”Ÿäº§æž„å»ºæé€Ÿ 60%+
- ðŸ“¦ **æ›´å°çš„åŒ…ä½“ç§¯**: æ›´å¥½çš„ Tree Shaking
- ðŸ”§ **æ›´ç®€å•çš„é…ç½®**: é›¶é…ç½®å¼€ç®±å³ç”¨
- ðŸŽ¯ **æ›´å¥½çš„ä¼˜åŒ–**: å†…ç½®çš„æ€§èƒ½ä¼˜åŒ–

### ç»´æŠ¤æˆæœ¬é™ä½Ž

- ðŸ› ï¸ **ç»Ÿä¸€çš„å·¥å…·é“¾**: å‡å°‘å·¥å…·å¤æ‚æ€§
- ðŸ“š **æ›´å¥½çš„æ–‡æ¡£**: æ¸…æ™°çš„é¡¹ç›®ç»“æž„
- ðŸ”„ **è‡ªåŠ¨åŒ–æµç¨‹**: å‡å°‘æ‰‹åŠ¨æ“ä½œ
- ðŸ§ª **æ›´å¥½çš„æµ‹è¯•**: é›†æˆçš„æµ‹è¯•å·¥å…·

## ðŸŽ‰ é‡æž„å®ŒæˆåŽ

### éªŒè¯æ­¥éª¤

1. **åŠŸèƒ½éªŒè¯**: ç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
2. **æ€§èƒ½æµ‹è¯•**: éªŒè¯æ€§èƒ½æå‡
3. **å…¼å®¹æ€§æµ‹è¯•**: ç¡®ä¿å‘åŽå…¼å®¹
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡æ¡£

### å›¢é˜ŸåŸ¹è®­

1. **æ–°å·¥å…·ä»‹ç»**: ä»‹ç» Vite çš„ç‰¹æ€§å’Œç”¨æ³•
2. **æ–°æµç¨‹åŸ¹è®­**: åŸ¹è®­æ–°çš„å¼€å‘å’Œæž„å»ºæµç¨‹
3. **æœ€ä½³å®žè·µ**: åˆ†äº«é‡æž„åŽçš„æœ€ä½³å®žè·µ
4. **é—®é¢˜è§£ç­”**: è§£ç­”å›¢é˜Ÿæˆå‘˜çš„ç–‘é—®

### æŒç»­ä¼˜åŒ–

1. **æ€§èƒ½ç›‘æŽ§**: æŒç»­ç›‘æŽ§æž„å»ºå’Œè¿è¡Œæ€§èƒ½
2. **å·¥å…·æ›´æ–°**: ä¿æŒå·¥å…·é“¾çš„æœ€æ–°ç‰ˆæœ¬
3. **æµç¨‹æ”¹è¿›**: æ ¹æ®ä½¿ç”¨åé¦ˆæŒç»­æ”¹è¿›
4. **æ–‡æ¡£ç»´æŠ¤**: ä¿æŒæ–‡æ¡£çš„åŠæ—¶æ›´æ–°

## ðŸ“ž æ”¯æŒå’Œå¸®åŠ©

å¦‚æžœåœ¨é‡æž„è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**: å‚è€ƒæœ¬æŒ‡å—å’Œç›¸å…³æ–‡æ¡£
2. **æ£€æŸ¥æ—¥å¿—**: æŸ¥çœ‹æž„å»ºå’Œè¿è¡Œæ—¥å¿—
3. **ç¤¾åŒºæ±‚åŠ©**: åœ¨ GitHub Issues ä¸­æé—®
4. **å›¢é˜Ÿåä½œ**: ä¸Žå›¢é˜Ÿæˆå‘˜åä½œè§£å†³

é‡æž„æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦å›¢é˜Ÿçš„å…±åŒåŠªåŠ›å’ŒæŒç»­æ”¹è¿›ã€‚
