# 需求文档

## 简介

Flutter Toolbox 是一个跨平台的前端开发工具箱应用，基于 Flutter 构建，支持 Windows、Linux 和 macOS 平台。该应用提供项目管理、Node.js 环境管理、Git 管理、SVG 资源管理、字体管理等功能，帮助前端开发者高效管理开发环境和项目资源。应用采用后台管理系统布局，左侧为导航菜单，右侧为内容区域，支持主题切换、暗黑模式和多语言功能。

## 术语表

- **工具箱 (Toolbox)**: 本应用的名称，指 Flutter Toolbox 前端工具箱应用
- **项目 (Project)**: 用户本地计算机上的前端项目目录
- **Node 环境**: 用户计算机上安装的 Node.js 运行环境
- **Git 环境**: 用户计算机上安装的 Git 版本控制系统
- **SVG 资源**: 可缩放矢量图形文件资源
- **字体资源**: 字体文件资源
- **主题 (Theme)**: 应用的视觉主题，包括颜色方案
- **暗黑模式**: 应用的深色显示模式
- **语言区域 (Locale)**: 应用的语言区域设置
- **持久化存储**: 应用的本地持久化存储机制

## 需求列表

### 需求 1：应用框架与导航

**用户故事：** 作为开发者，我希望有一个简洁的后台管理风格布局，左侧是导航菜单，右侧是内容区域，以便我能轻松访问不同的工具模块。

#### 验收标准

1. WHEN 工具箱启动时 THEN 工具箱 SHALL 在左侧显示导航菜单，右侧显示内容区域
2. WHEN 用户点击菜单项时 THEN 工具箱 SHALL 导航到对应的模块页面并高亮当前菜单项
3. WHEN 工具箱在不同平台（Windows、Linux、macOS）运行时 THEN 工具箱 SHALL 适配平台特定的窗口装饰和行为
4. WHEN 窗口大小改变时 THEN 工具箱 SHALL 保持响应式布局并遵守最小窗口尺寸限制

### 需求 2：首页仪表盘

**用户故事：** 作为开发者，我希望有一个首页仪表盘显示概览信息，以便我能快速了解开发环境的状态。

#### 验收标准

1. WHEN 用户导航到首页时 THEN 工具箱 SHALL 显示摘要卡片，包括项目数量、Node.js 版本、Git 版本和资源数量
2. WHEN 环境信息发生变化时 THEN 工具箱 SHALL 更新仪表盘卡片以反映当前状态
3. WHEN 用户点击摘要卡片时 THEN 工具箱 SHALL 导航到对应的详情模块

### 需求 3：项目管理

**用户故事：** 作为开发者，我希望管理我的本地项目，以便我能快速访问和分析项目信息。

#### 验收标准

1. WHEN 用户点击"添加项目"时 THEN 工具箱 SHALL 打开目录选择器让用户选择本地项目文件夹
2. WHEN 选择项目目录后 THEN 工具箱 SHALL 分析目录结构和 package.json 以提取项目元数据（名称、版本、依赖、脚本、框架类型）
3. WHEN 项目分析完成后 THEN 工具箱 SHALL 将项目信息持久化到本地存储
4. WHEN 工具箱重启时 THEN 工具箱 SHALL 从持久化存储中恢复之前添加的项目
5. WHEN 用户点击项目列表中的项目时 THEN 工具箱 SHALL 导航到项目详情页面显示完整的项目信息
6. WHEN 用户移除项目时 THEN 工具箱 SHALL 从列表和持久化存储中删除该项目
7. WHEN 显示项目列表时 THEN 工具箱 SHALL 展示项目名称、路径、框架类型和最后访问时间

### 需求 4：Node.js 环境管理

**用户故事：** 作为开发者，我希望查看和管理我的 Node.js 安装情况，以便确保开发环境配置正确。

#### 验收标准

1. WHEN 用户导航到 Node 管理页面时 THEN 工具箱 SHALL 检测并显示已安装的 Node.js 版本
2. WHEN 用户导航到 Node 管理页面时 THEN 工具箱 SHALL 检测并显示已安装的 npm/pnpm/yarn 版本
3. WHEN 用户导航到 Node 管理页面时 THEN 工具箱 SHALL 显示 Node.js 安装路径
4. WHEN 用户导航到 Node 管理页面时 THEN 工具箱 SHALL 显示全局 npm 包列表
5. WHEN Node.js 未安装时 THEN 工具箱 SHALL 显示提示信息说明 Node.js 未找到并提供安装指引

### 需求 5：Git 环境管理

**用户故事：** 作为开发者，我希望查看我的 Git 安装信息，以便验证版本控制环境的配置。

#### 验收标准

1. WHEN 用户导航到 Git 管理页面时 THEN 工具箱 SHALL 检测并显示已安装的 Git 版本
2. WHEN 用户导航到 Git 管理页面时 THEN 工具箱 SHALL 显示 Git 全局配置（user.name、user.email）
3. WHEN 用户导航到 Git 管理页面时 THEN 工具箱 SHALL 显示 Git 安装路径
4. WHEN Git 未安装时 THEN 工具箱 SHALL 显示提示信息说明 Git 未找到并提供安装指引

### 需求 6：SVG 资源管理

**用户故事：** 作为开发者，我希望管理 SVG 文件，以便组织和预览项目中的矢量图形。

#### 验收标准

1. WHEN 用户添加 SVG 文件或文件夹时 THEN 工具箱 SHALL 导入并编目 SVG 资源
2. WHEN 显示 SVG 资源时 THEN 工具箱 SHALL 为每个 SVG 文件渲染预览缩略图
3. WHEN 用户点击 SVG 资源时 THEN 工具箱 SHALL 显示详情视图，包含文件信息和完整预览
4. WHEN 用户搜索 SVG 资源时 THEN 工具箱 SHALL 按文件名过滤列表
5. WHEN 用户导出 SVG 时 THEN 工具箱 SHALL 将 SVG 内容或文件路径复制到剪贴板

### 需求 7：字体资源管理

**用户故事：** 作为开发者，我希望管理字体文件，以便组织和预览项目中的字体。

#### 验收标准

1. WHEN 用户添加字体文件或文件夹时 THEN 工具箱 SHALL 导入并编目字体资源
2. WHEN 显示字体资源时 THEN 工具箱 SHALL 使用每种字体渲染预览文本
3. WHEN 用户点击字体资源时 THEN 工具箱 SHALL 显示详情视图，包含字体元数据和字符预览
4. WHEN 用户搜索字体资源时 THEN 工具箱 SHALL 按字体名称或文件名过滤列表
5. WHEN 用户自定义预览文本时 THEN 工具箱 SHALL 使用自定义文本更新所有字体预览

### 需求 8：主题与外观

**用户故事：** 作为开发者，我希望自定义应用外观，以便在不同光照条件下舒适地工作。

#### 验收标准

1. WHEN 用户选择主题颜色时 THEN 工具箱 SHALL 在整个应用中应用所选的主色调
2. WHEN 用户切换暗黑模式时 THEN 工具箱 SHALL 在亮色和暗色配色方案之间切换
3. WHEN 主题设置改变时 THEN 工具箱 SHALL 持久化设置并在下次启动时恢复
4. WHEN 系统主题改变时 THEN 工具箱 SHALL 可选择跟随系统主题偏好

### 需求 9：国际化多语言

**用户故事：** 作为开发者，我希望使用我偏好的语言使用应用，以便清楚理解所有界面元素。

#### 验收标准

1. WHEN 用户选择语言时 THEN 工具箱 SHALL 以所选语言显示所有 UI 文本
2. WHEN 工具箱启动时 THEN 工具箱 SHALL 默认使用系统语言（如果支持），否则使用英语
3. WHEN 语言设置改变时 THEN 工具箱 SHALL 持久化设置并在下次启动时恢复
4. 工具箱 SHALL 至少支持英语和简体中文两种语言

### 需求 10：全局设置

**用户故事：** 作为开发者，我希望有一个集中的设置页面，以便配置应用行为和各模块的特定选项。

#### 验收标准

1. WHEN 用户导航到设置页面时 THEN 工具箱 SHALL 显示分类的配置选项
2. WHEN 用户修改设置时 THEN 工具箱 SHALL 立即应用更改并持久化
3. WHEN 显示设置时 THEN 工具箱 SHALL 按类别分组选项（通用、外观、项目、Node、Git、资源）
4. WHEN 用户重置设置时 THEN 工具箱 SHALL 将所有选项恢复为默认值

### 需求 11：数据持久化

**用户故事：** 作为开发者，我希望我的数据和设置在会话之间持久保存，以便不会丢失配置和项目列表。

#### 验收标准

1. WHEN 工具箱存储数据时 THEN 工具箱 SHALL 使用平台适当的本地存储机制
2. WHEN 工具箱读取持久化数据时 THEN 工具箱 SHALL 优雅地处理缺失或损坏的数据，回退到默认值
3. WHEN 序列化数据进行存储时 THEN 工具箱 SHALL 使用 JSON 格式
4. WHEN 从存储反序列化数据时 THEN 工具箱 SHALL 正确验证和解析 JSON，产生等效对象（往返一致性）

### 需求 12：跨平台兼容性

**用户故事：** 作为开发者，我希望应用在 Windows、Linux 和 macOS 上一致运行，以便在任何开发机器上使用它。

#### 验收标准

1. WHEN 在 Windows 上运行时 THEN 工具箱 SHALL 使用 Windows 适当的文件路径和系统命令
2. WHEN 在 Linux 上运行时 THEN 工具箱 SHALL 使用 Linux 适当的文件路径和系统命令
3. WHEN 在 macOS 上运行时 THEN 工具箱 SHALL 使用 macOS 适当的文件路径和系统命令
4. WHEN 执行系统命令时 THEN 工具箱 SHALL 处理平台特定的命令语法差异
