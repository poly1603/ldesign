<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picker 3Dæ•ˆæœä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        .test-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .test-item h3 {
            color: #444;
            margin-bottom: 15px;
            font-size: 18px;
        }
        .test-item .description {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        .controls {
            background: #f0f4f8;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .controls h3 {
            margin-bottom: 15px;
            color: #333;
        }
        .control-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }
        .control-group label {
            min-width: 150px;
            color: #555;
        }
        .control-group input {
            flex: 1;
        }
        .control-group output {
            min-width: 60px;
            font-weight: bold;
            color: #764ba2;
        }
        .tips {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 12px;
            padding: 20px;
            color: #333;
        }
        .tips h3 {
            margin-bottom: 10px;
        }
        .tips ul {
            margin: 0;
            padding-left: 20px;
        }
        .tips li {
            margin-bottom: 8px;
        }
        
        /* è‡ªå®šä¹‰pickeræ ·å¼ */
        ldesign-picker {
            margin: 0 auto;
            display: block;
        }
        
        /* æš—è‰²ä¸»é¢˜æµ‹è¯• */
        .dark-theme {
            background: #1a1a2e;
            color: white;
        }
        .dark-theme h3 {
            color: white;
        }
        .dark-theme .description {
            color: #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ Picker 3Dæ•ˆæœä¿®å¤æµ‹è¯•</h1>
        <p class="subtitle">æµ‹è¯•ä¸åŒvisible-itemsé…ç½®ä¸‹çš„3Dæ˜¾ç¤ºå’Œæ¸å˜é®ç½©æ•ˆæœ</p>

        <div class="controls">
            <h3>ğŸ›ï¸ åŠ¨æ€è°ƒæ•´å‚æ•°</h3>
            <div class="control-group">
                <label>å¯è§é¡¹æ•°é‡ï¼š</label>
                <input type="range" id="visibleItems" min="1" max="9" value="3" step="2">
                <output id="visibleItemsValue">3</output>
            </div>
            <div class="control-group">
                <label>å®¹å™¨é«˜åº¦ï¼š</label>
                <input type="range" id="containerHeight" min="120" max="400" value="200" step="20">
                <output id="containerHeightValue">200px</output>
            </div>
            <div class="control-group">
                <label>3Dæ•ˆæœå¼ºåº¦ï¼š</label>
                <input type="range" id="effect3d" min="0" max="100" value="100" step="10">
                <output id="effect3dValue">100%</output>
            </div>
            <div class="control-group">
                <label>é®ç½©é€æ˜åº¦ï¼š</label>
                <input type="range" id="maskOpacity" min="0" max="100" value="95" step="5">
                <output id="maskOpacityValue">95%</output>
            </div>
        </div>

        <div class="test-grid">
            <div class="test-item">
                <h3>å°‘é‡é¡¹ç›® (3é¡¹)</h3>
                <p class="description">æµ‹è¯•3ä¸ªå¯è§é¡¹æ—¶çš„3Dåˆ†å¸ƒæ•ˆæœ<br>åº”è¯¥å‡åŒ€åˆ†æ•£ï¼Œä¸èšé›†</p>
                <ldesign-picker 
                    id="picker1"
                    visible-items="3"
                    container-height="200"
                    enable-3d="true"
                    value="2">
                </ldesign-picker>
            </div>

            <div class="test-item">
                <h3>æ ‡å‡†é¡¹ç›® (5é¡¹)</h3>
                <p class="description">æµ‹è¯•5ä¸ªå¯è§é¡¹æ—¶çš„3Dæ•ˆæœ<br>ç»å…¸iOSé£æ ¼çš„åœ†æŸ±æ•ˆæœ</p>
                <ldesign-picker 
                    id="picker2"
                    visible-items="5"
                    container-height="200"
                    enable-3d="true"
                    value="3">
                </ldesign-picker>
            </div>

            <div class="test-item">
                <h3>å¤šé¡¹ç›® (7é¡¹)</h3>
                <p class="description">æµ‹è¯•7ä¸ªå¯è§é¡¹æ—¶çš„æ˜¾ç¤º<br>æ›´å¤šé¡¹ç›®çš„3Då±‚æ¬¡æ„Ÿ</p>
                <ldesign-picker 
                    id="picker3"
                    visible-items="7"
                    container-height="280"
                    enable-3d="true"
                    value="4">
                </ldesign-picker>
            </div>

            <div class="test-item dark-theme">
                <h3>æš—è‰²ä¸»é¢˜</h3>
                <p class="description">æµ‹è¯•æš—è‰²ä¸»é¢˜ä¸‹çš„æ¸å˜é®ç½©<br>é®ç½©åº”è¯¥é€‚é…æš—è‰²èƒŒæ™¯</p>
                <ldesign-picker 
                    id="picker4"
                    theme="dark"
                    visible-items="5"
                    container-height="200"
                    enable-3d="true"
                    value="3">
                </ldesign-picker>
            </div>

            <div class="test-item">
                <h3>å°å®¹å™¨é«˜åº¦</h3>
                <p class="description">æµ‹è¯•å°é«˜åº¦å®¹å™¨çš„3Dæ•ˆæœ<br>åŠå¾„åº”è‡ªåŠ¨è°ƒæ•´</p>
                <ldesign-picker 
                    id="picker5"
                    visible-items="3"
                    container-height="120"
                    enable-3d="true"
                    value="2">
                </ldesign-picker>
            </div>

            <div class="test-item">
                <h3>å¤§å®¹å™¨é«˜åº¦</h3>
                <p class="description">æµ‹è¯•å¤§é«˜åº¦å®¹å™¨çš„3Dæ•ˆæœ<br>é¡¹ç›®é—´è·åº”åˆç†</p>
                <ldesign-picker 
                    id="picker6"
                    visible-items="5"
                    container-height="400"
                    enable-3d="true"
                    value="3">
                </ldesign-picker>
            </div>
        </div>

        <div class="tips">
            <h3>ğŸ“ é‡ç‚¹éªŒè¯é¡¹</h3>
            <ul>
                <li><strong>3Dé¡¹ç›®é—´è·ï¼š</strong>å°‘é‡é¡¹ç›®ï¼ˆå¦‚3ä¸ªï¼‰æ—¶ï¼Œé¡¹ç›®åº”è¯¥å‡åŒ€åˆ†æ•£ï¼Œä¸åº”èšé›†æˆä¸€å›¢</li>
                <li><strong>æ¸å˜é®ç½©æ˜¾ç¤ºï¼š</strong>é¡¶éƒ¨å’Œåº•éƒ¨åº”è¯¥æœ‰æ˜æ˜¾çš„æ¸å˜é®ç½©æ•ˆæœï¼Œè®©è¾¹ç¼˜é¡¹ç›®æ·¡å‡º</li>
                <li><strong>åœ†æŸ±åŠå¾„é€‚é…ï¼š</strong>ä¸åŒå®¹å™¨é«˜åº¦ä¸‹ï¼Œ3Dåœ†æŸ±åŠå¾„åº”è‡ªåŠ¨è°ƒæ•´ï¼Œä¿æŒè‰¯å¥½çš„è§†è§‰æ•ˆæœ</li>
                <li><strong>æš—è‰²ä¸»é¢˜é®ç½©ï¼š</strong>æš—è‰²ä¸»é¢˜ä¸‹ï¼Œé®ç½©åº”è¯¥æ˜¯æš—è‰²æ¸å˜ï¼Œä¸èƒŒæ™¯èåˆ</li>
                <li><strong>æ»šåŠ¨æµç•…æ€§ï¼š</strong>æ‹–åŠ¨æ—¶3Då˜æ¢åº”è¯¥æµç•…ï¼Œæ— å¡é¡¿æˆ–æŠ–åŠ¨</li>
                <li><strong>é€‰ä¸­é¡¹å±…ä¸­ï¼š</strong>å½“å‰é€‰ä¸­é¡¹åº”è¯¥å§‹ç»ˆä½äºå®¹å™¨ä¸­å¿ƒï¼Œæ— æ—‹è½¬è§’åº¦</li>
            </ul>
        </div>
    </div>

    <script type="module">
        // åŠ è½½ç»„ä»¶
        import './packages/webcomponent/dist/ldesign.js';

        // ç­‰å¾…ç»„ä»¶åŠ è½½
        customElements.whenDefined('ldesign-picker').then(() => {
            // åˆå§‹åŒ–æ‰€æœ‰pickerçš„æ•°æ®
            const months = [
                { value: '1', label: 'ä¸€æœˆ' },
                { value: '2', label: 'äºŒæœˆ' },
                { value: '3', label: 'ä¸‰æœˆ' },
                { value: '4', label: 'å››æœˆ' },
                { value: '5', label: 'äº”æœˆ' },
                { value: '6', label: 'å…­æœˆ' },
                { value: '7', label: 'ä¸ƒæœˆ' },
                { value: '8', label: 'å…«æœˆ' },
                { value: '9', label: 'ä¹æœˆ' },
                { value: '10', label: 'åæœˆ' },
                { value: '11', label: 'åä¸€æœˆ' },
                { value: '12', label: 'åäºŒæœˆ' }
            ];

            // è®¾ç½®æ‰€æœ‰pickerçš„æ•°æ®
            const pickers = document.querySelectorAll('ldesign-picker');
            pickers.forEach(picker => {
                picker.data = months;
            });

            // åŠ¨æ€æ§åˆ¶åŠŸèƒ½
            const visibleItemsSlider = document.getElementById('visibleItems');
            const visibleItemsValue = document.getElementById('visibleItemsValue');
            const containerHeightSlider = document.getElementById('containerHeight');
            const containerHeightValue = document.getElementById('containerHeightValue');
            const effect3dSlider = document.getElementById('effect3d');
            const effect3dValue = document.getElementById('effect3dValue');
            const maskOpacitySlider = document.getElementById('maskOpacity');
            const maskOpacityValue = document.getElementById('maskOpacityValue');

            // æ›´æ–°å¯è§é¡¹æ•°é‡
            visibleItemsSlider.addEventListener('input', (e) => {
                const value = e.target.value;
                visibleItemsValue.textContent = value;
                
                // æ›´æ–°ç¬¬ä¸€ä¸ªpickerä½œä¸ºåŠ¨æ€æµ‹è¯•
                const picker1 = document.getElementById('picker1');
                picker1.visibleItems = parseInt(value);
            });

            // æ›´æ–°å®¹å™¨é«˜åº¦
            containerHeightSlider.addEventListener('input', (e) => {
                const value = e.target.value;
                containerHeightValue.textContent = value + 'px';
                
                const picker1 = document.getElementById('picker1');
                picker1.containerHeight = parseInt(value);
            });

            // æ›´æ–°3Dæ•ˆæœå¼ºåº¦
            effect3dSlider.addEventListener('input', (e) => {
                const value = e.target.value;
                effect3dValue.textContent = value + '%';
                
                const picker1 = document.getElementById('picker1');
                // é€šè¿‡CSSå˜é‡è°ƒæ•´3Dæ•ˆæœå¼ºåº¦
                const factor = value / 100;
                picker1.style.setProperty('--ldesign-picker-3d-scale-min', 0.85 + (1 - 0.85) * (1 - factor));
                picker1.style.setProperty('--ldesign-picker-3d-opacity-min', 0.6 + (1 - 0.6) * (1 - factor));
            });

            // æ›´æ–°é®ç½©é€æ˜åº¦
            maskOpacitySlider.addEventListener('input', (e) => {
                const value = e.target.value;
                maskOpacityValue.textContent = value + '%';
                
                // æ›´æ–°æ‰€æœ‰pickerçš„é®ç½©é€æ˜åº¦
                pickers.forEach(picker => {
                    const masks = picker.shadowRoot.querySelectorAll('.ldesign-picker__mask');
                    masks.forEach(mask => {
                        mask.style.opacity = value / 100;
                    });
                });
            });

            // ç›‘å¬é€‰æ‹©å˜åŒ–
            pickers.forEach((picker, index) => {
                picker.addEventListener('change', (e) => {
                    console.log(`Picker ${index + 1} é€‰ä¸­:`, e.detail);
                });
            });
        });
    </script>
</body>
</html>