#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks for @ldesign/cache..."

# 切换到cache包目录
cd packages/cache

# 1. 类型检查
echo "📝 Type checking..."
pnpm type-check || exit 1

# 2. 代码检查
echo "🔍 Linting..."
pnpm lint || exit 1

# 3. 格式化检查
echo "💅 Format checking..."
pnpm format:check || exit 1

# 4. 运行测试
echo "🧪 Running tests..."
pnpm test:run || exit 1

# 5. 构建检查
echo "🏗️ Build check..."
pnpm build || exit 1

echo "✅ All pre-commit checks passed!"
