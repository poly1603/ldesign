# @ldesign/cache 项目总览

## 项目简介

@ldesign/cache 是一个功能强大、智能高效的浏览器缓存管理器库，专为现代 Web 应用设计。它提供了统一的
API 来管理多种浏览器存储方式，并通过智能策略自动选择最适合的存储引擎。

## 主要功能

### 1. 多存储引擎支持

- **localStorage** - 持久化存储，适合配置信息、用户偏好等
- **sessionStorage** - 会话级存储，适合临时数据、表单状态等
- **Cookie** - 服务器交互数据，适合认证令牌、跨域数据等
- **IndexedDB** - 大容量结构化存储，适合大数据集、离线数据等
- **Memory** - 内存缓存，适合高频访问、临时计算结果等

### 2. 智能存储策略

- **数据大小感知** - 根据数据大小自动选择合适的存储引擎
- **TTL 优化** - 根据过期时间选择最优存储方式
- **类型识别** - 根据数据类型特征进行存储优化
- **性能权衡** - 综合考虑访问频率、存储成本等因素

### 3. 安全特性

- **键名混淆** - 防止键名泄露，支持哈希、Base64 等算法
- **数据加密** - AES 加密保护敏感数据
- **自定义算法** - 支持自定义加密和混淆算法
- **完整性验证** - 数据完整性检查和验证

### 4. Vue 3 深度集成

- **组合式函数** - `useCache()` 提供响应式缓存管理
- **响应式缓存** - 自动同步缓存与组件状态
- **统计监控** - `useCacheStats()` 实时监控缓存性能
- **组件支持** - `CacheProvider` 提供全局缓存上下文

## 技术特点

### 1. TypeScript 优先

- 完整的类型定义和类型安全
- 智能代码提示和错误检查
- 泛型支持，确保类型一致性

### 2. 现代化架构

- 基于 Promise 的异步 API
- 事件驱动的架构设计
- 模块化和可扩展的设计

### 3. 高性能设计

- 智能内存管理和垃圾回收
- 批量操作和并发优化
- 最小化序列化开销

### 4. 开发体验

- 丰富的调试信息和错误提示
- 详细的文档和示例
- 完善的测试覆盖

## 核心优势

### 1. 开箱即用

- 零配置启动，合理的默认设置
- 自动检测浏览器支持情况
- 优雅的降级处理

### 2. 智能化

- 自动选择最优存储引擎
- 智能的过期时间管理
- 自适应的性能优化

### 3. 安全性

- 多层安全防护机制
- 灵活的加密配置
- 防止数据泄露和篡改

### 4. 易用性

- 简洁直观的 API 设计
- 丰富的使用示例
- 完善的错误处理

## 应用场景

### 1. 企业级应用

- 用户会话管理
- 权限信息缓存
- 业务数据暂存
- 离线功能支持

### 2. 电商平台

- 购物车状态保持
- 商品信息缓存
- 用户浏览历史
- 个性化推荐数据

### 3. 内容管理系统

- 编辑器状态保存
- 草稿自动保存
- 媒体文件缓存
- 用户偏好设置

### 4. 数据可视化

- 图表配置缓存
- 大数据集存储
- 用户交互状态
- 计算结果缓存

## 技术栈

- **核心语言**: TypeScript
- **构建工具**: Rollup
- **测试框架**: Vitest + Playwright
- **文档工具**: VitePress
- **包管理**: pnpm
- **代码规范**: ESLint + Prettier

## 项目结构

```
packages/cache/
├── src/                    # 源代码
│   ├── core/              # 核心缓存管理器
│   ├── engines/           # 存储引擎实现
│   ├── strategies/        # 智能存储策略
│   ├── security/          # 安全功能
│   ├── vue/               # Vue 3 集成
│   ├── types/             # TypeScript 类型定义
│   └── utils/             # 工具函数
├── __tests__/             # 单元测试
├── e2e/                   # E2E 测试
├── docs/                  # VitePress 文档
├── examples/              # 示例项目
└── summary/               # 项目总结文档
```

## 设计理念

### 1. 用户体验优先

- 简单易用的 API 设计
- 智能化的默认行为
- 优雅的错误处理

### 2. 性能至上

- 最小化运行时开销
- 智能的存储选择
- 高效的内存管理

### 3. 安全可靠

- 多层安全防护
- 数据完整性保证
- 隐私保护机制

### 4. 可扩展性

- 模块化的架构设计
- 插件化的扩展机制
- 灵活的配置选项

## 版本规划

### v0.1.0 (当前版本)

- ✅ 基础缓存管理功能
- ✅ 多存储引擎支持
- ✅ 智能存储策略
- ✅ 安全特性实现
- ✅ Vue 3 集成
- ✅ 基础测试覆盖

### v0.2.0 (计划中)

- 🔄 更多存储引擎（WebSQL、FileSystem API）
- 🔄 高级缓存策略（LRU、LFU）
- 🔄 性能监控和分析
- 🔄 更完善的 Vue 组件

### v1.0.0 (未来版本)

- 🔄 生产环境优化
- 🔄 完整的浏览器兼容性
- 🔄 企业级功能支持
- 🔄 完善的文档和示例

## 贡献指南

我们欢迎社区贡献！请查看 [贡献指南](../../CONTRIBUTING.md) 了解如何参与项目开发。

### 开发环境设置

```bash
# 克隆项目
git clone https://github.com/ldesign/ldesign.git
cd ldesign/packages/cache

# 安装依赖
pnpm install

# 开发模式
pnpm dev

# 运行测试
pnpm test

# 构建项目
pnpm build
```

## 许可证

本项目采用 [MIT 许可证](./LICENSE)，你可以自由使用、修改和分发。
