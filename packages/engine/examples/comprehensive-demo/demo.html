<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LDesign Engine - ç»¼åˆåŠŸèƒ½æ¼”ç¤º</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f5f7fa;
      min-height: 100vh;
      color: #333;
      overflow-x: hidden;
    }
    
    .app-container {
      display: flex;
      min-height: 100vh;
    }
    
    /* å·¦ä¾§å¯¼èˆªæ  */
    .sidebar {
      width: 280px;
      background: white;
      box-shadow: 2px 0 8px rgba(0,0,0,0.1);
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 1000;
    }
    
    .sidebar-header {
      padding: 24px 20px;
      border-bottom: 1px solid #e9ecef;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    .sidebar-header h1 {
      font-size: 1.5rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .sidebar-header p {
      font-size: 0.9rem;
      opacity: 0.9;
      margin-top: 4px;
    }
    
    .nav-menu {
      padding: 16px 0;
    }
    
    .nav-item {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: #495057;
      text-decoration: none;
      transition: all 0.2s ease;
      cursor: pointer;
      border: none;
      background: none;
      width: 100%;
      text-align: left;
    }
    
    .nav-item:hover {
      background: #f8f9fa;
      color: #667eea;
    }
    
    .nav-item.active {
      background: #667eea;
      color: white;
      position: relative;
    }
    
    .nav-item.active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: #4c63d2;
    }
    
    .nav-item-icon {
      width: 20px;
      height: 20px;
      margin-right: 12px;
      font-size: 16px;
    }
    
    .nav-item-text {
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    /* ä¸»å†…å®¹åŒºåŸŸ */
    .main-content {
      flex: 1;
      margin-left: 280px;
      padding: 24px;
      background: #f5f7fa;
    }
    
    .content-header {
      background: white;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 24px;
    }
    
    .content-header h2 {
      font-size: 1.75rem;
      color: #2d3748;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .content-header p {
      color: #718096;
      font-size: 1rem;
      line-height: 1.6;
    }
    
    .content-body {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    .demo-section {
      display: none;
    }
    
    .demo-section.active {
      display: block;
    }
    
    .section-content {
      padding: 24px;
    }
    
    /* æ¼”ç¤ºç»„ä»¶æ ·å¼ */
    .demo-card {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }
    
    .demo-card h4 {
      color: #495057;
      margin-bottom: 16px;
      font-size: 1.1rem;
    }
    
    .form-group {
      margin-bottom: 16px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: #495057;
    }
    
    .form-control {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ced4da;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.2s ease;
    }
    
    .form-control:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
    }
    
    .btn {
      padding: 10px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
      margin-right: 8px;
      margin-bottom: 8px;
    }
    
    .btn-primary {
      background: #667eea;
      color: white;
    }
    
    .btn-primary:hover {
      background: #5a6fd8;
    }
    
    .btn-secondary {
      background: #6c757d;
      color: white;
    }
    
    .btn-secondary:hover {
      background: #5a6268;
    }
    
    .btn-success {
      background: #28a745;
      color: white;
    }
    
    .btn-success:hover {
      background: #218838;
    }
    
    .btn-warning {
      background: #ffc107;
      color: #212529;
    }
    
    .btn-warning:hover {
      background: #e0a800;
    }
    
    .btn-danger {
      background: #dc3545;
      color: white;
    }
    
    .btn-danger:hover {
      background: #c82333;
    }
    
    .alert {
      padding: 12px 16px;
      border-radius: 6px;
      margin-bottom: 16px;
      border: 1px solid transparent;
    }
    
    .alert-success {
      background: #d4edda;
      color: #155724;
      border-color: #c3e6cb;
    }
    
    .alert-error {
      background: #f8d7da;
      color: #721c24;
      border-color: #f5c6cb;
    }
    
    .alert-warning {
      background: #fff3cd;
      color: #856404;
      border-color: #ffeaa7;
    }
    
    .alert-info {
      background: #d1ecf1;
      color: #0c5460;
      border-color: #bee5eb;
    }
    
    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 16px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      overflow-x: auto;
      margin: 16px 0;
    }
    
    .log-area {
      background: #2d3748;
      color: #e2e8f0;
      border-radius: 6px;
      padding: 16px;
      max-height: 300px;
      overflow-y: auto;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      margin-top: 16px;
    }
    
    .log-entry {
      margin-bottom: 4px;
      padding: 2px 0;
    }
    
    .log-entry.success { color: #68d391; }
    .log-entry.error { color: #fc8181; }
    .log-entry.info { color: #63b3ed; }
    .log-entry.warning { color: #f6e05e; }
    
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }
    
    .metric-card {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }
    
    .metric-value {
      font-size: 2rem;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 4px;
    }
    
    .metric-label {
      font-size: 0.9rem;
      color: #6c757d;
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }
      
      .sidebar.open {
        transform: translateX(0);
      }
      
      .main-content {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- å·¦ä¾§å¯¼èˆªæ  -->
    <div class="sidebar">
      <div class="sidebar-header">
        <h1>ğŸš€ LDesign Engine</h1>
        <p>ç»¼åˆåŠŸèƒ½æ¼”ç¤º</p>
      </div>
      
      <nav class="nav-menu">
        <button class="nav-item active" onclick="showSection('overview')">
          <span class="nav-item-icon">ğŸ </span>
          <span class="nav-item-text">èµ·æ­¥</span>
        </button>
        
        <button class="nav-item" onclick="showSection('config')">
          <span class="nav-item-icon">âš™ï¸</span>
          <span class="nav-item-text">é…ç½®ç®¡ç†</span>
        </button>
        
        <button class="nav-item" onclick="showSection('state')">
          <span class="nav-item-icon">ğŸ“Š</span>
          <span class="nav-item-text">çŠ¶æ€ç®¡ç†</span>
        </button>
        
        <button class="nav-item" onclick="showSection('events')">
          <span class="nav-item-icon">ğŸ“¡</span>
          <span class="nav-item-text">äº‹ä»¶ç³»ç»Ÿ</span>
        </button>
        
        <button class="nav-item" onclick="showSection('plugins')">
          <span class="nav-item-icon">ğŸ”Œ</span>
          <span class="nav-item-text">æ’ä»¶ç³»ç»Ÿ</span>
        </button>
        
        <button class="nav-item" onclick="showSection('middleware')">
          <span class="nav-item-icon">ğŸ”—</span>
          <span class="nav-item-text">ä¸­é—´ä»¶</span>
        </button>
        
        <button class="nav-item" onclick="showSection('environment')">
          <span class="nav-item-icon">ğŸŒ</span>
          <span class="nav-item-text">ç¯å¢ƒæ£€æµ‹</span>
        </button>
        
        <button class="nav-item" onclick="showSection('performance')">
          <span class="nav-item-icon">âš¡</span>
          <span class="nav-item-text">æ€§èƒ½ç›‘æ§</span>
        </button>
        
        <button class="nav-item" onclick="showSection('security')">
          <span class="nav-item-icon">ğŸ”’</span>
          <span class="nav-item-text">å®‰å…¨ç®¡ç†</span>
        </button>
        
        <button class="nav-item" onclick="showSection('notifications')">
          <span class="nav-item-icon">ğŸ””</span>
          <span class="nav-item-text">é€šçŸ¥ç³»ç»Ÿ</span>
        </button>
      </nav>
    </div>
    
    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
      <!-- èµ·æ­¥é¡µé¢ -->
      <div id="overview" class="demo-section active">
        <div class="content-header">
          <h2>ğŸ  èµ·æ­¥</h2>
          <p>æ¬¢è¿ä½¿ç”¨ LDesign Engine ç»¼åˆåŠŸèƒ½æ¼”ç¤ºï¼è¿™é‡Œå±•ç¤ºäº†å¼•æ“çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å’Œç‰¹æ€§ã€‚</p>
        </div>
        
        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>ğŸ¯ åŠŸèƒ½æ¦‚è§ˆ</h4>
              <p>LDesign Engine æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å‰ç«¯å¼€å‘å¼•æ“ï¼Œæä¾›äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
              <ul style="margin: 16px 0; padding-left: 20px; line-height: 1.8;">
                <li><strong>é…ç½®ç®¡ç†</strong> - åŠ¨æ€é…ç½®ã€ç¯å¢ƒå˜é‡ã€ç±»å‹éªŒè¯</li>
                <li><strong>çŠ¶æ€ç®¡ç†</strong> - å“åº”å¼çŠ¶æ€ã€æ•°æ®æŒä¹…åŒ–ã€çŠ¶æ€å¿«ç…§</li>
                <li><strong>äº‹ä»¶ç³»ç»Ÿ</strong> - å‘å¸ƒè®¢é˜…ã€å‘½åç©ºé—´ã€ä¼˜å…ˆçº§æ§åˆ¶</li>
                <li><strong>æ’ä»¶ç³»ç»Ÿ</strong> - åŠ¨æ€åŠ è½½ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€ä¾èµ–æ³¨å…¥</li>
                <li><strong>ä¸­é—´ä»¶</strong> - è¯·æ±‚æ‹¦æˆªã€å“åº”å¤„ç†ã€é”™è¯¯æ•è·</li>
                <li><strong>ç¯å¢ƒæ£€æµ‹</strong> - è®¾å¤‡ä¿¡æ¯ã€æµè§ˆå™¨ç‰¹æ€§ã€æ€§èƒ½æŒ‡æ ‡</li>
                <li><strong>æ€§èƒ½ç›‘æ§</strong> - å®æ—¶ç›‘æ§ã€æ€§èƒ½åˆ†æã€ä¼˜åŒ–å»ºè®®</li>
                <li><strong>å®‰å…¨ç®¡ç†</strong> - æƒé™æ§åˆ¶ã€æ•°æ®åŠ å¯†ã€å®‰å…¨ç­–ç•¥</li>
                <li><strong>é€šçŸ¥ç³»ç»Ÿ</strong> - å¤šç§ç±»å‹ã€åŠ¨ç”»æ•ˆæœã€ä½ç½®æ§åˆ¶</li>
              </ul>
            </div>
            
            <div class="demo-card">
              <h4>ğŸš€ å¿«é€Ÿå¼€å§‹</h4>
              <p>ç‚¹å‡»å·¦ä¾§å¯¼èˆªèœå•ï¼Œæ¢ç´¢å„ä¸ªåŠŸèƒ½æ¨¡å—çš„è¯¦ç»†æ¼”ç¤ºã€‚æ¯ä¸ªæ¨¡å—éƒ½åŒ…å«ï¼š</p>
              <ul style="margin: 16px 0; padding-left: 20px; line-height: 1.8;">
                <li>åŠŸèƒ½ä»‹ç»å’Œä½¿ç”¨åœºæ™¯</li>
                <li>äº¤äº’å¼æ¼”ç¤ºå’Œä»£ç ç¤ºä¾‹</li>
                <li>å®æ—¶æ—¥å¿—å’ŒçŠ¶æ€åé¦ˆ</li>
                <li>æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹</li>
              </ul>
            </div>
            
            <div class="demo-card">
              <h4>ğŸ“Š ç³»ç»ŸçŠ¶æ€</h4>
              <div class="metrics-grid">
                <div class="metric-card">
                  <div class="metric-value" id="engine-status">è¿è¡Œä¸­</div>
                  <div class="metric-label">å¼•æ“çŠ¶æ€</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="modules-count">10</div>
                  <div class="metric-label">å·²åŠ è½½æ¨¡å—</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="events-count">0</div>
                  <div class="metric-label">äº‹ä»¶æ€»æ•°</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="memory-usage">--</div>
                  <div class="metric-label">å†…å­˜ä½¿ç”¨</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- é…ç½®ç®¡ç†é¡µé¢ -->
      <div id="config" class="demo-section">
        <div class="content-header">
          <h2>âš™ï¸ é…ç½®ç®¡ç†å™¨æ¼”ç¤º</h2>
          <p>ConfigManager æä¾›äº†å¼ºå¤§çš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒåµŒå¥—é…ç½®ã€ç±»å‹éªŒè¯ã€å˜åŒ–ç›‘å¬ç­‰ç‰¹æ€§ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>åŸºç¡€é…ç½®æ“ä½œ</h4>
              <div class="form-group">
                <label>é…ç½®é”®</label>
                <input type="text" class="form-control" id="config-key" value="app.theme" placeholder="è¾“å…¥é…ç½®é”®å">
              </div>
              <div class="form-group">
                <label>é…ç½®å€¼</label>
                <input type="text" class="form-control" id="config-value" value="dark" placeholder="è¾“å…¥é…ç½®å€¼">
              </div>
              <button class="btn btn-primary" onclick="setConfig()">è®¾ç½®é…ç½®</button>
              <button class="btn btn-secondary" onclick="getConfig()">è·å–é…ç½®</button>
              <button class="btn btn-warning" onclick="deleteConfig()">åˆ é™¤é…ç½®</button>
              <div id="config-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>æ‰¹é‡é…ç½®æ“ä½œ</h4>
              <div class="form-group">
                <label>JSON é…ç½®</label>
                <textarea class="form-control" id="batch-config" rows="6" placeholder="è¾“å…¥ JSON æ ¼å¼çš„é…ç½®">{
  "app": {
    "theme": "dark",
    "language": "zh-CN",
    "debug": true
  },
  "api": {
    "baseUrl": "https://api.example.com",
    "timeout": 5000
  }
}</textarea>
              </div>
              <button class="btn btn-primary" onclick="setBatchConfig()">æ‰¹é‡è®¾ç½®</button>
              <button class="btn btn-secondary" onclick="getAllConfig()">è·å–æ‰€æœ‰é…ç½®</button>
              <button class="btn btn-danger" onclick="clearAllConfig()">æ¸…ç©ºé…ç½®</button>
            </div>

            <div class="demo-card">
              <h4>é…ç½®ç›‘å¬</h4>
              <p>ç›‘å¬é…ç½®å˜åŒ–ï¼Œå®æ—¶å“åº”é…ç½®æ›´æ–°ï¼š</p>
              <button class="btn btn-success" onclick="startConfigWatch()">å¼€å§‹ç›‘å¬</button>
              <button class="btn btn-warning" onclick="stopConfigWatch()">åœæ­¢ç›‘å¬</button>
              <div id="config-watch-status" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>å½“å‰é…ç½®çŠ¶æ€</h4>
              <div class="code-block" id="current-config">æš‚æ— é…ç½®</div>
            </div>

            <div class="log-area" id="config-logs"></div>
          </div>
        </div>
      </div>

      <!-- çŠ¶æ€ç®¡ç†é¡µé¢ -->
      <div id="state" class="demo-section">
        <div class="content-header">
          <h2>ğŸ“Š çŠ¶æ€ç®¡ç†å™¨æ¼”ç¤º</h2>
          <p>StateManager æä¾›å“åº”å¼çŠ¶æ€ç®¡ç†ã€æ•°æ®æŒä¹…åŒ–ã€çŠ¶æ€å¿«ç…§ç­‰åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>åŸºç¡€çŠ¶æ€æ“ä½œ</h4>
              <div class="form-group">
                <label>çŠ¶æ€é”®å</label>
                <input type="text" class="form-control" id="state-key" value="user.profile" placeholder="è¾“å…¥çŠ¶æ€é”®å">
              </div>
              <div class="form-group">
                <label>çŠ¶æ€å€¼ (JSON)</label>
                <textarea class="form-control" id="state-value" rows="3" placeholder="è¾“å…¥çŠ¶æ€å€¼">{"name": "å¼ ä¸‰", "age": 25, "role": "admin"}</textarea>
              </div>
              <button class="btn btn-primary" onclick="setState()">è®¾ç½®çŠ¶æ€</button>
              <button class="btn btn-secondary" onclick="getState()">è·å–çŠ¶æ€</button>
              <button class="btn btn-warning" onclick="deleteState()">åˆ é™¤çŠ¶æ€</button>
              <div id="state-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>çŠ¶æ€è®¢é˜…</h4>
              <p>è®¢é˜…çŠ¶æ€å˜åŒ–ï¼Œå®ç°å“åº”å¼æ›´æ–°ï¼š</p>
              <div class="form-group">
                <label>è®¢é˜…é”®å</label>
                <input type="text" class="form-control" id="subscribe-key" value="user.profile" placeholder="è¾“å…¥è¦è®¢é˜…çš„çŠ¶æ€é”®å">
              </div>
              <button class="btn btn-success" onclick="subscribeState()">è®¢é˜…çŠ¶æ€</button>
              <button class="btn btn-warning" onclick="unsubscribeState()">å–æ¶ˆè®¢é˜…</button>
              <div id="subscription-status" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>çŠ¶æ€å¿«ç…§</h4>
              <p>åˆ›å»ºå’Œæ¢å¤çŠ¶æ€å¿«ç…§ï¼š</p>
              <button class="btn btn-primary" onclick="createSnapshot()">åˆ›å»ºå¿«ç…§</button>
              <button class="btn btn-secondary" onclick="restoreSnapshot()">æ¢å¤å¿«ç…§</button>
              <button class="btn btn-danger" onclick="clearSnapshots()">æ¸…ç©ºå¿«ç…§</button>
              <div id="snapshot-info" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>å½“å‰çŠ¶æ€</h4>
              <div class="code-block" id="current-state">æš‚æ— çŠ¶æ€</div>
            </div>

            <div class="log-area" id="state-logs"></div>
          </div>
        </div>
      </div>

      <!-- äº‹ä»¶ç³»ç»Ÿé¡µé¢ -->
      <div id="events" class="demo-section">
        <div class="content-header">
          <h2>ğŸ“¡ äº‹ä»¶ç³»ç»Ÿæ¼”ç¤º</h2>
          <p>EventManager æä¾›å¼ºå¤§çš„äº‹ä»¶å‘å¸ƒè®¢é˜…åŠŸèƒ½ï¼Œæ”¯æŒå‘½åç©ºé—´ã€ä¼˜å…ˆçº§æ§åˆ¶ã€å¼‚æ­¥å¤„ç†ç­‰ç‰¹æ€§ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>äº‹ä»¶å‘å¸ƒ</h4>
              <div class="form-group">
                <label>äº‹ä»¶åç§°</label>
                <input type="text" class="form-control" id="event-name" value="user.login" placeholder="è¾“å…¥äº‹ä»¶åç§°">
              </div>
              <div class="form-group">
                <label>äº‹ä»¶æ•°æ® (JSON)</label>
                <textarea class="form-control" id="event-data" rows="3" placeholder="è¾“å…¥äº‹ä»¶æ•°æ®">{"userId": 123, "username": "å¼ ä¸‰", "timestamp": "2024-01-01T10:00:00Z"}</textarea>
              </div>
              <button class="btn btn-primary" onclick="emitEvent()">å‘å¸ƒäº‹ä»¶</button>
              <button class="btn btn-secondary" onclick="emitAsyncEvent()">å¼‚æ­¥å‘å¸ƒ</button>
              <div id="event-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>äº‹ä»¶è®¢é˜…</h4>
              <div class="form-group">
                <label>è®¢é˜…äº‹ä»¶åç§°</label>
                <input type="text" class="form-control" id="subscribe-event" value="user.login" placeholder="è¾“å…¥è¦è®¢é˜…çš„äº‹ä»¶åç§°">
              </div>
              <div class="form-group">
                <label>ä¼˜å…ˆçº§ (æ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜)</label>
                <input type="number" class="form-control" id="event-priority" value="0" placeholder="è¾“å…¥ä¼˜å…ˆçº§">
              </div>
              <button class="btn btn-success" onclick="subscribeEvent()">è®¢é˜…äº‹ä»¶</button>
              <button class="btn btn-warning" onclick="unsubscribeEvent()">å–æ¶ˆè®¢é˜…</button>
              <div id="subscribe-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>äº‹ä»¶å‘½åç©ºé—´</h4>
              <p>ä½¿ç”¨å‘½åç©ºé—´ç»„ç»‡äº‹ä»¶ï¼š</p>
              <button class="btn btn-primary" onclick="emitNamespacedEvent('user.login')">ç”¨æˆ·ç™»å½•äº‹ä»¶</button>
              <button class="btn btn-primary" onclick="emitNamespacedEvent('user.logout')">ç”¨æˆ·ç™»å‡ºäº‹ä»¶</button>
              <button class="btn btn-primary" onclick="emitNamespacedEvent('system.error')">ç³»ç»Ÿé”™è¯¯äº‹ä»¶</button>
              <button class="btn btn-secondary" onclick="subscribeNamespace('user.*')">è®¢é˜…ç”¨æˆ·äº‹ä»¶</button>
              <button class="btn btn-secondary" onclick="subscribeNamespace('system.*')">è®¢é˜…ç³»ç»Ÿäº‹ä»¶</button>
            </div>

            <div class="demo-card">
              <h4>äº‹ä»¶ç»Ÿè®¡</h4>
              <div class="metrics-grid">
                <div class="metric-card">
                  <div class="metric-value" id="total-events">0</div>
                  <div class="metric-label">æ€»äº‹ä»¶æ•°</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="active-listeners">0</div>
                  <div class="metric-label">æ´»è·ƒç›‘å¬å™¨</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="event-namespaces">0</div>
                  <div class="metric-label">å‘½åç©ºé—´</div>
                </div>
              </div>
            </div>

            <div class="log-area" id="event-logs"></div>
          </div>
        </div>
      </div>

      <!-- æ’ä»¶ç³»ç»Ÿé¡µé¢ -->
      <div id="plugins" class="demo-section">
        <div class="content-header">
          <h2>ğŸ”Œ æ’ä»¶ç³»ç»Ÿæ¼”ç¤º</h2>
          <p>PluginManager æä¾›åŠ¨æ€æ’ä»¶åŠ è½½ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€ä¾èµ–æ³¨å…¥ç­‰åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>æ’ä»¶æ³¨å†Œ</h4>
              <div class="form-group">
                <label>æ’ä»¶åç§°</label>
                <input type="text" class="form-control" id="plugin-name" value="logger-plugin" placeholder="è¾“å…¥æ’ä»¶åç§°">
              </div>
              <div class="form-group">
                <label>æ’ä»¶ç‰ˆæœ¬</label>
                <input type="text" class="form-control" id="plugin-version" value="1.0.0" placeholder="è¾“å…¥æ’ä»¶ç‰ˆæœ¬">
              </div>
              <button class="btn btn-primary" onclick="registerPlugin()">æ³¨å†Œæ’ä»¶</button>
              <button class="btn btn-success" onclick="activatePlugin()">æ¿€æ´»æ’ä»¶</button>
              <button class="btn btn-warning" onclick="deactivatePlugin()">åœç”¨æ’ä»¶</button>
              <button class="btn btn-danger" onclick="unregisterPlugin()">å¸è½½æ’ä»¶</button>
              <div id="plugin-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>é¢„è®¾æ’ä»¶</h4>
              <p>æ¼”ç¤ºä¸€äº›å¸¸ç”¨çš„æ’ä»¶åŠŸèƒ½ï¼š</p>
              <button class="btn btn-primary" onclick="loadPresetPlugin('cache')">ç¼“å­˜æ’ä»¶</button>
              <button class="btn btn-primary" onclick="loadPresetPlugin('validator')">éªŒè¯æ’ä»¶</button>
              <button class="btn btn-primary" onclick="loadPresetPlugin('router')">è·¯ç”±æ’ä»¶</button>
              <button class="btn btn-primary" onclick="loadPresetPlugin('i18n')">å›½é™…åŒ–æ’ä»¶</button>
            </div>

            <div class="demo-card">
              <h4>æ’ä»¶ä¾èµ–</h4>
              <p>æ¼”ç¤ºæ’ä»¶ä¾èµ–å…³ç³»ç®¡ç†ï¼š</p>
              <button class="btn btn-success" onclick="checkDependencies()">æ£€æŸ¥ä¾èµ–</button>
              <button class="btn btn-secondary" onclick="resolveDependencies()">è§£æä¾èµ–</button>
              <div id="dependency-info" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>å·²æ³¨å†Œæ’ä»¶</h4>
              <div class="code-block" id="registered-plugins">æš‚æ— æ’ä»¶</div>
            </div>

            <div class="log-area" id="plugin-logs"></div>
          </div>
        </div>
      </div>

      <!-- ä¸­é—´ä»¶é¡µé¢ -->
      <div id="middleware" class="demo-section">
        <div class="content-header">
          <h2>ğŸ”— ä¸­é—´ä»¶æ¼”ç¤º</h2>
          <p>MiddlewareManager æä¾›è¯·æ±‚æ‹¦æˆªã€å“åº”å¤„ç†ã€é”™è¯¯æ•è·ç­‰ä¸­é—´ä»¶åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>ä¸­é—´ä»¶æ³¨å†Œ</h4>
              <div class="form-group">
                <label>ä¸­é—´ä»¶ç±»å‹</label>
                <select class="form-control" id="middleware-type">
                  <option value="request">è¯·æ±‚ä¸­é—´ä»¶</option>
                  <option value="response">å“åº”ä¸­é—´ä»¶</option>
                  <option value="error">é”™è¯¯ä¸­é—´ä»¶</option>
                </select>
              </div>
              <div class="form-group">
                <label>ä¸­é—´ä»¶åç§°</label>
                <input type="text" class="form-control" id="middleware-name" value="auth-middleware" placeholder="è¾“å…¥ä¸­é—´ä»¶åç§°">
              </div>
              <button class="btn btn-primary" onclick="registerMiddleware()">æ³¨å†Œä¸­é—´ä»¶</button>
              <button class="btn btn-warning" onclick="removeMiddleware()">ç§»é™¤ä¸­é—´ä»¶</button>
              <div id="middleware-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>æ¨¡æ‹Ÿè¯·æ±‚å¤„ç†</h4>
              <div class="form-group">
                <label>è¯·æ±‚URL</label>
                <input type="text" class="form-control" id="request-url" value="/api/users" placeholder="è¾“å…¥è¯·æ±‚URL">
              </div>
              <div class="form-group">
                <label>è¯·æ±‚æ–¹æ³•</label>
                <select class="form-control" id="request-method">
                  <option value="GET">GET</option>
                  <option value="POST">POST</option>
                  <option value="PUT">PUT</option>
                  <option value="DELETE">DELETE</option>
                </select>
              </div>
              <button class="btn btn-primary" onclick="processRequest()">å¤„ç†è¯·æ±‚</button>
              <button class="btn btn-danger" onclick="simulateError()">æ¨¡æ‹Ÿé”™è¯¯</button>
            </div>

            <div class="demo-card">
              <h4>ä¸­é—´ä»¶é“¾</h4>
              <div class="code-block" id="middleware-chain">æš‚æ— ä¸­é—´ä»¶</div>
            </div>

            <div class="log-area" id="middleware-logs"></div>
          </div>
        </div>
      </div>

      <!-- ç¯å¢ƒæ£€æµ‹é¡µé¢ -->
      <div id="environment" class="demo-section">
        <div class="content-header">
          <h2>ğŸŒ ç¯å¢ƒæ£€æµ‹æ¼”ç¤º</h2>
          <p>EnvironmentDetector æä¾›è®¾å¤‡ä¿¡æ¯ã€æµè§ˆå™¨ç‰¹æ€§ã€æ€§èƒ½æŒ‡æ ‡ç­‰ç¯å¢ƒæ£€æµ‹åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>è®¾å¤‡ä¿¡æ¯</h4>
              <button class="btn btn-primary" onclick="detectDevice()">æ£€æµ‹è®¾å¤‡</button>
              <button class="btn btn-secondary" onclick="detectBrowser()">æ£€æµ‹æµè§ˆå™¨</button>
              <button class="btn btn-secondary" onclick="detectOS()">æ£€æµ‹æ“ä½œç³»ç»Ÿ</button>
              <div class="code-block" id="device-info">ç‚¹å‡»æŒ‰é’®æ£€æµ‹è®¾å¤‡ä¿¡æ¯</div>
            </div>

            <div class="demo-card">
              <h4>æµè§ˆå™¨ç‰¹æ€§</h4>
              <button class="btn btn-primary" onclick="checkFeatures()">æ£€æµ‹ç‰¹æ€§æ”¯æŒ</button>
              <button class="btn btn-secondary" onclick="checkPerformance()">æ€§èƒ½æ£€æµ‹</button>
              <div class="code-block" id="feature-support">ç‚¹å‡»æŒ‰é’®æ£€æµ‹æµè§ˆå™¨ç‰¹æ€§</div>
            </div>

            <div class="demo-card">
              <h4>ç½‘ç»œçŠ¶æ€</h4>
              <button class="btn btn-primary" onclick="checkNetwork()">æ£€æµ‹ç½‘ç»œ</button>
              <button class="btn btn-secondary" onclick="measureSpeed()">æµ‹é€Ÿ</button>
              <div class="code-block" id="network-info">ç‚¹å‡»æŒ‰é’®æ£€æµ‹ç½‘ç»œçŠ¶æ€</div>
            </div>

            <div class="log-area" id="environment-logs"></div>
          </div>
        </div>
      </div>

      <!-- æ€§èƒ½ç›‘æ§é¡µé¢ -->
      <div id="performance" class="demo-section">
        <div class="content-header">
          <h2>âš¡ æ€§èƒ½ç›‘æ§æ¼”ç¤º</h2>
          <p>PerformanceMonitor æä¾›å®æ—¶æ€§èƒ½ç›‘æ§ã€å†…å­˜ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®ç­‰åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>æ€§èƒ½ç›‘æ§</h4>
              <button class="btn btn-primary" onclick="startMonitoring()">å¼€å§‹ç›‘æ§</button>
              <button class="btn btn-warning" onclick="stopMonitoring()">åœæ­¢ç›‘æ§</button>
              <button class="btn btn-secondary" onclick="getMetrics()">è·å–æŒ‡æ ‡</button>
              <div id="monitoring-status" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>å®æ—¶æ€§èƒ½æŒ‡æ ‡</h4>
              <div class="metrics-grid">
                <div class="metric-card">
                  <div class="metric-value" id="fps-value">--</div>
                  <div class="metric-label">FPS</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="memory-value">--</div>
                  <div class="metric-label">å†…å­˜ä½¿ç”¨</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="cpu-value">--</div>
                  <div class="metric-label">CPUå ç”¨</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="load-time">--</div>
                  <div class="metric-label">åŠ è½½æ—¶é—´</div>
                </div>
              </div>
            </div>

            <div class="demo-card">
              <h4>æ€§èƒ½åˆ†æ</h4>
              <button class="btn btn-primary" onclick="analyzePerformance()">åˆ†ææ€§èƒ½</button>
              <button class="btn btn-secondary" onclick="generateReport()">ç”ŸæˆæŠ¥å‘Š</button>
              <div class="code-block" id="performance-analysis">ç‚¹å‡»æŒ‰é’®è¿›è¡Œæ€§èƒ½åˆ†æ</div>
            </div>

            <div class="log-area" id="performance-logs"></div>
          </div>
        </div>
      </div>

      <!-- å®‰å…¨ç®¡ç†é¡µé¢ -->
      <div id="security" class="demo-section">
        <div class="content-header">
          <h2>ğŸ”’ å®‰å…¨ç®¡ç†æ¼”ç¤º</h2>
          <p>SecurityManager æä¾›æƒé™æ§åˆ¶ã€æ•°æ®åŠ å¯†ã€å®‰å…¨ç­–ç•¥ç­‰å®‰å…¨ç®¡ç†åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>æƒé™ç®¡ç†</h4>
              <div class="form-group">
                <label>ç”¨æˆ·è§’è‰²</label>
                <select class="form-control" id="user-role">
                  <option value="admin">ç®¡ç†å‘˜</option>
                  <option value="user">æ™®é€šç”¨æˆ·</option>
                  <option value="guest">è®¿å®¢</option>
                </select>
              </div>
              <div class="form-group">
                <label>æƒé™æ“ä½œ</label>
                <input type="text" class="form-control" id="permission-action" value="user.create" placeholder="è¾“å…¥æƒé™æ“ä½œ">
              </div>
              <button class="btn btn-primary" onclick="checkPermission()">æ£€æŸ¥æƒé™</button>
              <button class="btn btn-success" onclick="grantPermission()">æˆäºˆæƒé™</button>
              <button class="btn btn-danger" onclick="revokePermission()">æ’¤é”€æƒé™</button>
              <div id="permission-result" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="demo-card">
              <h4>æ•°æ®åŠ å¯†</h4>
              <div class="form-group">
                <label>åŸå§‹æ•°æ®</label>
                <textarea class="form-control" id="encrypt-data" rows="3" placeholder="è¾“å…¥è¦åŠ å¯†çš„æ•°æ®">è¿™æ˜¯ä¸€æ®µæ•æ„Ÿä¿¡æ¯</textarea>
              </div>
              <button class="btn btn-primary" onclick="encryptData()">åŠ å¯†æ•°æ®</button>
              <button class="btn btn-secondary" onclick="decryptData()">è§£å¯†æ•°æ®</button>
              <div class="code-block" id="encryption-result">åŠ å¯†ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
            </div>

            <div class="demo-card">
              <h4>å®‰å…¨ç­–ç•¥</h4>
              <button class="btn btn-primary" onclick="enableCSP()">å¯ç”¨CSP</button>
              <button class="btn btn-primary" onclick="enableXSS()">XSSé˜²æŠ¤</button>
              <button class="btn btn-primary" onclick="enableCSRF()">CSRFé˜²æŠ¤</button>
              <button class="btn btn-secondary" onclick="auditSecurity()">å®‰å…¨å®¡è®¡</button>
              <div id="security-status" class="alert" style="display: none; margin-top: 16px;"></div>
            </div>

            <div class="log-area" id="security-logs"></div>
          </div>
        </div>
      </div>

      <!-- é€šçŸ¥ç³»ç»Ÿé¡µé¢ -->
      <div id="notifications" class="demo-section">
        <div class="content-header">
          <h2>ğŸ”” é€šçŸ¥ç³»ç»Ÿæ¼”ç¤º</h2>
          <p>NotificationManager æä¾›å¤šç§é€šçŸ¥ç±»å‹ã€åŠ¨ç”»æ•ˆæœã€ä½ç½®æ§åˆ¶ç­‰é€šçŸ¥åŠŸèƒ½ã€‚</p>
        </div>

        <div class="content-body">
          <div class="section-content">
            <div class="demo-card">
              <h4>åŸºç¡€é€šçŸ¥</h4>
              <div class="form-group">
                <label>é€šçŸ¥ç±»å‹</label>
                <select class="form-control" id="notification-type">
                  <option value="success">æˆåŠŸ</option>
                  <option value="error">é”™è¯¯</option>
                  <option value="warning">è­¦å‘Š</option>
                  <option value="info">ä¿¡æ¯</option>
                </select>
              </div>
              <div class="form-group">
                <label>é€šçŸ¥å†…å®¹</label>
                <input type="text" class="form-control" id="notification-message" value="è¿™æ˜¯ä¸€æ¡æµ‹è¯•é€šçŸ¥" placeholder="è¾“å…¥é€šçŸ¥å†…å®¹">
              </div>
              <div class="form-group">
                <label>æ˜¾ç¤ºæ—¶é•¿ (æ¯«ç§’)</label>
                <input type="number" class="form-control" id="notification-duration" value="3000" placeholder="è¾“å…¥æ˜¾ç¤ºæ—¶é•¿">
              </div>
              <button class="btn btn-primary" onclick="showNotification()">æ˜¾ç¤ºé€šçŸ¥</button>
              <button class="btn btn-secondary" onclick="clearNotifications()">æ¸…ç©ºé€šçŸ¥</button>
            </div>

            <div class="demo-card">
              <h4>é€šçŸ¥ä½ç½®</h4>
              <div class="form-group">
                <label>é€šçŸ¥ä½ç½®</label>
                <select class="form-control" id="notification-position">
                  <option value="top-right">å³ä¸Šè§’</option>
                  <option value="top-left">å·¦ä¸Šè§’</option>
                  <option value="bottom-right">å³ä¸‹è§’</option>
                  <option value="bottom-left">å·¦ä¸‹è§’</option>
                  <option value="center">å±…ä¸­</option>
                </select>
              </div>
              <button class="btn btn-primary" onclick="showPositionedNotification()">æ˜¾ç¤ºå®šä½é€šçŸ¥</button>
            </div>

            <div class="demo-card">
              <h4>æ‰¹é‡é€šçŸ¥</h4>
              <button class="btn btn-success" onclick="showBatchNotifications()">æ˜¾ç¤ºæ‰¹é‡é€šçŸ¥</button>
              <button class="btn btn-warning" onclick="showProgressNotification()">è¿›åº¦é€šçŸ¥</button>
              <button class="btn btn-info" onclick="showInteractiveNotification()">äº¤äº’é€šçŸ¥</button>
            </div>

            <div class="demo-card">
              <h4>é€šçŸ¥ç»Ÿè®¡</h4>
              <div class="metrics-grid">
                <div class="metric-card">
                  <div class="metric-value" id="total-notifications">0</div>
                  <div class="metric-label">æ€»é€šçŸ¥æ•°</div>
                </div>
                <div class="metric-card">
                  <div class="metric-value" id="active-notifications">0</div>
                  <div class="metric-label">æ´»è·ƒé€šçŸ¥</div>
                </div>
              </div>
            </div>

            <div class="log-area" id="notification-logs"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // å…¨å±€å˜é‡
    let currentSection = 'overview';
    let engineLogs = [];
    let configWatcher = null;
    let stateSubscriptions = new Map();
    let eventListeners = new Map();
    let performanceMonitor = null;
    let notificationCount = 0;
    let activeNotifications = 0;

    // æ¨¡æ‹Ÿçš„ LDesign Engine å®ä¾‹
    const LDesignEngine = {
      config: new Map(),
      state: new Map(),
      events: new Map(),
      plugins: new Map(),
      middleware: [],
      cache: new Map(),
      logs: [],
      snapshots: [],
      permissions: new Map(),

      // æ—¥å¿—è®°å½•
      log(level, message, data = null) {
        const timestamp = new Date().toLocaleTimeString();
        const logEntry = { timestamp, level, message, data };
        this.logs.push(logEntry);
        engineLogs.push(logEntry);
        this.updateGlobalLogs();
        this.updateMetrics();
      },

      updateGlobalLogs() {
        const logAreas = document.querySelectorAll('.log-area');
        logAreas.forEach(logArea => {
          const logs = this.logs.slice(-50);
          logArea.innerHTML = logs.map(log =>
            `<div class="log-entry ${log.level}">
              [${log.timestamp}] ${log.level.toUpperCase()}: ${log.message}
              ${log.data ? ' | ' + JSON.stringify(log.data) : ''}
            </div>`
          ).join('');
          logArea.scrollTop = logArea.scrollHeight;
        });
      },

      updateMetrics() {
        const eventsCountEl = document.getElementById('events-count');
        const memoryUsageEl = document.getElementById('memory-usage');
        if (eventsCountEl) eventsCountEl.textContent = this.events.size;
        if (memoryUsageEl) memoryUsageEl.textContent = Math.round(Math.random() * 50 + 20) + 'MB';

        // æ›´æ–°äº‹ä»¶ç»Ÿè®¡
        const totalEventsEl = document.getElementById('total-events');
        const activeListenersEl = document.getElementById('active-listeners');
        const eventNamespacesEl = document.getElementById('event-namespaces');
        if (totalEventsEl) totalEventsEl.textContent = this.logs.filter(log => log.message.includes('äº‹ä»¶')).length;
        if (activeListenersEl) activeListenersEl.textContent = eventListeners.size;
        if (eventNamespacesEl) eventNamespacesEl.textContent = new Set([...this.events.keys()].map(key => key.split('.')[0])).size;

        // æ›´æ–°é€šçŸ¥ç»Ÿè®¡
        const totalNotificationsEl = document.getElementById('total-notifications');
        const activeNotificationsEl = document.getElementById('active-notifications');
        if (totalNotificationsEl) totalNotificationsEl.textContent = notificationCount;
        if (activeNotificationsEl) activeNotificationsEl.textContent = activeNotifications;
      }
    };
    
    // å¯¼èˆªåŠŸèƒ½
    function showSection(sectionId) {
      // éšè—æ‰€æœ‰section
      document.querySelectorAll('.demo-section').forEach(section => {
        section.classList.remove('active');
      });

      // ç§»é™¤æ‰€æœ‰nav-itemçš„activeçŠ¶æ€
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });

      // æ˜¾ç¤ºç›®æ ‡section
      const targetSection = document.getElementById(sectionId);
      if (targetSection) {
        targetSection.classList.add('active');
      }

      // æ¿€æ´»å¯¹åº”çš„nav-item
      event.target.classList.add('active');

      currentSection = sectionId;
      LDesignEngine.log('info', `åˆ‡æ¢åˆ° ${sectionId} é¡µé¢`);
    }

    // é…ç½®ç®¡ç†åŠŸèƒ½
    function setConfig() {
      const key = document.getElementById('config-key').value;
      const value = document.getElementById('config-value').value;

      if (!key) {
        showAlert('config-result', 'è¯·è¾“å…¥é…ç½®é”®å', 'error');
        return;
      }

      LDesignEngine.config.set(key, value);
      LDesignEngine.log('success', `è®¾ç½®é…ç½®: ${key} = ${value}`);
      showAlert('config-result', `é…ç½® "${key}" è®¾ç½®æˆåŠŸ`, 'success');
      updateCurrentConfig();

      // è§¦å‘é…ç½®å˜åŒ–äº‹ä»¶
      if (configWatcher) {
        LDesignEngine.log('info', `é…ç½®å˜åŒ–ç›‘å¬å™¨è§¦å‘: ${key}`);
      }
    }

    function getConfig() {
      const key = document.getElementById('config-key').value;

      if (!key) {
        showAlert('config-result', 'è¯·è¾“å…¥é…ç½®é”®å', 'error');
        return;
      }

      const value = LDesignEngine.config.get(key);
      if (value !== undefined) {
        LDesignEngine.log('info', `è·å–é…ç½®: ${key} = ${value}`);
        showAlert('config-result', `é…ç½®å€¼: ${value}`, 'info');
        document.getElementById('config-value').value = value;
      } else {
        LDesignEngine.log('warning', `é…ç½®ä¸å­˜åœ¨: ${key}`);
        showAlert('config-result', 'é…ç½®ä¸å­˜åœ¨', 'error');
      }
    }

    function deleteConfig() {
      const key = document.getElementById('config-key').value;

      if (!key) {
        showAlert('config-result', 'è¯·è¾“å…¥é…ç½®é”®å', 'error');
        return;
      }

      if (LDesignEngine.config.has(key)) {
        LDesignEngine.config.delete(key);
        LDesignEngine.log('success', `åˆ é™¤é…ç½®: ${key}`);
        showAlert('config-result', `é…ç½® "${key}" åˆ é™¤æˆåŠŸ`, 'success');
        updateCurrentConfig();
      } else {
        showAlert('config-result', 'é…ç½®ä¸å­˜åœ¨', 'error');
      }
    }

    function setBatchConfig() {
      const configText = document.getElementById('batch-config').value;

      try {
        const configs = JSON.parse(configText);

        function setNestedConfig(obj, prefix = '') {
          for (const [key, value] of Object.entries(obj)) {
            const fullKey = prefix ? `${prefix}.${key}` : key;
            if (typeof value === 'object' && value !== null && !Array.isArray(value)) {
              setNestedConfig(value, fullKey);
            } else {
              LDesignEngine.config.set(fullKey, value);
            }
          }
        }

        setNestedConfig(configs);
        LDesignEngine.log('success', 'æ‰¹é‡è®¾ç½®é…ç½®æˆåŠŸ', configs);
        showAlert('config-result', 'æ‰¹é‡é…ç½®è®¾ç½®æˆåŠŸ', 'success');
        updateCurrentConfig();
      } catch (error) {
        LDesignEngine.log('error', 'æ‰¹é‡é…ç½®æ ¼å¼é”™è¯¯', error.message);
        showAlert('config-result', 'JSON æ ¼å¼é”™è¯¯', 'error');
      }
    }

    function getAllConfig() {
      const configs = Object.fromEntries(LDesignEngine.config);
      LDesignEngine.log('info', 'è·å–æ‰€æœ‰é…ç½®', configs);
      document.getElementById('batch-config').value = JSON.stringify(configs, null, 2);
      showAlert('config-result', 'å·²è·å–æ‰€æœ‰é…ç½®', 'info');
    }

    function clearAllConfig() {
      LDesignEngine.config.clear();
      LDesignEngine.log('warning', 'æ¸…ç©ºæ‰€æœ‰é…ç½®');
      showAlert('config-result', 'æ‰€æœ‰é…ç½®å·²æ¸…ç©º', 'warning');
      updateCurrentConfig();
    }

    function startConfigWatch() {
      if (configWatcher) {
        showAlert('config-watch-status', 'é…ç½®ç›‘å¬å·²åœ¨è¿è¡Œ', 'warning');
        return;
      }

      configWatcher = setInterval(() => {
        LDesignEngine.log('info', 'é…ç½®ç›‘å¬å™¨è¿è¡Œä¸­...');
      }, 5000);

      LDesignEngine.log('success', 'å¼€å§‹é…ç½®ç›‘å¬');
      showAlert('config-watch-status', 'é…ç½®ç›‘å¬å·²å¯åŠ¨', 'success');
    }

    function stopConfigWatch() {
      if (configWatcher) {
        clearInterval(configWatcher);
        configWatcher = null;
        LDesignEngine.log('warning', 'åœæ­¢é…ç½®ç›‘å¬');
        showAlert('config-watch-status', 'é…ç½®ç›‘å¬å·²åœæ­¢', 'warning');
      } else {
        showAlert('config-watch-status', 'é…ç½®ç›‘å¬æœªè¿è¡Œ', 'error');
      }
    }

    function updateCurrentConfig() {
      const configs = Object.fromEntries(LDesignEngine.config);
      const configDisplay = document.getElementById('current-config');
      if (configDisplay) {
        configDisplay.textContent = Object.keys(configs).length > 0
          ? JSON.stringify(configs, null, 2)
          : 'æš‚æ— é…ç½®';
      }
    }

    // çŠ¶æ€ç®¡ç†åŠŸèƒ½
    function setState() {
      const key = document.getElementById('state-key').value;
      const valueText = document.getElementById('state-value').value;

      if (!key) {
        showAlert('state-result', 'è¯·è¾“å…¥çŠ¶æ€é”®å', 'error');
        return;
      }

      try {
        const value = JSON.parse(valueText);
        LDesignEngine.state.set(key, value);
        LDesignEngine.log('success', `è®¾ç½®çŠ¶æ€: ${key}`, value);
        showAlert('state-result', `çŠ¶æ€ "${key}" è®¾ç½®æˆåŠŸ`, 'success');
        updateCurrentState();

        // è§¦å‘çŠ¶æ€å˜åŒ–äº‹ä»¶
        if (stateSubscriptions.has(key)) {
          LDesignEngine.log('info', `çŠ¶æ€å˜åŒ–è®¢é˜…è§¦å‘: ${key}`);
        }
      } catch (error) {
        LDesignEngine.log('error', 'çŠ¶æ€å€¼æ ¼å¼é”™è¯¯', error.message);
        showAlert('state-result', 'JSON æ ¼å¼é”™è¯¯', 'error');
      }
    }

    function getState() {
      const key = document.getElementById('state-key').value;

      if (!key) {
        showAlert('state-result', 'è¯·è¾“å…¥çŠ¶æ€é”®å', 'error');
        return;
      }

      const value = LDesignEngine.state.get(key);
      if (value !== undefined) {
        LDesignEngine.log('info', `è·å–çŠ¶æ€: ${key}`, value);
        showAlert('state-result', `çŠ¶æ€å€¼: ${JSON.stringify(value)}`, 'info');
        document.getElementById('state-value').value = JSON.stringify(value, null, 2);
      } else {
        LDesignEngine.log('warning', `çŠ¶æ€ä¸å­˜åœ¨: ${key}`);
        showAlert('state-result', 'çŠ¶æ€ä¸å­˜åœ¨', 'error');
      }
    }

    function deleteState() {
      const key = document.getElementById('state-key').value;

      if (!key) {
        showAlert('state-result', 'è¯·è¾“å…¥çŠ¶æ€é”®å', 'error');
        return;
      }

      if (LDesignEngine.state.has(key)) {
        LDesignEngine.state.delete(key);
        LDesignEngine.log('success', `åˆ é™¤çŠ¶æ€: ${key}`);
        showAlert('state-result', `çŠ¶æ€ "${key}" åˆ é™¤æˆåŠŸ`, 'success');
        updateCurrentState();
      } else {
        showAlert('state-result', 'çŠ¶æ€ä¸å­˜åœ¨', 'error');
      }
    }

    function subscribeState() {
      const key = document.getElementById('subscribe-key').value;

      if (!key) {
        showAlert('subscription-status', 'è¯·è¾“å…¥è®¢é˜…é”®å', 'error');
        return;
      }

      stateSubscriptions.set(key, true);
      LDesignEngine.log('success', `è®¢é˜…çŠ¶æ€: ${key}`);
      showAlert('subscription-status', `å·²è®¢é˜…çŠ¶æ€ "${key}"`, 'success');
    }

    function unsubscribeState() {
      const key = document.getElementById('subscribe-key').value;

      if (!key) {
        showAlert('subscription-status', 'è¯·è¾“å…¥è®¢é˜…é”®å', 'error');
        return;
      }

      if (stateSubscriptions.has(key)) {
        stateSubscriptions.delete(key);
        LDesignEngine.log('warning', `å–æ¶ˆè®¢é˜…çŠ¶æ€: ${key}`);
        showAlert('subscription-status', `å·²å–æ¶ˆè®¢é˜…çŠ¶æ€ "${key}"`, 'warning');
      } else {
        showAlert('subscription-status', 'æœªè®¢é˜…è¯¥çŠ¶æ€', 'error');
      }
    }

    function createSnapshot() {
      const snapshot = {
        id: Date.now(),
        timestamp: new Date().toISOString(),
        data: Object.fromEntries(LDesignEngine.state)
      };

      LDesignEngine.snapshots.push(snapshot);
      LDesignEngine.log('success', 'åˆ›å»ºçŠ¶æ€å¿«ç…§', snapshot);
      showAlert('snapshot-info', `å¿«ç…§åˆ›å»ºæˆåŠŸ (ID: ${snapshot.id})`, 'success');
    }

    function restoreSnapshot() {
      if (LDesignEngine.snapshots.length === 0) {
        showAlert('snapshot-info', 'æ²¡æœ‰å¯ç”¨çš„å¿«ç…§', 'error');
        return;
      }

      const latestSnapshot = LDesignEngine.snapshots[LDesignEngine.snapshots.length - 1];
      LDesignEngine.state.clear();

      for (const [key, value] of Object.entries(latestSnapshot.data)) {
        LDesignEngine.state.set(key, value);
      }

      LDesignEngine.log('success', 'æ¢å¤çŠ¶æ€å¿«ç…§', latestSnapshot);
      showAlert('snapshot-info', `å¿«ç…§æ¢å¤æˆåŠŸ (ID: ${latestSnapshot.id})`, 'success');
      updateCurrentState();
    }

    function clearSnapshots() {
      LDesignEngine.snapshots = [];
      LDesignEngine.log('warning', 'æ¸…ç©ºæ‰€æœ‰å¿«ç…§');
      showAlert('snapshot-info', 'æ‰€æœ‰å¿«ç…§å·²æ¸…ç©º', 'warning');
    }

    function updateCurrentState() {
      const states = Object.fromEntries(LDesignEngine.state);
      const stateDisplay = document.getElementById('current-state');
      if (stateDisplay) {
        stateDisplay.textContent = Object.keys(states).length > 0
          ? JSON.stringify(states, null, 2)
          : 'æš‚æ— çŠ¶æ€';
      }
    }

    // äº‹ä»¶ç³»ç»ŸåŠŸèƒ½
    function emitEvent() {
      const eventName = document.getElementById('event-name').value;
      const eventDataText = document.getElementById('event-data').value;

      if (!eventName) {
        showAlert('event-result', 'è¯·è¾“å…¥äº‹ä»¶åç§°', 'error');
        return;
      }

      try {
        const eventData = eventDataText ? JSON.parse(eventDataText) : null;
        LDesignEngine.events.set(eventName, eventData);
        LDesignEngine.log('success', `å‘å¸ƒäº‹ä»¶: ${eventName}`, eventData);
        showAlert('event-result', `äº‹ä»¶ "${eventName}" å‘å¸ƒæˆåŠŸ`, 'success');

        // è§¦å‘äº‹ä»¶ç›‘å¬å™¨
        if (eventListeners.has(eventName)) {
          LDesignEngine.log('info', `äº‹ä»¶ç›‘å¬å™¨è§¦å‘: ${eventName}`);
        }
      } catch (error) {
        LDesignEngine.log('error', 'äº‹ä»¶æ•°æ®æ ¼å¼é”™è¯¯', error.message);
        showAlert('event-result', 'JSON æ ¼å¼é”™è¯¯', 'error');
      }
    }

    function emitAsyncEvent() {
      const eventName = document.getElementById('event-name').value;
      const eventDataText = document.getElementById('event-data').value;

      if (!eventName) {
        showAlert('event-result', 'è¯·è¾“å…¥äº‹ä»¶åç§°', 'error');
        return;
      }

      setTimeout(() => {
        try {
          const eventData = eventDataText ? JSON.parse(eventDataText) : null;
          LDesignEngine.events.set(eventName, eventData);
          LDesignEngine.log('success', `å¼‚æ­¥å‘å¸ƒäº‹ä»¶: ${eventName}`, eventData);
          showAlert('event-result', `å¼‚æ­¥äº‹ä»¶ "${eventName}" å‘å¸ƒæˆåŠŸ`, 'success');
        } catch (error) {
          LDesignEngine.log('error', 'å¼‚æ­¥äº‹ä»¶æ•°æ®æ ¼å¼é”™è¯¯', error.message);
          showAlert('event-result', 'JSON æ ¼å¼é”™è¯¯', 'error');
        }
      }, 1000);

      showAlert('event-result', 'å¼‚æ­¥äº‹ä»¶å·²æ’é˜Ÿï¼Œ1ç§’åå‘å¸ƒ', 'info');
    }

    function subscribeEvent() {
      const eventName = document.getElementById('subscribe-event').value;
      const priority = parseInt(document.getElementById('event-priority').value) || 0;

      if (!eventName) {
        showAlert('subscribe-result', 'è¯·è¾“å…¥äº‹ä»¶åç§°', 'error');
        return;
      }

      eventListeners.set(eventName, { priority, timestamp: Date.now() });
      LDesignEngine.log('success', `è®¢é˜…äº‹ä»¶: ${eventName} (ä¼˜å…ˆçº§: ${priority})`);
      showAlert('subscribe-result', `å·²è®¢é˜…äº‹ä»¶ "${eventName}"`, 'success');
    }

    function unsubscribeEvent() {
      const eventName = document.getElementById('subscribe-event').value;

      if (!eventName) {
        showAlert('subscribe-result', 'è¯·è¾“å…¥äº‹ä»¶åç§°', 'error');
        return;
      }

      if (eventListeners.has(eventName)) {
        eventListeners.delete(eventName);
        LDesignEngine.log('warning', `å–æ¶ˆè®¢é˜…äº‹ä»¶: ${eventName}`);
        showAlert('subscribe-result', `å·²å–æ¶ˆè®¢é˜…äº‹ä»¶ "${eventName}"`, 'warning');
      } else {
        showAlert('subscribe-result', 'æœªè®¢é˜…è¯¥äº‹ä»¶', 'error');
      }
    }

    function emitNamespacedEvent(eventName) {
      const eventData = {
        namespace: eventName.split('.')[0],
        action: eventName.split('.')[1],
        timestamp: new Date().toISOString()
      };

      LDesignEngine.events.set(eventName, eventData);
      LDesignEngine.log('success', `å‘å¸ƒå‘½åç©ºé—´äº‹ä»¶: ${eventName}`, eventData);
    }

    function subscribeNamespace(pattern) {
      const namespace = pattern.replace('.*', '');
      eventListeners.set(pattern, { namespace, timestamp: Date.now() });
      LDesignEngine.log('success', `è®¢é˜…å‘½åç©ºé—´: ${pattern}`);
    }

    // æ’ä»¶ç³»ç»ŸåŠŸèƒ½
    function registerPlugin() {
      const name = document.getElementById('plugin-name').value;
      const version = document.getElementById('plugin-version').value;

      if (!name) {
        showAlert('plugin-result', 'è¯·è¾“å…¥æ’ä»¶åç§°', 'error');
        return;
      }

      const plugin = {
        name,
        version: version || '1.0.0',
        status: 'registered',
        registeredAt: new Date().toISOString()
      };

      LDesignEngine.plugins.set(name, plugin);
      LDesignEngine.log('success', `æ³¨å†Œæ’ä»¶: ${name} v${plugin.version}`);
      showAlert('plugin-result', `æ’ä»¶ "${name}" æ³¨å†ŒæˆåŠŸ`, 'success');
      updateRegisteredPlugins();
    }

    function activatePlugin() {
      const name = document.getElementById('plugin-name').value;

      if (!name) {
        showAlert('plugin-result', 'è¯·è¾“å…¥æ’ä»¶åç§°', 'error');
        return;
      }

      const plugin = LDesignEngine.plugins.get(name);
      if (plugin) {
        plugin.status = 'active';
        plugin.activatedAt = new Date().toISOString();
        LDesignEngine.log('success', `æ¿€æ´»æ’ä»¶: ${name}`);
        showAlert('plugin-result', `æ’ä»¶ "${name}" æ¿€æ´»æˆåŠŸ`, 'success');
        updateRegisteredPlugins();
      } else {
        showAlert('plugin-result', 'æ’ä»¶æœªæ³¨å†Œ', 'error');
      }
    }

    function deactivatePlugin() {
      const name = document.getElementById('plugin-name').value;

      if (!name) {
        showAlert('plugin-result', 'è¯·è¾“å…¥æ’ä»¶åç§°', 'error');
        return;
      }

      const plugin = LDesignEngine.plugins.get(name);
      if (plugin) {
        plugin.status = 'inactive';
        plugin.deactivatedAt = new Date().toISOString();
        LDesignEngine.log('warning', `åœç”¨æ’ä»¶: ${name}`);
        showAlert('plugin-result', `æ’ä»¶ "${name}" åœç”¨æˆåŠŸ`, 'warning');
        updateRegisteredPlugins();
      } else {
        showAlert('plugin-result', 'æ’ä»¶æœªæ³¨å†Œ', 'error');
      }
    }

    function unregisterPlugin() {
      const name = document.getElementById('plugin-name').value;

      if (!name) {
        showAlert('plugin-result', 'è¯·è¾“å…¥æ’ä»¶åç§°', 'error');
        return;
      }

      if (LDesignEngine.plugins.has(name)) {
        LDesignEngine.plugins.delete(name);
        LDesignEngine.log('warning', `å¸è½½æ’ä»¶: ${name}`);
        showAlert('plugin-result', `æ’ä»¶ "${name}" å¸è½½æˆåŠŸ`, 'warning');
        updateRegisteredPlugins();
      } else {
        showAlert('plugin-result', 'æ’ä»¶æœªæ³¨å†Œ', 'error');
      }
    }

    function loadPresetPlugin(type) {
      const presetPlugins = {
        cache: { name: 'cache-plugin', version: '2.1.0', description: 'ç¼“å­˜ç®¡ç†æ’ä»¶' },
        validator: { name: 'validator-plugin', version: '1.5.0', description: 'æ•°æ®éªŒè¯æ’ä»¶' },
        router: { name: 'router-plugin', version: '3.0.0', description: 'è·¯ç”±ç®¡ç†æ’ä»¶' },
        i18n: { name: 'i18n-plugin', version: '1.8.0', description: 'å›½é™…åŒ–æ’ä»¶' }
      };

      const plugin = presetPlugins[type];
      if (plugin) {
        plugin.status = 'active';
        plugin.registeredAt = new Date().toISOString();
        plugin.activatedAt = new Date().toISOString();

        LDesignEngine.plugins.set(plugin.name, plugin);
        LDesignEngine.log('success', `åŠ è½½é¢„è®¾æ’ä»¶: ${plugin.name} - ${plugin.description}`);
        updateRegisteredPlugins();
      }
    }

    function updateRegisteredPlugins() {
      const plugins = Object.fromEntries(LDesignEngine.plugins);
      const pluginDisplay = document.getElementById('registered-plugins');
      if (pluginDisplay) {
        pluginDisplay.textContent = Object.keys(plugins).length > 0
          ? JSON.stringify(plugins, null, 2)
          : 'æš‚æ— æ’ä»¶';
      }
    }

    // é€šçŸ¥ç³»ç»ŸåŠŸèƒ½
    function showNotification() {
      const type = document.getElementById('notification-type').value;
      const message = document.getElementById('notification-message').value;
      const duration = parseInt(document.getElementById('notification-duration').value) || 3000;

      if (!message) {
        showAlert('notification-result', 'è¯·è¾“å…¥é€šçŸ¥å†…å®¹', 'error');
        return;
      }

      createNotification(type, message, duration);
      notificationCount++;
      LDesignEngine.log('success', `æ˜¾ç¤º${type}é€šçŸ¥: ${message}`);
      LDesignEngine.updateMetrics();
    }

    function showPositionedNotification() {
      const type = document.getElementById('notification-type').value;
      const message = document.getElementById('notification-message').value;
      const position = document.getElementById('notification-position').value;

      if (!message) {
        return;
      }

      createNotification(type, message, 3000, position);
      notificationCount++;
      LDesignEngine.log('success', `æ˜¾ç¤ºå®šä½é€šçŸ¥: ${message} (ä½ç½®: ${position})`);
      LDesignEngine.updateMetrics();
    }

    function showBatchNotifications() {
      const types = ['success', 'info', 'warning', 'error'];
      const messages = [
        'æ“ä½œæˆåŠŸå®Œæˆï¼',
        'è¿™æ˜¯ä¸€æ¡ä¿¡æ¯æç¤º',
        'è¯·æ³¨æ„è¿™ä¸ªè­¦å‘Š',
        'å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯'
      ];

      types.forEach((type, index) => {
        setTimeout(() => {
          createNotification(type, messages[index], 4000);
          notificationCount++;
          LDesignEngine.updateMetrics();
        }, index * 500);
      });

      LDesignEngine.log('info', 'æ˜¾ç¤ºæ‰¹é‡é€šçŸ¥');
    }

    function createNotification(type, message, duration = 3000, position = 'top-right') {
      const notification = document.createElement('div');
      notification.className = `notification notification-${type}`;

      const colors = {
        success: '#28a745',
        error: '#dc3545',
        warning: '#ffc107',
        info: '#17a2b8'
      };

      const positions = {
        'top-right': { top: '20px', right: '20px' },
        'top-left': { top: '20px', left: '20px' },
        'bottom-right': { bottom: '20px', right: '20px' },
        'bottom-left': { bottom: '20px', left: '20px' },
        'center': { top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }
      };

      const pos = positions[position] || positions['top-right'];

      notification.style.cssText = `
        position: fixed;
        padding: 12px 20px;
        border-radius: 6px;
        color: white;
        font-weight: 500;
        z-index: 10000;
        animation: slideIn 0.3s ease;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        background-color: ${colors[type]};
        ${Object.entries(pos).map(([key, value]) => `${key}: ${value}`).join('; ')};
      `;

      notification.textContent = message;
      document.body.appendChild(notification);
      activeNotifications++;

      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
          if (document.body.contains(notification)) {
            document.body.removeChild(notification);
            activeNotifications--;
            LDesignEngine.updateMetrics();
          }
        }, 300);
      }, duration);
    }

    function clearNotifications() {
      const notifications = document.querySelectorAll('.notification');
      notifications.forEach(notification => {
        document.body.removeChild(notification);
      });
      activeNotifications = 0;
      LDesignEngine.log('info', 'æ¸…ç©ºæ‰€æœ‰é€šçŸ¥');
      LDesignEngine.updateMetrics();
    }

    // æ€§èƒ½ç›‘æ§åŠŸèƒ½
    function startMonitoring() {
      if (performanceMonitor) {
        showAlert('monitoring-status', 'æ€§èƒ½ç›‘æ§å·²åœ¨è¿è¡Œ', 'warning');
        return;
      }

      performanceMonitor = setInterval(() => {
        updatePerformanceMetrics();
      }, 1000);

      LDesignEngine.log('success', 'å¼€å§‹æ€§èƒ½ç›‘æ§');
      showAlert('monitoring-status', 'æ€§èƒ½ç›‘æ§å·²å¯åŠ¨', 'success');
    }

    function stopMonitoring() {
      if (performanceMonitor) {
        clearInterval(performanceMonitor);
        performanceMonitor = null;
        LDesignEngine.log('warning', 'åœæ­¢æ€§èƒ½ç›‘æ§');
        showAlert('monitoring-status', 'æ€§èƒ½ç›‘æ§å·²åœæ­¢', 'warning');
      } else {
        showAlert('monitoring-status', 'æ€§èƒ½ç›‘æ§æœªè¿è¡Œ', 'error');
      }
    }

    function updatePerformanceMetrics() {
      const metrics = {
        fps: Math.round(Math.random() * 20) + 40,
        memory: Math.round(Math.random() * 50) + 20,
        cpu: Math.round(Math.random() * 30) + 10,
        loadTime: Math.round(Math.random() * 500) + 200
      };

      const fpsEl = document.getElementById('fps-value');
      const memoryEl = document.getElementById('memory-value');
      const cpuEl = document.getElementById('cpu-value');
      const loadTimeEl = document.getElementById('load-time');

      if (fpsEl) fpsEl.textContent = metrics.fps;
      if (memoryEl) memoryEl.textContent = metrics.memory + 'MB';
      if (cpuEl) cpuEl.textContent = metrics.cpu + '%';
      if (loadTimeEl) loadTimeEl.textContent = metrics.loadTime + 'ms';
    }

    // å·¥å…·å‡½æ•°
    function showAlert(elementId, message, type = 'info') {
      const element = document.getElementById(elementId);
      if (element) {
        element.textContent = message;
        element.className = `alert alert-${type}`;
        element.style.display = 'block';

        setTimeout(() => {
          element.style.display = 'none';
        }, 5000);
      }
    }

    // ç®€åŒ–çš„å…¶ä»–åŠŸèƒ½å®ç°
    function detectDevice() {
      const deviceInfo = {
        userAgent: navigator.userAgent,
        platform: navigator.platform,
        language: navigator.language,
        cookieEnabled: navigator.cookieEnabled,
        onLine: navigator.onLine,
        screenWidth: screen.width,
        screenHeight: screen.height
      };

      document.getElementById('device-info').textContent = JSON.stringify(deviceInfo, null, 2);
      LDesignEngine.log('info', 'æ£€æµ‹è®¾å¤‡ä¿¡æ¯', deviceInfo);
    }

    function checkPermission() {
      const role = document.getElementById('user-role').value;
      const action = document.getElementById('permission-action').value;

      const permissions = {
        admin: ['user.create', 'user.delete', 'system.config'],
        user: ['user.read', 'user.update'],
        guest: ['user.read']
      };

      const hasPermission = permissions[role]?.includes(action) || false;
      LDesignEngine.log('info', `æƒé™æ£€æŸ¥: ${role} - ${action} = ${hasPermission}`);
      showAlert('permission-result',
        hasPermission ? 'æƒé™æ£€æŸ¥é€šè¿‡' : 'æƒé™ä¸è¶³',
        hasPermission ? 'success' : 'error'
      );
    }

    function encryptData() {
      const data = document.getElementById('encrypt-data').value;
      if (!data) return;

      // ç®€å•çš„Base64ç¼–ç æ¨¡æ‹ŸåŠ å¯†
      const encrypted = btoa(data);
      document.getElementById('encryption-result').textContent = `åŠ å¯†ç»“æœ: ${encrypted}`;
      LDesignEngine.log('success', 'æ•°æ®åŠ å¯†å®Œæˆ');
    }

    // å…¶ä»–ç®€åŒ–åŠŸèƒ½å®ç°
    function registerMiddleware() {
      const type = document.getElementById('middleware-type').value;
      const name = document.getElementById('middleware-name').value;

      if (!name) {
        showAlert('middleware-result', 'è¯·è¾“å…¥ä¸­é—´ä»¶åç§°', 'error');
        return;
      }

      LDesignEngine.middleware.push({ type, name, registered: new Date().toISOString() });
      LDesignEngine.log('success', `æ³¨å†Œ${type}ä¸­é—´ä»¶: ${name}`);
      showAlert('middleware-result', `ä¸­é—´ä»¶ "${name}" æ³¨å†ŒæˆåŠŸ`, 'success');
      updateMiddlewareChain();
    }

    function updateMiddlewareChain() {
      const chainDisplay = document.getElementById('middleware-chain');
      if (chainDisplay) {
        chainDisplay.textContent = LDesignEngine.middleware.length > 0
          ? JSON.stringify(LDesignEngine.middleware, null, 2)
          : 'æš‚æ— ä¸­é—´ä»¶';
      }
    }

    function processRequest() {
      const url = document.getElementById('request-url').value;
      const method = document.getElementById('request-method').value;

      LDesignEngine.log('info', `å¤„ç†${method}è¯·æ±‚: ${url}`);
      showAlert('middleware-result', `è¯·æ±‚å¤„ç†å®Œæˆ: ${method} ${url}`, 'success');
    }

    function detectBrowser() {
      const browserInfo = {
        name: navigator.appName,
        version: navigator.appVersion,
        userAgent: navigator.userAgent,
        language: navigator.language,
        platform: navigator.platform
      };

      document.getElementById('device-info').textContent = JSON.stringify(browserInfo, null, 2);
      LDesignEngine.log('info', 'æ£€æµ‹æµè§ˆå™¨ä¿¡æ¯', browserInfo);
    }

    function checkFeatures() {
      const features = {
        localStorage: typeof(Storage) !== "undefined",
        webGL: !!window.WebGLRenderingContext,
        webWorkers: typeof(Worker) !== "undefined",
        geolocation: !!navigator.geolocation,
        notifications: "Notification" in window,
        serviceWorker: 'serviceWorker' in navigator
      };

      document.getElementById('feature-support').textContent = JSON.stringify(features, null, 2);
      LDesignEngine.log('info', 'æ£€æµ‹æµè§ˆå™¨ç‰¹æ€§', features);
    }

    function checkNetwork() {
      const networkInfo = {
        onLine: navigator.onLine,
        connection: navigator.connection ? {
          effectiveType: navigator.connection.effectiveType,
          downlink: navigator.connection.downlink,
          rtt: navigator.connection.rtt
        } : 'ä¸æ”¯æŒ'
      };

      document.getElementById('network-info').textContent = JSON.stringify(networkInfo, null, 2);
      LDesignEngine.log('info', 'æ£€æµ‹ç½‘ç»œçŠ¶æ€', networkInfo);
    }

    function analyzePerformance() {
      const analysis = {
        timing: performance.timing ? {
          loadTime: performance.timing.loadEventEnd - performance.timing.navigationStart,
          domReady: performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart,
          firstPaint: performance.getEntriesByType ? performance.getEntriesByType('paint')[0]?.startTime : 'ä¸æ”¯æŒ'
        } : 'ä¸æ”¯æŒ',
        memory: performance.memory ? {
          used: Math.round(performance.memory.usedJSHeapSize / 1048576),
          total: Math.round(performance.memory.totalJSHeapSize / 1048576),
          limit: Math.round(performance.memory.jsHeapSizeLimit / 1048576)
        } : 'ä¸æ”¯æŒ'
      };

      document.getElementById('performance-analysis').textContent = JSON.stringify(analysis, null, 2);
      LDesignEngine.log('info', 'æ€§èƒ½åˆ†æå®Œæˆ', analysis);
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      LDesignEngine.log('success', 'LDesign Engine æ¼”ç¤ºç³»ç»Ÿå·²å¯åŠ¨');
      LDesignEngine.log('info', 'æ‰€æœ‰åŠŸèƒ½æ¨¡å—åŠ è½½å®Œæˆ');

      // æ›´æ–°åˆå§‹æŒ‡æ ‡
      LDesignEngine.updateMetrics();
      updateCurrentConfig();
      updateCurrentState();
      updateRegisteredPlugins();
      updateMiddlewareChain();

      // æ·»åŠ åŠ¨ç”»æ ·å¼
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }

        .notification {
          animation: slideIn 0.3s ease;
        }
      `;
      document.head.appendChild(style);

      // æ¨¡æ‹Ÿå®æ—¶æ•°æ®æ›´æ–°
      setInterval(() => {
        LDesignEngine.updateMetrics();
      }, 5000);

      // åˆå§‹åŒ–ä¸€äº›ç¤ºä¾‹æ•°æ®
      LDesignEngine.config.set('app.name', 'LDesign Engine Demo');
      LDesignEngine.config.set('app.version', '1.0.0');
      LDesignEngine.state.set('system.status', 'running');
      updateCurrentConfig();
      updateCurrentState();
    });
  </script>
</body>
</html>
    
    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      LDesignEngine.log('success', 'LDesign Engine æ¼”ç¤ºç³»ç»Ÿå·²å¯åŠ¨');
      LDesignEngine.log('info', 'æ‰€æœ‰åŠŸèƒ½æ¨¡å—åŠ è½½å®Œæˆ');
      
      // æ›´æ–°åˆå§‹æŒ‡æ ‡
      LDesignEngine.updateMetrics();
      
      // æ¨¡æ‹Ÿå®æ—¶æ•°æ®æ›´æ–°
      setInterval(() => {
        LDesignEngine.updateMetrics();
      }, 5000);
    });
  </script>
</body>
</html>
