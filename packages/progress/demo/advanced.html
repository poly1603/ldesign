<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LDesign Progress - 高级功能演示</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            font-size: 48px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            font-size: 20px;
            margin-bottom: 50px;
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        h2 {
            color: #333;
            margin-bottom: 30px;
            font-size: 32px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            color: #666;
            margin: 30px 0 20px;
            font-size: 20px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .demo-item {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .demo-item h4 {
            color: #495057;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .progress-wrapper {
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: #165DFF;
            color: white;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        button:hover {
            background: #1450d0;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(22, 93, 255, 0.3);
        }

        button.secondary {
            background: #6c757d;
        }

        button.success {
            background: #00b42a;
        }

        button.warning {
            background: #ff7d00;
        }

        button.danger {
            background: #f53f3f;
        }

        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
            margin: 20px 0;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .semicircle-demo {
            min-height: 150px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-item {
            padding: 15px;
            background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .feature-item strong {
            color: #667eea;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="floating">✨ 高级进度条功能</h1>
        <p class="subtitle">半圆形进度条、视觉特效、自定义样式</p>

        <!-- 半圆形进度条 -->
        <section class="section">
            <h2>🌙 半圆形进度条</h2>
            
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>顶部半圆 <span class="badge">Top</span></h4>
                    <div class="progress-wrapper semicircle-demo">
                        <div id="semicircle-top"></div>
                    </div>
                    <div class="controls">
                        <button onclick="setSemicircleProgress('top', 30)">30%</button>
                        <button onclick="setSemicircleProgress('top', 60)">60%</button>
                        <button onclick="setSemicircleProgress('top', 90)">90%</button>
                    </div>
                </div>

                <div class="demo-item">
                    <h4>底部半圆 <span class="badge">Bottom</span></h4>
                    <div class="progress-wrapper semicircle-demo">
                        <div id="semicircle-bottom"></div>
                    </div>
                    <div class="controls">
                        <button onclick="setSemicircleProgress('bottom', 25)">25%</button>
                        <button onclick="setSemicircleProgress('bottom', 50)">50%</button>
                        <button onclick="setSemicircleProgress('bottom', 75)">75%</button>
                    </div>
                </div>

                <div class="demo-item">
                    <h4>左侧半圆 <span class="badge">Left</span></h4>
                    <div class="progress-wrapper semicircle-demo">
                        <div id="semicircle-left"></div>
                    </div>
                    <div class="controls">
                        <button onclick="setSemicircleProgress('left', 40)">40%</button>
                        <button onclick="setSemicircleProgress('left', 70)">70%</button>
                        <button onclick="setSemicircleProgress('left', 100)">100%</button>
                    </div>
                </div>

                <div class="demo-item">
                    <h4>右侧半圆 <span class="badge">Right</span></h4>
                    <div class="progress-wrapper semicircle-demo">
                        <div id="semicircle-right"></div>
                    </div>
                    <div class="controls">
                        <button onclick="setSemicircleProgress('right', 35)">35%</button>
                        <button onclick="setSemicircleProgress('right', 65)">65%</button>
                        <button onclick="setSemicircleProgress('right', 95)">95%</button>
                    </div>
                </div>
            </div>

            <h3>半圆分段效果</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>分段半圆进度条</h4>
                    <div class="progress-wrapper semicircle-demo">
                        <div id="semicircle-segment"></div>
                    </div>
                    <div class="controls">
                        <button onclick="animateSemicircle()">动画演示</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 视觉特效 -->
        <section class="section">
            <h2>🎨 视觉特效展示</h2>
            
            <h3>条纹效果</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>静态条纹</h4>
                    <div class="progress-wrapper">
                        <div id="effect-stripe-static" style="width: 100%;"></div>
                    </div>
                </div>
                <div class="demo-item">
                    <h4>动画条纹</h4>
                    <div class="progress-wrapper">
                        <div id="effect-stripe-animated" style="width: 100%;"></div>
                    </div>
                </div>
            </div>

            <h3>发光效果</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>静态发光</h4>
                    <div class="progress-wrapper">
                        <div id="effect-glow-static" style="width: 100%;"></div>
                    </div>
                </div>
                <div class="demo-item">
                    <h4>脉冲发光</h4>
                    <div class="progress-wrapper">
                        <div id="effect-glow-animated" style="width: 100%;"></div>
                    </div>
                </div>
            </div>

            <h3>渐变效果</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>紫色渐变</h4>
                    <div class="progress-wrapper">
                        <div id="effect-gradient-purple" style="width: 100%;"></div>
                    </div>
                </div>
                <div class="demo-item">
                    <h4>彩虹渐变</h4>
                    <div class="progress-wrapper">
                        <div id="effect-gradient-rainbow" style="width: 100%;"></div>
                    </div>
                </div>
            </div>

            <h3>波浪效果</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>静态波浪</h4>
                    <div class="progress-wrapper">
                        <div id="effect-wave-static" style="width: 100%;"></div>
                    </div>
                </div>
                <div class="demo-item">
                    <h4>动画波浪</h4>
                    <div class="progress-wrapper">
                        <div id="effect-wave-animated" style="width: 100%;"></div>
                    </div>
                </div>
            </div>

            <h3>组合效果</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>条纹 + 发光 + 渐变</h4>
                    <div class="progress-wrapper">
                        <div id="effect-combined" style="width: 100%;"></div>
                    </div>
                    <div class="controls">
                        <button onclick="updateCombined()">更新进度</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 使用示例 -->
        <section class="section">
            <h2>📝 代码示例</h2>
            
            <h3>半圆形进度条</h3>
            <div class="code-block">
// 创建半圆形进度条
const semicircle = new SemicircleProgress({
    container: '#my-semicircle',
    radius: 80,
    strokeWidth: 10,
    value: 75,
    direction: 'bottom', // 'top' | 'bottom' | 'left' | 'right'
    segments: {
        enabled: true,
        count: 10,
        gap: 2
    },
    text: {
        enabled: true,
        format: (value, max) => `${Math.round(value)}%`
    },
    animation: {
        duration: 600,
        easing: 'ease-in-out'
    }
});
            </div>

            <h3>视觉特效</h3>
            <div class="code-block">
// 创建带特效的进度条
const effectProgress = new LinearProgress({
    container: '#my-progress',
    value: 70,
    height: 20,
    effects: {
        stripe: {
            enabled: true,
            width: 20,
            angle: 45,
            animated: true
        },
        glow: {
            enabled: true,
            color: '#165DFF',
            size: 10,
            animated: true
        },
        gradient: {
            enabled: true,
            colors: ['#667eea', '#764ba2'],
            angle: 90
        },
        wave: {
            enabled: true,
            amplitude: 5,
            frequency: 2,
            animated: true
        }
    }
});
            </div>
        </section>

        <!-- 功能特性 -->
        <section class="section">
            <h2>🚀 功能特性</h2>
            <div class="feature-list">
                <div class="feature-item">
                    <strong>半圆形进度条</strong>
                    <p>支持四个方向的半圆显示</p>
                </div>
                <div class="feature-item">
                    <strong>条纹效果</strong>
                    <p>可自定义角度和动画</p>
                </div>
                <div class="feature-item">
                    <strong>发光效果</strong>
                    <p>支持脉冲动画</p>
                </div>
                <div class="feature-item">
                    <strong>渐变色彩</strong>
                    <p>支持多色渐变</p>
                </div>
                <div class="feature-item">
                    <strong>波浪动画</strong>
                    <p>可调节振幅和频率</p>
                </div>
                <div class="feature-item">
                    <strong>组合特效</strong>
                    <p>多种效果可同时使用</p>
                </div>
            </div>
        </section>
    </div>

    <script type="module">
        import { LinearProgress, SemicircleProgress } from '../src/index.js';

        const instances = {};

        // 初始化半圆形进度条
        instances.semicircleTop = new SemicircleProgress({
            container: '#semicircle-top',
            radius: 60,
            strokeWidth: 8,
            value: 60,
            direction: 'top',
            text: { enabled: true },
            animation: { duration: 500 }
        });

        instances.semicircleBottom = new SemicircleProgress({
            container: '#semicircle-bottom',
            radius: 60,
            strokeWidth: 8,
            value: 50,
            direction: 'bottom',
            progressColor: '#00b42a',
            text: { enabled: true },
            animation: { duration: 500 }
        });

        instances.semicircleLeft = new SemicircleProgress({
            container: '#semicircle-left',
            radius: 60,
            strokeWidth: 8,
            value: 70,
            direction: 'left',
            progressColor: '#ff7d00',
            text: { enabled: true },
            animation: { duration: 500 }
        });

        instances.semicircleRight = new SemicircleProgress({
            container: '#semicircle-right',
            radius: 60,
            strokeWidth: 8,
            value: 65,
            direction: 'right',
            progressColor: '#f53f3f',
            text: { enabled: true },
            animation: { duration: 500 }
        });

        instances.semicircleSegment = new SemicircleProgress({
            container: '#semicircle-segment',
            radius: 80,
            strokeWidth: 10,
            value: 75,
            direction: 'bottom',
            segments: {
                enabled: true,
                count: 12,
                gap: 2
            },
            progressColor: '#667eea',
            text: { enabled: true },
            animation: { duration: 600 }
        });

        // 初始化特效进度条
        // 条纹效果
        instances.stripeStatic = new LinearProgress({
            container: '#effect-stripe-static',
            value: 70,
            height: 20,
            rounded: true,
            effects: {
                stripe: {
                    enabled: true,
                    width: 20,
                    angle: 45,
                    animated: false
                }
            }
        });

        instances.stripeAnimated = new LinearProgress({
            container: '#effect-stripe-animated',
            value: 70,
            height: 20,
            rounded: true,
            progressColor: '#00b42a',
            effects: {
                stripe: {
                    enabled: true,
                    width: 20,
                    angle: 45,
                    animated: true
                }
            }
        });

        // 发光效果
        instances.glowStatic = new LinearProgress({
            container: '#effect-glow-static',
            value: 80,
            height: 20,
            rounded: true,
            progressColor: '#165DFF',
            effects: {
                glow: {
                    enabled: true,
                    size: 10,
                    animated: false
                }
            }
        });

        instances.glowAnimated = new LinearProgress({
            container: '#effect-glow-animated',
            value: 80,
            height: 20,
            rounded: true,
            progressColor: '#ff7d00',
            effects: {
                glow: {
                    enabled: true,
                    size: 15,
                    animated: true
                }
            }
        });

        // 渐变效果
        instances.gradientPurple = new LinearProgress({
            container: '#effect-gradient-purple',
            value: 75,
            height: 20,
            rounded: true,
            effects: {
                gradient: {
                    enabled: true,
                    colors: ['#667eea', '#764ba2'],
                    angle: 90
                }
            }
        });

        instances.gradientRainbow = new LinearProgress({
            container: '#effect-gradient-rainbow',
            value: 85,
            height: 20,
            rounded: true,
            effects: {
                gradient: {
                    enabled: true,
                    colors: ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', '#0000ff', '#4b0082', '#9400d3'],
                    angle: 90
                }
            }
        });

        // 波浪效果
        instances.waveStatic = new LinearProgress({
            container: '#effect-wave-static',
            value: 60,
            height: 30,
            rounded: true,
            progressColor: '#4facfe',
            effects: {
                wave: {
                    enabled: true,
                    amplitude: 5,
                    frequency: 2,
                    animated: false
                }
            }
        });

        instances.waveAnimated = new LinearProgress({
            container: '#effect-wave-animated',
            value: 60,
            height: 30,
            rounded: true,
            progressColor: '#00f2fe',
            effects: {
                wave: {
                    enabled: true,
                    amplitude: 8,
                    frequency: 3,
                    animated: true
                }
            }
        });

        // 组合效果
        instances.combined = new LinearProgress({
            container: '#effect-combined',
            value: 70,
            height: 25,
            rounded: true,
            effects: {
                gradient: {
                    enabled: true,
                    colors: ['#667eea', '#764ba2'],
                    angle: 90
                },
                stripe: {
                    enabled: true,
                    width: 20,
                    angle: 45,
                    animated: true
                },
                glow: {
                    enabled: true,
                    color: '#764ba2',
                    size: 15,
                    animated: true
                }
            }
        });

        // 全局函数
        window.setSemicircleProgress = (direction, value) => {
            const key = `semicircle${direction.charAt(0).toUpperCase() + direction.slice(1)}`;
            if (instances[key]) {
                instances[key].setValue(value, true);
            }
        };

        window.animateSemicircle = () => {
            instances.semicircleSegment.setValue(0, false);
            setTimeout(() => {
                instances.semicircleSegment.setValue(100, true);
            }, 100);
            setTimeout(() => {
                instances.semicircleSegment.setValue(75, true);
            }, 2000);
        };

        window.updateCombined = () => {
            const newValue = Math.random() * 100;
            instances.combined.setValue(newValue, true);
        };

        // 自动动画演示
        setInterval(() => {
            Object.keys(instances).forEach(key => {
                if (key.includes('wave') || key.includes('stripe')) {
                    const progress = instances[key];
                    const currentValue = 60 + Math.sin(Date.now() / 1000) * 30;
                    progress.setValue(currentValue, false);
                }
            });
        }, 50);
    </script>
</body>
</html>
