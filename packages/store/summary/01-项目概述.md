# @ldesign/store 项目概述

## 项目简介

@ldesign/store 是一个基于 Pinia 的现代化、高性能状态管理库，专为 Vue 3 应用设计。它提供了多种编程范式的支持，包括类式、函数式、Composition API 等使用方式，旨在为开发者提供灵活、类型安全、性能优异的状态管理解决方案。

## 核心价值

### 🎯 多范式支持
- **类式 Store**: 面向对象编程，支持装饰器，适合复杂业务逻辑
- **函数式 Store**: 配置化开发，简洁直观，适合快速开发
- **Composition Store**: Vue 3 原生体验，适合现代化开发
- **Store 工厂**: 统一管理，支持批量创建和管理

### ⚡ 性能优化
- **智能缓存系统**: 自动缓存计算结果和 API 调用，支持 TTL 和 LRU 策略
- **防抖节流机制**: 内置防抖和节流功能，控制高频操作
- **状态持久化**: 自动保存和恢复状态，支持多种存储方式
- **懒加载支持**: 按需创建 Store 实例，优化内存使用

### 🔒 类型安全
- **完整 TypeScript 支持**: 严格的类型检查和智能提示
- **泛型约束**: 确保状态、动作、计算属性的类型一致性
- **装饰器类型推导**: 自动推导装饰器修饰的属性类型

### 🎨 开发体验
- **装饰器系统**: 提供丰富的装饰器，简化代码编写
- **Hooks 集成**: React 风格的 Hooks，降低学习成本
- **DevTools 支持**: 完整的开发工具集成
- **性能监控**: 内置性能分析和优化建议

## 技术架构

### 核心依赖
- **Pinia**: 底层状态管理引擎，提供响应式和插件系统
- **Vue 3**: 响应式系统和 Composition API 支持
- **TypeScript**: 类型系统和装饰器支持

### 架构层次
```
┌─────────────────────────────────────┐
│           用户 API 层                │
├─────────────────────────────────────┤
│  类式Store │ 函数式Store │ 组合式Store │
├─────────────────────────────────────┤
│           核心功能层                │
│  缓存管理 │ 持久化 │ 性能优化 │ 装饰器 │
├─────────────────────────────────────┤
│           Pinia 适配层              │
├─────────────────────────────────────┤
│           Pinia 核心                │
└─────────────────────────────────────┘
```

## 主要功能模块

### 1. 核心 Store 类
- **BaseStore**: 基础 Store 类，提供通用功能
- **FunctionalStore**: 函数式 Store 实现
- **CompositionStore**: Composition API Store 实现
- **StoreFactory**: Store 工厂，统一管理

### 2. 性能优化模块
- **CacheManager**: 缓存管理器，支持 TTL 和 LRU
- **PersistenceManager**: 持久化管理器，支持多种存储
- **DebounceManager**: 防抖管理器
- **ThrottleManager**: 节流管理器

### 3. 装饰器系统
- **@State**: 状态装饰器
- **@Action**: 动作装饰器
- **@Getter**: 计算属性装饰器
- **@Cache**: 缓存装饰器
- **@Debounce/@Throttle**: 性能控制装饰器

### 4. Hooks 系统
- **useStoreState**: 状态 Hook
- **useStoreActions**: 动作 Hook
- **useStoreGetters**: 计算属性 Hook
- **useStoreSubscription**: 订阅 Hook

## 设计理念

### 1. 渐进式增强
- 从简单的函数式 Store 开始
- 根据需要逐步添加高级功能
- 保持向后兼容性

### 2. 类型优先
- TypeScript 作为第一公民
- 严格的类型约束
- 智能的类型推导

### 3. 性能导向
- 内置性能优化机制
- 最小化运行时开销
- 智能的缓存策略

### 4. 开发者友好
- 直观的 API 设计
- 丰富的开发工具
- 详细的错误信息

## 适用场景

### 适合使用的场景
- Vue 3 应用的状态管理
- 需要类型安全的项目
- 对性能有较高要求的应用
- 复杂的业务逻辑管理
- 需要状态持久化的应用

### 不适合的场景
- Vue 2 项目（不支持）
- 简单的静态页面
- 对包体积极度敏感的项目

## 项目目标

### 短期目标
- 提供稳定的 API
- 完善的文档和示例
- 良好的开发体验

### 长期目标
- 成为 Vue 3 生态的主流状态管理方案
- 提供最佳的性能和开发体验
- 建立活跃的社区生态

## 版本规划

### v1.0.0 (当前)
- 核心功能完整实现
- 基础文档和示例
- 稳定的 API 设计

### v1.1.0 (计划)
- 性能优化增强
- 更多装饰器支持
- 插件系统

### v2.0.0 (远期)
- 架构优化
- 更多高级功能
- 生态系统扩展

---

这个项目代表了我们对现代状态管理的理解和实践，希望能为 Vue 3 开发者提供更好的开发体验。
