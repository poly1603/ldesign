/**
 * 响应式样式
 * 定义编辑器在不同设备上的响应式布局
 */

// 移动端样式
.ldesign-editor-mobile {
  // 编辑器容器
  min-height: 150px;
  font-size: var(--ls-font-size-sm);
  
  // 内容区域
  .ldesign-editor-content {
    padding: var(--ls-padding-sm);
    font-size: inherit;
    line-height: 1.5;
    
    // 占位符
    &:empty::before {
      top: var(--ls-padding-sm);
      left: var(--ls-padding-sm);
    }
    
    // 标题样式调整
    h1 {
      font-size: var(--ls-font-size-xl);
      margin: var(--ls-margin-base) 0 var(--ls-margin-sm) 0;
    }
    
    h2 {
      font-size: var(--ls-font-size-lg);
      margin: var(--ls-margin-base) 0 var(--ls-margin-sm) 0;
    }
    
    h3 {
      font-size: var(--ls-font-size-base);
      margin: var(--ls-margin-sm) 0 var(--ls-margin-xs) 0;
    }
    
    h4, h5, h6 {
      font-size: var(--ls-font-size-sm);
      margin: var(--ls-margin-sm) 0 var(--ls-margin-xs) 0;
    }
    
    // 段落间距调整
    p {
      margin-bottom: var(--ls-margin-xs);
    }
    
    // 列表样式调整
    ul, ol {
      margin: var(--ls-margin-sm) 0;
      padding-left: var(--ls-padding-lg);
      
      li {
        margin: var(--ls-margin-xs) 0;
      }
    }
    
    // 引用块调整
    blockquote {
      margin: var(--ls-margin-sm) 0;
      padding: var(--ls-padding-sm) var(--ls-padding-base);
      font-size: var(--ls-font-size-xs);
    }
    
    // 表格调整
    table {
      font-size: var(--ls-font-size-xs);
      
      th, td {
        padding: var(--ls-padding-xs) var(--ls-padding-sm);
      }
    }
    
    // 图片调整
    img {
      max-width: 100%;
      height: auto;
    }
  }
  
  // 工具栏样式
  .ldesign-editor-toolbar {
    height: 44px;
    padding: var(--ls-padding-xs);
    
    .ldesign-toolbar-button {
      width: 40px;
      height: 40px;
      font-size: var(--ls-font-size-xs);
      margin: 0 2px;
    }
    
    .ldesign-toolbar-separator {
      height: 24px;
      margin: 0 var(--ls-margin-xs);
    }
  }
  
  // 下拉菜单调整
  .ldesign-dropdown {
    font-size: var(--ls-font-size-sm);
    
    .ldesign-dropdown-item {
      padding: var(--ls-padding-sm);
      font-size: var(--ls-font-size-xs);
    }
  }
  
  // 弹窗调整
  .ldesign-modal {
    margin: var(--ls-margin-sm);
    max-width: calc(100vw - var(--ls-margin-lg));
    
    .ldesign-modal-header {
      padding: var(--ls-padding-sm);
      font-size: var(--ls-font-size-sm);
    }
    
    .ldesign-modal-body {
      padding: var(--ls-padding-sm);
      font-size: var(--ls-font-size-xs);
    }
    
    .ldesign-modal-footer {
      padding: var(--ls-padding-sm);
      
      .ldesign-button {
        height: 40px;
        font-size: var(--ls-font-size-xs);
      }
    }
  }
}

// 平板端样式
.ldesign-editor-tablet {
  min-height: 180px;
  font-size: var(--ls-font-size-base);
  
  // 内容区域
  .ldesign-editor-content {
    padding: var(--ls-padding-base);
    
    // 标题样式
    h1 {
      font-size: var(--ls-font-size-h2);
    }
    
    h2 {
      font-size: var(--ls-font-size-h3);
    }
    
    h3 {
      font-size: var(--ls-font-size-h4);
    }
    
    // 表格调整
    table {
      th, td {
        padding: var(--ls-padding-sm) var(--ls-padding-base);
      }
    }
  }
  
  // 工具栏样式
  .ldesign-editor-toolbar {
    height: 48px;
    
    .ldesign-toolbar-button {
      width: 44px;
      height: 44px;
      font-size: var(--ls-font-size-sm);
    }
    
    .ldesign-toolbar-separator {
      height: 28px;
    }
  }
  
  // 下拉菜单
  .ldesign-dropdown {
    .ldesign-dropdown-item {
      padding: var(--ls-padding-sm) var(--ls-padding-base);
    }
  }
  
  // 弹窗调整
  .ldesign-modal {
    max-width: 600px;
    
    .ldesign-modal-footer {
      .ldesign-button {
        height: 44px;
      }
    }
  }
}

// 桌面端样式
.ldesign-editor-desktop {
  min-height: 200px;
  font-size: var(--ls-font-size-base);
  
  // 工具栏样式
  .ldesign-editor-toolbar {
    height: 52px;
    
    .ldesign-toolbar-button {
      width: 48px;
      height: 48px;
      font-size: var(--ls-font-size-base);
    }
    
    .ldesign-toolbar-separator {
      height: 32px;
    }
  }
  
  // 弹窗调整
  .ldesign-modal {
    max-width: 800px;
    
    .ldesign-modal-footer {
      .ldesign-button {
        height: 48px;
      }
    }
  }
  
  // 悬停效果（仅桌面端）
  .ldesign-toolbar-button:hover {
    background-color: var(--ldesign-button-hover-bg);
    color: var(--ldesign-button-hover-color);
  }
  
  .ldesign-dropdown-item:hover {
    background-color: var(--ldesign-dropdown-item-hover-bg);
  }
}

// 触摸设备特殊样式
@media (hover: none) and (pointer: coarse) {
  .ldesign-editor {
    // 增大触摸目标
    .ldesign-toolbar-button {
      min-width: 44px;
      min-height: 44px;
    }
    
    // 移除悬停效果
    .ldesign-toolbar-button:hover {
      background-color: transparent;
    }
    
    // 增强焦点样式
    .ldesign-toolbar-button:focus {
      outline: 2px solid var(--ldesign-brand-color);
      outline-offset: 2px;
    }
  }
}

// 高分辨率屏幕优化
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .ldesign-editor {
    // 优化边框渲染
    border-width: 0.5px;
    
    // 优化分割线
    .ldesign-toolbar-separator {
      border-width: 0.5px;
    }
  }
}

// 横屏模式调整
@media (orientation: landscape) {
  .ldesign-editor-mobile {
    .ldesign-editor-toolbar {
      // 横屏时工具栏可以更紧凑
      height: 40px;
      
      .ldesign-toolbar-button {
        width: 36px;
        height: 36px;
        font-size: var(--ls-font-size-xs);
      }
    }
  }
}

// 竖屏模式调整
@media (orientation: portrait) {
  .ldesign-editor-mobile {
    // 竖屏时给内容更多空间
    .ldesign-editor-content {
      min-height: 120px;
    }
  }
}

// 可访问性增强
@media (prefers-reduced-motion: reduce) {
  .ldesign-editor * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// 高对比度模式
@media (prefers-contrast: high) {
  .ldesign-editor {
    border-width: 2px;
    
    .ldesign-toolbar-button {
      border: 1px solid var(--ldesign-text-color-primary);
    }
    
    .ldesign-toolbar-separator {
      border-color: var(--ldesign-text-color-primary);
    }
  }
}

// 暗色模式响应式调整
@media (prefers-color-scheme: dark) {
  .ldesign-editor {
    // 可以在这里添加暗色模式的响应式调整
    // 或者通过 JavaScript 动态切换主题
  }
}
