<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LDesign Rich Text Editor Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: #f8fafc;
            padding: 20px;
            line-height: 1.6;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            overflow: hidden;
        }

        .demo-header {
            padding: 24px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }

        .demo-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .demo-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .demo-content {
            padding: 24px;
        }

        .editor-container {
            margin-bottom: 24px;
        }

        .editor-label {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            display: block;
        }

        .demo-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        .demo-button {
            padding: 8px 16px;
            border: 1px solid #d1d5db;
            background: white;
            color: #374151;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .demo-button:hover {
            background: #f3f4f6;
            border-color: #9ca3af;
        }

        .demo-button.primary {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .demo-button.primary:hover {
            background: #2563eb;
            border-color: #2563eb;
        }

        .output-section {
            margin-top: 32px;
            padding-top: 32px;
            border-top: 1px solid #e5e7eb;
        }

        .output-content {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        /* æ·±è‰²ä¸»é¢˜æ ·å¼ */
        [data-theme="dark"] {
            background: #1f2937;
            color: #f9fafb;
        }

        [data-theme="dark"] .demo-container {
            background: #374151;
        }

        [data-theme="dark"] .demo-content {
            color: #f9fafb;
        }

        [data-theme="dark"] .output-content {
            background: #1f2937;
            border-color: #4b5563;
            color: #e5e7eb;
        }

        /* å“åº”å¼æ ·å¼ */
        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .demo-header {
                padding: 16px;
            }

            .demo-title {
                font-size: 24px;
            }

            .demo-content {
                padding: 16px;
            }

            .demo-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <button class="demo-button theme-toggle" onclick="toggleTheme()">ğŸŒ“ åˆ‡æ¢ä¸»é¢˜</button>

    <div class="demo-container">
        <!-- å¤´éƒ¨ -->
        <div class="demo-header">
            <h1 class="demo-title">LDesign Rich Text Editor</h1>
            <p class="demo-subtitle">åŠŸèƒ½å®Œæ•´çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒå·¥å…·æ ã€æ’ä»¶ç³»ç»Ÿã€ä¸»é¢˜å®šåˆ¶ç­‰ç‰¹æ€§</p>
        </div>

        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="demo-content">
            <!-- ä¸»ç¼–è¾‘å™¨ -->
            <div class="editor-container">
                <label class="editor-label">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</label>
                <div id="editor"></div>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="demo-actions">
                <button class="demo-button primary" onclick="getContent()">è·å–å†…å®¹</button>
                <button class="demo-button" onclick="setContent()">è®¾ç½®å†…å®¹</button>
                <button class="demo-button" onclick="clearContent()">æ¸…ç©ºå†…å®¹</button>
                <button class="demo-button" onclick="toggleReadonly()">åˆ‡æ¢åªè¯»</button>
                <button class="demo-button" onclick="focusEditor()">èšç„¦ç¼–è¾‘å™¨</button>
                <button class="demo-button" onclick="showShortcuts()">å¿«æ·é”®å¸®åŠ©</button>
                <button class="demo-button" onclick="testUndo()">æµ‹è¯•æ’¤é”€</button>
                <button class="demo-button" onclick="testRedo()">æµ‹è¯•é‡åš</button>
            </div>

            <!-- è¾“å‡ºåŒºåŸŸ -->
            <div class="output-section">
                <label class="editor-label">HTML è¾“å‡º</label>
                <div id="output" class="output-content">ç¼–è¾‘å™¨å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
            </div>
        </div>
    </div>

    <!-- åŒ…å«æ ·å¼ -->
    <style>
        /* è¿™é‡Œä¼šåŒ…å«ç¼–è¾‘å™¨çš„CSSæ ·å¼ - åœ¨å®é™…é¡¹ç›®ä¸­åº”è¯¥ä½œä¸ºå¤–éƒ¨æ–‡ä»¶å¼•å…¥ */
        
        /* CSSå˜é‡å®šä¹‰ */
        :root {
            /* é¢œè‰²å˜é‡ */
            --ldesign-editor-bg: #ffffff;
            --ldesign-editor-border: #e4e4e7;
            --ldesign-editor-text: #18181b;
            --ldesign-editor-text-secondary: #71717a;
            --ldesign-editor-primary: #3b82f6;
            --ldesign-editor-primary-hover: #2563eb;
            --ldesign-editor-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
            --ldesign-editor-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

            /* å·¥å…·æ å˜é‡ */
            --ldesign-toolbar-height: 48px;
            --ldesign-toolbar-bg: #fafafa;
            --ldesign-toolbar-border: #e4e4e7;
            --ldesign-toolbar-button-size: 32px;
            --ldesign-toolbar-button-radius: 4px;
            --ldesign-toolbar-button-hover: #f4f4f5;
            --ldesign-toolbar-button-active: #3b82f6;
            --ldesign-toolbar-button-active-bg: #eff6ff;

            /* å†…å®¹åŒºåŸŸå˜é‡ */
            --ldesign-content-padding: 16px;
            --ldesign-content-min-height: 300px;
            --ldesign-content-font-size: 14px;
            --ldesign-content-line-height: 1.5;

            --ldesign-transition: all 0.2s ease-in-out;
        }

        /* ä¸»å®¹å™¨æ ·å¼ */
        .ldesign-editor {
            position: relative;
            width: 100%;
            min-height: var(--ldesign-content-min-height);
            background: var(--ldesign-editor-bg);
            border: 1px solid var(--ldesign-editor-border);
            border-radius: 8px;
            font-family: inherit;
            font-size: var(--ldesign-content-font-size);
            line-height: var(--ldesign-content-line-height);
            color: var(--ldesign-editor-text);
            box-shadow: var(--ldesign-editor-shadow);
            transition: var(--ldesign-transition);
        }

        .ldesign-editor:focus-within {
            border-color: var(--ldesign-editor-primary);
            box-shadow: var(--ldesign-editor-shadow-lg);
        }

        /* å·¥å…·æ æ ·å¼ */
        .ldesign-editor-toolbar {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 8px 12px;
            background: var(--ldesign-toolbar-bg);
            border-bottom: 1px solid var(--ldesign-toolbar-border);
            border-radius: 8px 8px 0 0;
            min-height: var(--ldesign-toolbar-height);
            flex-wrap: wrap;
        }

        /* å·¥å…·æ æŒ‰é’®æ ·å¼ */
        .ldesign-editor-toolbar-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: var(--ldesign-toolbar-button-size);
            height: var(--ldesign-toolbar-button-size);
            padding: 0;
            border: none;
            border-radius: var(--ldesign-toolbar-button-radius);
            background: transparent;
            color: var(--ldesign-editor-text);
            cursor: pointer;
            transition: var(--ldesign-transition);
            font-size: 0;
            outline: none;
        }

        .ldesign-editor-toolbar-button:hover {
            background: var(--ldesign-toolbar-button-hover);
        }

        .ldesign-editor-toolbar-button:focus {
            box-shadow: 0 0 0 2px var(--ldesign-editor-primary);
        }

        .ldesign-editor-toolbar-button-active {
            background: var(--ldesign-toolbar-button-active-bg);
            color: var(--ldesign-toolbar-button-active);
        }

        /* å·¥å…·æ åˆ†éš”ç¬¦ */
        .ldesign-editor-toolbar-separator {
            width: 1px;
            height: 20px;
            background: var(--ldesign-toolbar-border);
            margin: 0 4px;
        }

        /* å›¾æ ‡æ ·å¼ */
        .ldesign-editor-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
        }

        .ldesign-editor-icon svg {
            width: 100%;
            height: 100%;
            color: currentColor;
        }

        /* å†…å®¹åŒºåŸŸæ ·å¼ */
        .ldesign-editor-content {
            padding: var(--ldesign-content-padding);
            min-height: var(--ldesign-content-min-height);
            outline: none;
            border: none;
            background: transparent;
            font-size: var(--ldesign-content-font-size);
            line-height: var(--ldesign-content-line-height);
            color: var(--ldesign-editor-text);
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .ldesign-editor-content:focus {
            outline: none;
        }

        /* å ä½ç¬¦æ ·å¼ */
        .ldesign-editor-content[data-placeholder]:empty::before {
            content: attr(data-placeholder);
            color: var(--ldesign-editor-text-secondary);
            pointer-events: none;
        }

        /* å†…å®¹å…ƒç´ æ ·å¼ */
        .ldesign-editor-content h1, .ldesign-editor-content h2, 
        .ldesign-editor-content h3, .ldesign-editor-content h4, 
        .ldesign-editor-content h5, .ldesign-editor-content h6 {
            margin: 16px 0 8px 0;
            font-weight: 600;
            line-height: 1.3;
        }

        .ldesign-editor-content h1 { font-size: 28px; }
        .ldesign-editor-content h2 { font-size: 24px; }
        .ldesign-editor-content h3 { font-size: 20px; }
        .ldesign-editor-content h4 { font-size: 18px; }
        .ldesign-editor-content h5 { font-size: 16px; }
        .ldesign-editor-content h6 { font-size: 14px; }

        .ldesign-editor-content p {
            margin: 8px 0;
            line-height: 1.6;
        }

        .ldesign-editor-content ul, .ldesign-editor-content ol {
            margin: 8px 0;
            padding-left: 24px;
        }

        .ldesign-editor-content li {
            margin: 4px 0;
            line-height: 1.5;
        }

        .ldesign-editor-content blockquote {
            margin: 16px 0;
            padding: 12px 16px;
            border-left: 4px solid var(--ldesign-editor-primary);
            background: rgba(59, 130, 246, 0.05);
            color: var(--ldesign-editor-text-secondary);
            font-style: italic;
            border-radius: 0 4px 4px 0;
        }

        .ldesign-editor-content code {
            display: inline;
            padding: 2px 4px;
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid var(--ldesign-editor-border);
            border-radius: 3px;
            font-family: 'SF Mono', monospace;
            font-size: 0.9em;
            color: #d63384;
        }

        .ldesign-editor-content a {
            color: var(--ldesign-editor-primary);
            text-decoration: underline;
        }

        .ldesign-editor-content mark {
            background: #fef08a;
            padding: 0 2px;
            border-radius: 2px;
        }

        .ldesign-editor-readonly {
            background: #f9fafb;
            cursor: not-allowed;
        }
    </style>

    <script>
        // æ¨¡æ‹Ÿç¼–è¾‘å™¨ç±» - åœ¨å®é™…é¡¹ç›®ä¸­åº”è¯¥å¯¼å…¥çœŸå®çš„ç¼–è¾‘å™¨
        class LDesignEditor {
            constructor(options) {
                this.container = typeof options.container === 'string' 
                    ? document.querySelector(options.container) 
                    : options.container;
                this.options = {
                    ...options,
                    content: options.content || '',
                    placeholder: options.placeholder || 'å¼€å§‹å†™ä½œ...',
                    readonly: options.readonly || false
                };
                this.initialized = false;
                this.readonly = this.options.readonly;
                this.contentElement = null;
                this.toolbarElement = null;
            }

            init() {
                if (this.initialized) return;
                
                this.setupContainer();
                this.createToolbar();
                this.createContentArea();
                this.bindEvents();
                this.setContent(this.options.content);
                
                this.initialized = true;
            }

            setupContainer() {
                this.container.className = 'ldesign-editor';
                if (this.readonly) {
                    this.container.classList.add('ldesign-editor-readonly');
                }
            }

            createToolbar() {
                this.toolbarElement = document.createElement('div');
                this.toolbarElement.className = 'ldesign-editor-toolbar';
                
                const buttons = [
                    { name: 'bold', icon: 'B', title: 'ç²—ä½“', command: 'bold' },
                    { name: 'italic', icon: 'I', title: 'æ–œä½“', command: 'italic' },
                    { name: 'underline', icon: 'U', title: 'ä¸‹åˆ’çº¿', command: 'underline' },
                    { type: 'separator' },
                    { name: 'strikethrough', icon: 'S', title: 'åˆ é™¤çº¿', command: 'strikeThrough' },
                    { type: 'separator' },
                    { name: 'alignLeft', icon: 'âŸµ', title: 'å·¦å¯¹é½', command: 'justifyLeft' },
                    { name: 'alignCenter', icon: 'âŸ·', title: 'å±…ä¸­', command: 'justifyCenter' },
                    { name: 'alignRight', icon: 'âŸ¶', title: 'å³å¯¹é½', command: 'justifyRight' },
                    { type: 'separator' },
                    { name: 'bulletList', icon: 'â€¢', title: 'æ— åºåˆ—è¡¨', command: 'insertUnorderedList' },
                    { name: 'numberedList', icon: '1.', title: 'æœ‰åºåˆ—è¡¨', command: 'insertOrderedList' },
                ];

                buttons.forEach(item => {
                    if (item.type === 'separator') {
                        const separator = document.createElement('div');
                        separator.className = 'ldesign-editor-toolbar-separator';
                        this.toolbarElement.appendChild(separator);
                    } else {
                        const button = document.createElement('button');
                        button.className = 'ldesign-editor-toolbar-button';
                        button.title = item.title;
                        button.innerHTML = `<span class="ldesign-editor-icon">${item.icon}</span>`;
                        button.onclick = () => this.executeCommand(item.command);
                        this.toolbarElement.appendChild(button);
                    }
                });

                this.container.appendChild(this.toolbarElement);
            }

            createContentArea() {
                this.contentElement = document.createElement('div');
                this.contentElement.className = 'ldesign-editor-content';
                this.contentElement.contentEditable = this.readonly ? 'false' : 'true';
                this.contentElement.setAttribute('data-placeholder', this.options.placeholder);
                this.container.appendChild(this.contentElement);
            }

            bindEvents() {
                this.contentElement.addEventListener('input', () => {
                    if (this.options.onChange) {
                        this.options.onChange(this.getContent());
                    }
                });

                this.contentElement.addEventListener('focus', () => {
                    if (this.options.onFocus) {
                        this.options.onFocus();
                    }
                });

                this.contentElement.addEventListener('blur', () => {
                    if (this.options.onBlur) {
                        this.options.onBlur();
                    }
                });

                // æ›´æ–°å·¥å…·æ çŠ¶æ€
                this.contentElement.addEventListener('selectionchange', () => {
                    this.updateToolbarState();
                });

                document.addEventListener('selectionchange', () => {
                    if (document.activeElement === this.contentElement) {
                        this.updateToolbarState();
                    }
                });
            }

            updateToolbarState() {
                const buttons = this.toolbarElement.querySelectorAll('.ldesign-editor-toolbar-button');
                buttons.forEach((button, index) => {
                    const commands = ['bold', 'italic', 'underline', '', 'strikeThrough', '', 'justifyLeft', 'justifyCenter', 'justifyRight', '', 'insertUnorderedList', 'insertOrderedList'];
                    const command = commands[index];
                    if (command) {
                        try {
                            if (document.queryCommandState(command)) {
                                button.classList.add('ldesign-editor-toolbar-button-active');
                            } else {
                                button.classList.remove('ldesign-editor-toolbar-button-active');
                            }
                        } catch (e) {
                            // å¿½ç•¥ä¸æ”¯æŒçš„å‘½ä»¤
                        }
                    }
                });
            }

            executeCommand(command) {
                if (this.readonly) return;
                
                document.execCommand(command, false, null);
                this.contentElement.focus();
                this.updateToolbarState();
                
                if (this.options.onChange) {
                    this.options.onChange(this.getContent());
                }
            }

            getContent() {
                return this.contentElement ? this.contentElement.innerHTML : '';
            }

            setContent(content) {
                if (this.contentElement) {
                    this.contentElement.innerHTML = content;
                    if (this.options.onChange) {
                        this.options.onChange(content);
                    }
                }
            }

            clear() {
                this.setContent('');
            }

            focus() {
                if (this.contentElement) {
                    this.contentElement.focus();
                }
            }

            blur() {
                if (this.contentElement) {
                    this.contentElement.blur();
                }
            }

            setReadonly(readonly) {
                this.readonly = readonly;
                if (this.contentElement) {
                    this.contentElement.contentEditable = readonly ? 'false' : 'true';
                }
                if (readonly) {
                    this.container.classList.add('ldesign-editor-readonly');
                } else {
                    this.container.classList.remove('ldesign-editor-readonly');
                }
            }

            destroy() {
                if (this.container) {
                    this.container.innerHTML = '';
                    this.container.className = '';
                }
                this.initialized = false;
                this.contentElement = null;
                this.toolbarElement = null;
            }
        }

        // ç¼–è¾‘å™¨å®ä¾‹
        let editor;

        // åˆå§‹åŒ–ç¼–è¾‘å™¨
        function initEditor() {
            editor = new LDesignEditor({
                container: '#editor',
                content: `
                    <h2>æ¬¢è¿ä½¿ç”¨ LDesign Rich Text Editor!</h2>
                    <p>è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒå¤šç§æ ¼å¼åŒ–é€‰é¡¹ï¼š</p>
                    <ul>
                        <li><strong>ç²—ä½“æ–‡æœ¬</strong></li>
                        <li><em>æ–œä½“æ–‡æœ¬</em></li>
                        <li><u>ä¸‹åˆ’çº¿æ–‡æœ¬</u></li>
                        <li><s>åˆ é™¤çº¿æ–‡æœ¬</s></li>
                    </ul>
                    <blockquote>
                        <p>ä½ ä¹Ÿå¯ä»¥åˆ›å»ºå¼•ç”¨å—æ¥çªå‡ºæ˜¾ç¤ºé‡è¦å†…å®¹ã€‚</p>
                    </blockquote>
                    <p>è¯•è¯•ä¸åŒçš„æ–‡æœ¬å¯¹é½æ–¹å¼å’Œåˆ—è¡¨åŠŸèƒ½ï¼</p>
                `,
                placeholder: 'å¼€å§‹å†™ä½œ...',
                onChange: function(content) {
                    updateOutput(content);
                },
                onFocus: function() {
                    console.log('Editor focused');
                },
                onBlur: function() {
                    console.log('Editor blurred');
                }
            });
            
            editor.init();
        }

        // æ›´æ–°è¾“å‡º
        function updateOutput(content) {
            const output = document.getElementById('output');
            if (output) {
                output.textContent = content;
            }
        }

        // è·å–å†…å®¹
        function getContent() {
            if (editor) {
                const content = editor.getContent();
                alert('ç¼–è¾‘å™¨å†…å®¹å·²å¤åˆ¶åˆ°è¾“å‡ºåŒºåŸŸ');
                updateOutput(content);
            }
        }

        // è®¾ç½®å†…å®¹
        function setContent() {
            if (editor) {
                const sampleContent = `
                    <h1>ç¤ºä¾‹å†…å®¹</h1>
                    <p>è¿™æ˜¯é€šè¿‡ JavaScript è®¾ç½®çš„å†…å®¹ã€‚</p>
                    <p>åŒ…å« <strong>ç²—ä½“</strong>ã€<em>æ–œä½“</em> å’Œ <code>ä»£ç </code> ç­‰æ ¼å¼ã€‚</p>
                    <ol>
                        <li>æœ‰åºåˆ—è¡¨é¡¹ 1</li>
                        <li>æœ‰åºåˆ—è¡¨é¡¹ 2</li>
                        <li>æœ‰åºåˆ—è¡¨é¡¹ 3</li>
                    </ol>
                `;
                editor.setContent(sampleContent);
            }
        }

        // æ¸…ç©ºå†…å®¹
        function clearContent() {
            if (editor) {
                editor.clear();
            }
        }

        // åˆ‡æ¢åªè¯»æ¨¡å¼
        function toggleReadonly() {
            if (editor) {
                editor.setReadonly(!editor.readonly);
                const button = event.target;
                button.textContent = editor.readonly ? 'å–æ¶ˆåªè¯»' : 'åˆ‡æ¢åªè¯»';
            }
        }

        // èšç„¦ç¼–è¾‘å™¨
        function focusEditor() {
            if (editor) {
                editor.focus();
            }
        }

        // å¿«æ·é”®å¸®åŠ©
        function showShortcuts() {
            const shortcuts = [
                'Ctrl+B: ç²—ä½“',
                'Ctrl+I: æ–œä½“',
                'Ctrl+U: ä¸‹åˆ’çº¿',
                'Ctrl+Z: æ’¤é”€',
                'Ctrl+Y: é‡åš',
                'Ctrl+A: å…¨é€‰',
                'Ctrl+C: å¤åˆ¶',
                'Ctrl+V: ç²˜è´´',
                'Ctrl+Shift+L: å·¦å¯¹é½',
                'Ctrl+Shift+E: å±…ä¸­å¯¹é½',
                'Ctrl+Shift+R: å³å¯¹é½',
                'Ctrl+1-6: æ ‡é¢˜1-6',
                'Ctrl+`: å†…è”ä»£ç ',
                'F11: å…¨å±æ¨¡å¼'
            ];
            
            alert('å¸¸ç”¨å¿«æ·é”®:\n\n' + shortcuts.join('\n'));
        }

        // æµ‹è¯•æ’¤é”€
        function testUndo() {
            if (editor && editor.history) {
                editor.history.undo();
                console.log('Undo executed');
            } else {
                alert('å†å²ç®¡ç†å™¨ä¸å¯ç”¨');
            }
        }

        // æµ‹è¯•é‡åš
        function testRedo() {
            if (editor && editor.history) {
                editor.history.redo();
                console.log('Redo executed');
            } else {
                alert('å†å²ç®¡ç†å™¨ä¸å¯ç”¨');
            }
        }

        // åˆ‡æ¢ä¸»é¢˜
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ¢å¤ä¸»é¢˜
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            // åˆå§‹åŒ–ç¼–è¾‘å™¨
            initEditor();
        });
    </script>
</body>
</html>
