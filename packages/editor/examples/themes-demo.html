<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LDesign Editor - ä¸»é¢˜æ¼”ç¤º</title>
  <style>
    /* CSS å˜é‡å®šä¹‰ */
    :root {
      /* é»˜è®¤ä¸»é¢˜ */
      --ldesign-brand-color-1: #f1ecf9;
      --ldesign-brand-color-2: #d8c8ee;
      --ldesign-brand-color-3: #bfa4e5;
      --ldesign-brand-color-4: #a67fdb;
      --ldesign-brand-color-5: #8c5ad3;
      --ldesign-brand-color-6: #7334cb;
      --ldesign-brand-color-7: #5e2aa7;
      --ldesign-brand-color-8: #491f84;
      --ldesign-brand-color-9: #35165f;
      --ldesign-brand-color-10: #200d3b;
      
      --ldesign-brand-color: var(--ldesign-brand-color-7);
      --ldesign-bg-color-container: #ffffff;
      --ldesign-bg-color-page: #f5f5f5;
      --ldesign-border-level-1-color: #e5e5e5;
      --ldesign-text-color-primary: rgba(0, 0, 0, 90%);
      --ldesign-text-color-secondary: rgba(0, 0, 0, 70%);
      --ldesign-shadow-1: 0 1px 10px rgba(0, 0, 0, 5%);
      --ldesign-shadow-2: 0 4px 20px rgba(0, 0, 0, 8%);
    }

    /* æš—è‰²ä¸»é¢˜ */
    [data-theme="dark"] {
      --ldesign-brand-color: #8c5ad3;
      --ldesign-bg-color-container: #1a1a1a;
      --ldesign-bg-color-page: #0d1117;
      --ldesign-border-level-1-color: #333;
      --ldesign-text-color-primary: rgba(255, 255, 255, 90%);
      --ldesign-text-color-secondary: rgba(255, 255, 255, 70%);
      --ldesign-shadow-1: 0 1px 10px rgba(0, 0, 0, 20%);
      --ldesign-shadow-2: 0 4px 20px rgba(0, 0, 0, 30%);
    }

    /* ç®€æ´ä¸»é¢˜ */
    [data-theme="minimal"] {
      --ldesign-brand-color: #666;
      --ldesign-bg-color-container: #fafafa;
      --ldesign-bg-color-page: #ffffff;
      --ldesign-border-level-1-color: #ddd;
      --ldesign-text-color-primary: #333;
      --ldesign-text-color-secondary: #666;
      --ldesign-shadow-1: 0 1px 3px rgba(0, 0, 0, 5%);
      --ldesign-shadow-2: 0 2px 8px rgba(0, 0, 0, 8%);
    }

    /* å½©è™¹ä¸»é¢˜ */
    [data-theme="rainbow"] {
      --ldesign-brand-color: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      --ldesign-bg-color-container: #ffffff;
      --ldesign-bg-color-page: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --ldesign-border-level-1-color: #e5e5e5;
      --ldesign-text-color-primary: rgba(0, 0, 0, 90%);
      --ldesign-text-color-secondary: rgba(0, 0, 0, 70%);
    }

    /* åŸºç¡€æ ·å¼ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--ldesign-bg-color-page);
      color: var(--ldesign-text-color-primary);
      transition: all 0.3s ease;
      min-height: 100vh;
      padding: 20px;
    }

    .app-container {
      max-width: 1400px;
      margin: 0 auto;
      background: var(--ldesign-bg-color-container);
      border-radius: 12px;
      box-shadow: var(--ldesign-shadow-2);
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .header {
      background: var(--ldesign-brand-color);
      color: white;
      padding: 30px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(255, 255, 255, 0.05) 10px,
        rgba(255, 255, 255, 0.05) 20px
      );
      animation: slide 20s linear infinite;
    }

    @keyframes slide {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }

    .header p {
      font-size: 1.1rem;
      opacity: 0.9;
      position: relative;
      z-index: 1;
    }

    .main-content {
      padding: 30px;
    }

    .theme-selector {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .theme-btn {
      padding: 12px 24px;
      border: 2px solid var(--ldesign-border-level-1-color);
      border-radius: 8px;
      background: var(--ldesign-bg-color-container);
      color: var(--ldesign-text-color-primary);
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      font-weight: 500;
      position: relative;
      overflow: hidden;
    }

    .theme-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--ldesign-shadow-2);
    }

    .theme-btn.active {
      border-color: var(--ldesign-brand-color);
      background: var(--ldesign-brand-color);
      color: white;
    }

    .theme-btn.default {
      background: linear-gradient(135deg, #722ED1, #5e2aa7);
      color: white;
    }

    .theme-btn.dark {
      background: linear-gradient(135deg, #1a1a1a, #333);
      color: white;
    }

    .theme-btn.minimal {
      background: linear-gradient(135deg, #fafafa, #e0e0e0);
      color: #333;
    }

    .theme-btn.rainbow {
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      color: white;
      animation: rainbow 3s ease-in-out infinite;
    }

    @keyframes rainbow {
      0%, 100% { filter: hue-rotate(0deg); }
      50% { filter: hue-rotate(180deg); }
    }

    .editors-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }

    .editor-demo {
      background: var(--ldesign-bg-color-container);
      border: 1px solid var(--ldesign-border-level-1-color);
      border-radius: 12px;
      padding: 20px;
      box-shadow: var(--ldesign-shadow-1);
      transition: all 0.3s ease;
    }

    .editor-demo:hover {
      transform: translateY(-5px);
      box-shadow: var(--ldesign-shadow-2);
    }

    .editor-demo h3 {
      margin-bottom: 15px;
      color: var(--ldesign-text-color-primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .editor-container {
      border: 1px solid var(--ldesign-border-level-1-color);
      border-radius: 8px;
      min-height: 200px;
      background: var(--ldesign-bg-color-container);
      padding: 15px;
      outline: none;
      transition: all 0.3s ease;
      margin-bottom: 15px;
    }

    .editor-container:focus {
      border-color: var(--ldesign-brand-color);
      box-shadow: 0 0 0 3px rgba(114, 46, 209, 0.1);
    }

    .toolbar {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .toolbar-btn {
      padding: 6px 12px;
      border: 1px solid var(--ldesign-border-level-1-color);
      border-radius: 4px;
      background: var(--ldesign-bg-color-container);
      color: var(--ldesign-text-color-primary);
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.85rem;
    }

    .toolbar-btn:hover {
      background: var(--ldesign-brand-color);
      color: white;
      border-color: var(--ldesign-brand-color);
    }

    .theme-info {
      background: var(--ldesign-bg-color-container);
      border: 1px solid var(--ldesign-border-level-1-color);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .theme-info h3 {
      margin-bottom: 15px;
      color: var(--ldesign-text-color-primary);
    }

    .color-palette {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .color-item {
      text-align: center;
    }

    .color-swatch {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      margin: 0 auto 8px;
      border: 2px solid var(--ldesign-border-level-1-color);
      transition: all 0.3s ease;
    }

    .color-swatch:hover {
      transform: scale(1.1);
      box-shadow: var(--ldesign-shadow-1);
    }

    .color-name {
      font-size: 0.8rem;
      color: var(--ldesign-text-color-secondary);
      font-weight: 500;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .feature-card {
      background: var(--ldesign-bg-color-container);
      border: 1px solid var(--ldesign-border-level-1-color);
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--ldesign-shadow-1);
    }

    .feature-icon {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .feature-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--ldesign-text-color-primary);
    }

    .feature-desc {
      font-size: 0.9rem;
      color: var(--ldesign-text-color-secondary);
      line-height: 1.5;
    }

    @media (max-width: 768px) {
      .main-content {
        padding: 20px;
      }
      
      .header {
        padding: 20px;
      }
      
      .header h1 {
        font-size: 2rem;
      }
      
      .theme-selector {
        gap: 10px;
      }
      
      .theme-btn {
        padding: 8px 16px;
        font-size: 0.9rem;
      }
      
      .editors-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ä¸»é¢˜ç‰¹å®šæ ·å¼ */
    [data-theme="dark"] .editor-container {
      background: #2d2d2d;
      color: rgba(255, 255, 255, 90%);
    }

    [data-theme="minimal"] .editor-container {
      background: #fafafa;
      border: 1px solid #ddd;
    }

    [data-theme="rainbow"] .header {
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      animation: rainbow 5s ease-in-out infinite;
    }

    [data-theme="rainbow"] .theme-btn.active {
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      animation: rainbow 3s ease-in-out infinite;
    }
  </style>
</head>
<body data-theme="default">
  <div class="app-container">
    <div class="header">
      <h1>LDesign Editor</h1>
      <p>ä¸»é¢˜ç³»ç»Ÿæ¼”ç¤º - å¤šæ ·åŒ–çš„è§†è§‰ä½“éªŒ</p>
    </div>

    <div class="main-content">
      <!-- ä¸»é¢˜é€‰æ‹©å™¨ -->
      <div class="theme-selector">
        <button class="theme-btn default active" onclick="switchTheme('default')">
          ğŸ¨ é»˜è®¤ä¸»é¢˜
        </button>
        <button class="theme-btn dark" onclick="switchTheme('dark')">
          ğŸŒ™ æš—è‰²ä¸»é¢˜
        </button>
        <button class="theme-btn minimal" onclick="switchTheme('minimal')">
          âœ¨ ç®€æ´ä¸»é¢˜
        </button>
        <button class="theme-btn rainbow" onclick="switchTheme('rainbow')">
          ğŸŒˆ å½©è™¹ä¸»é¢˜
        </button>
      </div>

      <!-- å½“å‰ä¸»é¢˜ä¿¡æ¯ -->
      <div class="theme-info">
        <h3 id="currentThemeTitle">ğŸ¨ å½“å‰ä¸»é¢˜ï¼šé»˜è®¤ä¸»é¢˜</h3>
        <p id="currentThemeDesc">ç»å…¸çš„ç´«è‰²ä¸»é¢˜ï¼Œé€‚åˆå¤§å¤šæ•°ä½¿ç”¨åœºæ™¯ã€‚</p>
        
        <!-- é¢œè‰²è°ƒè‰²æ¿ -->
        <div class="color-palette" id="colorPalette">
          <!-- åŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>

      <!-- ç¼–è¾‘å™¨æ¼”ç¤º -->
      <div class="editors-grid">
        <div class="editor-demo">
          <h3>ğŸ“ åŸºç¡€ç¼–è¾‘å™¨</h3>
          <div class="toolbar">
            <button class="toolbar-btn" onclick="executeCommand('editor1', 'bold')">B</button>
            <button class="toolbar-btn" onclick="executeCommand('editor1', 'italic')">I</button>
            <button class="toolbar-btn" onclick="executeCommand('editor1', 'underline')">U</button>
            <button class="toolbar-btn" onclick="executeCommand('editor1', 'heading1')">H1</button>
            <button class="toolbar-btn" onclick="executeCommand('editor1', 'heading2')">H2</button>
          </div>
          <div id="editor1" class="editor-container" contenteditable="true">
            <h2>ä¸»é¢˜æ¼”ç¤º</h2>
            <p>è¿™æ˜¯ä¸€ä¸ª<strong>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</strong>çš„ä¸»é¢˜æ¼”ç¤ºã€‚</p>
            <ul>
              <li>æ”¯æŒå¤šç§ä¸»é¢˜åˆ‡æ¢</li>
              <li>åŸºäºCSSå˜é‡çš„ä¸»é¢˜ç³»ç»Ÿ</li>
              <li>å“åº”å¼è®¾è®¡</li>
            </ul>
            <p>å°è¯•åˆ‡æ¢ä¸åŒçš„ä¸»é¢˜ï¼Œä½“éªŒè§†è§‰æ•ˆæœçš„å˜åŒ–ï¼</p>
          </div>
        </div>

        <div class="editor-demo">
          <h3>ğŸ“‹ å†…å®¹ç¼–è¾‘å™¨</h3>
          <div class="toolbar">
            <button class="toolbar-btn" onclick="executeCommand('editor2', 'bulletList')">â€¢ åˆ—è¡¨</button>
            <button class="toolbar-btn" onclick="executeCommand('editor2', 'orderedList')">1. åˆ—è¡¨</button>
            <button class="toolbar-btn" onclick="executeCommand('editor2', 'blockquote')" title="å¼•ç”¨">â å¼•ç”¨</button>
            <button class="toolbar-btn" onclick="insertSample('editor2')">ğŸ“„ ç¤ºä¾‹</button>
          </div>
          <div id="editor2" class="editor-container" contenteditable="true">
            <h3>ä¸»é¢˜ç‰¹æ€§</h3>
            <blockquote>
              ä¸»é¢˜ç³»ç»Ÿè®©ç¼–è¾‘å™¨èƒ½å¤Ÿé€‚åº”ä¸åŒçš„ä½¿ç”¨ç¯å¢ƒå’Œç”¨æˆ·åå¥½ã€‚
            </blockquote>
            <p>æ¯ä¸ªä¸»é¢˜éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œç¡®ä¿ï¼š</p>
            <ol>
              <li>è‰¯å¥½çš„å¯è¯»æ€§</li>
              <li>èˆ’é€‚çš„è§†è§‰ä½“éªŒ</li>
              <li>ä¸€è‡´çš„äº¤äº’åé¦ˆ</li>
            </ol>
          </div>
        </div>

        <div class="editor-demo">
          <h3>ğŸ¯ äº¤äº’æ¼”ç¤º</h3>
          <div class="toolbar">
            <button class="toolbar-btn" onclick="toggleReadonly('editor3')">ğŸ”’ åªè¯»</button>
            <button class="toolbar-btn" onclick="clearEditor('editor3')">ğŸ—‘ï¸ æ¸…ç©º</button>
            <button class="toolbar-btn" onclick="insertTime('editor3')">ğŸ• æ—¶é—´</button>
            <button class="toolbar-btn" onclick="randomColor('editor3')">ğŸ¨ éšæœºè‰²</button>
          </div>
          <div id="editor3" class="editor-container" contenteditable="true">
            <h3>äº¤äº’æµ‹è¯•</h3>
            <p>è¿™ä¸ªç¼–è¾‘å™¨ç”¨äºæµ‹è¯•å„ç§äº¤äº’åŠŸèƒ½ï¼š</p>
            <ul>
              <li>åªè¯»æ¨¡å¼åˆ‡æ¢</li>
              <li>å†…å®¹æ¸…ç©º</li>
              <li>åŠ¨æ€å†…å®¹æ’å…¥</li>
              <li>æ ·å¼åŠ¨æ€å˜æ›´</li>
            </ul>
            <p>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ä½“éªŒä¸åŒçš„äº¤äº’æ•ˆæœã€‚</p>
          </div>
        </div>

        <div class="editor-demo">
          <h3>ğŸ“Š å®æ—¶ç»Ÿè®¡</h3>
          <div style="margin-bottom: 15px;">
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 0.9rem;">
              <div>å­—ç¬¦æ•°: <span id="charCount">0</span></div>
              <div>å•è¯æ•°: <span id="wordCount">0</span></div>
              <div>æ®µè½æ•°: <span id="paragraphCount">0</span></div>
              <div>å½“å‰ä¸»é¢˜: <span id="currentTheme">default</span></div>
            </div>
          </div>
          <div id="editor4" class="editor-container" contenteditable="true" oninput="updateStats()">
            <h3>ç»Ÿè®¡æ¼”ç¤º</h3>
            <p>è¿™ä¸ªç¼–è¾‘å™¨ä¼šå®æ—¶ç»Ÿè®¡å†…å®¹ä¿¡æ¯ã€‚</p>
            <p>å¼€å§‹è¾“å…¥å†…å®¹ï¼Œè§‚å¯Ÿä¸Šæ–¹ç»Ÿè®¡æ•°æ®çš„å˜åŒ–ã€‚</p>
            <p>ä¸åŒä¸»é¢˜ä¸‹çš„ç»Ÿè®¡æ˜¾ç¤ºæ•ˆæœä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚</p>
          </div>
        </div>
      </div>

      <!-- ä¸»é¢˜ç‰¹æ€§è¯´æ˜ -->
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ¨</div>
          <div class="feature-title">CSS å˜é‡</div>
          <div class="feature-desc">åŸºäºCSSå˜é‡çš„ä¸»é¢˜ç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€åˆ‡æ¢å’Œè‡ªå®šä¹‰</div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸŒ“</div>
          <div class="feature-title">æ˜æš—æ¨¡å¼</div>
          <div class="feature-desc">æ”¯æŒæ˜äº®å’Œæš—è‰²ä¸»é¢˜ï¼Œé€‚åº”ä¸åŒå…‰çº¿ç¯å¢ƒ</div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸ“±</div>
          <div class="feature-title">å“åº”å¼</div>
          <div class="feature-desc">ä¸»é¢˜åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½ä¿æŒè‰¯å¥½çš„è§†è§‰æ•ˆæœ</div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">âš¡</div>
          <div class="feature-title">æ€§èƒ½ä¼˜åŒ–</div>
          <div class="feature-desc">ä¸»é¢˜åˆ‡æ¢ä½¿ç”¨CSSè¿‡æ¸¡ï¼Œæµç•…ä¸”é«˜æ€§èƒ½</div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸ”§</div>
          <div class="feature-title">å¯å®šåˆ¶</div>
          <div class="feature-desc">æ”¯æŒåˆ›å»ºè‡ªå®šä¹‰ä¸»é¢˜ï¼Œæ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚</div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">â™¿</div>
          <div class="feature-title">æ— éšœç¢</div>
          <div class="feature-desc">éµå¾ªæ— éšœç¢è®¾è®¡åŸåˆ™ï¼Œç¡®ä¿è‰¯å¥½çš„å¯è®¿é—®æ€§</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ä¸»é¢˜é…ç½®
    const themes = {
      default: {
        name: 'é»˜è®¤ä¸»é¢˜',
        description: 'ç»å…¸çš„ç´«è‰²ä¸»é¢˜ï¼Œé€‚åˆå¤§å¤šæ•°ä½¿ç”¨åœºæ™¯ã€‚',
        colors: [
          { name: 'ä¸»è‰²è°ƒ', value: '#722ED1' },
          { name: 'èƒŒæ™¯è‰²', value: '#ffffff' },
          { name: 'æ–‡æœ¬è‰²', value: 'rgba(0, 0, 0, 90%)' },
          { name: 'è¾¹æ¡†è‰²', value: '#e5e5e5' }
        ]
      },
      dark: {
        name: 'æš—è‰²ä¸»é¢˜',
        description: 'æ·±è‰²èƒŒæ™¯ä¸»é¢˜ï¼Œå‡å°‘çœ¼éƒ¨ç–²åŠ³ï¼Œé€‚åˆå¤œé—´ä½¿ç”¨ã€‚',
        colors: [
          { name: 'ä¸»è‰²è°ƒ', value: '#8c5ad3' },
          { name: 'èƒŒæ™¯è‰²', value: '#1a1a1a' },
          { name: 'æ–‡æœ¬è‰²', value: 'rgba(255, 255, 255, 90%)' },
          { name: 'è¾¹æ¡†è‰²', value: '#333333' }
        ]
      },
      minimal: {
        name: 'ç®€æ´ä¸»é¢˜',
        description: 'ç®€çº¦è®¾è®¡é£æ ¼ï¼Œæ³¨é‡å†…å®¹æœ¬èº«ï¼Œå‡å°‘è§†è§‰å¹²æ‰°ã€‚',
        colors: [
          { name: 'ä¸»è‰²è°ƒ', value: '#666666' },
          { name: 'èƒŒæ™¯è‰²', value: '#fafafa' },
          { name: 'æ–‡æœ¬è‰²', value: '#333333' },
          { name: 'è¾¹æ¡†è‰²', value: '#dddddd' }
        ]
      },
      rainbow: {
        name: 'å½©è™¹ä¸»é¢˜',
        description: 'å……æ»¡æ´»åŠ›çš„å½©è‰²ä¸»é¢˜ï¼Œé€‚åˆåˆ›æ„å’Œè®¾è®¡å·¥ä½œã€‚',
        colors: [
          { name: 'çº¢è‰²', value: '#ff6b6b' },
          { name: 'é’è‰²', value: '#4ecdc4' },
          { name: 'è“è‰²', value: '#45b7d1' },
          { name: 'ç»¿è‰²', value: '#96ceb4' },
          { name: 'é»„è‰²', value: '#feca57' }
        ]
      }
    };

    let currentTheme = 'default';

    // åˆ‡æ¢ä¸»é¢˜
    function switchTheme(themeName) {
      currentTheme = themeName;
      document.body.setAttribute('data-theme', themeName);
      
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector(`.theme-btn.${themeName}`).classList.add('active');
      
      // æ›´æ–°ä¸»é¢˜ä¿¡æ¯
      updateThemeInfo(themeName);
      
      // æ›´æ–°ç»Ÿè®¡ä¸­çš„ä¸»é¢˜æ˜¾ç¤º
      document.getElementById('currentTheme').textContent = themeName;
      
      console.log(`ä¸»é¢˜å·²åˆ‡æ¢åˆ°: ${themes[themeName].name}`);
    }

    // æ›´æ–°ä¸»é¢˜ä¿¡æ¯
    function updateThemeInfo(themeName) {
      const theme = themes[themeName];
      document.getElementById('currentThemeTitle').textContent = `ğŸ¨ å½“å‰ä¸»é¢˜ï¼š${theme.name}`;
      document.getElementById('currentThemeDesc').textContent = theme.description;
      
      // æ›´æ–°é¢œè‰²è°ƒè‰²æ¿
      const palette = document.getElementById('colorPalette');
      palette.innerHTML = theme.colors.map(color => `
        <div class="color-item">
          <div class="color-swatch" style="background-color: ${color.value}"></div>
          <div class="color-name">${color.name}</div>
        </div>
      `).join('');
    }

    // æ‰§è¡Œç¼–è¾‘å‘½ä»¤
    function executeCommand(editorId, command) {
      const editor = document.getElementById(editorId);
      editor.focus();
      
      try {
        document.execCommand(command, false, null);
        console.log(`åœ¨ ${editorId} ä¸­æ‰§è¡Œå‘½ä»¤: ${command}`);
      } catch (error) {
        console.error('å‘½ä»¤æ‰§è¡Œå¤±è´¥:', error);
      }
    }

    // æ’å…¥ç¤ºä¾‹å†…å®¹
    function insertSample(editorId) {
      const editor = document.getElementById(editorId);
      const sampleContent = `
        <h4>æ’å…¥çš„ç¤ºä¾‹å†…å®¹</h4>
        <p>è¿™æ˜¯é€šè¿‡æŒ‰é’®æ’å…¥çš„ç¤ºä¾‹å†…å®¹ï¼Œå±•ç¤ºäº†ä¸»é¢˜çš„å„ç§æ ·å¼æ•ˆæœï¼š</p>
        <ul>
          <li><strong>åŠ ç²—æ–‡æœ¬</strong> - çªå‡ºé‡è¦ä¿¡æ¯</li>
          <li><em>æ–œä½“æ–‡æœ¬</em> - è¡¨ç¤ºå¼ºè°ƒæˆ–å¼•ç”¨</li>
          <li><u>ä¸‹åˆ’çº¿æ–‡æœ¬</u> - æ ‡è®°ç‰¹æ®Šå†…å®¹</li>
        </ul>
        <blockquote>
          è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨å—ï¼Œç”¨äºå±•ç¤ºå¼•ç”¨å†…å®¹çš„æ ·å¼æ•ˆæœã€‚
        </blockquote>
        <p>å½“å‰ä¸»é¢˜ï¼š<span style="color: var(--ldesign-brand-color); font-weight: bold;">${themes[currentTheme].name}</span></p>
      `;
      
      editor.focus();
      document.execCommand('insertHTML', false, sampleContent);
    }

    // åˆ‡æ¢åªè¯»æ¨¡å¼
    function toggleReadonly(editorId) {
      const editor = document.getElementById(editorId);
      const isReadonly = editor.contentEditable === 'false';
      
      editor.contentEditable = isReadonly ? 'true' : 'false';
      editor.style.backgroundColor = isReadonly ? 'var(--ldesign-bg-color-container)' : 'var(--ldesign-bg-color-page)';
      
      console.log(`${editorId} åªè¯»æ¨¡å¼: ${!isReadonly ? 'å¼€å¯' : 'å…³é—­'}`);
    }

    // æ¸…ç©ºç¼–è¾‘å™¨
    function clearEditor(editorId) {
      if (confirm('ç¡®å®šè¦æ¸…ç©ºç¼–è¾‘å™¨å†…å®¹å—ï¼Ÿ')) {
        const editor = document.getElementById(editorId);
        editor.innerHTML = '<p>å†…å®¹å·²æ¸…ç©ºï¼Œå¼€å§‹è¾“å…¥æ–°å†…å®¹...</p>';
        console.log(`${editorId} å†…å®¹å·²æ¸…ç©º`);
      }
    }

    // æ’å…¥å½“å‰æ—¶é—´
    function insertTime(editorId) {
      const editor = document.getElementById(editorId);
      const now = new Date();
      const timeString = now.toLocaleString('zh-CN');
      
      editor.focus();
      document.execCommand('insertHTML', false, `<p>æ’å…¥æ—¶é—´: <strong>${timeString}</strong></p>`);
    }

    // éšæœºé¢œè‰²
    function randomColor(editorId) {
      const editor = document.getElementById(editorId);
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#54a0ff'];
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      
      editor.focus();
      const selection = window.getSelection();
      if (selection.toString()) {
        document.execCommand('foreColor', false, randomColor);
      } else {
        document.execCommand('insertHTML', false, `<span style="color: ${randomColor};">å½©è‰²æ–‡æœ¬</span>`);
      }
    }

    // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    function updateStats() {
      const editor = document.getElementById('editor4');
      const text = editor.textContent || '';
      const html = editor.innerHTML || '';
      
      // è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
      const charCount = text.length;
      const wordCount = text.trim().split(/\s+/).filter(word => word.length > 0).length;
      const paragraphCount = html.split(/<\/p>|<\/h[1-6]>|<\/li>/).filter(p => p.trim().length > 0).length;
      
      // æ›´æ–°æ˜¾ç¤º
      document.getElementById('charCount').textContent = charCount;
      document.getElementById('wordCount').textContent = wordCount;
      document.getElementById('paragraphCount').textContent = paragraphCount;
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      // åˆå§‹åŒ–ä¸»é¢˜ä¿¡æ¯
      updateThemeInfo('default');
      
      // åˆå§‹åŒ–ç»Ÿè®¡ä¿¡æ¯
      updateStats();
      
      // ä¸ºæ‰€æœ‰ç¼–è¾‘å™¨æ·»åŠ è¾“å…¥äº‹ä»¶ç›‘å¬
      document.querySelectorAll('.editor-container').forEach(editor => {
        editor.addEventListener('input', function() {
          console.log(`ç¼–è¾‘å™¨ ${editor.id} å†…å®¹å·²æ›´æ–°`);
        });
        
        editor.addEventListener('focus', function() {
          console.log(`ç¼–è¾‘å™¨ ${editor.id} è·å¾—ç„¦ç‚¹`);
        });
        
        editor.addEventListener('blur', function() {
          console.log(`ç¼–è¾‘å™¨ ${editor.id} å¤±å»ç„¦ç‚¹`);
        });
      });
      
      console.log('ä¸»é¢˜æ¼”ç¤ºé¡µé¢åˆå§‹åŒ–å®Œæˆ');
    });

    // é”®ç›˜å¿«æ·é”®
    document.addEventListener('keydown', function(e) {
      // Ctrl/Cmd + æ•°å­—é”®åˆ‡æ¢ä¸»é¢˜
      if ((e.ctrlKey || e.metaKey) && e.key >= '1' && e.key <= '4') {
        e.preventDefault();
        const themeNames = ['default', 'dark', 'minimal', 'rainbow'];
        const themeIndex = parseInt(e.key) - 1;
        if (themeNames[themeIndex]) {
          switchTheme(themeNames[themeIndex]);
        }
      }
    });
  </script>
</body>
</html>
