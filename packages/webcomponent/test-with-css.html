<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>测试包含Input CSS</title>
  <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign-webcomponent/ldesign-webcomponent.css">
  <!-- 手动添加input.css -->
  <link rel="stylesheet" href="./dist/collection/components/input/input.css">
  <style>
    body { padding: 20px; }
    .test { margin: 30px 0; }
  </style>
</head>
<body>
  <h1>手动包含 Input CSS 后的测试</h1>

  <div class="test">
    <h2>1. Textarea 测试（设置5行最大高度）</h2>
    <ldesign-input type="textarea" id="textarea1" value="第一行
第二行
第三行
第四行
第五行
第六行（应该出现滚动条）
第七行"></ldesign-input>
  </div>

  <div class="test">
    <h2>2. 输入限制测试</h2>
    <ldesign-input id="input1" placeholder="只能输入数字"></ldesign-input>
    <p>当前值: <span id="value1"></span></p>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // 设置 textarea
      const textarea1 = document.getElementById('textarea1');
      textarea1.autosize = { minRows: 2, maxRows: 5 };
      
      // 设置输入限制
      const input1 = document.getElementById('input1');
      input1.allowInput = /^\d*$/;
      
      // 监听输入
      input1.addEventListener('ldesignInput', (e) => {
        document.getElementById('value1').textContent = e.detail;
      });
      
      // 测试
      setTimeout(() => {
        const textareaEl = textarea1.querySelector('textarea');
        if (textareaEl) {
          console.log('Textarea 样式:', {
            overflowY: window.getComputedStyle(textareaEl).overflowY,
            scrollHeight: textareaEl.scrollHeight,
            clientHeight: textareaEl.clientHeight,
            hasScrollbar: textareaEl.scrollHeight > textareaEl.clientHeight
          });
        }
      }, 500);
    });
  </script>
</body>
</html>