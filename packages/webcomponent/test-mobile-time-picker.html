<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Mobile Time Picker Test</title>
  <script type="module" src="./dist/ldesign/ldesign.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign/ldesign.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
      min-height: 100vh;
    }
    
    h1 {
      font-size: 24px;
      color: #1a1a1a;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .mobile-info {
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .info-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 14px;
    }
    
    .info-label {
      color: #666;
    }
    
    .info-value {
      color: #1a1a1a;
      font-weight: 500;
    }
    
    .test-section {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .test-title {
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin-bottom: 12px;
    }
    
    .test-desc {
      font-size: 14px;
      color: #666;
      margin-bottom: 16px;
    }
    
    .picker-wrapper {
      margin-bottom: 16px;
    }
    
    .result-box {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 12px;
      font-size: 14px;
      color: #495057;
      text-align: center;
      font-weight: 500;
    }
    
    .result-value {
      color: #0066cc;
      font-size: 16px;
      font-weight: 600;
    }
    
    .badge {
      display: inline-block;
      padding: 3px 8px;
      background: #e3f2fd;
      color: #1976d2;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 8px;
    }
    
    .test-grid {
      display: grid;
      gap: 20px;
    }
    
    /* æ¨¡æ‹Ÿç§»åŠ¨ç«¯å®½åº¦ */
    @media (min-width: 769px) {
      body {
        max-width: 375px;
        margin: 0 auto;
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
      }
    }
    
    .tips {
      background: #fff3cd;
      border: 1px solid #ffc107;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 20px;
      font-size: 14px;
      color: #856404;
    }
  </style>
</head>
<body>
  <h1>ğŸ“± ç§»åŠ¨ç«¯æ—¶é—´é€‰æ‹©å™¨</h1>
  
  <div class="mobile-info">
    <div class="info-row">
      <span class="info-label">å±å¹•å®½åº¦</span>
      <span class="info-value" id="screen-width">-</span>
    </div>
    <div class="info-row">
      <span class="info-label">æ˜¾ç¤ºæ¨¡å¼</span>
      <span class="info-value" id="display-mode">-</span>
    </div>
    <div class="info-row">
      <span class="info-label">ä¼˜åŒ–ç‰¹æ€§</span>
      <span class="info-value">âœ… å·²å¯ç”¨</span>
    </div>
  </div>
  
  <div class="tips">
    ğŸ’¡ ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼šæŒ‰é’®ç§»è‡³é¡¶éƒ¨ï¼Œé€‰æ‹©å™¨é“ºæ»¡å®½åº¦ï¼Œéšè—å…³é—­æŒ‰é’®
  </div>
  
  <div class="test-grid">
    <!-- æµ‹è¯•1: åŸºç¡€é€‰æ‹©å™¨ -->
    <div class="test-section">
      <div class="test-title">åŸºç¡€é€‰æ‹©å™¨</div>
      <div class="test-desc">æ ‡å‡†æ—¶é—´é€‰æ‹©ï¼Œæ˜¾ç¤ºæ—¶åˆ†ç§’</div>
      <div class="picker-wrapper">
        <ldesign-time-picker 
          id="basic"
          placeholder="é€‰æ‹©æ—¶é—´"
          default-value="09:30:00"
        ></ldesign-time-picker>
      </div>
      <div class="result-box">
        å½“å‰å€¼: <span class="result-value" id="basic-result">09:30:00</span>
      </div>
    </div>
    
    <!-- æµ‹è¯•2: 12å°æ—¶åˆ¶ -->
    <div class="test-section">
      <div class="test-title">12å°æ—¶åˆ¶ <span class="badge">AM/PM</span></div>
      <div class="test-desc">AM/PM åœ¨æœ€å‰é¢ï¼Œé€‚åˆå›½é™…ç”¨æˆ·</div>
      <div class="picker-wrapper">
        <ldesign-time-picker 
          id="twelve"
          output-format="12h"
          show-seconds="false"
          placeholder="é€‰æ‹©æ—¶é—´ (12h)"
          default-value="14:30"
        ></ldesign-time-picker>
      </div>
      <div class="result-box">
        å½“å‰å€¼: <span class="result-value" id="twelve-result">02:30 PM</span>
      </div>
    </div>
    
    <!-- æµ‹è¯•3: èŒƒå›´é€‰æ‹© -->
    <div class="test-section">
      <div class="test-title">èŒƒå›´é€‰æ‹© <span class="badge">åŒæ—¶é—´</span></div>
      <div class="test-desc">é€‰æ‹©å¼€å§‹å’Œç»“æŸæ—¶é—´</div>
      <div class="picker-wrapper">
        <ldesign-time-picker 
          id="range"
          range="true"
          show-seconds="false"
          placeholder="é€‰æ‹©æ—¶é—´èŒƒå›´"
          default-value="09:00-18:00"
        ></ldesign-time-picker>
      </div>
      <div class="result-box">
        æ—¶é—´æ®µ: <span class="result-value" id="range-result">09:00 ~ 18:00</span>
      </div>
    </div>
    
    <!-- æµ‹è¯•4: å³æ—¶ç”Ÿæ•ˆ -->
    <div class="test-section">
      <div class="test-title">å³æ—¶ç”Ÿæ•ˆæ¨¡å¼</div>
      <div class="test-desc">æ— éœ€ç¡®è®¤ï¼Œé€‰æ‹©åç«‹å³ç”Ÿæ•ˆ</div>
      <div class="picker-wrapper">
        <ldesign-time-picker 
          id="instant"
          confirm="false"
          show-seconds="false"
          placeholder="å³æ—¶ç”Ÿæ•ˆ"
          default-value="10:00"
        ></ldesign-time-picker>
      </div>
      <div class="result-box">
        å®æ—¶å€¼: <span class="result-value" id="instant-result">10:00</span>
      </div>
    </div>
    
    <!-- æµ‹è¯•5: é¢„è®¾å¿«æ·é€‰æ‹© -->
    <div class="test-section">
      <div class="test-title">é¢„è®¾å¿«æ·é€‰æ‹©</div>
      <div class="test-desc">å¸¸ç”¨æ—¶é—´å¿«é€Ÿé€‰æ‹©</div>
      <div class="picker-wrapper">
        <ldesign-time-picker 
          id="preset"
          show-seconds="false"
          placeholder="é€‰æ‹©æˆ–ä½¿ç”¨é¢„è®¾"
        ></ldesign-time-picker>
      </div>
      <div class="result-box">
        é€‰æ‹©: <span class="result-value" id="preset-result">æœªé€‰æ‹©</span>
      </div>
    </div>
  </div>
  
  <script>
    // æ˜¾ç¤ºå±å¹•ä¿¡æ¯
    function updateScreenInfo() {
      const width = window.innerWidth;
      document.getElementById('screen-width').textContent = width + 'px';
      document.getElementById('display-mode').textContent = width < 768 ? 'Drawer æ¨¡å¼' : 'Popup æ¨¡å¼';
    }
    
    updateScreenInfo();
    window.addEventListener('resize', updateScreenInfo);
    
    // è®¾ç½®é¢„è®¾
    const presetPicker = document.getElementById('preset');
    presetPicker.presets = [
      { label: 'ç°åœ¨', value: new Date().toTimeString().slice(0, 5) },
      { label: 'ä¸Šç­', value: '09:00' },
      { label: 'åˆé¤', value: '12:00' },
      { label: 'ä¸‹ç­', value: '18:00' }
    ];
    
    // ç›‘å¬å™¨
    function setupListener(id, resultId, formatter) {
      const picker = document.getElementById(id);
      const result = document.getElementById(resultId);
      
      picker.addEventListener('ldesignChange', (e) => {
        if (formatter) {
          result.textContent = formatter(e.detail);
        } else if (e.detail && typeof e.detail === 'object') {
          result.textContent = `${e.detail.start || '--:--'} ~ ${e.detail.end || '--:--'}`;
        } else {
          result.textContent = e.detail || 'æœªé€‰æ‹©';
        }
      });
    }
    
    setupListener('basic', 'basic-result');
    setupListener('twelve', 'twelve-result');
    setupListener('range', 'range-result');
    setupListener('instant', 'instant-result');
    setupListener('preset', 'preset-result');
    
    console.log('ç§»åŠ¨ç«¯æ—¶é—´é€‰æ‹©å™¨æµ‹è¯•é¡µé¢');
    console.log('ä¼˜åŒ–ç‰¹æ€§ï¼š');
    console.log('1. æŒ‰é’®ç§»è‡³é¡¶éƒ¨ï¼Œæ–¹ä¾¿æ“ä½œ');
    console.log('2. é€‰æ‹©å™¨é“ºæ»¡å®½åº¦ï¼Œå……åˆ†åˆ©ç”¨ç©ºé—´');
    console.log('3. éšè—å…³é—­æŒ‰é’®ï¼Œç®€åŒ–ç•Œé¢');
    console.log('4. ä¼˜åŒ–è§¦æ§ä½“éªŒ');
    
    // æç¤ºç”¨æˆ·
    if (window.innerWidth >= 768) {
      console.warn('å½“å‰ä¸ºæ¡Œé¢æ¨¡å¼ï¼Œè¯·è°ƒæ•´æµè§ˆå™¨çª—å£å®½åº¦åˆ° 768px ä»¥ä¸‹æŸ¥çœ‹ç§»åŠ¨ç«¯æ•ˆæœ');
      console.log('æˆ–ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„è®¾å¤‡æ¨¡æ‹Ÿå™¨');
    }
  </script>
</body>
</html>