<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LDesign Input ç»„ä»¶ä¿®å¤å®Œæˆ</title>
  <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign-webcomponent/ldesign-webcomponent.css">
  <style>
    body { 
      padding: 40px; 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 0 auto;
    }
    .test-section { 
      margin: 40px 0; 
      padding: 30px; 
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: #f9f9f9;
    }
    h1 { color: #333; }
    h2 { 
      margin-top: 0; 
      color: #5e2aa7;
    }
    .status { 
      margin-top: 20px; 
      padding: 15px;
      background: white;
      border-radius: 4px;
      font-family: monospace;
      font-size: 14px;
    }
    .success { color: #42bd42; }
    .info { color: #666; }
  </style>
</head>
<body>
  <h1>ğŸ‰ LDesign Input ç»„ä»¶é—®é¢˜å·²ä¿®å¤</h1>

  <div class="test-section">
    <h2>âœ… é—®é¢˜1: Textarea æœ€å¤§é«˜åº¦å’Œæ»šåŠ¨æ¡</h2>
    <p class="info">é…ç½®: autosize = { minRows: 2, maxRows: 5 }</p>
    <p class="info">ç°åœ¨è¶…è¿‡5è¡Œä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡</p>
    <ldesign-input 
      type="textarea" 
      id="textarea1" 
      placeholder="è¯·è¾“å…¥æ–‡æœ¬æµ‹è¯•ï¼Œè¶…è¿‡5è¡Œä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡"
      value="è¿™æ˜¯ç¬¬ä¸€è¡Œæ–‡æœ¬
è¿™æ˜¯ç¬¬äºŒè¡Œæ–‡æœ¬
è¿™æ˜¯ç¬¬ä¸‰è¡Œæ–‡æœ¬
è¿™æ˜¯ç¬¬å››è¡Œæ–‡æœ¬
è¿™æ˜¯ç¬¬äº”è¡Œæ–‡æœ¬ï¼ˆåˆ°è¾¾æœ€å¤§é«˜åº¦ï¼‰
è¿™æ˜¯ç¬¬å…­è¡Œæ–‡æœ¬ï¼ˆå‡ºç°æ»šåŠ¨æ¡ï¼‰
è¿™æ˜¯ç¬¬ä¸ƒè¡Œæ–‡æœ¬
ä½ å¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šè¡Œ..."
    ></ldesign-input>
    <div class="status" id="textarea-status">ç­‰å¾…æ£€æµ‹...</div>
  </div>

  <div class="test-section">
    <h2>âœ… é—®é¢˜2: è¾“å…¥é™åˆ¶åŠŸèƒ½</h2>
    <p class="info">é…ç½®: allowInput = /^\d*$/ (åªå…è®¸æ•°å­—)</p>
    <p class="info">å°è¯•è¾“å…¥å­—æ¯ï¼Œå®ƒä»¬ä¼šè¢«è‡ªåŠ¨æ‹¦æˆª</p>
    <ldesign-input 
      id="number-input" 
      placeholder="åªèƒ½è¾“å…¥æ•°å­—ï¼Œè¯•è¯•è¾“å…¥å­—æ¯"
      size="large"
    ></ldesign-input>
    <div class="status">
      å½“å‰å€¼: <span id="number-value" class="success">ï¼ˆç©ºï¼‰</span>
    </div>
  </div>

  <div class="test-section">
    <h2>âœ¨ é¢å¤–æµ‹è¯•: å¤æ‚è¾“å…¥é™åˆ¶</h2>
    <p class="info">é…ç½®: åªå…è®¸è‹±æ–‡å­—æ¯å’Œæ•°å­—</p>
    <ldesign-input 
      id="alphanumeric-input" 
      placeholder="åªèƒ½è¾“å…¥è‹±æ–‡å’Œæ•°å­—ï¼Œä¸èƒ½è¾“å…¥ä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦"
    ></ldesign-input>
    <div class="status">
      å½“å‰å€¼: <span id="alphanumeric-value" class="success">ï¼ˆç©ºï¼‰</span>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // 1. è®¾ç½® textarea è‡ªåŠ¨é«˜åº¦
      const textarea1 = document.getElementById('textarea1');
      textarea1.autosize = { minRows: 2, maxRows: 5 };
      
      // æ£€æµ‹æ»šåŠ¨æ¡çŠ¶æ€
      setTimeout(() => {
        const textareaEl = textarea1.querySelector('textarea');
        if (textareaEl) {
          const hasScrollbar = textareaEl.scrollHeight > textareaEl.clientHeight;
          const overflowY = window.getComputedStyle(textareaEl).overflowY;
          
          document.getElementById('textarea-status').innerHTML = 
            `<span class="success">âœ“ æ£€æµ‹ç»“æœ:</span><br>` +
            `â€¢ overflow-y: ${overflowY}<br>` +
            `â€¢ æ»šåŠ¨æ¡: ${hasScrollbar ? 'æ˜¾ç¤º' : 'éšè—'}<br>` +
            `â€¢ scrollHeight: ${textareaEl.scrollHeight}px<br>` +
            `â€¢ clientHeight: ${textareaEl.clientHeight}px`;
        }
      }, 500);
      
      // 2. è®¾ç½®æ•°å­—è¾“å…¥é™åˆ¶
      const numberInput = document.getElementById('number-input');
      numberInput.allowInput = /^\d*$/;
      
      numberInput.addEventListener('ldesignInput', (e) => {
        const value = e.detail || 'ï¼ˆç©ºï¼‰';
        document.getElementById('number-value').textContent = value;
      });
      
      // 3. è®¾ç½®å­—æ¯æ•°å­—è¾“å…¥é™åˆ¶
      const alphanumericInput = document.getElementById('alphanumeric-input');
      alphanumericInput.allowInput = /^[a-zA-Z0-9]*$/;
      
      alphanumericInput.addEventListener('ldesignInput', (e) => {
        const value = e.detail || 'ï¼ˆç©ºï¼‰';
        document.getElementById('alphanumeric-value').textContent = value;
      });
      
      // æ˜¾ç¤ºä¿®å¤è¯´æ˜
      console.log('%câœ… ä¿®å¤å®Œæˆï¼', 'color: green; font-size: 16px; font-weight: bold');
      console.log('ä¿®å¤å†…å®¹:');
      console.log('1. å°† Input ç»„ä»¶æ ·å¼å¯¼å…¥åˆ°å…¨å±€æ ·å¼æ–‡ä»¶ä¸­');
      console.log('2. ç¡®ä¿ textarea çš„ overflow-y è®¾ç½®ä¸º auto');
      console.log('3. ä¼˜åŒ–äº†è¾“å…¥é™åˆ¶çš„äº‹ä»¶å¤„ç†é€»è¾‘');
    });
  </script>
</body>
</html>