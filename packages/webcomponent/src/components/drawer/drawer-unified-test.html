<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ç»Ÿä¸€æŠ½å±‰æµ‹è¯• - PCä¸ç§»åŠ¨ç«¯</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .test-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
      font-size: 24px;
      text-align: center;
    }

    .device-info {
      text-align: center;
      padding: 15px;
      background: #f7f7f7;
      border-radius: 8px;
      margin-bottom: 30px;
      font-size: 14px;
    }

    .device-info span {
      display: inline-block;
      margin: 0 10px;
      padding: 4px 10px;
      background: white;
      border-radius: 4px;
    }

    .device-type { color: #667eea; font-weight: bold; }
    .screen-size { color: #764ba2; }
    .orientation { color: #f093fb; }

    .test-grid {
      display: grid;
      gap: 20px;
      margin-top: 30px;
    }

    @media (min-width: 768px) {
      .test-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .test-section {
      background: #fafafa;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
    }

    .test-section h2 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #555;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .test-section h2::before {
      content: '';
      width: 4px;
      height: 20px;
      background: linear-gradient(to bottom, #667eea, #764ba2);
      border-radius: 2px;
    }

    .button-group {
      display: grid;
      gap: 10px;
    }

    button {
      padding: 12px 20px;
      border: none;
      border-radius: 6px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    .size-slider {
      margin-top: 15px;
    }

    .size-slider label {
      display: block;
      margin-bottom: 8px;
      color: #666;
      font-size: 14px;
    }

    .size-slider input {
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: #e0e0e0;
      outline: none;
      -webkit-appearance: none;
    }

    .size-slider input::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      cursor: pointer;
    }

    .size-display {
      text-align: center;
      margin-top: 5px;
      color: #764ba2;
      font-weight: bold;
    }

    .drawer-content {
      padding: 20px;
    }

    .drawer-content h3 {
      margin-bottom: 15px;
      color: #333;
    }

    .drawer-content p {
      line-height: 1.6;
      color: #666;
    }

    .test-form {
      margin-top: 20px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #555;
      font-size: 14px;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }

    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }

    .console-log {
      margin-top: 30px;
      padding: 15px;
      background: #2d2d2d;
      color: #0f0;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      max-height: 200px;
      overflow-y: auto;
    }

    .console-log .log-entry {
      margin-bottom: 5px;
      opacity: 0;
      animation: fadeIn 0.3s forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .status-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
      text-transform: uppercase;
    }

    .status-desktop { background: #e3f2fd; color: #1976d2; }
    .status-mobile { background: #fce4ec; color: #c2185b; }
    .status-tablet { background: #f3e5f5; color: #7b1fa2; }
  </style>
</head>
<body>
  <div class="test-container">
    <h1>ğŸ¯ ç»Ÿä¸€æŠ½å±‰ç»„ä»¶æµ‹è¯•</h1>
    
    <div class="device-info">
      <span class="device-type" id="deviceType">æ£€æµ‹ä¸­...</span>
      <span class="screen-size" id="screenSize">--</span>
      <span class="orientation" id="orientation">--</span>
    </div>

    <div class="test-grid">
      <!-- åŸºç¡€åŠŸèƒ½æµ‹è¯• -->
      <div class="test-section">
        <h2>åŸºç¡€åŠŸèƒ½</h2>
        <div class="button-group">
          <button onclick="openDrawer('left', '30%')">
            â† å·¦ä¾§æŠ½å±‰ (30%)
          </button>
          <button onclick="openDrawer('right', '400px')">
            å³ä¾§æŠ½å±‰ (400px) â†’
          </button>
          <button onclick="openDrawer('top', '40vh')">
            â†‘ é¡¶éƒ¨æŠ½å±‰ (40vh)
          </button>
          <button onclick="openDrawer('bottom', '50%')">
            â†“ åº•éƒ¨æŠ½å±‰ (50%)
          </button>
        </div>
      </div>

      <!-- åŠ¨æ€å°ºå¯¸æµ‹è¯• -->
      <div class="test-section">
        <h2>åŠ¨æ€å°ºå¯¸è°ƒæ•´</h2>
        <div class="size-slider">
          <label>æŠ½å±‰å°ºå¯¸è°ƒæ•´ï¼š</label>
          <input type="range" id="sizeSlider" min="20" max="90" value="50" 
                 oninput="updateSizeDisplay(this.value)">
          <div class="size-display" id="sizeDisplay">50%</div>
        </div>
        <div class="button-group">
          <button onclick="openDynamicDrawer('left')">
            å·¦ä¾§åŠ¨æ€æŠ½å±‰
          </button>
          <button onclick="openDynamicDrawer('right')">
            å³ä¾§åŠ¨æ€æŠ½å±‰
          </button>
        </div>
      </div>

      <!-- äº¤äº’åŠŸèƒ½æµ‹è¯• -->
      <div class="test-section">
        <h2>äº¤äº’åŠŸèƒ½</h2>
        <div class="button-group">
          <button onclick="openResizableDrawer()">
            ğŸ“ å¯è°ƒæ•´å¤§å°æŠ½å±‰
          </button>
          <button onclick="openSwipeDrawer()">
            ğŸ‘† æ»‘åŠ¨å…³é—­æŠ½å±‰
          </button>
          <button onclick="openFullscreenDrawer()">
            â›¶ å…¨å±æŠ½å±‰
          </button>
        </div>
      </div>

      <!-- é«˜çº§åŠŸèƒ½æµ‹è¯• -->
      <div class="test-section">
        <h2>é«˜çº§åŠŸèƒ½</h2>
        <div class="button-group">
          <button onclick="openNestedDrawer()">
            ğŸ“š åµŒå¥—æŠ½å±‰
          </button>
          <button onclick="openFormDrawer()">
            ğŸ“ è¡¨å•æŠ½å±‰
          </button>
          <button onclick="openLoadingDrawer()">
            â³ åŠ è½½çŠ¶æ€æŠ½å±‰
          </button>
        </div>
      </div>
    </div>

    <!-- æ§åˆ¶å°è¾“å‡º -->
    <div class="console-log" id="console">
      <div class="log-entry">ğŸš€ ç»Ÿä¸€æŠ½å±‰æµ‹è¯•é¡µé¢å·²åŠ è½½</div>
    </div>
  </div>

  <!-- æŠ½å±‰ç»„ä»¶ -->
  <ldesign-drawer id="testDrawer">
    <div class="drawer-content">
      <h3 id="drawerTitle">æµ‹è¯•æŠ½å±‰</h3>
      <p id="drawerContent">è¿™æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æŠ½å±‰ç»„ä»¶ï¼Œåœ¨PCç«¯å’Œç§»åŠ¨ç«¯å…·æœ‰ç›¸åŒçš„é€»è¾‘ï¼Œåªæ˜¯äº¤äº’æ–¹å¼ä¸åŒã€‚</p>
    </div>
  </ldesign-drawer>

  <!-- è¡¨å•æŠ½å±‰ -->
  <ldesign-drawer id="formDrawer" drawer-title="ç”¨æˆ·ä¿¡æ¯è¡¨å•" placement="right" size="400px">
    <div class="test-form">
      <div class="form-group">
        <label>å§“å</label>
        <input type="text" placeholder="è¯·è¾“å…¥å§“å">
      </div>
      <div class="form-group">
        <label>é‚®ç®±</label>
        <input type="email" placeholder="è¯·è¾“å…¥é‚®ç®±">
      </div>
      <div class="form-group">
        <label>ç•™è¨€</label>
        <textarea placeholder="è¯·è¾“å…¥ç•™è¨€å†…å®¹"></textarea>
      </div>
    </div>
  </ldesign-drawer>

  <!-- åµŒå¥—æŠ½å±‰ -->
  <ldesign-drawer id="parentDrawer" drawer-title="çˆ¶çº§æŠ½å±‰" placement="right" size="500px">
    <div class="drawer-content">
      <p>è¿™æ˜¯çˆ¶çº§æŠ½å±‰çš„å†…å®¹ã€‚</p>
      <button onclick="openChildDrawer()">æ‰“å¼€å­æŠ½å±‰</button>
    </div>
  </ldesign-drawer>

  <ldesign-drawer id="childDrawer" drawer-title="å­çº§æŠ½å±‰" placement="right" size="400px">
    <div class="drawer-content">
      <p>è¿™æ˜¯å­çº§æŠ½å±‰çš„å†…å®¹ï¼Œå±•ç¤ºäº†æŠ½å±‰çš„åµŒå¥—åŠŸèƒ½ã€‚</p>
    </div>
  </ldesign-drawer>

  <script>
    // è®¾å¤‡ä¿¡æ¯æ£€æµ‹
    function detectDevice() {
      const width = window.innerWidth;
      const height = window.innerHeight;
      const userAgent = navigator.userAgent;
      
      let deviceType = 'Desktop';
      let statusClass = 'status-desktop';
      
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {
        if (width <= 768) {
          deviceType = 'Mobile';
          statusClass = 'status-mobile';
        } else {
          deviceType = 'Tablet';
          statusClass = 'status-tablet';
        }
      } else if (width <= 768) {
        deviceType = 'Desktop (çª„å±)';
      }
      
      document.getElementById('deviceType').textContent = deviceType;
      document.getElementById('deviceType').className = `device-type ${statusClass}`;
      document.getElementById('screenSize').textContent = `${width} Ã— ${height}`;
      document.getElementById('orientation').textContent = width > height ? 'æ¨ªå±' : 'ç«–å±';
      
      log(`è®¾å¤‡ç±»å‹: ${deviceType}, å±å¹•å°ºå¯¸: ${width}Ã—${height}`);
    }

    // æ—¥å¿—è¾“å‡º
    function log(message) {
      const console = document.getElementById('console');
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
      console.appendChild(entry);
      console.scrollTop = console.scrollHeight;
      
      // é™åˆ¶æ—¥å¿—æ¡æ•°
      if (console.children.length > 20) {
        console.removeChild(console.firstChild);
      }
    }

    // åŸºç¡€æŠ½å±‰æ“ä½œ
    function openDrawer(placement, size) {
      const drawer = document.getElementById('testDrawer');
      drawer.placement = placement;
      drawer.size = size;
      drawer.drawerTitle = `${placement.charAt(0).toUpperCase() + placement.slice(1)}ä¾§æŠ½å±‰`;
      drawer.visible = true;
      
      document.getElementById('drawerTitle').textContent = `æµ‹è¯• ${placement} æŠ½å±‰`;
      document.getElementById('drawerContent').textContent = 
        `ä½ç½®: ${placement}, å°ºå¯¸: ${size}, ç»Ÿä¸€é€»è¾‘å¤„ç†PCå’Œç§»åŠ¨ç«¯ã€‚`;
      
      log(`æ‰“å¼€ ${placement} æŠ½å±‰, å°ºå¯¸: ${size}`);
    }

    // åŠ¨æ€å°ºå¯¸æŠ½å±‰
    function openDynamicDrawer(placement) {
      const size = document.getElementById('sizeSlider').value + '%';
      openDrawer(placement, size);
    }

    // æ›´æ–°å°ºå¯¸æ˜¾ç¤º
    function updateSizeDisplay(value) {
      document.getElementById('sizeDisplay').textContent = value + '%';
    }

    // å¯è°ƒæ•´å¤§å°çš„æŠ½å±‰
    function openResizableDrawer() {
      const drawer = document.getElementById('testDrawer');
      drawer.placement = 'right';
      drawer.size = '400px';
      drawer.resizable = true;
      drawer.minSize = '200px';
      drawer.maxSize = '800px';
      drawer.drawerTitle = 'å¯è°ƒæ•´å¤§å°çš„æŠ½å±‰';
      drawer.visible = true;
      
      document.getElementById('drawerTitle').textContent = 'æ‹–åŠ¨è¾¹ç¼˜è°ƒæ•´å¤§å°';
      document.getElementById('drawerContent').textContent = 
        'è¿™ä¸ªæŠ½å±‰å¯ä»¥é€šè¿‡æ‹–åŠ¨è¾¹ç¼˜æ¥è°ƒæ•´å¤§å°ã€‚æœ€å°200pxï¼Œæœ€å¤§800pxã€‚';
      
      log('æ‰“å¼€å¯è°ƒæ•´å¤§å°çš„æŠ½å±‰');
    }

    // æ»‘åŠ¨å…³é—­æŠ½å±‰
    function openSwipeDrawer() {
      const drawer = document.getElementById('testDrawer');
      drawer.placement = 'bottom';
      drawer.size = '60%';
      drawer.swipeToClose = true;
      drawer.drawerTitle = 'æ»‘åŠ¨å…³é—­æŠ½å±‰';
      drawer.visible = true;
      
      document.getElementById('drawerTitle').textContent = 'å‘ä¸‹æ»‘åŠ¨å…³é—­';
      document.getElementById('drawerContent').textContent = 
        'åœ¨è§¦æ‘¸è®¾å¤‡ä¸Šï¼Œæ‚¨å¯ä»¥å‘ä¸‹æ»‘åŠ¨æ¥å…³é—­è¿™ä¸ªæŠ½å±‰ã€‚';
      
      log('æ‰“å¼€å¯æ»‘åŠ¨å…³é—­çš„æŠ½å±‰');
    }

    // å…¨å±æŠ½å±‰
    function openFullscreenDrawer() {
      const drawer = document.getElementById('testDrawer');
      drawer.placement = 'right';
      drawer.size = '500px';
      drawer.fullscreenable = true;
      drawer.drawerTitle = 'æ”¯æŒå…¨å±çš„æŠ½å±‰';
      drawer.visible = true;
      
      document.getElementById('drawerTitle').textContent = 'ç‚¹å‡»å…¨å±æŒ‰é’®';
      document.getElementById('drawerContent').textContent = 
        'è¿™ä¸ªæŠ½å±‰æ”¯æŒå…¨å±æ¨¡å¼ã€‚ç‚¹å‡»æ ‡é¢˜æ çš„å…¨å±æŒ‰é’®å¯ä»¥åˆ‡æ¢ã€‚';
      
      log('æ‰“å¼€æ”¯æŒå…¨å±çš„æŠ½å±‰');
    }

    // è¡¨å•æŠ½å±‰
    function openFormDrawer() {
      const drawer = document.getElementById('formDrawer');
      drawer.visible = true;
      log('æ‰“å¼€è¡¨å•æŠ½å±‰');
    }

    // åµŒå¥—æŠ½å±‰
    function openNestedDrawer() {
      const drawer = document.getElementById('parentDrawer');
      drawer.visible = true;
      log('æ‰“å¼€çˆ¶çº§æŠ½å±‰');
    }

    function openChildDrawer() {
      const drawer = document.getElementById('childDrawer');
      drawer.visible = true;
      log('æ‰“å¼€å­çº§æŠ½å±‰ï¼ˆåµŒå¥—ï¼‰');
    }

    // åŠ è½½çŠ¶æ€æŠ½å±‰
    function openLoadingDrawer() {
      const drawer = document.getElementById('testDrawer');
      drawer.placement = 'right';
      drawer.size = '400px';
      drawer.loading = true;
      drawer.drawerTitle = 'åŠ è½½ä¸­...';
      drawer.visible = true;
      
      document.getElementById('drawerTitle').textContent = 'æ•°æ®åŠ è½½ä¸­';
      document.getElementById('drawerContent').textContent = 'æ­£åœ¨åŠ è½½æ•°æ®ï¼Œè¯·ç¨å€™...';
      
      log('æ‰“å¼€åŠ è½½çŠ¶æ€æŠ½å±‰');
      
      // 3ç§’åå…³é—­åŠ è½½çŠ¶æ€
      setTimeout(() => {
        drawer.loading = false;
        document.getElementById('drawerTitle').textContent = 'åŠ è½½å®Œæˆ';
        document.getElementById('drawerContent').textContent = 'æ•°æ®å·²æˆåŠŸåŠ è½½ï¼';
        log('åŠ è½½å®Œæˆ');
      }, 3000);
    }

    // ç›‘å¬æŠ½å±‰äº‹ä»¶
    document.addEventListener('DOMContentLoaded', () => {
      detectDevice();
      
      // ç›‘å¬çª—å£å¤§å°å˜åŒ–
      window.addEventListener('resize', detectDevice);
      
      // ç›‘å¬æŠ½å±‰äº‹ä»¶
      const drawers = document.querySelectorAll('ldesign-drawer');
      drawers.forEach(drawer => {
        drawer.addEventListener('ldesignClose', () => {
          log(`æŠ½å±‰ ${drawer.id} å·²å…³é—­`);
        });
        
        drawer.addEventListener('ldesignVisibleChange', (e) => {
          if (e.detail) {
            log(`æŠ½å±‰ ${drawer.id} å·²æ‰“å¼€`);
          }
        });
        
        drawer.addEventListener('ldesignSizeChange', (e) => {
          log(`æŠ½å±‰ ${drawer.id} å°ºå¯¸å˜æ›´ä¸º: ${e.detail.size}`);
        });
      });
      
      log('âœ¨ æ‰€æœ‰åŠŸèƒ½å·²å°±ç»ªï¼Œç»Ÿä¸€é€»è¾‘é€‚é…æ‰€æœ‰è®¾å¤‡');
    });
  </script>
</body>
</html>