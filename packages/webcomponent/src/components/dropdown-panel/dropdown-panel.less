.l-dropdown-panel {
  position: relative;
  display: inline-block;

  &__trigger {
    cursor: pointer;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  &__overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1000;
    pointer-events: none;
  }

  &__mask {
    position: fixed;
    left: 0;
    right: 0;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    background: transparent;

    &--visible {
      opacity: 1;
      pointer-events: auto;
    }

    // 遮罩背景层
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--mask-bg, rgba(0, 0, 0, 0.3));
      pointer-events: none;
    }
  }

  &__panel {
    position: absolute;
    left: 0;
    right: 0;
    background: #fff;
    pointer-events: auto;
    z-index: 2;
    overflow: hidden;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    // 从下方滑出
    &--bottom {
      top: 0;
      transform: translateY(-100%);
      box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.15);

      &.l-dropdown-panel__panel--visible {
        transform: translateY(0);
      }
    }

    // 从上方滑出
    &--top {
      bottom: 0;
      transform: translateY(100%);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);

      &.l-dropdown-panel__panel--visible {
        transform: translateY(0);
      }
    }
  }

  &__content {
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    max-height: inherit;

    // 隐藏滚动条但保持功能
    &::-webkit-scrollbar {
      width: 0;
      height: 0;
    }
  }
}

// 移动端适配
@media (max-width: 768px) {
  .l-dropdown-panel {
    &__panel {
      // 移动端确保全宽
      left: 0 !important;
      right: 0 !important;
      width: 100%;
    }
  }
}
