<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Picker 测试</title>
    <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
    <link rel="stylesheet" href="./dist/ldesign-webcomponent/ldesign-webcomponent.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            padding: 40px;
            background: #f5f7fa;
        }
        .demo-section {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .demo-section h2 {
            margin: 0 0 20px 0;
            color: #303133;
            font-size: 18px;
            font-weight: 600;
        }
        .demo-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }
        .demo-item {
            min-width: 200px;
        }
        .demo-label {
            display: block;
            margin-bottom: 8px;
            color: #606266;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1 style="color: #303133; margin-bottom: 32px;">LDesign Date Picker 组件测试</h1>
    
    <div class="demo-section">
        <h2>基本用法</h2>
        <div class="demo-row">
            <div class="demo-item">
                <span class="demo-label">默认日期选择器</span>
                <ldesign-date-picker placeholder="请选择日期"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">带默认值</span>
                <ldesign-date-picker value="2025-09-26" placeholder="请选择日期"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">禁用状态</span>
                <ldesign-date-picker disabled value="2025-09-26" placeholder="已禁用"></ldesign-date-picker>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>不同选择模式</h2>
        <div class="demo-row">
            <div class="demo-item">
                <span class="demo-label">年份选择</span>
                <ldesign-date-picker mode="year" placeholder="选择年份"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">季度选择</span>
                <ldesign-date-picker mode="quarter" placeholder="选择季度"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">月份选择</span>
                <ldesign-date-picker mode="month" placeholder="选择月份"></ldesign-date-picker>
            </div>
        </div>
        <div class="demo-row">
            <div class="demo-item">
                <span class="demo-label">周选择</span>
                <ldesign-date-picker mode="week" placeholder="选择周"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">日期选择（默认）</span>
                <ldesign-date-picker mode="date" placeholder="选择日期"></ldesign-date-picker>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>显示周数与周起始日</h2>
        <div class="demo-row">
            <div class="demo-item">
                <span class="demo-label">显示周数（日期模式）</span>
                <ldesign-date-picker show-week-numbers placeholder="选择日期"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">周选择（显示周数）</span>
                <ldesign-date-picker mode="week" show-week-numbers placeholder="选择周"></ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">周日为起始日</span>
                <ldesign-date-picker first-day-of-week="0" show-week-numbers placeholder="周日起始"></ldesign-date-picker>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>日期范围限制</h2>
        <div class="demo-row">
            <div class="demo-item">
                <span class="demo-label">限制范围（2025年9月）</span>
                <ldesign-date-picker 
                    min-date="2025-09-01" 
                    max-date="2025-09-30" 
                    placeholder="仅2025年9月">
                </ldesign-date-picker>
            </div>
            <div class="demo-item">
                <span class="demo-label">仅允许未来日期</span>
                <ldesign-date-picker 
                    id="future-only" 
                    min-date="2025-09-27" 
                    placeholder="仅未来日期">
                </ldesign-date-picker>
            </div>
        </div>
    </div>

    <div class="demo-section">
        <h2>事件监听</h2>
        <div class="demo-row">
            <div class="demo-item">
                <span class="demo-label">监听值变化</span>
                <ldesign-date-picker id="event-demo" placeholder="选择日期查看事件"></ldesign-date-picker>
                <div id="event-log" style="margin-top: 10px; padding: 10px; background: #f5f7fa; border-radius: 4px; min-height: 40px; font-size: 13px; color: #606266;">
                    等待选择...
                </div>
            </div>
        </div>
    </div>

    <script>
        // 事件监听示例
        const eventDemo = document.getElementById('event-demo');
        const eventLog = document.getElementById('event-log');
        
        eventDemo.addEventListener('ldesignChange', (e) => {
            eventLog.innerHTML = `<strong>值变化:</strong> ${JSON.stringify(e.detail)}<br>时间: ${new Date().toLocaleTimeString()}`;
        });
        
        eventDemo.addEventListener('ldesignVisibleChange', (e) => {
            console.log('弹层可见性:', e.detail);
        });

        // 设置禁用日期函数（禁用周末）
        const futureOnly = document.getElementById('future-only');
        if (futureOnly) {
            futureOnly.disabledDate = (date) => {
                const day = date.getDay();
                return day === 0 || day === 6; // 禁用周末
            };
        }
    </script>
</body>
</html>