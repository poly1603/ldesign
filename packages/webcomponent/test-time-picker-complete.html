<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Time Picker Complete Test</title>
  <script type="module" src="./dist/ldesign/ldesign.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign/ldesign.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
      background: #f5f5f5;
    }
    h1 {
      color: #1a1a1a;
      margin-bottom: 30px;
    }
    h2 {
      color: #333;
      font-size: 20px;
      margin: 30px 0 20px 0;
      padding-bottom: 10px;
      border-bottom: 2px solid #0066cc;
    }
    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    .test-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
    }
    .test-desc {
      font-size: 14px;
      color: #666;
      margin-bottom: 16px;
    }
    .test-result {
      margin-top: 12px;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 4px;
      font-size: 14px;
      color: #495057;
      min-height: 36px;
      display: flex;
      align-items: center;
    }
    .value-display {
      font-family: 'Courier New', monospace;
      color: #0066cc;
      font-weight: 600;
    }
    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 8px;
    }
    .badge-new {
      background: #d4edda;
      color: #155724;
    }
    .badge-important {
      background: #f8d7da;
      color: #721c24;
    }
    code {
      background: #f1f3f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 13px;
      color: #d63384;
    }
  </style>
</head>
<body>
  <h1>ğŸ• Time Picker å®Œæ•´åŠŸèƒ½æµ‹è¯•</h1>

  <h2>ğŸ“… åˆå§‹å€¼è®¾ç½®</h2>
  <div class="test-grid">
    <div class="test-card">
      <div class="test-title">å•ä¸ªæ—¶é—´åˆå§‹å€¼</div>
      <div class="test-desc">ä½¿ç”¨ <code>default-value</code> è®¾ç½®åˆå§‹æ—¶é—´</div>
      <ldesign-time-picker 
        default-value="14:30:00"
        placeholder="å·²è®¾ç½®é»˜è®¤å€¼ 14:30:00"
      ></ldesign-time-picker>
      <div class="test-result">
        åˆå§‹å€¼: <span class="value-display">14:30:00</span>
      </div>
    </div>

    <div class="test-card">
      <div class="test-title">èŒƒå›´åˆå§‹å€¼ï¼ˆæ ¼å¼1ï¼‰</div>
      <div class="test-desc">ä½¿ç”¨è¿å­—ç¬¦æ ¼å¼ <code>"09:00-18:00"</code></div>
      <ldesign-time-picker 
        id="range-init1"
        range="true"
        default-value="09:00-18:00"
        show-seconds="false"
        placeholder="å·¥ä½œæ—¶é—´"
      ></ldesign-time-picker>
      <div class="test-result" id="range-init1-result">
        ç­‰å¾…åŠ è½½...
      </div>
    </div>

    <div class="test-card">
      <div class="test-title">èŒƒå›´åˆå§‹å€¼ï¼ˆæ ¼å¼2ï¼‰</div>
      <div class="test-desc">åˆ†åˆ«è®¾ç½® <code>start-value</code> å’Œ <code>end-value</code></div>
      <ldesign-time-picker 
        id="range-init2"
        range="true"
        start-value="08:00"
        end-value="17:00"
        show-seconds="false"
        placeholder="è‡ªå®šä¹‰æ—¶é—´æ®µ"
      ></ldesign-time-picker>
      <div class="test-result" id="range-init2-result">
        ç­‰å¾…åŠ è½½...
      </div>
    </div>
  </div>

  <h2>ğŸ¯ é¢„è®¾åŠŸèƒ½</h2>
  <div class="test-grid">
    <div class="test-card">
      <div class="test-title">å•ä¸ªæ—¶é—´é¢„è®¾ <span class="badge badge-new">å¸¸ç”¨</span></div>
      <div class="test-desc">å¿«é€Ÿé€‰æ‹©å¸¸ç”¨æ—¶é—´ç‚¹</div>
      <ldesign-time-picker 
        id="single-preset"
        placeholder="é€‰æ‹©æˆ–ä½¿ç”¨é¢„è®¾"
        show-seconds="false"
      ></ldesign-time-picker>
      <div class="test-result" id="single-preset-result">
        æœªé€‰æ‹©
      </div>
    </div>

    <div class="test-card">
      <div class="test-title">èŒƒå›´é¢„è®¾ <span class="badge badge-important">é‡è¦</span></div>
      <div class="test-desc">å·¥ä½œç­æ¬¡å¿«é€Ÿé€‰æ‹©</div>
      <ldesign-time-picker 
        id="range-preset"
        range="true"
        show-seconds="false"
        placeholder="é€‰æ‹©ç­æ¬¡"
      ></ldesign-time-picker>
      <div class="test-result" id="range-preset-result">
        æœªé€‰æ‹©
      </div>
    </div>

    <div class="test-card">
      <div class="test-title">æ··åˆé¢„è®¾ï¼ˆ12å°æ—¶åˆ¶ï¼‰</div>
      <div class="test-desc">12å°æ—¶åˆ¶æ ¼å¼çš„é¢„è®¾</div>
      <ldesign-time-picker 
        id="preset-12h"
        output-format="12h"
        show-seconds="false"
        placeholder="é€‰æ‹©æ—¶é—´ï¼ˆ12hï¼‰"
      ></ldesign-time-picker>
      <div class="test-result" id="preset-12h-result">
        æœªé€‰æ‹©
      </div>
    </div>
  </div>

  <h2>âš¡ å³æ—¶ç”Ÿæ•ˆæ¨¡å¼</h2>
  <div class="test-grid">
    <div class="test-card">
      <div class="test-title">å•ä¸ªæ—¶é—´å³æ—¶ç”Ÿæ•ˆ</div>
      <div class="test-desc"><code>confirm="false"</code> é€‰æ‹©ç«‹å³ç”Ÿæ•ˆ</div>
      <ldesign-time-picker 
        id="instant-single"
        confirm="false"
        default-value="10:00:00"
        placeholder="å³æ—¶ç”Ÿæ•ˆ"
      ></ldesign-time-picker>
      <div class="test-result" id="instant-single-result">
        10:00:00
      </div>
    </div>

    <div class="test-card">
      <div class="test-title">èŒƒå›´å³æ—¶ç”Ÿæ•ˆ</div>
      <div class="test-desc">èŒƒå›´é€‰æ‹©ä¹Ÿæ”¯æŒå³æ—¶ç”Ÿæ•ˆ</div>
      <ldesign-time-picker 
        id="instant-range"
        range="true"
        confirm="false"
        show-seconds="false"
        default-value="09:00-17:00"
        placeholder="å³æ—¶ç”Ÿæ•ˆèŒƒå›´"
      ></ldesign-time-picker>
      <div class="test-result" id="instant-range-result">
        09:00 è‡³ 17:00
      </div>
    </div>
  </div>

  <h2>ğŸ¨ ç‰¹æ®Šé…ç½®ç»„åˆ</h2>
  <div class="test-grid">
    <div class="test-card">
      <div class="test-title">å®Œæ•´é…ç½®ç¤ºä¾‹</div>
      <div class="test-desc">èŒƒå›´+é¢„è®¾+é™åˆ¶+æ­¥è¿›+12å°æ—¶åˆ¶</div>
      <ldesign-time-picker 
        id="full-config"
        range="true"
        output-format="12h"
        min-time="06:00:00"
        max-time="22:00:00"
        hour-step="1"
        minute-step="15"
        show-seconds="false"
        default-value="09:00-18:00"
        placeholder="é€‰æ‹©è¥ä¸šæ—¶é—´"
      ></ldesign-time-picker>
      <div class="test-result" id="full-config-result">
        09:00 AM è‡³ 06:00 PM
      </div>
    </div>

    <div class="test-card">
      <div class="test-title">å†…è”æ¨¡å¼+é¢„è®¾</div>
      <div class="test-desc">ç›´æ¥æ˜¾ç¤ºé¢æ¿çš„é¢„è®¾é€‰æ‹©</div>
      <ldesign-time-picker 
        id="inline-preset"
        inline="true"
        show-seconds="false"
        confirm="false"
      ></ldesign-time-picker>
      <div class="test-result" id="inline-preset-result">
        ç­‰å¾…é€‰æ‹©...
      </div>
    </div>
  </div>

  <h2>ğŸ“± å“åº”å¼æµ‹è¯•</h2>
  <div class="test-grid">
    <div class="test-card">
      <div class="test-title">ç§»åŠ¨ç«¯è‡ªé€‚åº”</div>
      <div class="test-desc">çª—å£ &lt; 768px è‡ªåŠ¨ä½¿ç”¨ drawer</div>
      <ldesign-time-picker 
        placeholder="è°ƒæ•´çª—å£å¤§å°æµ‹è¯•"
        overlay="auto"
      ></ldesign-time-picker>
      <div class="test-result">
        å½“å‰æ¨¡å¼: <span id="overlay-mode">-</span>
      </div>
    </div>
  </div>

  <script>
    // è®¾ç½®å•ä¸ªæ—¶é—´é¢„è®¾
    const singlePreset = document.getElementById('single-preset');
    singlePreset.presets = [
      { label: 'ä¸Šç­æ‰“å¡', value: '09:00', icon: 'check' },
      { label: 'åˆé¤æ—¶é—´', value: '12:00', icon: 'food' },
      { label: 'ä¸‹ç­æ‰“å¡', value: '18:00', icon: 'home' },
      { label: 'åŠ ç­é¤', value: '20:00', icon: 'moon' }
    ];

    // è®¾ç½®èŒƒå›´é¢„è®¾
    const rangePreset = document.getElementById('range-preset');
    rangePreset.presets = [
      { label: 'æ—©ç­', value: { start: '06:00', end: '14:00' }, icon: 'sun' },
      { label: 'ä¸­ç­', value: { start: '14:00', end: '22:00' }, icon: 'clock' },
      { label: 'æ™šç­', value: { start: '22:00', end: '06:00' }, icon: 'moon' },
      { label: 'æ­£å¸¸ç­', value: { start: '09:00', end: '18:00' }, icon: 'briefcase' }
    ];

    // è®¾ç½®12å°æ—¶åˆ¶é¢„è®¾
    const preset12h = document.getElementById('preset-12h');
    preset12h.presets = [
      { label: 'æ—©é¤', value: '07:00', icon: 'coffee' },
      { label: 'åˆé¤', value: '12:00', icon: 'food' },
      { label: 'æ™šé¤', value: '18:30', icon: 'dinner' },
      { label: 'å¤œå®µ', value: '22:00', icon: 'night' }
    ];

    // è®¾ç½®å†…è”é¢„è®¾
    const inlinePreset = document.getElementById('inline-preset');
    inlinePreset.presets = [
      { label: 'ç°åœ¨', value: new Date().toTimeString().slice(0, 5) },
      { label: 'æ•´ç‚¹', value: `${new Date().getHours()}:00` },
      { label: 'åŠç‚¹', value: `${new Date().getHours()}:30` }
    ];

    // è®¾ç½®å®Œæ•´é…ç½®é¢„è®¾
    const fullConfig = document.getElementById('full-config');
    fullConfig.presets = [
      { label: 'è¥ä¸šæ—¶é—´', value: { start: '09:00', end: '21:00' } },
      { label: 'åˆå¸‚', value: { start: '11:00', end: '14:00' } },
      { label: 'æ™šå¸‚', value: { start: '17:00', end: '21:00' } }
    ];

    // ç›‘å¬å™¨è®¾ç½®
    function setupListener(id, resultId) {
      const picker = document.getElementById(id);
      const result = document.getElementById(resultId);
      if (!picker || !result) return;

      picker.addEventListener('ldesignChange', (e) => {
        if (e.detail && typeof e.detail === 'object') {
          result.innerHTML = `<span class="value-display">${e.detail.start || '--:--'} è‡³ ${e.detail.end || '--:--'}</span>`;
        } else if (e.detail) {
          result.innerHTML = `<span class="value-display">${e.detail}</span>`;
        } else {
          result.textContent = 'æœªé€‰æ‹©';
        }
      });
    }

    // è®¾ç½®æ‰€æœ‰ç›‘å¬å™¨
    setupListener('range-init1', 'range-init1-result');
    setupListener('range-init2', 'range-init2-result');
    setupListener('single-preset', 'single-preset-result');
    setupListener('range-preset', 'range-preset-result');
    setupListener('preset-12h', 'preset-12h-result');
    setupListener('instant-single', 'instant-single-result');
    setupListener('instant-range', 'instant-range-result');
    setupListener('full-config', 'full-config-result');
    setupListener('inline-preset', 'inline-preset-result');

    // æ£€æµ‹overlayæ¨¡å¼
    function checkOverlayMode() {
      const mode = window.innerWidth < 768 ? 'drawer' : 'popup';
      document.getElementById('overlay-mode').textContent = mode;
    }
    
    checkOverlayMode();
    window.addEventListener('resize', checkOverlayMode);

    // åˆå§‹åŒ–æ˜¾ç¤º
    setTimeout(() => {
      // æ˜¾ç¤ºåˆå§‹å€¼
      document.getElementById('range-init1-result').innerHTML = 
        '<span class="value-display">09:00 è‡³ 18:00</span>';
      document.getElementById('range-init2-result').innerHTML = 
        '<span class="value-display">08:00 è‡³ 17:00</span>';
    }, 100);

    console.log('æ—¶é—´é€‰æ‹©å™¨å®Œæ•´åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
    console.log('æµ‹è¯•å†…å®¹åŒ…æ‹¬ï¼š');
    console.log('1. åˆå§‹å€¼è®¾ç½®ï¼ˆå•ä¸ª/èŒƒå›´ï¼‰');
    console.log('2. é¢„è®¾åŠŸèƒ½ï¼ˆå•ä¸ª/èŒƒå›´/12å°æ—¶åˆ¶ï¼‰');
    console.log('3. å³æ—¶ç”Ÿæ•ˆæ¨¡å¼');
    console.log('4. å®Œæ•´é…ç½®ç»„åˆ');
    console.log('5. å“åº”å¼è‡ªé€‚åº”');
  </script>
</body>
</html>