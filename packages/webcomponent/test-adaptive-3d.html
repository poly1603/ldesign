<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自适应 3D 轮盘效果</title>
    
    <!-- 加载组件样式 -->
    <link rel="stylesheet" href="./dist/ldesign-webcomponent/ldesign-webcomponent.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f5f7;
            min-height: 100vh;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 40px;
            color: #1d1d1f;
            font-size: 36px;
        }
        
        h2 {
            color: #1d1d1f;
            font-size: 24px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .section {
            margin-bottom: 60px;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }
        
        .picker-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .info {
            background: #f9f9f9;
            border-radius: 6px;
            padding: 10px;
            margin-top: 15px;
            font-size: 13px;
            color: #666;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
        }
        
        .info-item:last-child {
            margin-bottom: 0;
        }
        
        .info-label {
            font-weight: 500;
        }
        
        .info-value {
            color: #007aff;
            font-family: 'SF Mono', Monaco, monospace;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .comparison-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .comparison-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            color: #333;
        }
        
        .badge {
            display: inline-block;
            padding: 2px 8px;
            background: #007aff;
            color: white;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-left: 8px;
        }
        
        .badge.green {
            background: #34c759;
        }
        
        .badge.orange {
            background: #ff9500;
        }
        
        .note {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 30px;
            color: #856404;
            font-size: 14px;
            line-height: 1.6;
        }
        
        /* Picker 样式 */
        ldesign-picker {
            --ldesign-picker-bg: #ffffff;
            --ldesign-picker-border: #e5e7eb;
            --ldesign-picker-active-color: #007aff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎡 自适应 3D 轮盘效果</h1>
        
        <div class="note">
            💡 <strong>自适应特性：</strong>3D效果会根据 <code>visible-items</code> 和容器高度自动调整。不需要手动设置参数，组件会自动计算最佳的视觉效果。
        </div>
        
        <!-- 不同可见项数的自适应效果 -->
        <div class="section">
            <h2>📏 根据可见项数自适应</h2>
            <div class="demo-grid">
                <div class="card">
                    <h3 class="card-title">3 个可见项 <span class="badge">紧凑</span></h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-3-items"
                            enable-3d="true"
                            visible-items="3"
                            panel-height="108"
                            style="width: 150px;">
                        </ldesign-picker>
                    </div>
                    <div class="info">
                        <div class="info-item">
                            <span class="info-label">visible-items:</span>
                            <span class="info-value">3</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动步长:</span>
                            <span class="info-value" id="step-3">~23°</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动半径:</span>
                            <span class="info-value">65px</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title">5 个可见项 <span class="badge green">标准</span></h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-5-items"
                            enable-3d="true"
                            visible-items="5"
                            panel-height="180"
                            style="width: 150px;">
                        </ldesign-picker>
                    </div>
                    <div class="info">
                        <div class="info-item">
                            <span class="info-label">visible-items:</span>
                            <span class="info-value">5</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动步长:</span>
                            <span class="info-value" id="step-5">~14°</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动半径:</span>
                            <span class="info-value">108px</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="card-title">7 个可见项 <span class="badge orange">宽松</span></h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-7-items"
                            enable-3d="true"
                            visible-items="7"
                            panel-height="252"
                            style="width: 150px;">
                        </ldesign-picker>
                    </div>
                    <div class="info">
                        <div class="info-item">
                            <span class="info-label">visible-items:</span>
                            <span class="info-value">7</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动步长:</span>
                            <span class="info-value" id="step-7">~10°</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动半径:</span>
                            <span class="info-value">151px</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 高度自适应对比 -->
        <div class="section">
            <h2>📐 根据容器高度自适应</h2>
            <div class="comparison">
                <div class="comparison-card">
                    <h3 class="comparison-title">小容器（120px高）</h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-small-height"
                            enable-3d="true"
                            visible-items="5"
                            panel-height="120"
                            size="small"
                            style="width: 180px;">
                        </ldesign-picker>
                    </div>
                    <div class="info">
                        <div class="info-item">
                            <span class="info-label">容器高度:</span>
                            <span class="info-value">120px</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动半径:</span>
                            <span class="info-value">72px (60%)</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">效果:</span>
                            <span class="info-value">紧凑的弧度</span>
                        </div>
                    </div>
                </div>
                
                <div class="comparison-card">
                    <h3 class="comparison-title">大容器（240px高）</h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-large-height"
                            enable-3d="true"
                            visible-items="5"
                            panel-height="240"
                            size="large"
                            style="width: 180px;">
                        </ldesign-picker>
                    </div>
                    <div class="info">
                        <div class="info-item">
                            <span class="info-label">容器高度:</span>
                            <span class="info-value">240px</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">自动半径:</span>
                            <span class="info-value">144px (60%)</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">效果:</span>
                            <span class="info-value">平缓的弧度</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 手动覆盖自动值 -->
        <div class="section">
            <h2>⚙️ 手动覆盖 vs 自动计算</h2>
            <div class="demo-grid">
                <div class="card">
                    <h3 class="card-title">完全自动</h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-auto"
                            enable-3d="true"
                            visible-items="5"
                            panel-height="180"
                            style="width: 150px;">
                        </ldesign-picker>
                    </div>
                    <p style="text-align: center; color: #666; font-size: 13px; margin-top: 10px;">
                        所有参数自动计算
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">部分手动</h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-partial"
                            enable-3d="true"
                            visible-items="5"
                            panel-height="180"
                            rotate-step="20"
                            style="width: 150px;">
                        </ldesign-picker>
                    </div>
                    <p style="text-align: center; color: #666; font-size: 13px; margin-top: 10px;">
                        rotate-step="20" 手动设置
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">完全手动</h3>
                    <div class="picker-container">
                        <ldesign-picker 
                            id="picker-manual"
                            enable-3d="true"
                            visible-items="5"
                            panel-height="180"
                            visible-range="60"
                            rotate-step="12"
                            cylinder-radius="150"
                            style="width: 150px;">
                        </ldesign-picker>
                    </div>
                    <p style="text-align: center; color: #666; font-size: 13px; margin-top: 10px;">
                        所有参数手动设置
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 加载组件脚本 -->
    <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
    
    <script>
        window.addEventListener('load', () => {
            // 生成选项数据
            const monthOptions = Array.from({ length: 12 }, (_, i) => ({
                value: String(i + 1).padStart(2, '0'),
                label: `${i + 1}月`
            }));
            
            const dayOptions = Array.from({ length: 31 }, (_, i) => ({
                value: String(i + 1).padStart(2, '0'),
                label: `${i + 1}日`
            }));
            
            // 设置所有picker的选项
            const allPickers = document.querySelectorAll('ldesign-picker');
            allPickers.forEach((picker, index) => {
                // 交替使用月份和日期数据
                picker.options = index % 2 === 0 ? monthOptions : dayOptions;
                // 设置初始值
                setTimeout(() => {
                    picker.value = index % 2 === 0 ? '06' : '15';
                }, 100);
            });
            
            // 监听值变化
            allPickers.forEach(picker => {
                picker.addEventListener('ldesignChange', (e) => {
                    console.log(`${picker.id} 选中:`, e.detail.value);
                });
            });
        });
    </script>
</body>
</html>