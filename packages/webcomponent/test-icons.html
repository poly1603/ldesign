<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Icons</title>
  <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign-webcomponent/ldesign-webcomponent.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .icon-test {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .icon-item {
      text-align: center;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    .icon-item code {
      display: block;
      margin-top: 10px;
      font-size: 12px;
      color: #666;
    }
  </style>
</head>
<body>
  <h1>Icon Load Test</h1>
  
  <div class="icon-test">
    <div class="icon-item">
      <ldesign-icon name="home" size="large"></ldesign-icon>
      <code>home</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="user" size="large"></ldesign-icon>
      <code>user</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="settings" size="large"></ldesign-icon>
      <code>settings</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="search" size="large"></ldesign-icon>
      <code>search</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="bell" size="large"></ldesign-icon>
      <code>bell</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="check" size="large"></ldesign-icon>
      <code>check</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="x" size="large"></ldesign-icon>
      <code>x</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="arrow-right" size="large"></ldesign-icon>
      <code>arrow-right</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="activity" size="large"></ldesign-icon>
      <code>activity</code>
    </div>
    <div class="icon-item">
      <ldesign-icon name="alarm-clock" size="large"></ldesign-icon>
      <code>alarm-clock</code>
    </div>
  </div>

  <h2>Console Debug</h2>
  <button onclick="testIconLoad()">Test Icon Load</button>
  
  <script>
    async function testIconLoad() {
      console.log('Testing icon load...');
      
      // 测试动态导入 lucide
      try {
        const lucide = await import('./node_modules/lucide/dist/esm/lucide.js');
        console.log('Lucide module:', lucide);
        console.log('Icons available:', Object.keys(lucide.icons || {}).length);
        console.log('Sample icons:', Object.keys(lucide.icons || {}).slice(0, 10));
      } catch (e) {
        console.error('Failed to load lucide:', e);
      }
      
      // 测试单个图标导入
      try {
        const homeIcon = await import('./node_modules/lucide/dist/esm/icons/home.js');
        console.log('Home icon:', homeIcon);
      } catch (e) {
        console.error('Failed to load home icon:', e);
      }
    }
    
    // 监听组件加载
    window.addEventListener('load', () => {
      console.log('Page loaded');
      const icons = document.querySelectorAll('ldesign-icon');
      console.log('Found icons:', icons.length);
      
      // 检查每个图标的内容
      setTimeout(() => {
        icons.forEach((icon, i) => {
          const svg = icon.querySelector('svg');
          console.log(`Icon ${i} (${icon.getAttribute('name')}):`, svg ? svg.outerHTML.substring(0, 100) + '...' : 'No SVG found');
        });
      }, 1000);
    });
  </script>
</body>
</html>