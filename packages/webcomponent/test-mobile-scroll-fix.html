<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Drawer ç§»åŠ¨ç«¯æ»šåŠ¨åç§»ä¿®å¤æµ‹è¯•</title>
  <script type="module" src="./dist/ldesign/ldesign.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign/ldesign.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 300vh; /* ç¡®ä¿é¡µé¢å¯æ»šåŠ¨ */
    }
    
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 15px 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      z-index: 100;
    }
    
    .header h1 {
      font-size: 18px;
      color: #333;
      margin: 0;
    }
    
    .content {
      padding: 80px 20px 40px;
    }
    
    .test-section {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .test-section h2 {
      font-size: 16px;
      color: #555;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f0f0f0;
    }
    
    .test-section p {
      color: #666;
      line-height: 1.6;
      margin-bottom: 15px;
      font-size: 14px;
    }
    
    .btn-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }
    
    button {
      flex: 1;
      min-width: 120px;
      padding: 12px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
    }
    
    button:active {
      transform: scale(0.95);
    }
    
    .scroll-indicator {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      font-size: 12px;
      z-index: 99;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    
    .test-content {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      margin-top: 15px;
    }
    
    .test-content h3 {
      font-size: 16px;
      color: #333;
      margin-bottom: 10px;
    }
    
    .test-content ul {
      margin: 0;
      padding-left: 20px;
    }
    
    .test-content li {
      color: #666;
      margin: 5px 0;
      font-size: 14px;
    }
    
    .success-tag {
      background: #10b981;
      color: white;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      margin-left: 5px;
    }
    
    .long-content {
      margin-top: 40px;
      padding: 20px;
      background: white;
      border-radius: 12px;
    }
    
    .long-content h3 {
      color: #333;
      margin-bottom: 15px;
    }
    
    .long-content p {
      color: #666;
      line-height: 1.8;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ“± ç§»åŠ¨ç«¯æ»šåŠ¨åç§»ä¿®å¤æµ‹è¯•</h1>
  </div>
  
  <div class="scroll-indicator" id="scrollIndicator">
    æ»šåŠ¨ä½ç½®: <span id="scrollPos">0</span>px
  </div>
  
  <div class="content">
    <div class="test-section">
      <h2>ğŸ¯ æµ‹è¯•è¯´æ˜</h2>
      <p>æ­¤é¡µé¢ä¸“é—¨ç”¨äºæµ‹è¯•ç§»åŠ¨ç«¯åœ¨é¡µé¢æ»šåŠ¨åæ‰“å¼€æŠ½å±‰æ˜¯å¦ä¼šå‡ºç°åç§»é—®é¢˜ã€‚</p>
      <p>è¯·åœ¨ä¸åŒæ»šåŠ¨ä½ç½®ç‚¹å‡»æŒ‰é’®ï¼ŒéªŒè¯æŠ½å±‰æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºã€‚</p>
      <div class="test-content">
        <h3>âœ… å·²ä¿®å¤çš„é—®é¢˜ï¼š</h3>
        <ul>
          <li>ä½¿ç”¨ fixed å®šä½æ›¿ä»£ absolute<span class="success-tag">å·²ä¿®å¤</span></li>
          <li>ä½¿ç”¨ 3D å˜æ¢ä¼˜åŒ–æ€§èƒ½<span class="success-tag">å·²ä¿®å¤</span></li>
          <li>ç§»åŠ¨ç«¯è§†å£å•ä½ä¼˜åŒ–<span class="success-tag">å·²ä¿®å¤</span></li>
          <li>æ»šåŠ¨ä½ç½®è®°å½•ä¸æ¢å¤<span class="success-tag">å·²ä¿®å¤</span></li>
        </ul>
      </div>
    </div>
    
    <div class="test-section">
      <h2>ğŸ“ é¡¶éƒ¨æµ‹è¯•ï¼ˆæ»šåŠ¨å‰ï¼‰</h2>
      <p>åœ¨é¡µé¢é¡¶éƒ¨æ—¶æ‰“å¼€æŠ½å±‰ï¼Œåº”è¯¥æ­£å¸¸æ˜¾ç¤ºæ— åç§»ã€‚</p>
      <div class="btn-group">
        <button onclick="openDrawer('drawer-left')">å·¦ä¾§æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-right')">å³ä¾§æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-top')">é¡¶éƒ¨æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-bottom')">åº•éƒ¨æŠ½å±‰</button>
      </div>
    </div>
    
    <div class="long-content">
      <h3>ğŸ“œ æ»šåŠ¨å†…å®¹åŒºåŸŸ</h3>
      <p>è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„å†…å®¹ï¼Œç”¨äºåˆ›å»ºæ»šåŠ¨åœºæ™¯ã€‚</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <p>ç»§ç»­å‘ä¸‹æ»šåŠ¨ï¼Œåœ¨ä¸åŒä½ç½®æµ‹è¯•æŠ½å±‰çš„æ˜¾ç¤ºæ•ˆæœ...</p>
      <p style="margin-top: 50px; padding: 20px; background: #fef3c7; border-radius: 8px;">
        âš ï¸ <strong>é‡ç‚¹æµ‹è¯•</strong>ï¼šåœ¨æ­¤ä½ç½®ï¼ˆé¡µé¢ä¸­éƒ¨ï¼‰æ‰“å¼€æŠ½å±‰ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰åç§»ã€‚
      </p>
    </div>
    
    <div class="test-section" style="margin-top: 40px;">
      <h2>ğŸ“ ä¸­éƒ¨æµ‹è¯•ï¼ˆæ»šåŠ¨åï¼‰</h2>
      <p>æ»šåŠ¨åˆ°é¡µé¢ä¸­éƒ¨åæ‰“å¼€æŠ½å±‰ï¼Œåº”è¯¥ä¾ç„¶æ­£ç¡®æ˜¾ç¤ºã€‚</p>
      <div class="btn-group">
        <button onclick="openDrawer('drawer-left')">å·¦ä¾§æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-right')">å³ä¾§æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-top')">é¡¶éƒ¨æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-bottom')">åº•éƒ¨æŠ½å±‰</button>
      </div>
    </div>
    
    <div class="long-content">
      <h3>ç»§ç»­æ»šåŠ¨...</h3>
      <p>æ›´å¤šå†…å®¹ï¼Œç¡®ä¿é¡µé¢æœ‰è¶³å¤Ÿçš„é«˜åº¦è¿›è¡Œæ»šåŠ¨æµ‹è¯•ã€‚</p>
      <p>åœ¨ä¸åŒçš„æ»šåŠ¨ä½ç½®æµ‹è¯•æŠ½å±‰çš„è¡¨ç°ã€‚</p>
    </div>
    
    <div class="test-section" style="margin-top: 40px;">
      <h2>ğŸ“ åº•éƒ¨æµ‹è¯•ï¼ˆå®Œå…¨æ»šåŠ¨åï¼‰</h2>
      <p>æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨åæ‰“å¼€æŠ½å±‰ï¼ŒéªŒè¯æ˜¯å¦æ­£å¸¸ã€‚</p>
      <div class="btn-group">
        <button onclick="openDrawer('drawer-left')">å·¦ä¾§æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-right')">å³ä¾§æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-top')">é¡¶éƒ¨æŠ½å±‰</button>
        <button onclick="openDrawer('drawer-bottom')">åº•éƒ¨æŠ½å±‰</button>
      </div>
    </div>
  </div>

  <!-- å„æ–¹å‘çš„æŠ½å±‰ -->
  <ldesign-drawer 
    id="drawer-left" 
    drawer-title="å·¦ä¾§æŠ½å±‰"
    placement="left"
    size="80%"
    swipe-to-close="true"
    swipe-trigger-area="handle">
    <div style="padding: 20px;">
      <h3>å·¦ä¾§æŠ½å±‰æµ‹è¯•</h3>
      <p>å½“å‰æ»šåŠ¨ä½ç½®ï¼š<span class="scroll-display"></span>px</p>
      <p>å¦‚æœæŠ½å±‰æ­£ç¡®æ˜¾ç¤ºï¼Œè¯´æ˜åç§»é—®é¢˜å·²ä¿®å¤ã€‚</p>
      <div style="margin-top: 20px; padding: 15px; background: #f0fdf4; border-radius: 8px;">
        <strong>âœ… ä¿®å¤è¦ç‚¹ï¼š</strong>
        <ul style="margin-top: 10px;">
          <li>ä½¿ç”¨ position: fixed</li>
          <li>ä½¿ç”¨ transform: translate3d()</li>
          <li>ç§»åŠ¨ç«¯ä¸“å±ä¼˜åŒ–</li>
        </ul>
      </div>
    </div>
  </ldesign-drawer>

  <ldesign-drawer 
    id="drawer-right" 
    drawer-title="å³ä¾§æŠ½å±‰"
    placement="right"
    size="80%"
    swipe-to-close="true"
    swipe-trigger-area="handle">
    <div style="padding: 20px;">
      <h3>å³ä¾§æŠ½å±‰æµ‹è¯•</h3>
      <p>å½“å‰æ»šåŠ¨ä½ç½®ï¼š<span class="scroll-display"></span>px</p>
      <p>æŠ½å±‰åº”è¯¥ä»å³ä¾§æ»‘å‡ºï¼Œæ— åç§»ã€‚</p>
    </div>
  </ldesign-drawer>

  <ldesign-drawer 
    id="drawer-top" 
    drawer-title="é¡¶éƒ¨æŠ½å±‰"
    placement="top"
    size="40%"
    swipe-to-close="true"
    swipe-trigger-area="handle">
    <div style="padding: 20px;">
      <h3>é¡¶éƒ¨æŠ½å±‰æµ‹è¯•</h3>
      <p>å½“å‰æ»šåŠ¨ä½ç½®ï¼š<span class="scroll-display"></span>px</p>
      <p>æŠ½å±‰åº”è¯¥ä»é¡¶éƒ¨æ»‘ä¸‹ï¼Œè¦†ç›–åœ¨é¡µé¢é¡¶éƒ¨ã€‚</p>
    </div>
  </ldesign-drawer>

  <ldesign-drawer 
    id="drawer-bottom" 
    drawer-title="åº•éƒ¨æŠ½å±‰"
    placement="bottom"
    size="50%"
    swipe-to-close="true"
    swipe-trigger-area="handle"
    handle-height="48">
    <div style="padding: 20px;">
      <h3>åº•éƒ¨æŠ½å±‰æµ‹è¯•</h3>
      <p>å½“å‰æ»šåŠ¨ä½ç½®ï¼š<span class="scroll-display"></span>px</p>
      <p>æŠ½å±‰åº”è¯¥ä»åº•éƒ¨æ»‘å‡ºï¼Œå›ºå®šåœ¨è§†å£åº•éƒ¨ã€‚</p>
      <div style="margin-top: 20px;">
        <label>æµ‹è¯•ç»„ä»¶äº¤äº’ï¼š</label>
        <ldesign-time-picker></ldesign-time-picker>
      </div>
    </div>
  </ldesign-drawer>

  <script>
    // æ›´æ–°æ»šåŠ¨ä½ç½®æ˜¾ç¤º
    function updateScrollPos() {
      const pos = window.scrollY || window.pageYOffset;
      document.getElementById('scrollPos').textContent = Math.round(pos);
      
      // æ›´æ–°æŠ½å±‰å†…çš„æ»šåŠ¨ä½ç½®æ˜¾ç¤º
      document.querySelectorAll('.scroll-display').forEach(el => {
        el.textContent = Math.round(pos);
      });
    }
    
    // ç›‘å¬æ»šåŠ¨äº‹ä»¶
    window.addEventListener('scroll', updateScrollPos);
    updateScrollPos();
    
    // æ‰“å¼€æŠ½å±‰
    function openDrawer(id) {
      const drawer = document.getElementById(id);
      if (drawer) {
        // è®°å½•æ‰“å¼€æ—¶çš„æ»šåŠ¨ä½ç½®
        const currentScroll = window.scrollY;
        console.log(`Opening drawer at scroll position: ${currentScroll}px`);
        
        // æ›´æ–°æŠ½å±‰å†…çš„æ»šåŠ¨ä½ç½®
        drawer.querySelectorAll('.scroll-display').forEach(el => {
          el.textContent = Math.round(currentScroll);
        });
        
        drawer.visible = true;
      }
    }
    
    // ç›‘å¬æŠ½å±‰äº‹ä»¶
    document.querySelectorAll('ldesign-drawer').forEach(drawer => {
      drawer.addEventListener('ldesignVisibleChange', (e) => {
        console.log(`Drawer ${drawer.id} visible:`, e.detail);
      });
      
      drawer.addEventListener('ldesignClose', () => {
        console.log(`Drawer ${drawer.id} closed`);
      });
    });
    
    // æ¨¡æ‹Ÿç§»åŠ¨ç«¯ç¯å¢ƒæç¤º
    if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
      console.log('Mobile device detected');
    } else {
      console.log('Desktop browser - Use mobile emulation for testing');
    }
  </script>
</body>
</html>