<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drawer ç»„ä»¶æµ‹è¯•</title>
  <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
  <link rel="stylesheet" href="./dist/ldesign-webcomponent/ldesign-webcomponent.css">
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    
    .demo-section {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .demo-section h2 {
      margin: 0 0 15px;
      font-size: 18px;
      color: #333;
    }
    
    .demo-section p {
      color: #666;
      font-size: 14px;
      margin: 0 0 15px;
    }
    
    .demo-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    button {
      padding: 8px 16px;
      border: 1px solid #1890ff;
      background: white;
      color: #1890ff;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    button:hover {
      background: #1890ff;
      color: white;
    }
    
    .content-example {
      padding: 20px;
    }
    
    .content-example h3 {
      margin-top: 0;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 8px;
      border: 1px solid #d9d9d9;
      border-radius: 4px;
    }
    
    .status {
      padding: 10px;
      margin-top: 20px;
      background: #f0f2f5;
      border-radius: 4px;
      font-family: monospace;
      font-size: 13px;
      min-height: 100px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>ğŸ¨ Drawer ç»„ä»¶æµ‹è¯•é¡µ</h1>
  
  <!-- åŸºç¡€ç”¨æ³• -->
  <div class="demo-section">
    <h2>ğŸ“Œ åŸºç¡€ç”¨æ³•</h2>
    <p>ä»ä¸åŒæ–¹å‘æ‰“å¼€æŠ½å±‰</p>
    <div class="demo-buttons">
      <button onclick="openDrawer('right')">å³ä¾§æŠ½å±‰</button>
      <button onclick="openDrawer('left')">å·¦ä¾§æŠ½å±‰</button>
      <button onclick="openDrawer('top')">é¡¶éƒ¨æŠ½å±‰</button>
      <button onclick="openDrawer('bottom')">åº•éƒ¨æŠ½å±‰</button>
    </div>
  </div>
  
  <!-- è‡ªå®šä¹‰å°ºå¯¸ -->
  <div class="demo-section">
    <h2>ğŸ“ è‡ªå®šä¹‰å°ºå¯¸</h2>
    <p>è®¾ç½®ä¸åŒçš„æŠ½å±‰å°ºå¯¸</p>
    <div class="demo-buttons">
      <button onclick="openCustomSize('small')">å°å°ºå¯¸ (200px)</button>
      <button onclick="openCustomSize('medium')">ä¸­å°ºå¯¸ (400px)</button>
      <button onclick="openCustomSize('large')">å¤§å°ºå¯¸ (600px)</button>
      <button onclick="openCustomSize('percent')">ç™¾åˆ†æ¯” (50%)</button>
      <button onclick="openCustomSize('fullscreen')">å…¨å±</button>
    </div>
  </div>
  
  <!-- åŠ¨ç”»æ•ˆæœ -->
  <div class="demo-section">
    <h2>âœ¨ åŠ¨ç”»æ•ˆæœ</h2>
    <p>ä¸åŒçš„åŠ¨ç”»é€Ÿåº¦å’Œç¼“åŠ¨å‡½æ•°</p>
    <div class="demo-buttons">
      <button onclick="openWithAnimation('fast')">å¿«é€Ÿ (200ms)</button>
      <button onclick="openWithAnimation('normal')">æ­£å¸¸ (300ms)</button>
      <button onclick="openWithAnimation('slow')">ç¼“æ…¢ (600ms)</button>
      <button onclick="openWithAnimation('bounce')">å¼¹æ€§åŠ¨ç”»</button>
      <button onclick="openWithAnimation('none')">æ— åŠ¨ç”»</button>
    </div>
  </div>
  
  <!-- äº¤äº’åŠŸèƒ½ -->
  <div class="demo-section">
    <h2>ğŸ¯ äº¤äº’åŠŸèƒ½</h2>
    <p>å„ç§äº¤äº’ç‰¹æ€§</p>
    <div class="demo-buttons">
      <button onclick="openInteractive('mask')">ç‚¹å‡»é®ç½©å…³é—­</button>
      <button onclick="openInteractive('nomask')">æ— é®ç½©</button>
      <button onclick="openInteractive('esc')">ESC é”®å…³é—­</button>
      <button onclick="openInteractive('resize')">å¯æ‹–åŠ¨è°ƒæ•´å¤§å°</button>
      <button onclick="openInteractive('swipe')">æ»‘åŠ¨å…³é—­ï¼ˆç§»åŠ¨ç«¯ï¼‰</button>
    </div>
  </div>
  
  <!-- åµŒå¥—æŠ½å±‰ -->
  <div class="demo-section">
    <h2>ğŸŒ² åµŒå¥—æŠ½å±‰</h2>
    <p>å¤šå±‚æŠ½å±‰åµŒå¥—</p>
    <div class="demo-buttons">
      <button onclick="openNested()">æ‰“å¼€åµŒå¥—æŠ½å±‰</button>
    </div>
  </div>
  
  <!-- çŠ¶æ€æ˜¾ç¤º -->
  <div class="demo-section">
    <h2>ğŸ“Š äº‹ä»¶ç›‘æ§</h2>
    <div id="status" class="status">ç­‰å¾…æ“ä½œ...</div>
  </div>
  
  <!-- æŠ½å±‰ç»„ä»¶ -->
  <ldesign-drawer 
    id="basicDrawer"
    drawer-title="åŸºç¡€æŠ½å±‰"
    placement="right"
    size="400px"
    mask="true"
    mask-closable="true"
    close-on-escape="true"
    animation="true"
    animation-duration="300"
  >
    <div class="content-example">
      <h3>è¿™æ˜¯ä¸€ä¸ªåŸºç¡€æŠ½å±‰</h3>
      <p>æ”¯æŒä»å››ä¸ªæ–¹å‘æ‰“å¼€ï¼Œå¹¶å…·æœ‰é®ç½©å±‚ã€‚</p>
      <p>å¯ä»¥é€šè¿‡ç‚¹å‡»é®ç½©æˆ–æŒ‰ ESC é”®å…³é—­ã€‚</p>
      <br>
      <div class="form-group">
        <label>å§“åï¼š</label>
        <input type="text" placeholder="è¯·è¾“å…¥å§“å">
      </div>
      <div class="form-group">
        <label>æè¿°ï¼š</label>
        <input type="text" placeholder="è¯·è¾“å…¥æè¿°">
      </div>
      <button onclick="closeDrawer('basicDrawer')">å…³é—­æŠ½å±‰</button>
    </div>
  </ldesign-drawer>
  
  <!-- è‡ªå®šä¹‰å°ºå¯¸æŠ½å±‰ -->
  <ldesign-drawer 
    id="sizeDrawer"
    drawer-title="è‡ªå®šä¹‰å°ºå¯¸æŠ½å±‰"
    placement="right"
    size="400px"
    mask="true"
  >
    <div class="content-example">
      <h3>åŠ¨æ€å°ºå¯¸å±•ç¤º</h3>
      <p id="sizeInfo">å½“å‰å°ºå¯¸ï¼š400px</p>
    </div>
  </ldesign-drawer>
  
  <!-- åŠ¨ç”»æµ‹è¯•æŠ½å±‰ -->
  <ldesign-drawer 
    id="animationDrawer"
    drawer-title="åŠ¨ç”»æ•ˆæœæµ‹è¯•"
    placement="right"
    size="400px"
    mask="true"
  >
    <div class="content-example">
      <h3>åŠ¨ç”»é…ç½®</h3>
      <p id="animationInfo">æŸ¥çœ‹ä¸åŒçš„åŠ¨ç”»æ•ˆæœ</p>
    </div>
  </ldesign-drawer>
  
  <!-- äº¤äº’åŠŸèƒ½æŠ½å±‰ -->
  <ldesign-drawer 
    id="interactiveDrawer"
    drawer-title="äº¤äº’åŠŸèƒ½æµ‹è¯•"
    placement="right"
    size="400px"
  >
    <div class="content-example">
      <h3>äº¤äº’æµ‹è¯•</h3>
      <p id="interactiveInfo">æµ‹è¯•å„ç§äº¤äº’ç‰¹æ€§</p>
      <div style="height: 500px; background: linear-gradient(#f0f0f0, #e0e0e0);">
        <p>é•¿å†…å®¹åŒºåŸŸï¼Œå¯æµ‹è¯•æ»šåŠ¨...</p>
      </div>
    </div>
  </ldesign-drawer>
  
  <!-- åµŒå¥—æŠ½å±‰ -->
  <ldesign-drawer 
    id="nestedDrawer1"
    drawer-title="ç¬¬ä¸€å±‚æŠ½å±‰"
    placement="right"
    size="600px"
    mask="true"
  >
    <div class="content-example">
      <h3>ç¬¬ä¸€å±‚å†…å®¹</h3>
      <p>è¿™æ˜¯ç¬¬ä¸€å±‚æŠ½å±‰ï¼Œå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæ‰“å¼€ç¬¬äºŒå±‚ã€‚</p>
      <button onclick="openSecondDrawer()">æ‰“å¼€ç¬¬äºŒå±‚æŠ½å±‰</button>
    </div>
  </ldesign-drawer>
  
  <ldesign-drawer 
    id="nestedDrawer2"
    drawer-title="ç¬¬äºŒå±‚æŠ½å±‰"
    placement="right"
    size="400px"
    mask="true"
  >
    <div class="content-example">
      <h3>ç¬¬äºŒå±‚å†…å®¹</h3>
      <p>è¿™æ˜¯ç¬¬äºŒå±‚æŠ½å±‰ï¼Œå±‚å åœ¨ç¬¬ä¸€å±‚ä¹‹ä¸Šã€‚</p>
      <button onclick="closeDrawer('nestedDrawer2')">å…³é—­ç¬¬äºŒå±‚</button>
    </div>
  </ldesign-drawer>
  
  <script>
    const statusEl = document.getElementById('status');
    let eventLog = [];
    
    function log(message) {
      const time = new Date().toLocaleTimeString();
      eventLog.unshift(`[${time}] ${message}`);
      if (eventLog.length > 10) eventLog.pop();
      statusEl.textContent = eventLog.join('\n');
    }
    
    // ç›‘å¬æ‰€æœ‰æŠ½å±‰äº‹ä»¶
    document.addEventListener('DOMContentLoaded', () => {
      const drawers = document.querySelectorAll('ldesign-drawer');
      
      drawers.forEach(drawer => {
        drawer.addEventListener('drawerOpen', (e) => {
          log(`âœ… æŠ½å±‰æ‰“å¼€: ${drawer.id} (æ¥æº: ${e.detail.trigger})`);
        });
        
        drawer.addEventListener('drawerClose', (e) => {
          log(`âŒ æŠ½å±‰å…³é—­: ${drawer.id} (æ¥æº: ${e.detail.trigger})`);
        });
        
        drawer.addEventListener('drawerResize', (e) => {
          log(`ğŸ“ å°ºå¯¸è°ƒæ•´: ${drawer.id} (å®½:${e.detail.width}px, é«˜:${e.detail.height}px)`);
        });
      });
    });
    
    // åŸºç¡€ç”¨æ³•
    function openDrawer(placement) {
      const drawer = document.getElementById('basicDrawer');
      drawer.placement = placement;
      drawer.visible = true;
      log(`ğŸ“ è®¾ç½®æ–¹å‘: ${placement}`);
    }
    
    // è‡ªå®šä¹‰å°ºå¯¸
    function openCustomSize(type) {
      const drawer = document.getElementById('sizeDrawer');
      const sizeInfo = document.getElementById('sizeInfo');
      
      switch(type) {
        case 'small':
          drawer.size = '200px';
          drawer.fullscreen = false;
          sizeInfo.textContent = 'å½“å‰å°ºå¯¸ï¼š200px (å°)';
          break;
        case 'medium':
          drawer.size = '400px';
          drawer.fullscreen = false;
          sizeInfo.textContent = 'å½“å‰å°ºå¯¸ï¼š400px (ä¸­)';
          break;
        case 'large':
          drawer.size = '600px';
          drawer.fullscreen = false;
          sizeInfo.textContent = 'å½“å‰å°ºå¯¸ï¼š600px (å¤§)';
          break;
        case 'percent':
          drawer.size = '50%';
          drawer.fullscreen = false;
          sizeInfo.textContent = 'å½“å‰å°ºå¯¸ï¼š50% (ç™¾åˆ†æ¯”)';
          break;
        case 'fullscreen':
          drawer.fullscreen = true;
          sizeInfo.textContent = 'å½“å‰å°ºå¯¸ï¼šå…¨å±';
          break;
      }
      
      drawer.visible = true;
    }
    
    // åŠ¨ç”»æ•ˆæœ
    function openWithAnimation(type) {
      const drawer = document.getElementById('animationDrawer');
      const animationInfo = document.getElementById('animationInfo');
      
      switch(type) {
        case 'fast':
          drawer.animation = true;
          drawer.animationDuration = 200;
          drawer.animationEasing = 'ease-out';
          animationInfo.textContent = 'å¿«é€ŸåŠ¨ç”» (200ms, ease-out)';
          break;
        case 'normal':
          drawer.animation = true;
          drawer.animationDuration = 300;
          drawer.animationEasing = 'ease-in-out';
          animationInfo.textContent = 'æ­£å¸¸åŠ¨ç”» (300ms, ease-in-out)';
          break;
        case 'slow':
          drawer.animation = true;
          drawer.animationDuration = 600;
          drawer.animationEasing = 'ease-in';
          animationInfo.textContent = 'ç¼“æ…¢åŠ¨ç”» (600ms, ease-in)';
          break;
        case 'bounce':
          drawer.animation = true;
          drawer.animationDuration = 500;
          drawer.animationEasing = 'bounce';
          animationInfo.textContent = 'å¼¹æ€§åŠ¨ç”» (500ms, bounce)';
          break;
        case 'none':
          drawer.animation = false;
          animationInfo.textContent = 'æ— åŠ¨ç”»æ•ˆæœ';
          break;
      }
      
      drawer.visible = true;
    }
    
    // äº¤äº’åŠŸèƒ½
    function openInteractive(type) {
      const drawer = document.getElementById('interactiveDrawer');
      const interactiveInfo = document.getElementById('interactiveInfo');
      
      // é‡ç½®æ‰€æœ‰è®¾ç½®
      drawer.mask = true;
      drawer.maskClosable = true;
      drawer.closeOnEscape = true;
      drawer.resizable = false;
      drawer.swipeToClose = false;
      
      switch(type) {
        case 'mask':
          drawer.maskClosable = true;
          interactiveInfo.textContent = 'ç‚¹å‡»é®ç½©å¯å…³é—­';
          break;
        case 'nomask':
          drawer.mask = false;
          interactiveInfo.textContent = 'æ— é®ç½©å±‚';
          break;
        case 'esc':
          drawer.closeOnEscape = true;
          interactiveInfo.textContent = 'æŒ‰ ESC é”®å…³é—­';
          break;
        case 'resize':
          drawer.resizable = true;
          interactiveInfo.textContent = 'æ‹–åŠ¨è¾¹ç¼˜å¯è°ƒæ•´å¤§å°';
          break;
        case 'swipe':
          drawer.swipeToClose = true;
          interactiveInfo.textContent = 'æ”¯æŒæ»‘åŠ¨å…³é—­ï¼ˆç§»åŠ¨ç«¯ï¼‰';
          break;
      }
      
      drawer.visible = true;
    }
    
    // åµŒå¥—æŠ½å±‰
    function openNested() {
      const drawer = document.getElementById('nestedDrawer1');
      drawer.visible = true;
    }
    
    function openSecondDrawer() {
      const drawer = document.getElementById('nestedDrawer2');
      drawer.visible = true;
    }
    
    // å…³é—­æŠ½å±‰
    function closeDrawer(id) {
      const drawer = document.getElementById(id);
      drawer.visible = false;
    }
  </script>
</body>
</html>