<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å·¥å…·æ æ ·å¼æµ‹è¯•</title>
  
  <!-- å¯¼å…¥LDESIGNè®¾è®¡ç³»ç»Ÿå˜é‡ -->
  <link rel="stylesheet" href="https://unpkg.com/@ldesign/shared@latest/styles/variables.css">
  
  <!-- å¯¼å…¥ç¼–è¯‘åçš„è£å‰ªå™¨æ ·å¼ -->
  <link rel="stylesheet" href="./dist/cropper.css">
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      padding: 20px;
      margin: 0;
    }

    .test-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #722ED1, #8c5ad3);
      color: white;
      padding: 20px;
      text-align: center;
    }

    .content {
      padding: 20px;
    }

    .cropper-demo {
      position: relative;
      width: 100%;
      height: 400px;
      background: #000;
      border-radius: 8px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .demo-image {
      max-width: 80%;
      max-height: 80%;
      object-fit: contain;
    }

    .test-section {
      margin: 20px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 6px;
    }

    .test-section h3 {
      margin: 0 0 10px 0;
      color: #333;
    }

    .button-test {
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="header">
      <h1>ğŸ¨ å·¥å…·æ æ ·å¼æµ‹è¯•</h1>
      <p>æµ‹è¯•LDESIGN Cropperå·¥å…·æ çš„æ ·å¼å’Œäº¤äº’</p>
    </div>

    <div class="content">
      <!-- è£å‰ªå™¨æ¼”ç¤ºåŒºåŸŸ -->
      <div class="cropper-demo">
        <img src="https://picsum.photos/600/400?random=1" alt="æ¼”ç¤ºå›¾ç‰‡" class="demo-image">
        
        <!-- åº•éƒ¨å·¥å…·æ  -->
        <div class="ldesign-cropper__toolbar ldesign-cropper__toolbar--bottom" data-theme="light">
          <!-- ç¼©æ”¾å·¥å…· -->
          <button class="ldesign-cropper__toolbar-button" data-tool="zoom-in" title="æ”¾å¤§">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/>
            </svg>
          </button>
          
          <button class="ldesign-cropper__toolbar-button" data-tool="zoom-out" title="ç¼©å°">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/><line x1="8" y1="11" x2="14" y2="11"/>
            </svg>
          </button>
          
          <!-- æ—‹è½¬å·¥å…· -->
          <button class="ldesign-cropper__toolbar-button" data-tool="rotate-left" title="å·¦è½¬">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/>
            </svg>
          </button>
          
          <button class="ldesign-cropper__toolbar-button" data-tool="rotate-right" title="å³è½¬">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/>
            </svg>
          </button>
          
          <!-- ç¿»è½¬å·¥å…· -->
          <button class="ldesign-cropper__toolbar-button" data-tool="flip-horizontal" title="æ°´å¹³ç¿»è½¬">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3"/><path d="M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3"/><path d="M12 20v2"/><path d="M12 14v2"/><path d="M12 8v2"/><path d="M12 2v2"/>
            </svg>
          </button>
          
          <button class="ldesign-cropper__toolbar-button" data-tool="flip-vertical" title="å‚ç›´ç¿»è½¬">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3"/><path d="M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3"/><path d="M4 12H2"/><path d="M10 12H8"/><path d="M16 12h-2"/><path d="M22 12h-2"/>
            </svg>
          </button>
          
          <!-- å½¢çŠ¶å·¥å…· -->
          <button class="ldesign-cropper__toolbar-button ldesign-cropper__toolbar-button--active" data-tool="shape-rectangle" title="çŸ©å½¢">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="18" height="18" x="3" y="3" rx="2"/>
            </svg>
          </button>
          
          <button class="ldesign-cropper__toolbar-button" data-tool="shape-circle" title="åœ†å½¢">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
            </svg>
          </button>
          
          <!-- é€‰æ‹©å™¨ -->
          <select class="ldesign-cropper__toolbar-select" data-tool="aspect-ratio" title="å®½é«˜æ¯”">
            <option value="">è‡ªç”±</option>
            <option value="1">1:1</option>
            <option value="1.333">4:3</option>
            <option value="1.777">16:9</option>
            <option value="0.75">3:4</option>
          </select>
          
          <select class="ldesign-cropper__toolbar-select" data-tool="mask-opacity" title="é®ç½©é€æ˜åº¦">
            <option value="0">0%</option>
            <option value="0.25">25%</option>
            <option value="0.5" selected>50%</option>
            <option value="0.75">75%</option>
            <option value="1">100%</option>
          </select>
          
          <select class="ldesign-cropper__toolbar-select" data-tool="export-format" title="å¯¼å‡ºæ ¼å¼">
            <option value="png">PNG</option>
            <option value="jpeg">JPEG</option>
            <option value="webp">WEBP</option>
          </select>
          
          <!-- æ“ä½œå·¥å…· -->
          <button class="ldesign-cropper__toolbar-button" data-tool="crop" title="è£å‰ª">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>
            </svg>
          </button>
          
          <button class="ldesign-cropper__toolbar-button" data-tool="download" title="ä¸‹è½½">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- æµ‹è¯•è¯´æ˜ -->
      <div class="test-section">
        <h3>âœ… æµ‹è¯•é¡¹ç›®</h3>
        <ul>
          <li><strong>å·¥å…·æ ä½ç½®ï¼š</strong>å·¥å…·æ åº”è¯¥æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹æ–¹</li>
          <li><strong>æŒ‰é’®æ ·å¼ï¼š</strong>æ¯ä¸ªæŒ‰é’®éƒ½åº”è¯¥æœ‰æ¸…æ™°çš„å›¾æ ‡å’Œæ‚¬åœæ•ˆæœ</li>
          <li><strong>æ¿€æ´»çŠ¶æ€ï¼š</strong>çŸ©å½¢æŒ‰é’®åº”è¯¥æ˜¾ç¤ºä¸ºæ¿€æ´»çŠ¶æ€ï¼ˆç´«è‰²èƒŒæ™¯ï¼‰</li>
          <li><strong>ä¸‹æ‹‰é€‰æ‹©å™¨ï¼š</strong>ä¸‰ä¸ªä¸‹æ‹‰é€‰æ‹©å™¨åº”è¯¥æœ‰åˆé€‚çš„æ ·å¼</li>
          <li><strong>å“åº”å¼ï¼š</strong>åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹å·¥å…·æ åº”è¯¥æ­£ç¡®æ˜¾ç¤º</li>
        </ul>
      </div>

      <!-- ä¸åŒä½ç½®çš„å·¥å…·æ æµ‹è¯• -->
      <div class="test-section">
        <h3>ğŸ”„ ä¸åŒä½ç½®æµ‹è¯•</h3>
        
        <div class="button-test">
          <h4>é¡¶éƒ¨å·¥å…·æ ï¼š</h4>
          <div class="ldesign-cropper__toolbar ldesign-cropper__toolbar--top" data-theme="light">
            <button class="ldesign-cropper__toolbar-button" title="æ”¾å¤§">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/>
              </svg>
            </button>
            <button class="ldesign-cropper__toolbar-button ldesign-cropper__toolbar-button--active" title="çŸ©å½¢">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect width="18" height="18" x="3" y="3" rx="2"/>
              </svg>
            </button>
            <select class="ldesign-cropper__toolbar-select">
              <option>è‡ªç”±</option>
              <option>1:1</option>
            </select>
          </div>
        </div>

        <div class="button-test">
          <h4>æš—è‰²ä¸»é¢˜ï¼š</h4>
          <div class="ldesign-cropper__toolbar ldesign-cropper__toolbar--bottom" data-theme="dark">
            <button class="ldesign-cropper__toolbar-button" title="æ”¾å¤§">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/>
              </svg>
            </button>
            <button class="ldesign-cropper__toolbar-button ldesign-cropper__toolbar-button--active" title="çŸ©å½¢">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect width="18" height="18" x="3" y="3" rx="2"/>
              </svg>
            </button>
            <select class="ldesign-cropper__toolbar-select">
              <option>è‡ªç”±</option>
              <option>1:1</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // æ·»åŠ äº¤äº’åŠŸèƒ½
    document.addEventListener('DOMContentLoaded', () => {
      // æŒ‰é’®ç‚¹å‡»äº‹ä»¶
      document.querySelectorAll('.ldesign-cropper__toolbar-button').forEach(button => {
        button.addEventListener('click', () => {
          const tool = button.getAttribute('data-tool')
          console.log(`ç‚¹å‡»äº†å·¥å…·: ${tool}`)
          
          // å¤„ç†å½¢çŠ¶æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
          if (tool && tool.startsWith('shape-')) {
            const toolbar = button.closest('.ldesign-cropper__toolbar')
            toolbar.querySelectorAll('[data-tool^="shape-"]').forEach(btn => {
              btn.classList.remove('ldesign-cropper__toolbar-button--active')
            })
            button.classList.add('ldesign-cropper__toolbar-button--active')
          }
        })
      })
      
      // é€‰æ‹©å™¨å˜æ›´äº‹ä»¶
      document.querySelectorAll('.ldesign-cropper__toolbar-select').forEach(select => {
        select.addEventListener('change', () => {
          const tool = select.getAttribute('data-tool')
          const value = select.value
          console.log(`${tool} å˜æ›´ä¸º: ${value}`)
        })
      })
      
      console.log('å·¥å…·æ æ ·å¼æµ‹è¯•é¡µé¢å·²åŠ è½½')
    })
  </script>
</body>
</html>
