# LDesign CLI Web UI

LDesign CLI çš„å¯è§†åŒ–ç•Œé¢ï¼Œæä¾›ç›´è§‚çš„é¡¹ç›®ç®¡ç†å’Œä»»åŠ¡æ‰§è¡Œä½“éªŒã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š é¡¹ç›®æ¦‚è§ˆ
- é¡¹ç›®åŸºæœ¬ä¿¡æ¯å±•ç¤º
- å¿«é€Ÿæ“ä½œé¢æ¿
- æœ€è¿‘æ´»åŠ¨è®°å½•
- é¡¹ç›®çŠ¶æ€ç›‘æ§

### ğŸš€ ä»»åŠ¡ç®¡ç†
- å¯è§†åŒ–ä»»åŠ¡æ‰§è¡Œ
- å®æ—¶æ—¥å¿—è¾“å‡º
- ä»»åŠ¡çŠ¶æ€ç›‘æ§
- ä»»åŠ¡æ§åˆ¶ï¼ˆå¯åŠ¨/åœæ­¢ï¼‰

### ğŸ“ æ–‡ä»¶ç®¡ç†
- æ–‡ä»¶æµè§ˆå™¨
- åœ¨çº¿ä»£ç ç¼–è¾‘å™¨
- æ–‡ä»¶å†…å®¹é¢„è§ˆ
- æ–‡ä»¶ä¿å­˜åŠŸèƒ½

### âš™ï¸ é…ç½®ç®¡ç†
- å¯è§†åŒ–é…ç½®ç¼–è¾‘
- JSON æ ¼å¼éªŒè¯
- é…ç½®åˆ†ç±»å±•ç¤º
- å®æ—¶é…ç½®æ›´æ–°

### ğŸ“‹ æ¨¡æ¿ç®¡ç†
- é¡¹ç›®æ¨¡æ¿æµè§ˆ
- æ¨¡æ¿è¯¦æƒ…é¢„è§ˆ
- ä¸€é”®é¡¹ç›®åˆå§‹åŒ–
- è‡ªå®šä¹‰æ¨¡æ¿æ”¯æŒ

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æœåŠ¡
- **Express.js** - Web æœåŠ¡å™¨
- **Socket.IO** - å®æ—¶é€šä¿¡
- **Node.js** - è¿è¡Œç¯å¢ƒ

### å‰ç«¯ç•Œé¢
- **React 18** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·

### é€šä¿¡æ–¹å¼
- **REST API** - æ•°æ®æ“ä½œ
- **WebSocket** - å®æ—¶æ›´æ–°
- **HTTP** - é™æ€èµ„æº

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… CLI ä¾èµ–
pnpm install

# å®‰è£… Web UI ä¾èµ–
pnpm run install:ui
```

### 2. æ„å»ºé¡¹ç›®

```bash
# æ„å»º CLI
pnpm build

# æ„å»º Web UI
pnpm run build:ui
```

### 3. å¯åŠ¨ Web UI

```bash
# å¯åŠ¨å¯è§†åŒ–ç•Œé¢
node ./bin/ldesign.js ui

# æˆ–è€…æŒ‡å®šç«¯å£
node ./bin/ldesign.js ui --port 8080

# å¼€å‘æ¨¡å¼ï¼ˆå¯ç”¨çƒ­é‡è½½ï¼‰
node ./bin/ldesign.js ui --dev
```

### 4. è®¿é—®ç•Œé¢

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:3000`ï¼Œå¦‚æœæ²¡æœ‰è‡ªåŠ¨æ‰“å¼€ï¼Œè¯·æ‰‹åŠ¨è®¿é—®è¯¥åœ°å€ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¯åŠ¨å‘½ä»¤é€‰é¡¹

```bash
ldesign ui [options]

é€‰é¡¹:
  -p, --port <number>     æœåŠ¡å™¨ç«¯å£ (é»˜è®¤: 3000)
  -h, --host <string>     æœåŠ¡å™¨ä¸»æœº (é»˜è®¤: localhost)
  --no-open              ä¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
  --dev                  å¼€å‘æ¨¡å¼ï¼ˆå¯ç”¨çƒ­é‡è½½ï¼‰

ç¤ºä¾‹:
  ldesign ui                           # é»˜è®¤è®¾ç½®å¯åŠ¨
  ldesign ui --port 8080               # æŒ‡å®šç«¯å£
  ldesign ui --host 0.0.0.0 --no-open # ç»‘å®šæ‰€æœ‰æ¥å£ï¼Œä¸æ‰“å¼€æµè§ˆå™¨
  ldesign ui --dev                     # å¼€å‘æ¨¡å¼
```

### é¡µé¢åŠŸèƒ½

#### æ¦‚è§ˆé¡µé¢ (/)
- æŸ¥çœ‹é¡¹ç›®åŸºæœ¬ä¿¡æ¯
- æ‰§è¡Œå¿«é€Ÿæ“ä½œï¼ˆinit, build, dev, testï¼‰
- æŸ¥çœ‹æœ€è¿‘æ´»åŠ¨

#### ä»»åŠ¡é¡µé¢ (/tasks)
- åˆ›å»ºå’Œç®¡ç†ä»»åŠ¡
- å®æ—¶æŸ¥çœ‹ä»»åŠ¡è¾“å‡º
- æ§åˆ¶ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€

#### æ–‡ä»¶é¡µé¢ (/files)
- æµè§ˆé¡¹ç›®æ–‡ä»¶
- ç¼–è¾‘æ–‡ä»¶å†…å®¹
- ä¿å­˜æ–‡ä»¶æ›´æ”¹

#### é…ç½®é¡µé¢ (/config)
- ç¼–è¾‘é¡¹ç›®é…ç½®
- æŸ¥çœ‹é…ç½®åˆ†ç±»
- éªŒè¯é…ç½®æ ¼å¼

#### æ¨¡æ¿é¡µé¢ (/templates)
- æµè§ˆå¯ç”¨æ¨¡æ¿
- é¢„è§ˆæ¨¡æ¿å†…å®¹
- åˆå§‹åŒ–æ–°é¡¹ç›®

## ğŸ”§ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
pnpm dev

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm run dev:ui

# å¯åŠ¨ Web UIï¼ˆå¼€å‘æ¨¡å¼ï¼‰
node ./bin/ldesign.js ui --dev
```

### é¡¹ç›®ç»“æ„

```
packages/cli/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ web/                 # Web æœåŠ¡å™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ server.ts        # Express æœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ project-manager.ts # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â””â”€â”€ task-runner.ts   # ä»»åŠ¡è¿è¡Œå™¨
â”‚   â””â”€â”€ commands/
â”‚       â””â”€â”€ ui.ts           # UI å‘½ä»¤
â”œâ”€â”€ web-ui/                 # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ contexts/       # React ä¸Šä¸‹æ–‡
â”‚   â”‚   â””â”€â”€ services/       # API æœåŠ¡
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â””â”€â”€ package.json
```

### API æ¥å£

#### é¡¹ç›®ç›¸å…³
- `GET /api/project` - è·å–é¡¹ç›®ä¿¡æ¯
- `GET /api/config` - è·å–é…ç½®
- `POST /api/config` - æ›´æ–°é…ç½®

#### ä»»åŠ¡ç›¸å…³
- `POST /api/tasks/:taskName` - è¿è¡Œä»»åŠ¡
- `GET /api/tasks/:taskId` - è·å–ä»»åŠ¡çŠ¶æ€
- `DELETE /api/tasks/:taskId` - åœæ­¢ä»»åŠ¡

#### æ–‡ä»¶ç³»ç»Ÿ
- `GET /api/files` - åˆ—å‡ºæ–‡ä»¶
- `GET /api/files/content` - è¯»å–æ–‡ä»¶
- `POST /api/files/content` - å†™å…¥æ–‡ä»¶

#### æ¨¡æ¿ç›¸å…³
- `GET /api/templates` - è·å–æ¨¡æ¿åˆ—è¡¨
- `POST /api/init` - åˆå§‹åŒ–é¡¹ç›®

### WebSocket äº‹ä»¶

#### å®¢æˆ·ç«¯ç›‘å¬
- `tasks:list` - ä»»åŠ¡åˆ—è¡¨æ›´æ–°
- `task:update` - ä»»åŠ¡çŠ¶æ€æ›´æ–°
- `task:output` - ä»»åŠ¡è¾“å‡º
- `config:changed` - é…ç½®æ–‡ä»¶å˜åŒ–
- `file:changed` - æ–‡ä»¶å˜åŒ–

#### å®¢æˆ·ç«¯å‘é€
- `subscribe:task` - è®¢é˜…ä»»åŠ¡è¾“å‡º
- `unsubscribe:task` - å–æ¶ˆè®¢é˜…

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # ä½¿ç”¨å…¶ä»–ç«¯å£
   ldesign ui --port 8080
   ```

2. **Web UI æœªæ„å»º**
   ```bash
   # æ„å»ºå‰ç«¯ç•Œé¢
   pnpm run build:ui
   ```

3. **ä¾èµ–æœªå®‰è£…**
   ```bash
   # å®‰è£…æ‰€æœ‰ä¾èµ–
   pnpm install
   pnpm run install:ui
   ```

4. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
   - ç¡®è®¤é˜²ç«å¢™è®¾ç½®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

### æ—¥å¿—è°ƒè¯•

```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
ldesign ui --dev --debug

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
ldesign ui --verbose
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚
