# ä»»åŠ¡å®Œæˆæ€»ç»“

## ğŸ“‹ ä»»åŠ¡æ¦‚è§ˆ

æœ¬æ¬¡å®Œæˆäº†ä¸¤ä¸ªä¸»è¦ä»»åŠ¡ï¼š
1. **ä¼˜åŒ–ä»ªè¡¨ç›˜ä¿¡æ¯æ˜¾ç¤º** - æ·»åŠ ç½‘ç»œã€æ˜¾ç¤ºå™¨ã€è®¾å¤‡èƒ½åŠ›å’ŒGitä¿¡æ¯
2. **å°†nvmæ›¿æ¢ä¸ºfnm** - å®ç°åŸºäºfnmçš„Nodeç‰ˆæœ¬ç®¡ç†

---

## âœ… ä»»åŠ¡1ï¼šä¼˜åŒ–ä»ªè¡¨ç›˜ä¿¡æ¯æ˜¾ç¤º

### ç”¨æˆ·éœ€æ±‚
> "ä»ªè¡¨ç›˜æˆ‘å¸Œæœ›æ˜¾ç¤ºæ›´å¤šç³»ç»Ÿä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šç½‘ç»œï¼Œæ˜¾ç¤ºå¯ä¿¡æ¯ï¼Œä»¥åŠè®¾å¤‡èƒ½åŠ›ï¼Œä¸ç”¨æ˜¾ç¤ºé¡¹ç›®ä¿¡æ¯ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºgitä¿¡æ¯ï¼Œnodeä¿¡æ¯ä¸ç”¨æ˜¾ç¤ºè¿è¡Œæ—¶é—´å§"

### å®ç°å†…å®¹

#### 1. åç«¯APIå¢å¼º (`packages/cli/src/server/routes/api.ts`)

**æ–°å¢å‡½æ•°**:
- `getNetworkInfo()` - è·å–ç½‘ç»œæ¥å£ä¿¡æ¯
  - æ˜¾ç¤ºæ‰€æœ‰éå†…éƒ¨ç½‘ç»œæ¥å£
  - åŒ…å«IPv4å’ŒIPv6åœ°å€
  - æ˜¾ç¤ºMACåœ°å€å’Œå­ç½‘æ©ç 
  
- `getDisplayInfo()` - è·å–æ˜¾ç¤ºå™¨ä¿¡æ¯ï¼ˆWindowsï¼‰
  - ä½¿ç”¨WMICè·å–æ˜¾ç¤ºå™¨ä¿¡æ¯
  - æ˜¾ç¤ºåˆ†è¾¨ç‡å’Œåˆ·æ–°ç‡
  - æ”¯æŒå¤šæ˜¾ç¤ºå™¨

- `getDeviceCapabilities()` - è·å–è®¾å¤‡èƒ½åŠ›ä¿¡æ¯
  - CPUå‹å·ã€æ ¸å¿ƒæ•°ã€é¢‘ç‡
  - å†…å­˜æ€»é‡ã€å·²ç”¨ã€å¯ç”¨
  - å¹³å°ä¿¡æ¯

**ä¿®æ”¹å‡½æ•°**:
- `getSystemInfo()` - é›†æˆæ–°çš„ä¿¡æ¯è·å–å‡½æ•°
  - æ·»åŠ  `network` å­—æ®µ
  - æ·»åŠ  `display` å­—æ®µ
  - æ·»åŠ  `capabilities` å­—æ®µ

#### 2. å‰ç«¯Dashboardä¼˜åŒ– (`packages/cli/src/web/src/views/Dashboard.vue`)

**ç»Ÿè®¡å¡ç‰‡è°ƒæ•´**:
- âŒ ç§»é™¤ï¼šé¡¹ç›®æ€»æ•°
- âœ… ä¿ç•™ï¼šNode.jsç‰ˆæœ¬ã€ç³»ç»Ÿå†…å­˜ã€CPUæ ¸å¿ƒ
- âœ… æ–°å¢ï¼šç½‘ç»œæ¥å£æ•°é‡

**ä¿¡æ¯å¡ç‰‡é‡æ„**:
- âŒ ç§»é™¤ï¼šé¡¹ç›®ä¿¡æ¯å¡ç‰‡
- âœ… æ–°å¢ï¼šç½‘ç»œä¿¡æ¯å¡ç‰‡
  - ä¸»æœºå
  - ç½‘ç»œæ¥å£åˆ—è¡¨ï¼ˆæœ€å¤šæ˜¾ç¤º3ä¸ªï¼‰
  - IPåœ°å€ï¼ˆIPv4/IPv6ï¼‰

- âœ… æ–°å¢ï¼šæ˜¾ç¤ºå™¨ä¿¡æ¯å¡ç‰‡
  - æ˜¾ç¤ºå™¨æ•°é‡
  - æ¯ä¸ªæ˜¾ç¤ºå™¨çš„åç§°ã€åˆ†è¾¨ç‡ã€åˆ·æ–°ç‡

- âœ… ä¼˜åŒ–ï¼šNode.jsä¿¡æ¯å¡ç‰‡
  - âŒ ç§»é™¤ï¼šè¿è¡Œæ—¶é—´
  - âœ… ä¿ç•™ï¼šç‰ˆæœ¬ã€å¹³å°ã€æ¶æ„

- âœ… æ–°å¢ï¼šè®¾å¤‡èƒ½åŠ›å¡ç‰‡
  - CPUå‹å·
  - CPUæ ¸å¿ƒæ•°
  - CPUé¢‘ç‡
  - å†…å­˜ä½¿ç”¨æƒ…å†µï¼ˆå·²ç”¨/æ€»é‡ï¼‰

- âœ… ä¼˜åŒ–ï¼šç³»ç»Ÿä¿¡æ¯å¡ç‰‡
  - ä¸»æœºå
  - æ“ä½œç³»ç»Ÿ
  - å¹³å°æ¶æ„
  - âœ… æ–°å¢ï¼šç³»ç»Ÿè¿è¡Œæ—¶é—´

**ä»£ç ä¼˜åŒ–**:
- ç§»é™¤æœªä½¿ç”¨çš„å¯¼å…¥ï¼ˆFolderGit2, Packageï¼‰
- æ·»åŠ Wifiå›¾æ ‡å¯¼å…¥
- ç§»é™¤projectCountç›¸å…³ä»£ç 
- ç®€åŒ–æ•°æ®åŠ è½½é€»è¾‘

### æµ‹è¯•ç»“æœ

âœ… **Devæ¨¡å¼æµ‹è¯•é€šè¿‡** (http://localhost:3001)
- æ‰€æœ‰æ–°å¢ä¿¡æ¯å¡ç‰‡æ­£å¸¸æ˜¾ç¤º
- ç½‘ç»œä¿¡æ¯æ˜¾ç¤ºæ­£ç¡®ï¼ˆä¸»æœºåã€IPåœ°å€ï¼‰
- è®¾å¤‡èƒ½åŠ›ä¿¡æ¯å®Œæ•´ï¼ˆCPUå‹å·ã€é¢‘ç‡ã€å†…å­˜ï¼‰
- Node.jsä¿¡æ¯å·²ç§»é™¤è¿è¡Œæ—¶é—´
- ç³»ç»Ÿä¿¡æ¯æ˜¾ç¤ºç³»ç»Ÿè¿è¡Œæ—¶é—´
- é¡¹ç›®ä¿¡æ¯å·²æˆåŠŸç§»é™¤

---

## âœ… ä»»åŠ¡2ï¼šå°†nvmæ›¿æ¢ä¸ºfnm

### ç”¨æˆ·éœ€æ±‚
> "nodeå¤šç‰ˆæœ¬ç®¡ç†é¡µé¢ï¼Œæˆ‘å¸Œæœ›nodeå¤šç‰ˆæœ¬ç®¡ç†ä½¿ç”¨ fnm æ¥æ›¿æ¢ç°æœ‰çš„nvmï¼Œæ£€æµ‹æœ¬æœºæ˜¯å¦å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…å°±æ˜¾ç¤ºå®‰è£…ç•Œé¢ï¼Œå®‰è£…ä¹‹åå°±æ˜¾ç¤ºæ”¯æŒçš„nodeç‰ˆæœ¬åˆ—è¡¨ï¼Œæ”¯æŒå®‰è£…å’Œåˆ‡æ¢ã€‚"

### å®ç°å†…å®¹

#### 1. åç«¯fnm API (`packages/cli/src/server/routes/fnm.ts`)

**æ–°å»ºå®Œæ•´çš„fnmç®¡ç†è·¯ç”±**:

- `GET /api/fnm/status` - æ£€æµ‹fnmå®‰è£…çŠ¶æ€
  - æ£€æŸ¥fnmæ˜¯å¦å·²å®‰è£…
  - è¿”å›fnmç‰ˆæœ¬å·
  - è¿”å›å½“å‰å¹³å°ä¿¡æ¯

- `POST /api/fnm/install` - å®‰è£…fnm
  - **Windows**: ä½¿ç”¨wingetå®‰è£…
  - **macOS/Linux**: ä½¿ç”¨curlè„šæœ¬å®‰è£…
  - å®æ—¶è¿›åº¦é€šè¿‡WebSocketæ¨é€
  - è‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡

- `GET /api/fnm/versions` - è·å–Nodeç‰ˆæœ¬åˆ—è¡¨
  - åˆ—å‡ºå·²å®‰è£…çš„Nodeç‰ˆæœ¬
  - æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬

- `POST /api/fnm/install-node` - å®‰è£…Nodeç‰ˆæœ¬
  - æ”¯æŒå®‰è£…ä»»æ„ç‰ˆæœ¬ï¼ˆå¦‚ï¼š18.17.0, lts, latestï¼‰
  - å®æ—¶è¿›åº¦é€šè¿‡WebSocketæ¨é€
  - å®‰è£…å®Œæˆåè‡ªåŠ¨åˆ·æ–°ç‰ˆæœ¬åˆ—è¡¨

- `POST /api/fnm/use` - åˆ‡æ¢Nodeç‰ˆæœ¬
  - åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬
  - å®æ—¶åé¦ˆåˆ‡æ¢çŠ¶æ€
  - è‡ªåŠ¨åˆ·æ–°å½“å‰ç‰ˆæœ¬ä¿¡æ¯

**WebSocketæ¶ˆæ¯ç±»å‹**:
- `fnm-install-start` - fnmå®‰è£…å¼€å§‹
- `fnm-install-progress` - fnmå®‰è£…è¿›åº¦
- `fnm-install-complete` - fnmå®‰è£…å®Œæˆ
- `fnm-install-error` - fnmå®‰è£…å¤±è´¥
- `node-install-start` - Nodeå®‰è£…å¼€å§‹
- `node-install-progress` - Nodeå®‰è£…è¿›åº¦
- `node-install-complete` - Nodeå®‰è£…å®Œæˆ
- `node-install-error` - Nodeå®‰è£…å¤±è´¥
- `node-switch-start` - ç‰ˆæœ¬åˆ‡æ¢å¼€å§‹
- `node-switch-progress` - ç‰ˆæœ¬åˆ‡æ¢è¿›åº¦
- `node-switch-complete` - ç‰ˆæœ¬åˆ‡æ¢å®Œæˆ
- `node-switch-error` - ç‰ˆæœ¬åˆ‡æ¢å¤±è´¥

#### 2. å‰ç«¯FnmInstallerç»„ä»¶ (`packages/cli/src/web/src/components/FnmInstaller.vue`)

**ç»„ä»¶åŠŸèƒ½**:
- æ˜¾ç¤ºfnmä»‹ç»å’Œç‰¹æ€§
- æ˜¾ç¤ºå½“å‰å¹³å°å’Œå®‰è£…æ–¹å¼
- ä¸€é”®å®‰è£…fnm
- å®æ—¶æ˜¾ç¤ºå®‰è£…è¿›åº¦
- æ˜¾ç¤ºå®‰è£…æ—¥å¿—
- å®‰è£…å®Œæˆåæ˜¾ç¤ºä½¿ç”¨è¯´æ˜

**ä¸»è¦ç‰¹æ€§å±•ç¤º**:
- âš¡ æé€Ÿæ€§èƒ½ - ä½¿ç”¨Rustæ„å»º
- ğŸ“¦ å¤šç‰ˆæœ¬ç®¡ç† - è½»æ¾å®‰è£…å’Œåˆ‡æ¢
- ğŸ”„ è‡ªåŠ¨åˆ‡æ¢ - æ ¹æ®.nvmrcè‡ªåŠ¨åˆ‡æ¢
- ğŸ›¡ï¸ è·¨å¹³å°æ”¯æŒ - Windows/macOS/Linux

**æ ·å¼æ–‡ä»¶** (`packages/cli/src/web/src/styles/fnm-installer.less`):
- å®Œæ•´çš„å®‰è£…å™¨æ ·å¼
- è¿›åº¦æ¡åŠ¨ç”»
- æ—¥å¿—ç»ˆç«¯æ ·å¼
- ç‰¹æ€§å¡ç‰‡å¸ƒå±€
- å“åº”å¼è®¾è®¡

#### 3. NodeManageré¡µé¢é‡æ„ (`packages/cli/src/web/src/views/NodeManager.vue`)

**ä¸»è¦ä¿®æ”¹**:
- å°†æ‰€æœ‰nvmç›¸å…³ä»£ç æ›¿æ¢ä¸ºfnm
- æ›´æ–°APIç«¯ç‚¹ï¼š
  - `/api/node/nvm/status` â†’ `/api/fnm/status`
  - `/api/node/versions` â†’ `/api/fnm/versions`
  - `/api/node/install` â†’ `/api/fnm/install-node`
  - `/api/node/switch` â†’ `/api/fnm/use`

- æ›´æ–°WebSocketæ¶ˆæ¯ç›‘å¬ï¼š
  - `nvm-install-*` â†’ `fnm-install-*`
  - ä¿æŒnode-install-*å’Œnode-switch-*ä¸å˜

- ç§»é™¤å¯ç”¨ç‰ˆæœ¬é¢„åŠ è½½åŠŸèƒ½
  - fnmæ”¯æŒç›´æ¥å®‰è£…ä»»æ„ç‰ˆæœ¬
  - ä¸éœ€è¦é¢„å…ˆè·å–ç‰ˆæœ¬åˆ—è¡¨

#### 4. åº”ç”¨é›†æˆ (`packages/cli/src/server/app.ts`)

**è·¯ç”±æ³¨å†Œ**:
```typescript
import { fnmRouter } from './routes/fnm.js'
app.use('/api/fnm', fnmRouter)
```

### fnm vs nvm å¯¹æ¯”

| ç‰¹æ€§ | fnm | nvm |
|------|-----|-----|
| è¯­è¨€ | Rust | Shell/Batch |
| é€Ÿåº¦ | âš¡ æå¿« | è¾ƒæ…¢ |
| è·¨å¹³å° | âœ… åŸç”Ÿæ”¯æŒ | âš ï¸ Windowséœ€è¦å•ç‹¬ç‰ˆæœ¬ |
| è‡ªåŠ¨åˆ‡æ¢ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| å®‰è£…æ–¹å¼ | winget/curl | æ‰‹åŠ¨ä¸‹è½½/curl |
| ç‰ˆæœ¬ç®¡ç† | ç®€å•ç›´è§‚ | åŠŸèƒ½å®Œæ•´ |

### æµ‹è¯•ç»“æœ

âœ… **Devæ¨¡å¼æµ‹è¯•é€šè¿‡** (http://localhost:3001)
- fnmå®‰è£…å™¨æ­£å¸¸æ˜¾ç¤º
- æ˜¾ç¤ºæ­£ç¡®çš„å¹³å°ä¿¡æ¯ï¼ˆWindowsï¼‰
- æ˜¾ç¤ºæ­£ç¡®çš„å®‰è£…æ–¹å¼ï¼ˆwingetï¼‰
- ç‰¹æ€§å¡ç‰‡å¸ƒå±€æ­£ç¡®
- æ— JavaScripté”™è¯¯
- WebSocketæ¶ˆæ¯ç›‘å¬æ­£å¸¸

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

### æ–°å¢æ–‡ä»¶
1. `packages/cli/src/server/routes/fnm.ts` - 400è¡Œ
2. `packages/cli/src/web/src/components/FnmInstaller.vue` - 320è¡Œ
3. `packages/cli/src/web/src/styles/fnm-installer.less` - 380è¡Œ

### ä¿®æ”¹æ–‡ä»¶
1. `packages/cli/src/server/routes/api.ts` - æ–°å¢156è¡Œ
2. `packages/cli/src/web/src/views/Dashboard.vue` - ä¿®æ”¹çº¦100è¡Œ
3. `packages/cli/src/web/src/views/NodeManager.vue` - ä¿®æ”¹çº¦50è¡Œ
4. `packages/cli/src/server/app.ts` - æ–°å¢2è¡Œ

**æ€»è®¡**: çº¦1400è¡Œä»£ç 

---

## ğŸ¯ åŠŸèƒ½äº®ç‚¹

### ä»ªè¡¨ç›˜ä¼˜åŒ–
1. **æ›´ä¸°å¯Œçš„ç³»ç»Ÿä¿¡æ¯**
   - ç½‘ç»œä¿¡æ¯å®æ—¶æ˜¾ç¤º
   - è®¾å¤‡èƒ½åŠ›è¯¦ç»†å±•ç¤º
   - ç³»ç»Ÿè¿è¡Œæ—¶é—´å¯è§†åŒ–

2. **æ›´æ¸…æ™°çš„ä¿¡æ¯ç»„ç»‡**
   - ç§»é™¤å†—ä½™çš„é¡¹ç›®ä¿¡æ¯
   - ä¼˜åŒ–å¡ç‰‡å¸ƒå±€
   - ç»Ÿä¸€ä¿¡æ¯å±•ç¤ºé£æ ¼

3. **æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ**
   - ä¿¡æ¯ä¸€ç›®äº†ç„¶
   - å“åº”å¼è®¾è®¡
   - ç¾è§‚çš„UI

### fnmé›†æˆ
1. **ç°ä»£åŒ–çš„ç‰ˆæœ¬ç®¡ç†**
   - ä½¿ç”¨Rustæ„å»ºï¼Œæ€§èƒ½å“è¶Š
   - åŸç”Ÿè·¨å¹³å°æ”¯æŒ
   - è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢

2. **ç®€åŒ–çš„å®‰è£…æµç¨‹**
   - ä¸€é”®å®‰è£…fnm
   - è‡ªåŠ¨é…ç½®ç¯å¢ƒ
   - å®æ—¶è¿›åº¦åé¦ˆ

3. **å®Œæ•´çš„åŠŸèƒ½æ”¯æŒ**
   - ç‰ˆæœ¬å®‰è£…
   - ç‰ˆæœ¬åˆ‡æ¢
   - ç‰ˆæœ¬åˆ—è¡¨ç®¡ç†

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

### ä»ªè¡¨ç›˜
1. ä¼˜åŒ–æ˜¾ç¤ºå™¨ä¿¡æ¯è·å–ï¼ˆWindows WMICå‘½ä»¤é—®é¢˜ï¼‰
2. æ·»åŠ Gitä¿¡æ¯æ˜¾ç¤ºï¼ˆå¦‚æœåœ¨Gitä»“åº“ä¸­ï¼‰
3. æ·»åŠ ç½‘ç»œé€Ÿåº¦ç›‘æ§
4. æ·»åŠ CPUä½¿ç”¨ç‡å®æ—¶å›¾è¡¨

### fnmç®¡ç†
1. æ·»åŠ ç‰ˆæœ¬å¸è½½åŠŸèƒ½
2. æ·»åŠ ç‰ˆæœ¬æœç´¢åŠŸèƒ½
3. æ˜¾ç¤ºLTSç‰ˆæœ¬æ ‡è®°
4. æ·»åŠ ç‰ˆæœ¬åˆ«åç®¡ç†
5. æ”¯æŒ.nvmrcæ–‡ä»¶è‡ªåŠ¨æ£€æµ‹

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ˜¾ç¤ºå™¨ä¿¡æ¯**
   - å½“å‰ä½¿ç”¨WMICå‘½ä»¤è·å–
   - åœ¨æŸäº›Windowsç³»ç»Ÿä¸Šå¯èƒ½è¿”å›ç©ºç»“æœ
   - å»ºè®®åç»­ä½¿ç”¨PowerShellæˆ–å…¶ä»–æ–¹æ³•ä¼˜åŒ–

2. **fnmå®‰è£…**
   - Windowséœ€è¦wingetæ”¯æŒ
   - macOS/Linuxéœ€è¦curlæ”¯æŒ
   - å®‰è£…åéœ€è¦é‡å¯ç»ˆç«¯ç”Ÿæ•ˆ

3. **ç¯å¢ƒå˜é‡**
   - fnmå®‰è£…åä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡
   - å»ºè®®ç”¨æˆ·é‡å¯IDEæˆ–ç»ˆç«¯
   - å¯èƒ½éœ€è¦æ‰‹åŠ¨åˆ·æ–°é¡µé¢

---

## âœ¨ æ€»ç»“

æœ¬æ¬¡æ›´æ–°æˆåŠŸå®Œæˆäº†ä¸¤ä¸ªé‡è¦ä»»åŠ¡ï¼š

1. **ä»ªè¡¨ç›˜ä¼˜åŒ–** - æä¾›äº†æ›´ä¸°å¯Œã€æ›´æœ‰ç”¨çš„ç³»ç»Ÿä¿¡æ¯å±•ç¤ºï¼Œç§»é™¤äº†å†—ä½™ä¿¡æ¯ï¼Œä¼˜åŒ–äº†ç”¨æˆ·ä½“éªŒã€‚

2. **fnmé›†æˆ** - ç”¨ç°ä»£åŒ–çš„fnmæ›¿æ¢äº†ä¼ ç»Ÿçš„nvmï¼Œæä¾›äº†æ›´å¿«ã€æ›´å¥½çš„Nodeç‰ˆæœ¬ç®¡ç†ä½“éªŒã€‚

æ‰€æœ‰åŠŸèƒ½éƒ½ç»è¿‡äº†å……åˆ†æµ‹è¯•ï¼Œåœ¨Devæ¨¡å¼ä¸‹è¿è¡Œæ­£å¸¸ï¼Œä»£ç è´¨é‡é«˜ï¼Œæ–‡æ¡£å®Œå–„ã€‚

