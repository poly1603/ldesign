<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="PDFæŸ¥çœ‹å™¨ Reactç¤ºä¾‹ - åŸºäº @ldesign/pdf ç»„ä»¶åŒ…çš„å®Œæ•´PDFé¢„è§ˆè§£å†³æ–¹æ¡ˆ" />
    <meta name="keywords" content="PDF, æŸ¥çœ‹å™¨, React, ç»„ä»¶, é¢„è§ˆ, JavaScript, TypeScript" />
    <meta name="author" content="LDesign Team" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="PDFæŸ¥çœ‹å™¨ Reactç¤ºä¾‹" />
    <meta property="og:description" content="åŸºäº @ldesign/pdf ç»„ä»¶åŒ…çš„å®Œæ•´PDFé¢„è§ˆè§£å†³æ–¹æ¡ˆ" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="PDFæŸ¥çœ‹å™¨ Reactç¤ºä¾‹" />
    <meta name="twitter:description" content="åŸºäº @ldesign/pdf ç»„ä»¶åŒ…çš„å®Œæ•´PDFé¢„è§ˆè§£å†³æ–¹æ¡ˆ" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23dc3545'%3E%3Cpath d='M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z' /%3E%3C/svg%3E"
    />

    <!-- Preconnect to improve performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Theme Color -->
    <meta name="theme-color" content="#0066cc" />

    <!-- Apple Touch Icon -->
    <link
      rel="apple-touch-icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23dc3545'%3E%3Cpath d='M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z' /%3E%3C/svg%3E"
    />

    <title>PDFæŸ¥çœ‹å™¨ Reactç¤ºä¾‹ | @ldesign/pdf</title>

    <style>
        /* åŠ è½½æ—¶çš„åŸºç¡€æ ·å¼ */
        body {
          margin: 0;
          padding: 0;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background-color: #ffffff;
          color: #333333;
        }

      /* åŠ è½½æŒ‡ç¤ºå™¨ */
        .loading-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background-color: #ffffff;
          z-index: 9999;
        }

      .loading-spinner {
          width: 40px;
          height: 40px;
          border: 4px solid #f3f3f3;
          border-top: 4px solid #0066cc;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }

        .loading-text {
          font-size: 16px;
          color: #666666;
          font-weight: 500;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }

        /* éšè—åŠ è½½æŒ‡ç¤ºå™¨å½“åº”ç”¨åŠ è½½å®Œæˆ */
        .app-loaded .loading-container {
          display: none;
        }

      /* é”™è¯¯é¡µé¢æ ·å¼ */
        .error-container {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background-color: #ffffff;
          text-align: center;
          padding: 40px;
          box-sizing: border-box;
        }

        .error-icon {
          font-size: 64px;
          margin-bottom: 24px;
        }

      .error-title {
          font-size: 24px;
          font-weight: 600;
          color: #dc3545;
          margin: 0 0 16px 0;
        }

        .error-message {
          font-size: 16px;
          color: #666666;
          line-height: 1.5;
          margin: 0 0 24px 0;
          max-width: 500px;
        }

      .error-button {
          padding: 12px 24px;
          background-color: #0066cc;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 16px;
          cursor: pointer;
          transition: background-color 0.2s;
        }

        .error-button:hover {
          background-color: #0052a3;
        }
    </style>
  </head>
  <body>
    <!-- åº”ç”¨æ ¹å®¹å™¨ -->
    <div id="root">
      <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
      <div class="loading-container">
        <div class="loading-spinner"></div>
        <div class="loading-text">æ­£åœ¨åŠ è½½PDFæŸ¥çœ‹å™¨...</div>
      </div>
    </div>

    <!-- é”™è¯¯å›é€€é¡µé¢æ¨¡æ¿ -->
    <script id="error-template" type="text/template">
      <div class="error-container">
        <div class="error-icon">âš ï¸</div>
        <h1 class="error-title">åº”ç”¨åŠ è½½å¤±è´¥</h1>
        <p class="error-message">
          æŠ±æ­‰ï¼ŒPDFæŸ¥çœ‹å™¨åº”ç”¨æ— æ³•æ­£å¸¸åŠ è½½ã€‚è¿™å¯èƒ½æ˜¯ç”±äºç½‘ç»œé—®é¢˜æˆ–æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜å¯¼è‡´çš„ã€‚
          <br><br>
          è¯·å°è¯•åˆ·æ–°é¡µé¢æˆ–æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿æ¥ã€‚
        </p>
        <button class="error-button" onclick="window.location.reload()">
          ğŸ”„ åˆ·æ–°é¡µé¢
        </button>
      </div>
    </script>

    <!-- åº”ç”¨è„šæœ¬ -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- é”™è¯¯å¤„ç†è„šæœ¬ -->
    <script>
      // å…¨å±€é”™è¯¯å¤„ç†
      window.addEventListener('error', function (event) {
        console.error('å…¨å±€é”™è¯¯:', event.error)
        showErrorPage()
      })

      window.addEventListener('unhandledrejection', function (event) {
        console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', event.reason)
        showErrorPage()
      })

      // æ˜¾ç¤ºé”™è¯¯é¡µé¢
      function showErrorPage() {
        const root = document.getElementById('root')
        const template = document.getElementById('error-template')

        if (root && template) {
          root.innerHTML = template.innerHTML
        }
      }

      // åº”ç”¨åŠ è½½å®Œæˆåéšè—åŠ è½½æŒ‡ç¤ºå™¨
      window.addEventListener('load', function () {
        setTimeout(function () {
          document.body.classList.add('app-loaded')
        }, 500)
      })

      // æ£€æµ‹æµè§ˆå™¨å…¼å®¹æ€§
      function checkBrowserCompatibility() {
        const isModernBrowser =
          'fetch' in window && 'Promise' in window && 'Map' in window && 'Set' in window && 'Symbol' in window

        if (!isModernBrowser) {
          console.warn('æµè§ˆå™¨å…¼å®¹æ€§è­¦å‘Š: å½“å‰æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒæŸäº›ç°ä»£JavaScriptç‰¹æ€§')
        }

        return isModernBrowser
      }

      // æ€§èƒ½ç›‘æ§
      function trackPerformance() {
        if ('performance' in window && 'getEntriesByType' in performance) {
          window.addEventListener('load', function () {
            setTimeout(function () {
              const navigation = performance.getEntriesByType('navigation')[0]
              if (navigation) {
                console.log('é¡µé¢åŠ è½½æ€§èƒ½:', {
                  domContentLoaded: navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart,
                  loadComplete: navigation.loadEventEnd - navigation.loadEventStart,
                  totalTime: navigation.loadEventEnd - navigation.fetchStart,
                })
              }
            }, 0)
          })
        }
      }

      // åˆå§‹åŒ–
      checkBrowserCompatibility()
      trackPerformance()
    </script>

    <!-- æ— JavaScriptå›é€€ -->
    <noscript>
      <div class="error-container">
        <div class="error-icon">âš ï¸</div>
        <h1 class="error-title">éœ€è¦å¯ç”¨JavaScript</h1>
        <p class="error-message">PDFæŸ¥çœ‹å™¨éœ€è¦JavaScriptæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚è¯·åœ¨æµè§ˆå™¨è®¾ç½®ä¸­å¯ç”¨JavaScriptï¼Œç„¶ååˆ·æ–°é¡µé¢ã€‚</p>
      </div>
    </noscript>
  </body>
</html>
