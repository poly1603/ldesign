<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ldesign/pdf - 原生 JS 示例</title>
    <style>
      html, body, #app { height: 100%; margin: 0; }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="ldesign-pdf-viewer-wrapper">
        <div class="pdf-toolbar">
          <div class="toolbar-group">
            <button class="toolbar-btn" id="btn-prev" title="上一页">←</button>
            <div class="page-info">
              <input type="number" class="page-input" id="input-page" min="1" value="1" />
              <span class="page-total" id="page-total">/ 0</span>
            </div>
            <button class="toolbar-btn" id="btn-next" title="下一页">→</button>
          </div>

          <div class="toolbar-group">
            <button class="toolbar-btn" id="btn-zoom-out" title="缩小">-</button>
            <select class="zoom-select" id="select-zoom">
              <option value="fit-width">适应宽度</option>
              <option value="fit-page">适应页面</option>
              <option value="auto">自动</option>
              <option value="0.5">50%</option>
              <option value="0.75">75%</option>
              <option value="1">100%</option>
              <option value="1.25">125%</option>
              <option value="1.5">150%</option>
              <option value="2">200%</option>
            </select>
            <button class="toolbar-btn" id="btn-zoom-in" title="放大">+</button>
          </div>

          <div class="toolbar-group">
            <button class="toolbar-btn" id="btn-rotate" title="旋转">↻</button>
            <button class="toolbar-btn" id="btn-search-toggle" title="搜索">🔍</button>
            <button class="toolbar-btn" id="btn-sidebar-toggle" title="侧边栏">☰</button>
            <button class="toolbar-btn" id="btn-fullscreen" title="全屏">⤢</button>
            <button class="toolbar-btn" id="btn-download" title="下载">↓</button>
            <button class="toolbar-btn" id="btn-print" title="打印">🖨</button>
          </div>
        </div>

        <div class="pdf-search-bar" id="search-bar" style="display: none;">
          <input type="text" class="search-input" id="input-search" placeholder="搜索文档..." />
          <div class="search-controls">
            <button class="search-btn" id="btn-find-prev" title="上一个">↑</button>
            <button class="search-btn" id="btn-find-next" title="下一个">↓</button>
            <span class="search-results" id="search-results"></span>
            <button class="search-btn" id="btn-search-close" title="关闭">×</button>
          </div>
        </div>

        <!-- 选择示例PDF -->
        <div class="pdf-selection-section" style="padding:12px 16px; background:#f8f9fa; border:1px solid #e9ecef; border-radius:8px; margin:12px 0;">
          <h3 style="margin:0 0 8px 0; font-size:14px; color:#495057;">📚 选择示例PDF</h3>
          <div style="display:flex; gap:8px; flex-wrap:wrap;">
            <button class="sample-btn" data-url="https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf">TraceMonkey 论文</button>
            <button class="sample-btn" data-url="/pdfs/learning-sample.pdf">学习容器示例</button>
            <button class="sample-btn" data-url="/sample.pdf">简单测试文档</button>
          </div>
        </div>

        <!-- 或上传本地PDF -->
        <div class="file-input-section" style="padding:12px 16px; background:#fff; border:2px dashed #dee2e6; border-radius:8px; margin:12px 0;">
          <h3 style="margin:0 0 8px 0; font-size:14px; color:#495057;">📁 或上传本地PDF</h3>
          <input id="file-input" type="file" accept=".pdf" />
        </div>

        <!-- 高度模式选择 -->
        <div class="height-mode-selector" style="padding:12px 16px; background:#f8f9fa; border:1px solid #e9ecef; border-radius:8px; margin:12px 0;">
          <h3 style="margin:0 0 8px 0; font-size:14px; color:#495057;">📐 高度模式选择</h3>
          <label style="display:block; margin:6px 0;"><input type="radio" name="height-mode" value="auto" checked /> 自适应高度（单页）</label>
          <label style="display:block; margin:6px 0;"><input type="radio" name="height-mode" value="custom" /> 自定义高度（滚动）</label>
          <div id="custom-height-wrap" style="display:none; margin-top:6px;">
            <label>自定义高度：<input id="custom-height" type="text" value="600px" style="width:120px;" /></label>
          </div>
        </div>

        <div class="pdf-content">
          <div class="pdf-sidebar" id="sidebar" style="display: block;">
            <div class="sidebar-content">
              <div class="thumbnails-section">
                <h3>页面缩略图</h3>
                <div class="thumbnails-container" id="thumbnails"></div>
              </div>
            </div>
          </div>

          <div class="pdf-main auto-height-mode" id="pdf-main">
            <div class="pdf-container single-page auto-height" id="viewer-container" style="height:auto; overflow:visible;"></div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>

