# ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

åœ¨å¼€å§‹ä½¿ç”¨ LDesign Engine æ¼”ç¤ºåº”ç”¨ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬ (éœ€è¦ >= 18.0.0)
node --version

# æ£€æŸ¥ pnpm ç‰ˆæœ¬ (éœ€è¦ >= 8.0.0)
pnpm --version

# å¦‚æœæ²¡æœ‰å®‰è£… pnpmï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…
npm install -g pnpm
```

### å®‰è£…å’Œå¯åŠ¨

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/ldesign/ldesign.git
cd ldesign/packages/app
```

2. **å®‰è£…ä¾èµ–**

```bash
pnpm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
```

4. **æ‰“å¼€æµè§ˆå™¨** è®¿é—® `http://localhost:3000` å³å¯çœ‹åˆ°æ¼”ç¤ºåº”ç”¨

## ğŸ¯ åŠŸèƒ½å¯¼èˆª

### ä¸»ç•Œé¢å¸ƒå±€

æ¼”ç¤ºåº”ç”¨é‡‡ç”¨ç»å…¸çš„ä¸‰æ å¸ƒå±€ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Header                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             â”‚                                           â”‚
â”‚   Sidebar   â”‚            Main Content                   â”‚
â”‚             â”‚                                           â”‚
â”‚  - æ¦‚è§ˆ     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  - æ’ä»¶ç³»ç»Ÿ â”‚  â”‚                                     â”‚  â”‚
â”‚  - ä¸­é—´ä»¶   â”‚  â”‚         æ¼”ç¤ºå†…å®¹åŒºåŸŸ                â”‚  â”‚
â”‚  - çŠ¶æ€ç®¡ç† â”‚  â”‚                                     â”‚  â”‚
â”‚  - äº‹ä»¶ç³»ç»Ÿ â”‚  â”‚                                     â”‚  â”‚
â”‚  - æ—¥å¿—ç³»ç»Ÿ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  - é€šçŸ¥ç³»ç»Ÿ â”‚                                           â”‚
â”‚  - æŒ‡ä»¤ç®¡ç† â”‚                                           â”‚
â”‚  - ç¼“å­˜ç®¡ç† â”‚                                           â”‚
â”‚  - æ€§èƒ½ç›‘æ§ â”‚                                           â”‚
â”‚  - å®‰å…¨ç®¡ç† â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 1. ğŸ  åŠŸèƒ½æ¦‚è§ˆ

- **ä½ç½®**: é»˜è®¤é¦–é¡µ
- **åŠŸèƒ½**: å±•ç¤º LDesign Engine çš„æ•´ä½“åŠŸèƒ½å’ŒçŠ¶æ€
- **ç‰¹è‰²**:
  - å¼•æ“çŠ¶æ€å®æ—¶ç›‘æ§
  - åŠŸèƒ½æ¨¡å—å¿«é€Ÿå¯¼èˆª
  - ç³»ç»Ÿä¿¡æ¯å±•ç¤º

#### 2. ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

- **ä½ç½®**: ä¾§è¾¹æ  â†’ æ’ä»¶ç³»ç»Ÿ
- **åŠŸèƒ½**: æ¼”ç¤ºæ’ä»¶çš„æ³¨å†Œã€å¸è½½ã€ç®¡ç†
- **æ“ä½œæŒ‡å—**:
  ```typescript
  // 1. æŸ¥çœ‹å·²æ³¨å†Œæ’ä»¶åˆ—è¡¨
  // 2. ç¼–è¾‘æ’ä»¶ä»£ç 
  // 3. ç‚¹å‡»"è¿è¡Œ"æŒ‰é’®æ‰§è¡Œä»£ç 
  // 4. æŸ¥çœ‹æ‰§è¡Œç»“æœ
  // 5. æµ‹è¯•æ’ä»¶åŠŸèƒ½
  ```

#### 3. âš¡ ä¸­é—´ä»¶ç³»ç»Ÿ

- **ä½ç½®**: ä¾§è¾¹æ  â†’ ä¸­é—´ä»¶
- **åŠŸèƒ½**: å±•ç¤ºä¸­é—´ä»¶çš„æ‰§è¡Œæµç¨‹å’Œç®¡ç†
- **ç‰¹è‰²**:
  - ä¸­é—´ä»¶åˆ—è¡¨å±•ç¤º
  - æ‰§è¡Œé¡ºåºå¯è§†åŒ–
  - ä¼˜å…ˆçº§ç®¡ç†

#### 4. ğŸ“¦ çŠ¶æ€ç®¡ç†

- **ä½ç½®**: ä¾§è¾¹æ  â†’ çŠ¶æ€ç®¡ç†
- **åŠŸèƒ½**: æ¼”ç¤ºçŠ¶æ€çš„åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤
- **æ“ä½œæ­¥éª¤**:
  1. æŸ¥çœ‹å½“å‰çŠ¶æ€åˆ—è¡¨
  2. æ·»åŠ æ–°çš„çŠ¶æ€é¡¹
  3. ä¿®æ”¹ç°æœ‰çŠ¶æ€
  4. åˆ é™¤ä¸éœ€è¦çš„çŠ¶æ€

#### 5. ğŸ“¡ äº‹ä»¶ç³»ç»Ÿ

- **ä½ç½®**: ä¾§è¾¹æ  â†’ äº‹ä»¶ç³»ç»Ÿ
- **åŠŸèƒ½**: å±•ç¤ºäº‹ä»¶çš„å‘å¸ƒã€è®¢é˜…ã€ç®¡ç†
- **ä½¿ç”¨æ–¹æ³•**:
  ```javascript
  // å‘é€è‡ªå®šä¹‰äº‹ä»¶
  {
    "eventName": "custom:event",
    "data": {"message": "Hello World"}
  }
  ```

#### 6. ğŸ“ æ—¥å¿—ç³»ç»Ÿ

- **ä½ç½®**: ä¾§è¾¹æ  â†’ æ—¥å¿—ç³»ç»Ÿ
- **åŠŸèƒ½**: æ¼”ç¤ºå¤šçº§åˆ«æ—¥å¿—è®°å½•
- **æ—¥å¿—çº§åˆ«**:
  - `DEBUG`: è°ƒè¯•ä¿¡æ¯
  - `INFO`: ä¸€èˆ¬ä¿¡æ¯
  - `WARN`: è­¦å‘Šä¿¡æ¯
  - `ERROR`: é”™è¯¯ä¿¡æ¯

#### 7. ğŸ”” é€šçŸ¥ç³»ç»Ÿ

- **ä½ç½®**: ä¾§è¾¹æ  â†’ é€šçŸ¥ç³»ç»Ÿ
- **åŠŸèƒ½**: å±•ç¤ºå„ç§ç±»å‹çš„é€šçŸ¥
- **é€šçŸ¥ç±»å‹**:
  - æˆåŠŸé€šçŸ¥ (ç»¿è‰²)
  - é”™è¯¯é€šçŸ¥ (çº¢è‰²)
  - è­¦å‘Šé€šçŸ¥ (æ©™è‰²)
  - ä¿¡æ¯é€šçŸ¥ (è“è‰²)

#### 8. ğŸ¯ æŒ‡ä»¤ç®¡ç†

- **ä½ç½®**: ä¾§è¾¹æ  â†’ æŒ‡ä»¤ç®¡ç†
- **åŠŸèƒ½**: æ¼”ç¤ºè‡ªå®šä¹‰æŒ‡ä»¤çš„ä½¿ç”¨
- **ç¤ºä¾‹æŒ‡ä»¤**:
  - ç‚¹å‡»ç»Ÿè®¡æŒ‡ä»¤
  - æ‚¬åœç›‘å¬æŒ‡ä»¤
  - è‡ªå®šä¹‰äº¤äº’æŒ‡ä»¤

#### 9. ğŸ’¾ ç¼“å­˜ç®¡ç†

- **ä½ç½®**: ä¾§è¾¹æ  â†’ ç¼“å­˜ç®¡ç†
- **åŠŸèƒ½**: å±•ç¤ºç¼“å­˜çš„è®¾ç½®ã€è·å–ã€æ¸…é™¤
- **æ“ä½œæµç¨‹**:
  1. è®¾ç½®ç¼“å­˜é”®å€¼å¯¹
  2. æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
  3. è·å–æŒ‡å®šç¼“å­˜
  4. åˆ é™¤å•ä¸ªç¼“å­˜
  5. æ¸…ç©ºæ‰€æœ‰ç¼“å­˜

#### 10. ğŸ“Š æ€§èƒ½ç›‘æ§

- **ä½ç½®**: ä¾§è¾¹æ  â†’ æ€§èƒ½ç›‘æ§
- **åŠŸèƒ½**: å®æ—¶æ€§èƒ½æŒ‡æ ‡ç›‘æ§
- **ç›‘æ§æŒ‡æ ‡**:
  - å†…å­˜ä½¿ç”¨é‡
  - åŠ è½½æ—¶é—´
  - æ¸²æŸ“æ—¶é—´
  - API è°ƒç”¨æ¬¡æ•°

#### 11. ğŸ”’ å®‰å…¨ç®¡ç†

- **ä½ç½®**: ä¾§è¾¹æ  â†’ å®‰å…¨ç®¡ç†
- **åŠŸèƒ½**: æ¼”ç¤ºå®‰å…¨é˜²æŠ¤åŠŸèƒ½
- **å®‰å…¨ç‰¹æ€§**:
  - XSS æ”»å‡»é˜²æŠ¤
  - è¾“å…¥å†…å®¹æ¸…ç†
  - å®‰å…¨éªŒè¯æœºåˆ¶

## ğŸ® äº¤äº’æ“ä½œ

### åŸºæœ¬æ“ä½œ

1. **ä¾§è¾¹æ å¯¼èˆª**

   - ç‚¹å‡»ä¾§è¾¹æ ä¸­çš„åŠŸèƒ½æ¨¡å—åˆ‡æ¢æ¼”ç¤ºå†…å®¹
   - æ”¯æŒé”®ç›˜å¯¼èˆª (Tab é”®)
   - å“åº”å¼è®¾è®¡ï¼Œç§»åŠ¨ç«¯è‡ªåŠ¨æŠ˜å 

2. **ä»£ç ç¼–è¾‘å™¨**

   - å®æ—¶ä»£ç ç¼–è¾‘
   - è¯­æ³•é«˜äº®æ˜¾ç¤º
   - é”™è¯¯æç¤º
   - ä¸€é”®æ‰§è¡Œ

3. **ç»“æœå±•ç¤º**
   - å®æ—¶ç»“æœè¾“å‡º
   - é”™è¯¯ä¿¡æ¯æ˜¾ç¤º
   - æ‰§è¡ŒçŠ¶æ€åé¦ˆ
   - å†å²è®°å½•æŸ¥çœ‹

### é«˜çº§æ“ä½œ

1. **ä¸»é¢˜åˆ‡æ¢**

   ```javascript
   // ç‚¹å‡»å¤´éƒ¨çš„ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
   // æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
   ```

2. **å“åº”å¼æµ‹è¯•**

   ```javascript
   // è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°
   // è§‚å¯Ÿå¸ƒå±€çš„å“åº”å¼å˜åŒ–
   ```

3. **æ€§èƒ½æµ‹è¯•**
   ```javascript
   // åœ¨æ€§èƒ½ç›‘æ§é¡µé¢
   // ç‚¹å‡»"è¿è¡Œæ€§èƒ½æµ‹è¯•"æŒ‰é’®
   // è§‚å¯Ÿæ€§èƒ½æŒ‡æ ‡å˜åŒ–
   ```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ¼”ç¤ºæ¨¡å—

1. **åˆ›å»ºç»„ä»¶æ–‡ä»¶**

```typescript
// src/components/demos/NewDemo.tsx
import { defineComponent } from 'vue'

export default defineComponent({
  name: 'NewDemo',
  setup() {
    return () => (
      <div class='demo-page'>
        <div class='demo-header'>
          <h1 class='demo-title'>æ–°åŠŸèƒ½æ¼”ç¤º</h1>
        </div>
        {/* æ¼”ç¤ºå†…å®¹ */}
      </div>
    )
  },
})
```

2. **æ³¨å†Œåˆ°ä¸»å†…å®¹ç»„ä»¶**

```typescript
// src/components/MainContent.tsx
import NewDemo from './demos/NewDemo'

const demoComponents = {
  // ... å…¶ä»–ç»„ä»¶
  newDemo: NewDemo,
}
```

3. **æ·»åŠ åˆ°ä¾§è¾¹æ å¯¼èˆª**

```typescript
// src/components/Sidebar.tsx
const demoGroups = [
  {
    title: 'æ–°åŠŸèƒ½',
    items: [
      {
        key: 'newDemo',
        title: 'æ–°åŠŸèƒ½æ¼”ç¤º',
        icon: 'ğŸ†•',
        description: 'æ¼”ç¤ºæ–°åŠŸèƒ½çš„ä½¿ç”¨',
      },
    ],
  },
]
```

### è‡ªå®šä¹‰æ ·å¼

1. **ç»„ä»¶æ ·å¼**

```less
// src/styles/components/new-demo.less
.new-demo {
  .demo-content {
    padding: @spacing-lg;
    background-color: @background-color;
    border-radius: @border-radius-base;
  }
}
```

2. **å…¨å±€æ ·å¼**

```less
// src/styles/index.less
@import './components/new-demo.less';
```

### æ·»åŠ æµ‹è¯•

1. **å•å…ƒæµ‹è¯•**

```typescript
// tests/unit/components/NewDemo.test.tsx
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import NewDemo from '../../../src/components/demos/NewDemo'

describe('NewDemo', () => {
  it('should render correctly', () => {
    const wrapper = mount(NewDemo)
    expect(wrapper.exists()).toBe(true)
  })
})
```

2. **E2E æµ‹è¯•**

```typescript
// tests/e2e/new-demo.spec.ts
import { test, expect } from '@playwright/test'

test('should navigate to new demo', async ({ page }) => {
  await page.goto('/')
  await page.click('text=æ–°åŠŸèƒ½æ¼”ç¤º')
  await expect(page.locator('h1')).toContainText('æ–°åŠŸèƒ½æ¼”ç¤º')
})
```

## ğŸ”§ é…ç½®é€‰é¡¹

### å¼€å‘é…ç½®

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    port: 3000, // å¼€å‘æœåŠ¡å™¨ç«¯å£
    open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    cors: true, // å¯ç”¨ CORS
  },
  build: {
    target: 'es2020', // æ„å»ºç›®æ ‡
    sourcemap: true, // ç”Ÿæˆ source map
  },
})
```

### æµ‹è¯•é…ç½®

```typescript
// vitest.config.ts
export default defineConfig({
  test: {
    environment: 'happy-dom', // æµ‹è¯•ç¯å¢ƒ
    coverage: {
      reporter: ['text', 'html'], // è¦†ç›–ç‡æŠ¥å‘Šæ ¼å¼
      threshold: {
        global: {
          branches: 80,
          functions: 80,
          lines: 80,
          statements: 80,
        },
      },
    },
  },
})
```

## ğŸ“š å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ä¿®æ”¹é»˜è®¤ç«¯å£ï¼Ÿ

A: åœ¨ `vite.config.ts` ä¸­ä¿®æ”¹ `server.port` é…ç½®ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„æ¼”ç¤ºåŠŸèƒ½ï¼Ÿ

A: å‚è€ƒ"æ·»åŠ æ–°çš„æ¼”ç¤ºæ¨¡å—"éƒ¨åˆ†çš„æ­¥éª¤ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰ä¸»é¢˜ï¼Ÿ

A: ä¿®æ”¹ `src/styles/variables.less` ä¸­çš„é¢œè‰²å˜é‡ã€‚

### Q: å¦‚ä½•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ

A: è¿è¡Œ `pnpm build` æ„å»ºï¼Œç„¶åå°† `dist` ç›®å½•éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨ã€‚

### Q: å¦‚ä½•è´¡çŒ®ä»£ç ï¼Ÿ

A: è¯·å‚è€ƒé¡¹ç›®çš„è´¡çŒ®æŒ‡å—ï¼Œæäº¤ Pull Requestã€‚

## ğŸ¯ æœ€ä½³å®è·µ

1. **ä»£ç è§„èŒƒ**

   - ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
   - éµå¾ª ESLint é…ç½®è§„åˆ™
   - ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š

2. **ç»„ä»¶è®¾è®¡**

   - ä¿æŒç»„ä»¶çš„å•ä¸€èŒè´£
   - ä½¿ç”¨ Composition API
   - åˆç†ä½¿ç”¨ Props å’Œ Emits

3. **æ€§èƒ½ä¼˜åŒ–**

   - é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
   - ä½¿ç”¨æ‡’åŠ è½½ä¼˜åŒ–é¦–å±
   - åˆç†ä½¿ç”¨ç¼“å­˜ç­–ç•¥

4. **æµ‹è¯•è¦†ç›–**
   - ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒé€»è¾‘
   - æ·»åŠ  E2E æµ‹è¯•éªŒè¯ç”¨æˆ·æµç¨‹
   - ä¿æŒæµ‹è¯•è¦†ç›–ç‡åœ¨ 80% ä»¥ä¸Š

---

å¸Œæœ›è¿™ä»½ä½¿ç”¨æŒ‡å—èƒ½å¸®åŠ©æ‚¨å¿«é€Ÿä¸Šæ‰‹ LDesign Engine æ¼”ç¤ºåº”ç”¨ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£æˆ–æäº¤ Issueã€‚
