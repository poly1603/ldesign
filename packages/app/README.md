# ğŸš€ LDesign Engine Router é›†æˆæ¼”ç¤º

> å±•ç¤º `@ldesign/router` ä¸ `@ldesign/engine` **ç®€åŒ–é›†æˆ**çš„æ¼”ç¤ºåº”ç”¨

[![Vue 3](https://img.shields.io/badge/Vue-3.5+-4FC08D?style=flat-square&logo=vue.js)](https://vuejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6+-3178C6?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-5.0+-646CFF?style=flat-square&logo=vite)](https://vitejs.dev/)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)](./LICENSE)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ ç®€åŒ–é›†æˆï¼ˆæ–°ç‰¹æ€§ï¼‰

- **æ’ä»¶åŒ–è·¯ç”±**: ä½¿ç”¨ `routerPlugin` ä¸€é”®é›†æˆè·¯ç”±åŠŸèƒ½
- **é›¶é…ç½®é€‚é…å™¨**: æ— éœ€æ‰‹åŠ¨åˆ›å»ºå¤æ‚çš„é€‚é…å™¨æ–‡ä»¶
- **æ ‡å‡†æ’ä»¶æ¥å£**: ä½¿ç”¨ `engine.use()` ç»Ÿä¸€æ’ä»¶ç®¡ç†
- **é…ç½®å³ç”¨**: è·¯ç”±é…ç½®é€šè¿‡æ’ä»¶å‚æ•°ç›´æ¥ä¼ å…¥

### ğŸ›£ï¸ è·¯ç”±åŠŸèƒ½

- **ç¼–ç¨‹å¼å¯¼èˆª**: æ”¯æŒ `push`ã€`replace`ã€`go`ã€`back`ã€`forward`
- **å£°æ˜å¼å¯¼èˆª**: ä½¿ç”¨ `RouterLink` ç»„ä»¶è¿›è¡Œå¯¼èˆª
- **è·¯ç”±å®ˆå«**: å…¨å±€å‰ç½®å®ˆå«ã€åç½®å®ˆå«ã€é”™è¯¯å¤„ç†
- **æ‡’åŠ è½½**: è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- **é¢„åŠ è½½**: æ™ºèƒ½è·¯ç”±é¢„åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **ç¼“å­˜ç®¡ç†**: è·¯ç”±ç»„ä»¶ç¼“å­˜æ§åˆ¶

### ğŸ”§ Engine é›†æˆ

- **çŠ¶æ€ç®¡ç†**: è·¯ç”±çŠ¶æ€è‡ªåŠ¨åŒæ­¥åˆ° Engine çŠ¶æ€ç³»ç»Ÿ
- **äº‹ä»¶ç³»ç»Ÿ**: è·¯ç”±å˜åŒ–è§¦å‘ Engine äº‹ä»¶
- **æ—¥å¿—ç³»ç»Ÿ**: è·¯ç”±æ“ä½œè‡ªåŠ¨è®°å½•åˆ° Engine æ—¥å¿—
- **é€šçŸ¥ç³»ç»Ÿ**: è·¯ç”±æ“ä½œè§¦å‘ç”¨æˆ·é€šçŸ¥
- **é”™è¯¯ç®¡ç†**: è·¯ç”±é”™è¯¯é›†æˆåˆ° Engine é”™è¯¯å¤„ç†

### ğŸ¨ ç¤ºä¾‹é¡µé¢

- **ç™»å½•é¡µé¢** (`/login`): æ¼”ç¤ºèº«ä»½éªŒè¯å’Œè·¯ç”±è·³è½¬
- **é¦–é¡µ** (`/`): å±•ç¤ºé›†æˆåŠŸèƒ½å’Œç”¨æˆ·ä¿¡æ¯
- **ä»ªè¡¨æ¿** (`/dashboard`): éœ€è¦è®¤è¯çš„å—ä¿æŠ¤é¡µé¢
- **404 é¡µé¢**: å‹å¥½çš„é”™è¯¯é¡µé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm preview
```

## ğŸ”‘ ä½¿ç”¨è¯´æ˜

### ç™»å½•æ¼”ç¤º

1. è®¿é—® http://localhost:3000
2. ç‚¹å‡»"ç«‹å³ç™»å½•"æˆ–ç›´æ¥è®¿é—® `/login`
3. ä½¿ç”¨æ¼”ç¤ºè´¦å·ï¼š
   - ç”¨æˆ·å: `admin`
   - å¯†ç : `admin`
4. ç™»å½•æˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ

### åŠŸèƒ½æ¼”ç¤º

- **è·¯ç”±å¯¼èˆª**: ä½¿ç”¨å¯¼èˆªæ åœ¨ä¸åŒé¡µé¢é—´åˆ‡æ¢
- **çŠ¶æ€ç®¡ç†**: ç™»å½•çŠ¶æ€åœ¨é¡µé¢é—´ä¿æŒ
- **æƒé™æ§åˆ¶**: æœªç™»å½•æ—¶æ— æ³•è®¿é—®ä»ªè¡¨æ¿
- **é¢„åŠ è½½**: ç‚¹å‡»"é¢„åŠ è½½ä»ªè¡¨æ¿"ä½“éªŒé¢„åŠ è½½åŠŸèƒ½
- **ç¼“å­˜ç®¡ç†**: ç‚¹å‡»"æ¸…ç†ç¼“å­˜"æ¸…ç†è·¯ç”±ç¼“å­˜
- **é€šçŸ¥ç³»ç»Ÿ**: å„ç§æ“ä½œä¼šæ˜¾ç¤ºç›¸åº”é€šçŸ¥
- **æ—¥å¿—è®°å½•**: æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

## ğŸ”„ ç®€åŒ–é›†æˆå¯¹æ¯”

### æ–°æ–¹å¼ï¼ˆç®€åŒ–ï¼‰

```typescript
// main.ts
import { createApp } from '@ldesign/engine'
import { routerPlugin } from '@ldesign/router'
import { routes } from './router/routes'

const engine = createApp(App)

// ä¸€è¡Œä»£ç é›†æˆè·¯ç”±
await engine.use(
  routerPlugin({
    routes,
    mode: 'history',
    base: '/',
  })
)

engine.mount('#app')
```

### æ—§æ–¹å¼ï¼ˆå¤æ‚ï¼‰

```typescript
// éœ€è¦åˆ›å»ºé€‚é…å™¨æ–‡ä»¶ router/adapter.ts
import { createRouterAdapter } from './router/adapter'

const routerAdapter = createRouterAdapter()
const engine = createApp(App, {
  router: routerAdapter, // é€šè¿‡é…ç½®ä¼ å…¥
})
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„ï¼ˆç®€åŒ–åï¼‰

```
src/
â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ routes.ts          # è·¯ç”±å®šä¹‰ï¼ˆç®€åŒ–ï¼‰
â”œâ”€â”€ views/                 # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Login.tsx          # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ Home.tsx           # é¦–é¡µ
â”‚   â””â”€â”€ ...                # å…¶ä»–é¡µé¢
â”œâ”€â”€ components/            # å…¬å…±ç»„ä»¶
â”‚   â””â”€â”€ Navigation.tsx     # å¯¼èˆªç»„ä»¶
â”œâ”€â”€ App.tsx                # æ ¹ç»„ä»¶
â””â”€â”€ main.ts                # åº”ç”¨å…¥å£
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Vue 3**: æ¸è¿›å¼ JavaScript æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨çš„ JavaScript
- **TSX**: Vue çš„ JSX è¯­æ³•æ”¯æŒ
- **@ldesign/engine**: åº”ç”¨å¼•æ“å’ŒçŠ¶æ€ç®¡ç†
- **@ldesign/router**: é«˜æ€§èƒ½ Vue è·¯ç”±å™¨
- **Vite**: ç°ä»£åŒ–æ„å»ºå·¥å…·

## ğŸ“š é›†æˆæ–¹æ¡ˆ

### RouterAdapter æ¨¡å¼

é‡‡ç”¨é€‚é…å™¨æ¨¡å¼å°† `@ldesign/router` é›†æˆåˆ° `@ldesign/engine` ä¸­ï¼š

```typescript
// åˆ›å»ºè·¯ç”±é€‚é…å™¨
const routerAdapter = createLDesignRouterAdapter(routes)

// é›†æˆåˆ° Engine
const engine = createEngine({
  router: routerAdapter,
  // ... å…¶ä»–é…ç½®
})
```

### æ·±åº¦é›†æˆç‰¹æ€§

1. **çŠ¶æ€åŒæ­¥**: è·¯ç”±çŠ¶æ€è‡ªåŠ¨åŒæ­¥åˆ° Engine
2. **äº‹ä»¶é›†æˆ**: è·¯ç”±å˜åŒ–è§¦å‘ Engine äº‹ä»¶
3. **ç”Ÿå‘½å‘¨æœŸ**: å®Œæ•´çš„è·¯ç”±ç”Ÿå‘½å‘¨æœŸç®¡ç†
4. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

### 1. æ¶æ„æ¸…æ™°

- é‡‡ç”¨é€‚é…å™¨æ¨¡å¼ï¼Œä¿æŒç»„ä»¶é—´çš„è§£è€¦
- æ¸…æ™°çš„èŒè´£åˆ†ç¦»å’Œæ¥å£è®¾è®¡
- æ˜“äºæµ‹è¯•å’Œç»´æŠ¤

### 2. ç±»å‹å®‰å…¨

- å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ
- ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥
- ä¼˜ç§€çš„å¼€å‘ä½“éªŒ

### 3. æ€§èƒ½ä¼˜ç§€

- è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- æ™ºèƒ½é¢„åŠ è½½ç­–ç•¥
- é«˜æ•ˆçš„ç¼“å­˜ç®¡ç†

### 4. åŠŸèƒ½ä¸°å¯Œ

- å®Œæ•´çš„è·¯ç”±åŠŸèƒ½
- æ·±åº¦çš„ Engine é›†æˆ
- ä¸°å¯Œçš„å¼€å‘å·¥å…·

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [é›†æˆæ–¹æ¡ˆè¯¦è§£](./docs/router-integration.md)
- [API æ–‡æ¡£](./docs/api.md)
- [æœ€ä½³å®è·µ](./docs/best-practices.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License
