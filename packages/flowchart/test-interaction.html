<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµç¨‹å›¾äº¤äº’æµ‹è¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        
        #app {
            width: 100%;
            height: 80vh;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 6px;
        }
        
        .controls button {
            margin-right: 10px;
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            cursor: pointer;
        }
        
        .controls button:hover {
            background: #e9ecef;
        }
        
        .controls button.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }
        
        .status {
            margin-top: 15px;
            padding: 10px;
            background: #e8f4fd;
            border-left: 4px solid #007bff;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .instructions {
            margin-bottom: 20px;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
        }
        
        .instructions h3 {
            margin-top: 0;
            color: #856404;
        }
        
        .instructions ul {
            margin-bottom: 0;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="instructions">
        <h3>ğŸ“‹ äº¤äº’åŠŸèƒ½æµ‹è¯•è¯´æ˜</h3>
        <ul>
            <li>ğŸ–±ï¸ <strong>æ‹–æ‹½æµ‹è¯•</strong>ï¼šå°è¯•æ‹–åŠ¨èŠ‚ç‚¹æ”¹å˜ä½ç½®ï¼Œåº”è¯¥èƒ½å¤Ÿæ­£å¸¸æ‹–æ‹½</li>
            <li>ğŸ”— <strong>è¿çº¿æµ‹è¯•</strong>ï¼šä»ä¸€ä¸ªèŠ‚ç‚¹æ‹–åŠ¨åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹åˆ›å»ºè¿çº¿</li>
            <li>ğŸ“± <strong>åŸºæœ¬äº¤äº’</strong>ï¼šç‚¹å‡»é€‰ä¸­ã€å³é”®èœå•ç­‰åº”è¯¥æ­£å¸¸å·¥ä½œ</li>
            <li>âš¡ <strong>æ‰©å±•åŠŸèƒ½</strong>ï¼šç‚¹å‡»"å¯ç”¨æ‹–æ‹½æŒ‡ç¤ºçº¿"æŒ‰é’®æµ‹è¯•å¢å¼ºåŠŸèƒ½</li>
        </ul>
    </div>

    <div class="controls">
        <button id="add-node-btn">â• æ·»åŠ èŠ‚ç‚¹</button>
        <button id="toggle-drag-guide-btn" class="">ğŸ“ å¯ç”¨æ‹–æ‹½æŒ‡ç¤ºçº¿</button>
        <button id="clear-btn">ğŸ—‘ï¸ æ¸…ç©ºç”»å¸ƒ</button>
        <button id="zoom-fit-btn">ğŸ” é€‚åº”ç”»å¸ƒ</button>
        <div class="status">
            <span id="status-text">âœ… ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ‹–æ‹½æŒ‡ç¤ºçº¿å·²ç¦ç”¨ï¼ˆé¿å…å¹²æ‰°åŸºæœ¬äº¤äº’ï¼‰</span>
        </div>
    </div>

    <div id="app"></div>

    <script type="module">
        // æ¨¡æ‹Ÿå¯¼å…¥ï¼ˆå®é™…ä½¿ç”¨æ—¶éœ€è¦æ­£ç¡®çš„æ¨¡å—å¯¼å…¥ï¼‰
        // import { FlowchartEditor } from './src/index.js'
        
        // è¿™é‡Œæ¨¡æ‹Ÿç¼–è¾‘å™¨åˆå§‹åŒ–
        console.log('ğŸ“Š åˆå§‹åŒ–æµç¨‹å›¾ç¼–è¾‘å™¨æµ‹è¯•é¡µé¢')
        
        // æ¨¡æ‹Ÿç¼–è¾‘å™¨é…ç½®
        const config = {
            container: '#app',
            ui: {
                toolbar: {
                    visible: true,
                    tools: ['select', 'zoom-fit', 'undo', 'redo', 'drag-guide', 'ai-optimize']
                }
            },
            grid: {
                visible: true,
                size: 20
            },
            theme: 'default-light'
        }
        
        // æ¨¡æ‹Ÿç¼–è¾‘å™¨å®ä¾‹
        let editor = null
        let dragGuideEnabled = false
        
        // æŒ‰é’®äº‹ä»¶å¤„ç†
        const statusText = document.getElementById('status-text')
        const toggleDragGuideBtn = document.getElementById('toggle-drag-guide-btn')
        const addNodeBtn = document.getElementById('add-node-btn')
        const clearBtn = document.getElementById('clear-btn')
        const zoomFitBtn = document.getElementById('zoom-fit-btn')
        
        // æ‹–æ‹½æŒ‡ç¤ºçº¿åˆ‡æ¢
        toggleDragGuideBtn.addEventListener('click', () => {
            dragGuideEnabled = !dragGuideEnabled
            toggleDragGuideBtn.textContent = dragGuideEnabled ? 'ğŸ“ ç¦ç”¨æ‹–æ‹½æŒ‡ç¤ºçº¿' : 'ğŸ“ å¯ç”¨æ‹–æ‹½æŒ‡ç¤ºçº¿'
            toggleDragGuideBtn.classList.toggle('active', dragGuideEnabled)
            
            statusText.textContent = dragGuideEnabled 
                ? 'ğŸŸ¢ æ‹–æ‹½æŒ‡ç¤ºçº¿å·²å¯ç”¨ - æ‹–åŠ¨èŠ‚ç‚¹æ—¶ä¼šæ˜¾ç¤ºå¯¹é½æŒ‡ç¤ºçº¿' 
                : 'ğŸ”µ æ‹–æ‹½æŒ‡ç¤ºçº¿å·²ç¦ç”¨ - åŸºæœ¬æ‹–æ‹½åŠŸèƒ½æ­£å¸¸å·¥ä½œ'
                
            // è¿™é‡Œä¼šè°ƒç”¨å®é™…çš„ç¼–è¾‘å™¨æ–¹æ³•
            // editor?.setDragGuideEnabled(dragGuideEnabled)
            console.log(`æ‹–æ‹½æŒ‡ç¤ºçº¿${dragGuideEnabled ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`)
        })
        
        // æ·»åŠ èŠ‚ç‚¹
        addNodeBtn.addEventListener('click', () => {
            console.log('â• æ·»åŠ æµ‹è¯•èŠ‚ç‚¹')
            statusText.textContent = 'â• å·²æ·»åŠ æµ‹è¯•èŠ‚ç‚¹ - è¯·å°è¯•æ‹–åŠ¨å®ƒä»¬'
        })
        
        // æ¸…ç©ºç”»å¸ƒ
        clearBtn.addEventListener('click', () => {
            console.log('ğŸ—‘ï¸ æ¸…ç©ºç”»å¸ƒ')
            statusText.textContent = 'ğŸ—‘ï¸ ç”»å¸ƒå·²æ¸…ç©º'
        })
        
        // é€‚åº”ç”»å¸ƒ
        zoomFitBtn.addEventListener('click', () => {
            console.log('ğŸ” é€‚åº”ç”»å¸ƒ')
            statusText.textContent = 'ğŸ” ç”»å¸ƒå·²é€‚åº”è§†å›¾'
        })
        
        // æ¨¡æ‹Ÿåˆå§‹åŒ–å®Œæˆ
        setTimeout(() => {
            // è¿™é‡Œæ·»åŠ ä¸€äº›æµ‹è¯•èŠ‚ç‚¹åˆ°ç”»å¸ƒ
            const appContainer = document.getElementById('app')
            appContainer.innerHTML = `
                <div style="position: relative; width: 100%; height: 100%; background: #f8f9fa;">
                    <div style="position: absolute; top: 100px; left: 100px; width: 120px; height: 60px; 
                                background: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; 
                                display: flex; align-items: center; justify-content: center;
                                cursor: move; user-select: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"
                         draggable="true">
                        <span style="color: #1565c0; font-weight: 500;">å¼€å§‹èŠ‚ç‚¹</span>
                    </div>
                    <div style="position: absolute; top: 200px; left: 300px; width: 120px; height: 60px; 
                                background: #fff3e0; border: 2px solid #ff9800; border-radius: 8px; 
                                display: flex; align-items: center; justify-content: center;
                                cursor: move; user-select: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"
                         draggable="true">
                        <span style="color: #e65100; font-weight: 500;">å¤„ç†èŠ‚ç‚¹</span>
                    </div>
                    <div style="position: absolute; top: 300px; left: 500px; width: 120px; height: 60px; 
                                background: #e8f5e8; border: 2px solid #4caf50; border-radius: 8px; 
                                display: flex; align-items: center; justify-content: center;
                                cursor: move; user-select: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"
                         draggable="true">
                        <span style="color: #2e7d32; font-weight: 500;">ç»“æŸèŠ‚ç‚¹</span>
                    </div>
                    
                    <div style="position: absolute; top: 20px; left: 20px; background: rgba(255,255,255,0.9); 
                                padding: 10px; border-radius: 6px; font-size: 12px; color: #666;">
                        ğŸ’¡ æç¤ºï¼šè¿™æ˜¯æ¨¡æ‹Ÿçš„æµ‹è¯•é¡µé¢ï¼Œç”¨äºéªŒè¯åŸºæœ¬äº¤äº’åŠŸèƒ½<br>
                        - èŠ‚ç‚¹åº”è¯¥å¯ä»¥æ­£å¸¸æ‹–æ‹½ç§»åŠ¨<br>
                        - æ‹–æ‹½æŒ‡ç¤ºçº¿åŠŸèƒ½é»˜è®¤ç¦ç”¨ï¼Œä¸å½±å“åŸºæœ¬äº¤äº’
                    </div>
                </div>
            `
            
            statusText.textContent = 'âœ… æµ‹è¯•é¡µé¢å·²åŠ è½½ï¼Œè¯·æµ‹è¯•èŠ‚ç‚¹æ‹–æ‹½åŠŸèƒ½'
        }, 1000)
    </script>
</body>
</html>
