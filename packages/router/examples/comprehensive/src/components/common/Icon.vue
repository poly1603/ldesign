<template>
  <i :class="iconClass" :style="iconStyle" />
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  name: string
  size?: string | number
  color?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: '1em',
  color: 'currentColor'
})

const iconClass = computed(() => {
  // è¿™é‡Œä½¿ç”¨ç®€å•çš„å›¾æ ‡æ˜ å°„ï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨ Iconify æˆ–å…¶ä»–å›¾æ ‡åº“
  const iconMap: Record<string, string> = {
    // åŸºç¡€å›¾æ ‡
    home: 'ğŸ ',
    dashboard: 'ğŸ“Š',
    users: 'ğŸ‘¥',
    products: 'ğŸ“¦',
    settings: 'âš™ï¸',
    demo: 'ğŸª',
    
    // è®¾å¤‡å›¾æ ‡
    mobile: 'ğŸ“±',
    tablet: 'ğŸ“±',
    desktop: 'ğŸ–¥ï¸',
    device: 'ğŸ“±',
    
    // åŠŸèƒ½å›¾æ ‡
    animation: 'ğŸ¬',
    cache: 'ğŸ’¾',
    performance: 'âš¡',
    preload: 'ğŸ”„',
    typescript: 'ğŸ“˜',
    
    // å¯¼èˆªå›¾æ ‡
    menu: 'â˜°',
    arrow-right: 'â†’',
    arrow-left: 'â†',
    arrow-up: 'â†‘',
    arrow-down: 'â†“',
    
    // ç”¨æˆ·ç›¸å…³
    user: 'ğŸ‘¤',
    profile: 'ğŸ‘¤',
    login: 'ğŸ”‘',
    logout: 'ğŸšª',
    register: 'ğŸ“',
    
    // çŠ¶æ€å›¾æ ‡
    loading: 'â³',
    success: 'âœ…',
    error: 'âŒ',
    warning: 'âš ï¸',
    info: 'â„¹ï¸',
    
    // å…¶ä»–
    search: 'ğŸ”',
    filter: 'ğŸ”½',
    sort: 'â†•ï¸',
    edit: 'âœï¸',
    delete: 'ğŸ—‘ï¸',
    add: 'â•',
    close: 'âœ–ï¸',
    check: 'âœ“',
    star: 'â­',
    heart: 'â¤ï¸',
    share: 'ğŸ“¤',
    download: 'â¬‡ï¸',
    upload: 'â¬†ï¸',
    link: 'ğŸ”—',
    copy: 'ğŸ“‹',
    print: 'ğŸ–¨ï¸',
    email: 'ğŸ“§',
    phone: 'ğŸ“',
    location: 'ğŸ“',
    calendar: 'ğŸ“…',
    clock: 'ğŸ•',
    tag: 'ğŸ·ï¸',
    bookmark: 'ğŸ”–',
    flag: 'ğŸš©',
    bell: 'ğŸ””',
    lock: 'ğŸ”’',
    unlock: 'ğŸ”“',
    key: 'ğŸ”‘',
    shield: 'ğŸ›¡ï¸',
    eye: 'ğŸ‘ï¸',
    'eye-off': 'ğŸ™ˆ',
    refresh: 'ğŸ”„',
    sync: 'ğŸ”„',
    backup: 'ğŸ’¾',
    restore: 'ğŸ“¥',
    export: 'ğŸ“¤',
    import: 'ğŸ“¥',
    database: 'ğŸ—„ï¸',
    server: 'ğŸ–¥ï¸',
    cloud: 'â˜ï¸',
    wifi: 'ğŸ“¶',
    bluetooth: 'ğŸ“¶',
    battery: 'ğŸ”‹',
    power: 'âš¡',
    volume: 'ğŸ”Š',
    'volume-off': 'ğŸ”‡',
    camera: 'ğŸ“·',
    video: 'ğŸ“¹',
    image: 'ğŸ–¼ï¸',
    file: 'ğŸ“„',
    folder: 'ğŸ“',
    'folder-open': 'ğŸ“‚',
    zip: 'ğŸ—œï¸',
    code: 'ğŸ’»',
    terminal: 'âŒ¨ï¸',
    bug: 'ğŸ›',
    gear: 'âš™ï¸',
    tool: 'ğŸ”§',
    wrench: 'ğŸ”§',
    hammer: 'ğŸ”¨',
    scissors: 'âœ‚ï¸',
    paperclip: 'ğŸ“',
    pin: 'ğŸ“Œ',
    magnet: 'ğŸ§²',
    compass: 'ğŸ§­',
    map: 'ğŸ—ºï¸',
    globe: 'ğŸŒ',
    translate: 'ğŸŒ',
    language: 'ğŸŒ',
    currency: 'ğŸ’°',
    chart: 'ğŸ“ˆ',
    graph: 'ğŸ“Š',
    pie: 'ğŸ¥§',
    calculator: 'ğŸ§®',
    ruler: 'ğŸ“',
    scale: 'âš–ï¸',
    trophy: 'ğŸ†',
    medal: 'ğŸ…',
    award: 'ğŸ–ï¸',
    gift: 'ğŸ',
    party: 'ğŸ‰',
    celebration: 'ğŸŠ',
    balloon: 'ğŸˆ',
    cake: 'ğŸ‚',
    candle: 'ğŸ•¯ï¸',
    fire: 'ğŸ”¥',
    water: 'ğŸ’§',
    snow: 'â„ï¸',
    sun: 'â˜€ï¸',
    moon: 'ğŸŒ™',
    star: 'â­',
    rainbow: 'ğŸŒˆ',
    cloud: 'â˜ï¸',
    lightning: 'âš¡',
    umbrella: 'â˜‚ï¸',
    tree: 'ğŸŒ³',
    flower: 'ğŸŒ¸',
    leaf: 'ğŸƒ',
    apple: 'ğŸ',
    orange: 'ğŸŠ',
    banana: 'ğŸŒ',
    grape: 'ğŸ‡',
    strawberry: 'ğŸ“',
    cherry: 'ğŸ’',
    peach: 'ğŸ‘',
    pineapple: 'ğŸ',
    coconut: 'ğŸ¥¥',
    kiwi: 'ğŸ¥',
    tomato: 'ğŸ…',
    eggplant: 'ğŸ†',
    avocado: 'ğŸ¥‘',
    broccoli: 'ğŸ¥¦',
    cucumber: 'ğŸ¥’',
    pepper: 'ğŸŒ¶ï¸',
    corn: 'ğŸŒ½',
    carrot: 'ğŸ¥•',
    onion: 'ğŸ§…',
    garlic: 'ğŸ§„',
    potato: 'ğŸ¥”',
    sweet_potato: 'ğŸ ',
    bread: 'ğŸ',
    croissant: 'ğŸ¥',
    bagel: 'ğŸ¥¯',
    pretzel: 'ğŸ¥¨',
    cheese: 'ğŸ§€',
    meat: 'ğŸ¥©',
    bacon: 'ğŸ¥“',
    hamburger: 'ğŸ”',
    fries: 'ğŸŸ',
    pizza: 'ğŸ•',
    hotdog: 'ğŸŒ­',
    sandwich: 'ğŸ¥ª',
    taco: 'ğŸŒ®',
    burrito: 'ğŸŒ¯',
    salad: 'ğŸ¥—',
    soup: 'ğŸ²',
    stew: 'ğŸ›',
    curry: 'ğŸ›',
    spaghetti: 'ğŸ',
    ramen: 'ğŸœ',
    sushi: 'ğŸ£',
    bento: 'ğŸ±',
    rice: 'ğŸš',
    rice_ball: 'ğŸ™',
    rice_cracker: 'ğŸ˜',
    fish: 'ğŸŸ',
    shrimp: 'ğŸ¤',
    crab: 'ğŸ¦€',
    lobster: 'ğŸ¦',
    squid: 'ğŸ¦‘',
    oyster: 'ğŸ¦ª',
    ice_cream: 'ğŸ¦',
    cake: 'ğŸ°',
    pie: 'ğŸ¥§',
    chocolate: 'ğŸ«',
    candy: 'ğŸ¬',
    lollipop: 'ğŸ­',
    honey: 'ğŸ¯',
    milk: 'ğŸ¥›',
    coffee: 'â˜•',
    tea: 'ğŸµ',
    wine: 'ğŸ·',
    beer: 'ğŸº',
    cocktail: 'ğŸ¸',
    juice: 'ğŸ§ƒ',
    water: 'ğŸ’§',
    bottle: 'ğŸ¼'
  }
  
  return `icon icon-${props.name}`
})

const iconStyle = computed(() => ({
  fontSize: typeof props.size === 'number' ? `${props.size}px` : props.size,
  color: props.color,
  display: 'inline-block',
  lineHeight: 1,
  verticalAlign: 'middle'
}))

// è·å–å›¾æ ‡å­—ç¬¦
const getIconChar = (name: string): string => {
  const iconMap: Record<string, string> = {
    // åŸºç¡€å›¾æ ‡
    home: 'ğŸ ',
    dashboard: 'ğŸ“Š',
    users: 'ğŸ‘¥',
    products: 'ğŸ“¦',
    settings: 'âš™ï¸',
    demo: 'ğŸª',
    
    // è®¾å¤‡å›¾æ ‡
    mobile: 'ğŸ“±',
    tablet: 'ğŸ“±',
    desktop: 'ğŸ–¥ï¸',
    device: 'ğŸ“±',
    
    // åŠŸèƒ½å›¾æ ‡
    animation: 'ğŸ¬',
    cache: 'ğŸ’¾',
    performance: 'âš¡',
    preload: 'ğŸ”„',
    typescript: 'ğŸ“˜',
    
    // å¯¼èˆªå›¾æ ‡
    menu: 'â˜°',
    'arrow-right': 'â†’',
    'arrow-left': 'â†',
    'arrow-up': 'â†‘',
    'arrow-down': 'â†“',
    
    // ç”¨æˆ·ç›¸å…³
    user: 'ğŸ‘¤',
    profile: 'ğŸ‘¤',
    login: 'ğŸ”‘',
    logout: 'ğŸšª',
    register: 'ğŸ“',
    
    // çŠ¶æ€å›¾æ ‡
    loading: 'â³',
    success: 'âœ…',
    error: 'âŒ',
    warning: 'âš ï¸',
    info: 'â„¹ï¸'
  }
  
  return iconMap[name] || 'â“'
}
</script>

<script lang="ts">
export default {
  name: 'Icon'
}
</script>

<style scoped>
.icon {
  display: inline-block;
  font-style: normal;
  line-height: 1;
  text-align: center;
  vertical-align: middle;
  user-select: none;
}

.icon::before {
  content: attr(data-icon);
}

/* ç‰¹å®šå›¾æ ‡çš„æ ·å¼ */
.icon-loading {
  animation: icon-spin 1s linear infinite;
}

@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
</style>
