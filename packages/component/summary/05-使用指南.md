# LDesign ç»„ä»¶åº“ - ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ç»„ä»¶åº“

#### ä½¿ç”¨ npm
```bash
npm install @ldesign/components
```

#### ä½¿ç”¨ yarn
```bash
yarn add @ldesign/components
```

#### ä½¿ç”¨ pnpm
```bash
pnpm add @ldesign/components
```

### 2. åŸºç¡€ä½¿ç”¨

#### åœ¨ HTML ä¸­ä½¿ç”¨
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LDesign ç¤ºä¾‹</title>
  <!-- å¼•å…¥ç»„ä»¶åº“ -->
  <script type="module" src="https://unpkg.com/@ldesign/components/dist/ldesign/ldesign.esm.js"></script>
</head>
<body>
  <!-- ä½¿ç”¨ç»„ä»¶ -->
  <ld-button type="primary">ä¸»è¦æŒ‰é’®</ld-button>
  <ld-input placeholder="è¯·è¾“å…¥å†…å®¹"></ld-input>
  <ld-card title="å¡ç‰‡æ ‡é¢˜">
    <p>è¿™æ˜¯å¡ç‰‡å†…å®¹</p>
  </ld-card>
</body>
</html>
```

#### åœ¨æ¨¡å—åŒ–é¡¹ç›®ä¸­ä½¿ç”¨
```javascript
// å¯¼å…¥ç»„ä»¶å®šä¹‰
import { defineCustomElements } from '@ldesign/components/loader';

// æ³¨å†Œç»„ä»¶
defineCustomElements();

// ç°åœ¨å¯ä»¥åœ¨ HTML ä¸­ä½¿ç”¨ç»„ä»¶äº†
document.body.innerHTML = `
  <ld-button type="primary">ç‚¹å‡»æˆ‘</ld-button>
`;
```

### 3. æ¡†æ¶é›†æˆ

#### React é›†æˆ
```tsx
// App.tsx
import React, { useEffect } from 'react';
import { defineCustomElements } from '@ldesign/components/loader';

// æ³¨å†Œç»„ä»¶
defineCustomElements();

// ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰
declare global {
  namespace JSX {
    interface IntrinsicElements {
      'ld-button': any;
      'ld-input': any;
      'ld-card': any;
    }
  }
}

function App() {
  const handleButtonClick = (event: CustomEvent) => {
    console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†', event.detail);
  };

  return (
    <div className="App">
      <h1>LDesign + React ç¤ºä¾‹</h1>
      
      {/* åŸºç¡€ç»„ä»¶ä½¿ç”¨ */}
      <ld-button 
        type="primary" 
        onLdClick={handleButtonClick}
      >
        ä¸»è¦æŒ‰é’®
      </ld-button>
      
      <ld-input 
        placeholder="è¯·è¾“å…¥å†…å®¹"
        onLdChange={(e: CustomEvent) => console.log(e.detail)}
      />
      
      <ld-card title="React å¡ç‰‡">
        <p>è¿™æ˜¯åœ¨ React ä¸­ä½¿ç”¨çš„ LDesign å¡ç‰‡ç»„ä»¶</p>
      </ld-card>
    </div>
  );
}

export default App;
```

#### Vue 3 é›†æˆ
```vue
<!-- App.vue -->
<template>
  <div class="app">
    <h1>LDesign + Vue 3 ç¤ºä¾‹</h1>
    
    <!-- åŸºç¡€ç»„ä»¶ä½¿ç”¨ -->
    <ld-button 
      type="primary" 
      @ldClick="handleButtonClick"
    >
      ä¸»è¦æŒ‰é’®
    </ld-button>
    
    <ld-input 
      :value="inputValue"
      placeholder="è¯·è¾“å…¥å†…å®¹"
      @ldChange="handleInputChange"
    />
    
    <ld-card title="Vue å¡ç‰‡">
      <p>è¿™æ˜¯åœ¨ Vue ä¸­ä½¿ç”¨çš„ LDesign å¡ç‰‡ç»„ä»¶</p>
      <p>è¾“å…¥å€¼ï¼š{{ inputValue }}</p>
    </ld-card>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { defineCustomElements } from '@ldesign/components/loader';

// æ³¨å†Œç»„ä»¶
onMounted(() => {
  defineCustomElements();
});

const inputValue = ref('');

const handleButtonClick = (event: CustomEvent) => {
  console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†', event.detail);
};

const handleInputChange = (event: CustomEvent) => {
  inputValue.value = event.detail;
};
</script>
```

#### Angular é›†æˆ
```typescript
// app.module.ts
import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { defineCustomElements } from '@ldesign/components/loader';

import { AppComponent } from './app.component';

// æ³¨å†Œç»„ä»¶
defineCustomElements();

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [],
  bootstrap: [AppComponent],
  schemas: [CUSTOM_ELEMENTS_SCHEMA], // å…è®¸ä½¿ç”¨è‡ªå®šä¹‰å…ƒç´ 
})
export class AppModule {}
```

```typescript
// app.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `
    <div class="app">
      <h1>LDesign + Angular ç¤ºä¾‹</h1>
      
      <ld-button 
        type="primary" 
        (ldClick)="handleButtonClick($event)"
      >
        ä¸»è¦æŒ‰é’®
      </ld-button>
      
      <ld-input 
        [value]="inputValue"
        placeholder="è¯·è¾“å…¥å†…å®¹"
        (ldChange)="handleInputChange($event)"
      ></ld-input>
      
      <ld-card title="Angular å¡ç‰‡">
        <p>è¿™æ˜¯åœ¨ Angular ä¸­ä½¿ç”¨çš„ LDesign å¡ç‰‡ç»„ä»¶</p>
        <p>è¾“å…¥å€¼ï¼š{{ inputValue }}</p>
      </ld-card>
    </div>
  `,
})
export class AppComponent {
  inputValue = '';

  handleButtonClick(event: CustomEvent) {
    console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†', event.detail);
  }

  handleInputChange(event: CustomEvent) {
    this.inputValue = event.detail;
  }
}
```

## ä¸»é¢˜å®šåˆ¶

### 1. CSS å˜é‡å®šåˆ¶

#### åŸºç¡€ä¸»é¢˜å®šåˆ¶
```css
/* è‡ªå®šä¹‰ä¸»é¢˜å˜é‡ */
:root {
  /* ä¸»è‰²è°ƒ */
  --ld-color-primary: #1976d2;
  --ld-color-primary-hover: #1565c0;
  --ld-color-primary-active: #0d47a1;
  
  /* æˆåŠŸè‰² */
  --ld-color-success: #52c41a;
  --ld-color-success-hover: #73d13d;
  --ld-color-success-active: #389e0d;
  
  /* è­¦å‘Šè‰² */
  --ld-color-warning: #faad14;
  --ld-color-warning-hover: #ffc53d;
  --ld-color-warning-active: #d48806;
  
  /* é”™è¯¯è‰² */
  --ld-color-error: #ff4d4f;
  --ld-color-error-hover: #ff7875;
  --ld-color-error-active: #d9363e;
  
  /* å­—ä½“ */
  --ld-font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --ld-font-size-base: 14px;
  --ld-line-height-base: 1.5715;
  
  /* é—´è· */
  --ld-spacing-xs: 4px;
  --ld-spacing-sm: 8px;
  --ld-spacing-base: 16px;
  --ld-spacing-lg: 24px;
  --ld-spacing-xl: 32px;
  
  /* åœ†è§’ */
  --ld-border-radius-sm: 4px;
  --ld-border-radius-base: 6px;
  --ld-border-radius-lg: 8px;
  
  /* é˜´å½± */
  --ld-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --ld-shadow-base: 0 2px 8px rgba(0, 0, 0, 0.15);
  --ld-shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);
}
```

#### æš—è‰²ä¸»é¢˜
```css
/* æš—è‰²ä¸»é¢˜ */
[data-theme="dark"] {
  /* èƒŒæ™¯è‰² */
  --ld-color-bg-primary: #1f1f1f;
  --ld-color-bg-secondary: #262626;
  --ld-color-bg-tertiary: #2f2f2f;
  
  /* æ–‡å­—è‰² */
  --ld-color-text-primary: rgba(255, 255, 255, 0.85);
  --ld-color-text-secondary: rgba(255, 255, 255, 0.65);
  --ld-color-text-tertiary: rgba(255, 255, 255, 0.45);
  
  /* è¾¹æ¡†è‰² */
  --ld-color-border-primary: #303030;
  --ld-color-border-secondary: #404040;
  
  /* ç»„ä»¶ç‰¹å®šé¢œè‰² */
  --ld-button-default-bg: transparent;
  --ld-button-default-border: #404040;
  --ld-input-bg: #262626;
  --ld-card-bg: #262626;
}
```

### 2. ä¸»é¢˜åˆ‡æ¢å®ç°

#### JavaScript ä¸»é¢˜åˆ‡æ¢
```javascript
// ä¸»é¢˜ç®¡ç†å™¨
class ThemeManager {
  constructor() {
    this.currentTheme = this.getStoredTheme() || 'light';
    this.applyTheme(this.currentTheme);
  }
  
  // åˆ‡æ¢ä¸»é¢˜
  toggleTheme() {
    this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
    this.applyTheme(this.currentTheme);
    this.storeTheme(this.currentTheme);
  }
  
  // åº”ç”¨ä¸»é¢˜
  applyTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    
    // è§¦å‘ä¸»é¢˜å˜åŒ–äº‹ä»¶
    window.dispatchEvent(new CustomEvent('themechange', {
      detail: { theme }
    }));
  }
  
  // å­˜å‚¨ä¸»é¢˜åå¥½
  storeTheme(theme) {
    localStorage.setItem('ld-theme', theme);
  }
  
  // è·å–å­˜å‚¨çš„ä¸»é¢˜
  getStoredTheme() {
    return localStorage.getItem('ld-theme');
  }
  
  // è·å–ç³»ç»Ÿä¸»é¢˜åå¥½
  getSystemTheme() {
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
  }
}

// ä½¿ç”¨ä¸»é¢˜ç®¡ç†å™¨
const themeManager = new ThemeManager();

// ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
document.getElementById('theme-toggle').addEventListener('click', () => {
  themeManager.toggleTheme();
});
```

#### React ä¸»é¢˜åˆ‡æ¢
```tsx
import React, { createContext, useContext, useEffect, useState } from 'react';

// ä¸»é¢˜ä¸Šä¸‹æ–‡
const ThemeContext = createContext<{
  theme: 'light' | 'dark';
  toggleTheme: () => void;
}>({
  theme: 'light',
  toggleTheme: () => {},
});

// ä¸»é¢˜æä¾›è€…
export const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [theme, setTheme] = useState<'light' | 'dark'>('light');
  
  useEffect(() => {
    // ä»æœ¬åœ°å­˜å‚¨è·å–ä¸»é¢˜
    const storedTheme = localStorage.getItem('ld-theme') as 'light' | 'dark';
    if (storedTheme) {
      setTheme(storedTheme);
    } else {
      // ä½¿ç”¨ç³»ç»Ÿä¸»é¢˜åå¥½
      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      setTheme(systemTheme);
    }
  }, []);
  
  useEffect(() => {
    // åº”ç”¨ä¸»é¢˜
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('ld-theme', theme);
  }, [theme]);
  
  const toggleTheme = () => {
    setTheme(prev => prev === 'light' ? 'dark' : 'light');
  };
  
  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
};

// ä¸»é¢˜é’©å­
export const useTheme = () => {
  const context = useContext(ThemeContext);
  if (!context) {
    throw new Error('useTheme must be used within a ThemeProvider');
  }
  return context;
};

// ä¸»é¢˜åˆ‡æ¢ç»„ä»¶
export const ThemeToggle: React.FC = () => {
  const { theme, toggleTheme } = useTheme();
  
  return (
    <ld-button onClick={toggleTheme}>
      {theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸'} åˆ‡æ¢ä¸»é¢˜
    </ld-button>
  );
};
```

## æœ€ä½³å®è·µ

### 1. ç»„ä»¶ä½¿ç”¨æœ€ä½³å®è·µ

#### æŒ‰é’®ç»„ä»¶
```html
<!-- âœ… æ¨èï¼šè¯­ä¹‰åŒ–çš„æŒ‰é’®æ–‡æœ¬ -->
<ld-button type="primary">ä¿å­˜</ld-button>
<ld-button type="default">å–æ¶ˆ</ld-button>

<!-- âŒ ä¸æ¨èï¼šæ¨¡ç³Šçš„æŒ‰é’®æ–‡æœ¬ -->
<ld-button type="primary">ç¡®å®š</ld-button>
<ld-button type="default">æŒ‰é’®</ld-button>

<!-- âœ… æ¨èï¼šä¸ºå›¾æ ‡æŒ‰é’®æä¾›æ— éšœç¢æ ‡ç­¾ -->
<ld-button icon="search" icon-only aria-label="æœç´¢"></ld-button>

<!-- âœ… æ¨èï¼šåˆç†çš„æŒ‰é’®å±‚æ¬¡ -->
<div class="button-group">
  <ld-button type="primary">ä¸»è¦æ“ä½œ</ld-button>
  <ld-button type="default">æ¬¡è¦æ“ä½œ</ld-button>
  <ld-button type="text">è¾…åŠ©æ“ä½œ</ld-button>
</div>
```

#### è¡¨å•ç»„ä»¶
```html
<!-- âœ… æ¨èï¼šå®Œæ•´çš„è¡¨å•ç»“æ„ -->
<ld-form layout="vertical">
  <ld-form-item label="ç”¨æˆ·å" prop="username" required>
    <ld-input 
      placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
      aria-describedby="username-help"
    ></ld-input>
    <div id="username-help" slot="help">
      ç”¨æˆ·åé•¿åº¦åº”åœ¨ 3-20 ä¸ªå­—ç¬¦ä¹‹é—´
    </div>
  </ld-form-item>
  
  <ld-form-item label="å¯†ç " prop="password" required>
    <ld-input 
      type="password"
      placeholder="è¯·è¾“å…¥å¯†ç "
    ></ld-input>
  </ld-form-item>
  
  <ld-form-item>
    <ld-button type="primary" html-type="submit">ç™»å½•</ld-button>
  </ld-form-item>
</ld-form>
```

### 2. æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ

#### æŒ‰éœ€åŠ è½½
```javascript
// âœ… æ¨èï¼šæŒ‰éœ€åŠ è½½ç»„ä»¶
import { defineCustomElement } from '@ldesign/components/dist/components/ld-button';
import { defineCustomElement as defineInput } from '@ldesign/components/dist/components/ld-input';

// åªæ³¨å†Œéœ€è¦çš„ç»„ä»¶
defineCustomElement();
defineInput();
```

#### äº‹ä»¶å¤„ç†ä¼˜åŒ–
```javascript
// âœ… æ¨èï¼šä½¿ç”¨äº‹ä»¶å§”æ‰˜
document.addEventListener('ldClick', (event) => {
  const target = event.target;
  
  if (target.matches('ld-button[data-action="save"]')) {
    handleSave();
  } else if (target.matches('ld-button[data-action="cancel"]')) {
    handleCancel();
  }
});

// âŒ ä¸æ¨èï¼šä¸ºæ¯ä¸ªæŒ‰é’®å•ç‹¬ç»‘å®šäº‹ä»¶
document.querySelectorAll('ld-button').forEach(button => {
  button.addEventListener('ldClick', handleClick);
});
```

### 3. æ— éšœç¢æœ€ä½³å®è·µ

#### é”®ç›˜å¯¼èˆª
```html
<!-- âœ… æ¨èï¼šæ”¯æŒé”®ç›˜å¯¼èˆªçš„æ¨¡æ€æ¡† -->
<ld-modal 
  visible="true"
  aria-labelledby="modal-title"
  aria-describedby="modal-content"
>
  <h2 id="modal-title" slot="title">ç¡®è®¤åˆ é™¤</h2>
  <div id="modal-content">
    <p>ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¡¹ç›®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚</p>
  </div>
  <div slot="footer">
    <ld-button type="default">å–æ¶ˆ</ld-button>
    <ld-button type="primary" danger>åˆ é™¤</ld-button>
  </div>
</ld-modal>
```

#### å±å¹•é˜…è¯»å™¨æ”¯æŒ
```html
<!-- âœ… æ¨èï¼šä¸ºè¡¨æ ¼æä¾›å®Œæ•´çš„æ— éšœç¢ä¿¡æ¯ -->
<ld-table 
  aria-label="ç”¨æˆ·åˆ—è¡¨"
  role="table"
>
  <caption>å…± 100 ä¸ªç”¨æˆ·ï¼Œå½“å‰æ˜¾ç¤ºç¬¬ 1-10 ä¸ª</caption>
  <!-- è¡¨æ ¼å†…å®¹ -->
</ld-table>

<!-- âœ… æ¨èï¼šä¸ºè¡¨å•æä¾›é”™è¯¯ä¿¡æ¯ -->
<ld-form-item 
  label="é‚®ç®±åœ°å€" 
  prop="email" 
  required
  validate-status="error"
  validate-message="è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"
>
  <ld-input 
    type="email"
    aria-invalid="true"
    aria-describedby="email-error"
  ></ld-input>
  <div id="email-error" role="alert">
    è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€
  </div>
</ld-form-item>
```

### 4. æ ·å¼å®šåˆ¶æœ€ä½³å®è·µ

#### ç»„ä»¶çº§æ ·å¼å®šåˆ¶
```css
/* âœ… æ¨èï¼šä½¿ç”¨ CSS å˜é‡å®šåˆ¶ç»„ä»¶ */
.custom-button {
  --ld-button-primary-bg: #e91e63;
  --ld-button-primary-hover-bg: #c2185b;
  --ld-button-border-radius: 20px;
}

/* âœ… æ¨èï¼šä½¿ç”¨ CSS ç±»è¦†ç›–æ ·å¼ */
.large-card {
  --ld-card-padding: 32px;
  --ld-card-border-radius: 12px;
}

/* âŒ ä¸æ¨èï¼šç›´æ¥ä¿®æ”¹ç»„ä»¶å†…éƒ¨æ ·å¼ */
ld-button::part(button) {
  background: red; /* å¯èƒ½åœ¨æœªæ¥ç‰ˆæœ¬ä¸­å¤±æ•ˆ */
}
```

#### å“åº”å¼è®¾è®¡
```css
/* âœ… æ¨èï¼šå“åº”å¼ç»„ä»¶æ ·å¼ */
@media (max-width: 768px) {
  .mobile-form {
    --ld-form-layout: vertical;
    --ld-form-label-width: auto;
  }
  
  .mobile-table {
    --ld-table-font-size: 12px;
    --ld-table-padding: 8px;
  }
}
```
