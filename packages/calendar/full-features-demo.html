<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LDesign Calendar - å®Œæ•´åŠŸèƒ½æ¼”ç¤º</title>
    <link rel="stylesheet" href="./src/index.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .demo-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .demo-header h1 {
            color: #1890ff;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        .demo-header p {
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .features-guide {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .features-guide h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .features-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .features-list li {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #1890ff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .features-list strong {
            color: #1890ff;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .control-group {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .control-group h4 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 14px;
        }

        .btn {
            padding: 8px 16px;
            border: 1px solid #d9d9d9;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            margin: 0 5px 5px 0;
            transition: all 0.2s;
            font-size: 14px;
        }

        .btn:hover {
            border-color: #1890ff;
            color: #1890ff;
        }

        .btn.active {
            background: #1890ff;
            color: white;
            border-color: #1890ff;
        }

        .btn.theme-blue { background: #1890ff; color: white; }
        .btn.theme-dark { background: #2f3349; color: white; }
        .btn.theme-green { background: #52c41a; color: white; }

        .calendar-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            min-height: 600px;
        }

        .status-bar {
            background: #f0f2f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-label {
            font-weight: 500;
            color: #666;
        }

        .status-value {
            color: #1890ff;
            font-weight: 500;
        }

        .logs {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .logs h3 {
            margin: 0 0 15px 0;
            color: #333;
        }

        .logs-container {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #f0f0f0;
            border-radius: 6px;
            background: #fafafa;
            padding: 10px;
        }

        .log-item {
            margin-bottom: 5px;
            font-size: 13px;
            color: #666;
            font-family: monospace;
        }

        .highlight {
            background: #fff2e8;
            border: 1px solid #ffbb96;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .highlight strong {
            color: #d4380d;
        }

        @media (max-width: 768px) {
            .demo-container {
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .status-bar {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ğŸš€ LDesign Calendar å®Œæ•´åŠŸèƒ½æ¼”ç¤º</h1>
            <p>ä½“éªŒæ‰€æœ‰æ–°åŠŸèƒ½ï¼šå³é”®èœå•ã€å¼¹çª—ã€è§†å›¾åˆ‡æ¢ã€å†œå†ä¿¡æ¯ã€å¤©å¹²åœ°æ”¯ã€å®œå¿Œç­‰</p>
        </div>

        <div class="highlight">
            <strong>ğŸ¯ ä½¿ç”¨æç¤ºï¼š</strong>
            å³é”®ç‚¹å‡»æ—¥æœŸå¯ä»¥æ–°å»ºæ—¥ç¨‹ã€æŸ¥çœ‹è¯¦æƒ…ï¼›å³é”®ç‚¹å‡»äº‹ä»¶å¯ä»¥ç¼–è¾‘ã€åˆ é™¤ã€å¤åˆ¶ï¼›åŒå‡»æ—¥æœŸæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼›æ‹–æ‹½äº‹ä»¶å¯ä»¥ç§»åŠ¨æ—¥æœŸã€‚
        </div>

        <div class="features-guide">
            <h3>âœ¨ æ–°åŠŸèƒ½ç‰¹è‰²</h3>
            <ul class="features-list">
                <li><strong>å³é”®èœå•ï¼š</strong>å³é”®ç‚¹å‡»æ—¥æœŸæˆ–äº‹ä»¶ï¼Œæ˜¾ç¤ºä¸Šä¸‹æ–‡èœå•</li>
                <li><strong>äº‹ä»¶å¼¹çª—ï¼š</strong>å®Œæ•´çš„äº‹ä»¶åˆ›å»ºå’Œç¼–è¾‘ç•Œé¢</li>
                <li><strong>è¯¦æƒ…å¼¹çª—ï¼š</strong>æŸ¥çœ‹æ—¥æœŸçš„è¯¦ç»†ä¿¡æ¯å’Œå†œå†æ•°æ®</li>
                <li><strong>å°å†è§†å›¾ï¼š</strong>ä¼ ç»Ÿå°å†é£æ ¼ï¼Œæ˜¾ç¤ºå†œå†ã€å¹²æ”¯ã€å®œå¿Œ</li>
                <li><strong>å¤šç§è§†å›¾ï¼š</strong>æœˆè§†å›¾ã€å‘¨è§†å›¾ã€æ—¥è§†å›¾ã€å°å†è§†å›¾</li>
                <li><strong>å†œå†ä¿¡æ¯ï¼š</strong>æ˜¾ç¤ºå†œå†æ—¥æœŸã€èŠ‚æ°”ã€ä¼ ç»ŸèŠ‚æ—¥</li>
                <li><strong>å¤©å¹²åœ°æ”¯ï¼š</strong>æ˜¾ç¤ºå¹´æœˆæ—¥çš„å¹²æ”¯ä¿¡æ¯</li>
                <li><strong>å®œå¿Œæ˜¾ç¤ºï¼š</strong>åŸºäºä¼ ç»Ÿé»„å†çš„æ¯æ—¥å®œå¿Œ</li>
            </ul>
        </div>

        <div class="controls">
            <div class="control-group">
                <h4>ğŸ‘ï¸ è§†å›¾åˆ‡æ¢</h4>
                <button class="btn active" onclick="changeView('month')">æœˆè§†å›¾</button>
                <button class="btn" onclick="changeView('week')">å‘¨è§†å›¾</button>
                <button class="btn" onclick="changeView('day')">æ—¥è§†å›¾</button>
                <button class="btn" onclick="changeView('desk')">å°å†è§†å›¾</button>
            </div>

            <div class="control-group">
                <h4>ğŸ¨ ä¸»é¢˜åˆ‡æ¢</h4>
                <button class="btn" onclick="setTheme('default')">é»˜è®¤</button>
                <button class="btn theme-blue" onclick="setTheme('blue')">è“è‰²</button>
                <button class="btn theme-dark" onclick="setTheme('dark')">æ·±è‰²</button>
                <button class="btn theme-green" onclick="setTheme('green')">ç»¿è‰²</button>
            </div>

            <div class="control-group">
                <h4>âš™ï¸ åŠŸèƒ½å¼€å…³</h4>
                <button class="btn active" onclick="toggleLunar()">å†œå†æ˜¾ç¤º</button>
                <button class="btn active" onclick="toggleHolidays()">èŠ‚æ—¥æ˜¾ç¤º</button>
                <button class="btn" onclick="addSampleEvent()">æ·»åŠ ç¤ºä¾‹äº‹ä»¶</button>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-item">
                <span class="status-label">å½“å‰è§†å›¾:</span>
                <span class="status-value" id="currentView">æœˆè§†å›¾</span>
            </div>
            <div class="status-item">
                <span class="status-label">å½“å‰æ—¥æœŸ:</span>
                <span class="status-value" id="currentDate">-</span>
            </div>
            <div class="status-item">
                <span class="status-label">äº‹ä»¶æ•°é‡:</span>
                <span class="status-value" id="eventCount">0</span>
            </div>
            <div class="status-item">
                <span class="status-label">å†œå†æ˜¾ç¤º:</span>
                <span class="status-value" id="lunarStatus">å¼€å¯</span>
            </div>
        </div>

        <div id="calendar" class="calendar-container">
            <!-- æ—¥å†å°†åœ¨è¿™é‡Œæ¸²æŸ“ -->
        </div>

        <div class="logs">
            <h3>ğŸ“ æ“ä½œæ—¥å¿—</h3>
            <div class="logs-container" id="logs">
                <div class="log-item">æ—¥å†åˆå§‹åŒ–å®Œæˆ</div>
                <div class="log-item">æç¤º: å³é”®ç‚¹å‡»æ—¥æœŸæˆ–äº‹ä»¶è¯•è¯•çœ‹ï¼</div>
            </div>
        </div>
    </div>

    <script type="module">
        import { Calendar } from './src/core/Calendar.js'
        
        let calendar
        let showLunar = true
        let showHolidays = true

        // æ·»åŠ æ—¥å¿—
        function addLog(message) {
            const logs = document.getElementById('logs')
            const logItem = document.createElement('div')
            logItem.className = 'log-item'
            logItem.textContent = `${new Date().toLocaleTimeString()} - ${message}`
            logs.insertBefore(logItem, logs.firstChild)
            
            // é™åˆ¶æ—¥å¿—æ•°é‡
            while (logs.children.length > 20) {
                logs.removeChild(logs.lastChild)
            }
        }

        // æ›´æ–°çŠ¶æ€
        function updateStatus() {
            if (calendar) {
                document.getElementById('currentDate').textContent = 
                    calendar.getCurrentDate().format('YYYYå¹´MMæœˆDDæ—¥')
                document.getElementById('eventCount').textContent = 
                    calendar.getEvents().length
                document.getElementById('currentView').textContent = 
                    getViewName(calendar.getCurrentView())
            }
        }

        // è·å–è§†å›¾åç§°
        function getViewName(view) {
            const viewMap = {
                month: 'æœˆè§†å›¾',
                week: 'å‘¨è§†å›¾',
                day: 'æ—¥è§†å›¾',
                year: 'å¹´è§†å›¾',
                desk: 'å°å†è§†å›¾'
            }
            return viewMap[view] || view
        }

        // åˆ‡æ¢è§†å›¾
        window.changeView = function(view) {
            if (calendar) {
                calendar.changeView(view)
                addLog(`åˆ‡æ¢åˆ°${getViewName(view)}`)
                updateStatus()
                
                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                document.querySelectorAll('.control-group:first-child .btn').forEach(btn => {
                    btn.classList.remove('active')
                })
                event.target.classList.add('active')
            }
        }

        // è®¾ç½®ä¸»é¢˜
        window.setTheme = function(theme) {
            if (calendar) {
                calendar.setTheme(theme)
                addLog(`åˆ‡æ¢åˆ°${theme}ä¸»é¢˜`)
            }
        }

        // åˆ‡æ¢å†œå†
        window.toggleLunar = function() {
            showLunar = !showLunar
            if (calendar) {
                calendar.updateConfig({ showLunar })
                addLog(`${showLunar ? 'æ˜¾ç¤º' : 'éšè—'}å†œå†`)
                document.getElementById('lunarStatus').textContent = showLunar ? 'å¼€å¯' : 'å…³é—­'
                event.target.classList.toggle('active')
            }
        }

        // åˆ‡æ¢èŠ‚æ—¥
        window.toggleHolidays = function() {
            showHolidays = !showHolidays
            if (calendar) {
                calendar.updateConfig({ showHolidays })
                addLog(`${showHolidays ? 'æ˜¾ç¤º' : 'éšè—'}èŠ‚æ—¥`)
                event.target.classList.toggle('active')
            }
        }

        // æ·»åŠ ç¤ºä¾‹äº‹ä»¶
        window.addSampleEvent = function() {
            if (calendar) {
                const events = [
                    {
                        title: 'å›¢é˜Ÿä¼šè®®',
                        start: new Date(),
                        end: new Date(Date.now() + 2 * 60 * 60 * 1000),
                        color: '#1890ff',
                        description: 'è®¨è®ºé¡¹ç›®è¿›å±•'
                    },
                    {
                        title: 'äº§å“å‘å¸ƒ',
                        start: new Date(Date.now() + 24 * 60 * 60 * 1000),
                        color: '#52c41a',
                        description: 'æ–°ç‰ˆæœ¬å‘å¸ƒ'
                    }
                ]
                
                const event = events[Math.floor(Math.random() * events.length)]
                calendar.addEvent(event)
                addLog(`æ·»åŠ äº‹ä»¶: ${event.title}`)
                updateStatus()
            }
        }

        // åˆå§‹åŒ–æ—¥å†
        function initCalendar() {
            calendar = new Calendar('#calendar', {
                locale: 'zh-CN',
                theme: 'default',
                showLunar: true,
                showHolidays: true,
                view: 'month',
                enableDragDrop: true,
                enableResize: true,
                enableKeyboard: true,
                enableTouch: true
            })

            // ç›‘å¬äº‹ä»¶
            calendar.on('dateSelect', (date) => {
                addLog(`é€‰æ‹©æ—¥æœŸ: ${date.toLocaleDateString()}`)
                updateStatus()
            })

            calendar.on('eventCreate', (event) => {
                addLog(`åˆ›å»ºäº‹ä»¶: ${event.title}`)
                updateStatus()
            })

            calendar.on('eventUpdate', (event) => {
                addLog(`æ›´æ–°äº‹ä»¶: ${event.title}`)
                updateStatus()
            })

            calendar.on('eventDelete', (event) => {
                addLog(`åˆ é™¤äº‹ä»¶: ${event.title}`)
                updateStatus()
            })

            calendar.on('viewChange', (view) => {
                addLog(`è§†å›¾åˆ‡æ¢: ${getViewName(view)}`)
                updateStatus()
            })

            // åˆå§‹åŒ–çŠ¶æ€
            updateStatus()
            addLog('æ‰€æœ‰åŠŸèƒ½å·²åŠ è½½å®Œæˆï¼')
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initCalendar)
    </script>
</body>
</html>
