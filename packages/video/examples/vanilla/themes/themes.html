<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>主题系统演示 - LDesign Video Player</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .header {
      background: linear-gradient(135deg, #722ED1, #9254DE);
      color: white;
      padding: 1.5rem 0;
      text-align: center;
    }

    .header h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .nav {
      background: white;
      padding: 1rem 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav a {
      color: #666;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    .nav a:hover,
    .nav a.active {
      background: #722ED1;
      color: white;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .demo-section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .demo-section h2 {
      color: #722ED1;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }

    .demo-section p {
      color: #666;
      margin-bottom: 1.5rem;
    }

    .player-container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto 2rem;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .theme-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .theme-card {
      background: #f8f9fa;
      border: 2px solid transparent;
      border-radius: 8px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .theme-card:hover {
      border-color: #722ED1;
      transform: translateY(-2px);
    }

    .theme-card.active {
      border-color: #722ED1;
      background: #f6f0ff;
    }

    .theme-preview {
      width: 100%;
      height: 60px;
      border-radius: 4px;
      margin-bottom: 0.5rem;
      position: relative;
      overflow: hidden;
    }

    .theme-preview.default {
      background: linear-gradient(135deg, #722ED1, #9254DE);
    }

    .theme-preview.dark {
      background: linear-gradient(135deg, #1f1f1f, #333);
    }

    .theme-preview.light {
      background: linear-gradient(135deg, #fff, #f5f5f5);
      border: 1px solid #e0e0e0;
    }

    .theme-preview.custom {
      background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
    }

    .theme-card h3 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      color: #333;
    }

    .theme-card p {
      font-size: 0.8rem;
      color: #666;
      margin: 0;
    }

    .custom-theme-editor {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 2rem;
    }

    .custom-theme-editor h3 {
      color: #333;
      margin-bottom: 1rem;
    }

    .color-controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .color-control {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .color-control label {
      font-weight: 500;
      color: #555;
      min-width: 80px;
    }

    .color-control input[type="color"] {
      width: 40px;
      height: 30px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .color-control input[type="text"] {
      flex: 1;
      padding: 0.4rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .responsive-demo {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .device-preview {
      background: white;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .device-preview h4 {
      color: #333;
      margin-bottom: 1rem;
      text-align: center;
    }

    .device-frame {
      border: 2px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }

    .device-frame.desktop {
      aspect-ratio: 16/9;
    }

    .device-frame.tablet {
      aspect-ratio: 4/3;
    }

    .device-frame.mobile {
      aspect-ratio: 9/16;
      max-height: 300px;
    }

    .device-content {
      width: 100%;
      height: 100%;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-size: 0.9rem;
    }

    .btn {
      padding: 0.5rem 1rem;
      background: #722ED1;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease;
      font-size: 0.9rem;
    }

    .btn:hover {
      background: #5e2aa7;
    }

    .btn-secondary {
      background: #6c757d;
    }

    .btn-secondary:hover {
      background: #545b62;
    }

    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
    }

    .code-block pre {
      margin: 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      color: #333;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .theme-selector {
        grid-template-columns: 1fr;
      }
      
      .color-controls {
        grid-template-columns: 1fr;
      }
      
      .responsive-demo {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>主题系统演示</h1>
    <p>展示 LDesign Video Player 丰富的主题系统</p>
  </div>

  <div class="nav">
    <div class="nav-container">
      <a href="index.html">← 返回首页</a>
      <a href="basic.html">基础功能</a>
      <a href="plugins.html">插件系统</a>
      <a href="themes.html" class="active">主题系统</a>
      <a href="advanced.html">高级功能</a>
    </div>
  </div>

  <div class="container">
    <div class="demo-section">
      <h2>🎨 主题切换演示</h2>
      <p>选择不同的主题来查看播放器的外观变化。</p>
      
      <div class="theme-selector">
        <div class="theme-card active" data-theme="default">
          <div class="theme-preview default"></div>
          <h3>默认主题</h3>
          <p>经典的紫色主题</p>
        </div>
        
        <div class="theme-card" data-theme="dark">
          <div class="theme-preview dark"></div>
          <h3>暗色主题</h3>
          <p>适合夜间使用</p>
        </div>
        
        <div class="theme-card" data-theme="light">
          <div class="theme-preview light"></div>
          <h3>亮色主题</h3>
          <p>简洁明亮的设计</p>
        </div>
        
        <div class="theme-card" data-theme="custom">
          <div class="theme-preview custom"></div>
          <h3>自定义主题</h3>
          <p>个性化定制</p>
        </div>
      </div>

      <div id="player-themes" class="player-container"></div>

      <div class="custom-theme-editor">
        <h3>🎨 自定义主题编辑器</h3>
        <div class="color-controls">
          <div class="color-control">
            <label>主色调:</label>
            <input type="color" id="primary-color" value="#722ED1">
            <input type="text" id="primary-color-text" value="#722ED1">
          </div>
          
          <div class="color-control">
            <label>背景色:</label>
            <input type="color" id="bg-color" value="#000000">
            <input type="text" id="bg-color-text" value="#000000">
          </div>
          
          <div class="color-control">
            <label>文字色:</label>
            <input type="color" id="text-color" value="#ffffff">
            <input type="text" id="text-color-text" value="#ffffff">
          </div>
          
          <div class="color-control">
            <label>控制栏:</label>
            <input type="color" id="control-color" value="#333333">
            <input type="text" id="control-color-text" value="#333333">
          </div>
        </div>
        
        <div style="text-align: center;">
          <button id="apply-custom-theme" class="btn">应用自定义主题</button>
          <button id="reset-theme" class="btn btn-secondary">重置主题</button>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>📱 响应式设计演示</h2>
      <p>播放器在不同设备上的适配效果。</p>
      
      <div class="responsive-demo">
        <div class="device-preview">
          <h4>🖥️ 桌面端</h4>
          <div class="device-frame desktop">
            <div class="device-content">
              桌面端播放器预览<br>
              完整控制栏 + 快捷键支持
            </div>
          </div>
        </div>
        
        <div class="device-preview">
          <h4>📱 平板</h4>
          <div class="device-frame tablet">
            <div class="device-content">
              平板播放器预览<br>
              触摸优化 + 手势控制
            </div>
          </div>
        </div>
        
        <div class="device-preview">
          <h4>📱 手机</h4>
          <div class="device-frame mobile">
            <div class="device-content">
              移动端播放器预览<br>
              简化控制栏<br>
              手势操作
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>📝 代码示例</h2>
      <p>以下是使用主题系统的代码示例：</p>
      
      <div class="code-block">
        <pre><code>import { VideoPlayer, ThemeManager } from '@ldesign/video'
import { defaultTheme, darkTheme, lightTheme } from '@ldesign/video/themes'

// 使用预设主题
const player = new VideoPlayer({
  container: document.getElementById('player'),
  src: 'video.mp4',
  theme: 'dark' // 或者 'default', 'light'
})

// 使用自定义主题
const customTheme = {
  name: 'custom',
  colors: {
    primary: '#ff6b6b',
    background: '#2c3e50',
    text: '#ecf0f1',
    control: '#34495e'
  },
  responsive: {
    mobile: {
      fontSize: '14px',
      controlHeight: '40px'
    },
    tablet: {
      fontSize: '16px',
      controlHeight: '44px'
    },
    desktop: {
      fontSize: '18px',
      controlHeight: '48px'
    }
  }
}

const player = new VideoPlayer({
  container: document.getElementById('player'),
  src: 'video.mp4',
  theme: customTheme
})

// 动态切换主题
const themeManager = player.getThemeManager()
themeManager.setTheme('dark')
themeManager.setTheme(customTheme)</code></pre>
      </div>
    </div>
  </div>

  <script type="module">
    import { VideoPlayer } from '../../src/index.ts'
    import { defaultTheme, darkTheme, lightTheme } from '../../themes/index.ts'

    let player = null
    let themeManager = null

    // 初始化播放器
    async function initPlayer() {
      try {
        player = new VideoPlayer({
          container: document.getElementById('player-themes'),
          src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
          autoplay: false,
          controls: true,
          volume: 1,
          theme: 'default'
        })

        await player.initialize()
        
        themeManager = player.getThemeManager()
        
        // 绑定主题切换
        bindThemeControls()
        
        // 绑定自定义主题编辑器
        bindCustomThemeEditor()
        
        console.log('播放器和主题系统初始化成功')
      } catch (error) {
        console.error('播放器初始化失败:', error)
      }
    }

    // 绑定主题切换控制
    function bindThemeControls() {
      const themeCards = document.querySelectorAll('.theme-card')
      
      themeCards.forEach(card => {
        card.addEventListener('click', () => {
          const themeName = card.dataset.theme
          
          // 更新选中状态
          themeCards.forEach(c => c.classList.remove('active'))
          card.classList.add('active')
          
          // 切换主题
          switchTheme(themeName)
        })
      })
    }

    // 切换主题
    function switchTheme(themeName) {
      if (!themeManager) return

      switch (themeName) {
        case 'default':
          themeManager.setTheme(defaultTheme)
          break
        case 'dark':
          themeManager.setTheme(darkTheme)
          break
        case 'light':
          themeManager.setTheme(lightTheme)
          break
        case 'custom':
          applyCustomTheme()
          break
      }
      
      console.log('切换到主题:', themeName)
    }

    // 绑定自定义主题编辑器
    function bindCustomThemeEditor() {
      // 颜色选择器同步
      const colorInputs = [
        { color: 'primary-color', text: 'primary-color-text' },
        { color: 'bg-color', text: 'bg-color-text' },
        { color: 'text-color', text: 'text-color-text' },
        { color: 'control-color', text: 'control-color-text' }
      ]

      colorInputs.forEach(({ color, text }) => {
        const colorInput = document.getElementById(color)
        const textInput = document.getElementById(text)

        colorInput.addEventListener('input', () => {
          textInput.value = colorInput.value
        })

        textInput.addEventListener('input', () => {
          if (isValidColor(textInput.value)) {
            colorInput.value = textInput.value
          }
        })
      })

      // 应用自定义主题
      document.getElementById('apply-custom-theme').addEventListener('click', () => {
        applyCustomTheme()
        
        // 选中自定义主题卡片
        document.querySelectorAll('.theme-card').forEach(c => c.classList.remove('active'))
        document.querySelector('[data-theme="custom"]').classList.add('active')
      })

      // 重置主题
      document.getElementById('reset-theme').addEventListener('click', () => {
        switchTheme('default')
        
        // 选中默认主题卡片
        document.querySelectorAll('.theme-card').forEach(c => c.classList.remove('active'))
        document.querySelector('[data-theme="default"]').classList.add('active')
      })
    }

    // 应用自定义主题
    function applyCustomTheme() {
      if (!themeManager) return

      const customTheme = {
        name: 'custom',
        colors: {
          primary: document.getElementById('primary-color').value,
          background: document.getElementById('bg-color').value,
          text: document.getElementById('text-color').value,
          control: document.getElementById('control-color').value
        },
        responsive: {
          mobile: {
            fontSize: '14px',
            controlHeight: '40px'
          },
          tablet: {
            fontSize: '16px',
            controlHeight: '44px'
          },
          desktop: {
            fontSize: '18px',
            controlHeight: '48px'
          }
        }
      }

      themeManager.setTheme(customTheme)
      console.log('应用自定义主题:', customTheme)
    }

    // 验证颜色值
    function isValidColor(color) {
      const style = new Option().style
      style.color = color
      return style.color !== ''
    }

    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', initPlayer)
  </script>
</body>
</html>
