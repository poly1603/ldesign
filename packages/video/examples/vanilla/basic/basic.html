<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åŸºç¡€æ’­æ”¾åŠŸèƒ½ - LDesign Video Player</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .header {
      background: linear-gradient(135deg, #722ED1, #9254DE);
      color: white;
      padding: 1.5rem 0;
      text-align: center;
    }

    .header h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .nav {
      background: white;
      padding: 1rem 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav a {
      color: #666;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    .nav a:hover,
    .nav a.active {
      background: #722ED1;
      color: white;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .demo-section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .demo-section h2 {
      color: #722ED1;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }

    .demo-section p {
      color: #666;
      margin-bottom: 1.5rem;
    }

    .player-container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto 2rem;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .controls-panel {
      background: #f8f9fa;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1rem;
    }

    .controls-panel h3 {
      color: #333;
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }

    .control-group {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .control-group label {
      font-weight: 500;
      color: #555;
      min-width: 80px;
    }

    .btn {
      padding: 0.5rem 1rem;
      background: #722ED1;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease;
      font-size: 0.9rem;
    }

    .btn:hover {
      background: #5e2aa7;
    }

    .btn-secondary {
      background: #6c757d;
    }

    .btn-secondary:hover {
      background: #545b62;
    }

    .btn-success {
      background: #28a745;
    }

    .btn-success:hover {
      background: #218838;
    }

    .btn-danger {
      background: #dc3545;
    }

    .btn-danger:hover {
      background: #c82333;
    }

    .slider {
      flex: 1;
      min-width: 150px;
    }

    .select {
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: white;
    }

    .status-panel {
      background: #e9ecef;
      padding: 1rem;
      border-radius: 4px;
      margin-top: 1rem;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .status-item {
      margin-bottom: 0.5rem;
    }

    .status-item:last-child {
      margin-bottom: 0;
    }

    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
    }

    .code-block pre {
      margin: 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      color: #333;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .control-group {
        flex-direction: column;
        align-items: stretch;
      }
      
      .control-group label {
        min-width: auto;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>åŸºç¡€æ’­æ”¾åŠŸèƒ½æ¼”ç¤º</h1>
    <p>å±•ç¤º LDesign Video Player çš„æ ¸å¿ƒæ’­æ”¾åŠŸèƒ½</p>
  </div>

  <div class="nav">
    <div class="nav-container">
      <a href="index.html">â† è¿”å›é¦–é¡µ</a>
      <a href="basic.html" class="active">åŸºç¡€åŠŸèƒ½</a>
      <a href="plugins.html">æ’ä»¶ç³»ç»Ÿ</a>
      <a href="themes.html">ä¸»é¢˜ç³»ç»Ÿ</a>
      <a href="advanced.html">é«˜çº§åŠŸèƒ½</a>
    </div>
  </div>

  <div class="container">
    <div class="demo-section">
      <h2>ğŸ¬ åŸºç¡€æ’­æ”¾å™¨</h2>
      <p>è¿™æ˜¯ä¸€ä¸ªåŸºç¡€çš„è§†é¢‘æ’­æ”¾å™¨å®ä¾‹ï¼ŒåŒ…å«æ‰€æœ‰æ ¸å¿ƒæ’­æ”¾åŠŸèƒ½ã€‚</p>
      
      <div id="player-basic" class="player-container"></div>

      <div class="controls-panel">
        <h3>æ’­æ”¾æ§åˆ¶</h3>
        
        <div class="control-group">
          <button id="btn-play" class="btn btn-success">æ’­æ”¾</button>
          <button id="btn-pause" class="btn btn-secondary">æš‚åœ</button>
          <button id="btn-toggle" class="btn">æ’­æ”¾/æš‚åœ</button>
          <button id="btn-stop" class="btn btn-danger">åœæ­¢</button>
        </div>

        <div class="control-group">
          <label>è·³è½¬:</label>
          <button class="btn btn-secondary" onclick="seekTo(0)">å¼€å§‹</button>
          <button class="btn btn-secondary" onclick="seekTo(30)">30s</button>
          <button class="btn btn-secondary" onclick="seekTo(60)">1min</button>
          <button class="btn btn-secondary" onclick="seekTo(-10, true)">-10s</button>
          <button class="btn btn-secondary" onclick="seekTo(10, true)">+10s</button>
        </div>

        <div class="control-group">
          <label>éŸ³é‡:</label>
          <input type="range" id="volume-slider" class="slider" min="0" max="1" step="0.1" value="1">
          <button id="btn-mute" class="btn btn-secondary">é™éŸ³</button>
        </div>

        <div class="control-group">
          <label>å€é€Ÿ:</label>
          <select id="rate-select" class="select">
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1" selected>1x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="2">2x</option>
          </select>
        </div>

        <div class="control-group">
          <label>ç”»è´¨:</label>
          <select id="quality-select" class="select">
            <option value="auto">è‡ªåŠ¨</option>
            <option value="1080p">1080p</option>
            <option value="720p">720p</option>
            <option value="480p">480p</option>
            <option value="360p">360p</option>
          </select>
        </div>

        <div class="control-group">
          <button id="btn-fullscreen" class="btn">å…¨å±</button>
          <button id="btn-pip" class="btn">ç”»ä¸­ç”»</button>
          <button id="btn-screenshot" class="btn">æˆªå›¾</button>
        </div>
      </div>

      <div class="status-panel">
        <div class="status-item">çŠ¶æ€: <span id="status-state">æœªåˆå§‹åŒ–</span></div>
        <div class="status-item">å½“å‰æ—¶é—´: <span id="status-time">00:00</span></div>
        <div class="status-item">æ€»æ—¶é•¿: <span id="status-duration">00:00</span></div>
        <div class="status-item">ç¼“å†²è¿›åº¦: <span id="status-buffered">0%</span></div>
        <div class="status-item">éŸ³é‡: <span id="status-volume">100%</span></div>
        <div class="status-item">æ’­æ”¾é€Ÿåº¦: <span id="status-rate">1x</span></div>
        <div class="status-item">å…¨å±: <span id="status-fullscreen">å¦</span></div>
        <div class="status-item">ç”»ä¸­ç”»: <span id="status-pip">å¦</span></div>
      </div>
    </div>

    <div class="demo-section">
      <h2>ğŸ“ ä»£ç ç¤ºä¾‹</h2>
      <p>ä»¥ä¸‹æ˜¯åˆ›å»ºåŸºç¡€æ’­æ”¾å™¨çš„ä»£ç ç¤ºä¾‹ï¼š</p>
      
      <div class="code-block">
        <pre><code>import { VideoPlayer } from '@ldesign/video'

// åˆ›å»ºæ’­æ”¾å™¨å®ä¾‹
const player = new VideoPlayer({
  container: document.getElementById('player-basic'),
  src: 'https://example.com/video.mp4',
  autoplay: false,
  controls: true,
  volume: 1,
  theme: 'default'
})

// åˆå§‹åŒ–æ’­æ”¾å™¨
await player.initialize()

// ç»‘å®šäº‹ä»¶ç›‘å¬
player.on('play', () => console.log('å¼€å§‹æ’­æ”¾'))
player.on('pause', () => console.log('æš‚åœæ’­æ”¾'))
player.on('timeupdate', (data) => {
  console.log('æ—¶é—´æ›´æ–°:', data.currentTime)
})

// æ’­æ”¾æ§åˆ¶
await player.play()
player.pause()
player.seek(30)
player.setVolume(0.8)
player.setPlaybackRate(1.5)</code></pre>
      </div>
    </div>
  </div>

  <script type="module">
    import { VideoPlayer } from '../../src/index.ts'

    let player = null

    // åˆå§‹åŒ–æ’­æ”¾å™¨
    async function initPlayer() {
      try {
        player = new VideoPlayer({
          container: document.getElementById('player-basic'),
          src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
          autoplay: false,
          controls: true,
          volume: 1,
          theme: 'default'
        })

        await player.initialize()

        // ç»‘å®šäº‹ä»¶ç›‘å¬
        bindPlayerEvents()

        // ç»‘å®šæ§åˆ¶æŒ‰é’®
        bindControls()

        console.log('æ’­æ”¾å™¨åˆå§‹åŒ–æˆåŠŸ')
      } catch (error) {
        console.error('æ’­æ”¾å™¨åˆå§‹åŒ–å¤±è´¥:', error)
      }
    }

    // ç»‘å®šæ’­æ”¾å™¨äº‹ä»¶
    function bindPlayerEvents() {
      player.on('ready', () => {
        updateStatus()
      })

      player.on('play', () => {
        updateStatus()
      })

      player.on('pause', () => {
        updateStatus()
      })

      player.on('timeupdate', () => {
        updateStatus()
      })

      player.on('volumechange', () => {
        updateStatus()
      })

      player.on('ratechange', () => {
        updateStatus()
      })

      player.on('fullscreenchange', () => {
        updateStatus()
      })

      player.on('pipchange', () => {
        updateStatus()
      })
    }

    // ç»‘å®šæ§åˆ¶æŒ‰é’®
    function bindControls() {
      document.getElementById('btn-play').onclick = () => player.play()
      document.getElementById('btn-pause').onclick = () => player.pause()
      document.getElementById('btn-toggle').onclick = () => player.toggle()
      document.getElementById('btn-stop').onclick = () => {
        player.pause()
        player.seek(0)
      }

      document.getElementById('volume-slider').oninput = (e) => {
        player.setVolume(parseFloat(e.target.value))
      }

      document.getElementById('btn-mute').onclick = () => {
        player.videoElement.muted = !player.videoElement.muted
      }

      document.getElementById('rate-select').onchange = (e) => {
        player.setPlaybackRate(parseFloat(e.target.value))
      }

      document.getElementById('btn-fullscreen').onclick = () => {
        player.toggleFullscreen()
      }

      document.getElementById('btn-pip').onclick = () => {
        player.togglePip()
      }

      document.getElementById('btn-screenshot').onclick = async () => {
        // è¿™é‡Œéœ€è¦æˆªå›¾æ’ä»¶æ”¯æŒ
        console.log('æˆªå›¾åŠŸèƒ½éœ€è¦åŠ è½½æˆªå›¾æ’ä»¶')
      }
    }

    // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
    function updateStatus() {
      if (!player) return

      const status = player.status
      
      document.getElementById('status-state').textContent = status.state
      document.getElementById('status-time').textContent = formatTime(status.currentTime)
      document.getElementById('status-duration').textContent = formatTime(status.duration)
      document.getElementById('status-buffered').textContent = Math.round(status.buffered * 100) + '%'
      document.getElementById('status-volume').textContent = Math.round(status.volume * 100) + '%'
      document.getElementById('status-rate').textContent = status.playbackRate + 'x'
      document.getElementById('status-fullscreen').textContent = status.fullscreen ? 'æ˜¯' : 'å¦'
      document.getElementById('status-pip').textContent = status.pip ? 'æ˜¯' : 'å¦'
    }

    // æ ¼å¼åŒ–æ—¶é—´
    function formatTime(seconds) {
      if (!seconds || isNaN(seconds)) return '00:00'
      
      const mins = Math.floor(seconds / 60)
      const secs = Math.floor(seconds % 60)
      
      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`
    }

    // è·³è½¬åˆ°æŒ‡å®šæ—¶é—´
    window.seekTo = function(time, relative = false) {
      if (!player) return
      
      if (relative) {
        const currentTime = player.status.currentTime
        player.seek(currentTime + time)
      } else {
        player.seek(time)
      }
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', initPlayer)
  </script>
</body>
</html>
