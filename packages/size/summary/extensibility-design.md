# @ldesign/size æ‰©å±•æ€§è®¾è®¡

## ğŸ”§ æ‰©å±•æ€§æ¶æ„æ¦‚è¿°

@ldesign/size é‡‡ç”¨é«˜åº¦æ¨¡å—åŒ–çš„æ¶æ„è®¾è®¡ï¼Œæä¾›å¤šä¸ªå±‚æ¬¡çš„æ‰©å±•ç‚¹ï¼Œæ”¯æŒä»ç®€å•çš„é…ç½®å®šåˆ¶åˆ°å¤æ‚çš„åŠŸèƒ½æ‰©å±•ã€‚

### æ‰©å±•å±‚æ¬¡ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Plugin Ecosystem                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Theme     â”‚  â”‚ Animation   â”‚  â”‚   Storage   â”‚     â”‚
â”‚  â”‚  Plugins    â”‚  â”‚  Plugins    â”‚  â”‚  Plugins    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Extension Points                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Config    â”‚  â”‚   Events    â”‚  â”‚   Hooks     â”‚     â”‚
â”‚  â”‚ Extensions  â”‚  â”‚ Extensions  â”‚  â”‚ Extensions  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Core System                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Size     â”‚  â”‚    CSS      â”‚  â”‚   Event     â”‚     â”‚
â”‚  â”‚  Manager    â”‚  â”‚ Generator   â”‚  â”‚  System     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ é…ç½®æ‰©å±•ç³»ç»Ÿ

### 1. è‡ªå®šä¹‰å°ºå¯¸é…ç½®

**æ‰©å±•ç°æœ‰é…ç½®**ï¼š

```typescript
import { createSizeManager, type SizeConfig } from '@ldesign/size'

// æ‰©å±•é…ç½®æ¥å£
interface ExtendedSizeConfig extends SizeConfig {
  // æ·»åŠ è‡ªå®šä¹‰å±æ€§
  animation: {
    duration: string
    easing: string
  }
  layout: {
    containerWidth: string
    sidebarWidth: string
  }
}

// è‡ªå®šä¹‰é…ç½®ç”Ÿæˆå™¨
class CustomConfigGenerator {
  generateConfig(mode: SizeMode): ExtendedSizeConfig {
    const baseConfig = getSizeConfig(mode)

    return {
      ...baseConfig,
      animation: this.generateAnimationConfig(mode),
      layout: this.generateLayoutConfig(mode),
    }
  }

  private generateAnimationConfig(mode: SizeMode) {
    const durations = {
      small: '200ms',
      medium: '300ms',
      large: '400ms',
      'extra-large': '500ms',
    }

    return {
      duration: durations[mode],
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
    }
  }

  private generateLayoutConfig(mode: SizeMode) {
    const layouts = {
      small: { containerWidth: '100%', sidebarWidth: '60px' },
      medium: { containerWidth: '1200px', sidebarWidth: '200px' },
      large: { containerWidth: '1400px', sidebarWidth: '250px' },
      'extra-large': { containerWidth: '1600px', sidebarWidth: '300px' },
    }

    return layouts[mode]
  }
}
```

### 2. ä¸»é¢˜ç³»ç»Ÿæ‰©å±•

**ä¸»é¢˜å®šä¹‰æ¥å£**ï¼š

```typescript
interface SizeTheme {
  name: string
  displayName: string
  description?: string
  configs: Record<SizeMode, SizeConfig>
  cssVariables?: Record<string, string>
  metadata?: Record<string, any>
}

// ä¸»é¢˜ç®¡ç†å™¨
class ThemeManager {
  private themes = new Map<string, SizeTheme>()
  private currentTheme = 'default'
  private eventEmitter = new EventEmitter()

  // æ³¨å†Œä¸»é¢˜
  registerTheme(theme: SizeTheme): void {
    this.validateTheme(theme)
    this.themes.set(theme.name, theme)
    this.eventEmitter.emit('themeRegistered', theme)
  }

  // åˆ‡æ¢ä¸»é¢˜
  switchTheme(themeName: string): void {
    const theme = this.themes.get(themeName)
    if (!theme) {
      throw new Error(`Theme "${themeName}" not found`)
    }

    const previousTheme = this.currentTheme
    this.currentTheme = themeName

    // æ›´æ–°é…ç½®
    this.updateConfigs(theme.configs)

    // æ³¨å…¥è‡ªå®šä¹‰CSSå˜é‡
    if (theme.cssVariables) {
      this.injectThemeVariables(theme.cssVariables)
    }

    this.eventEmitter.emit('themeChanged', {
      previousTheme,
      currentTheme: themeName,
      theme,
    })
  }

  // åˆ›å»ºä¸»é¢˜
  createTheme(baseTheme: string, overrides: Partial<SizeTheme>): SizeTheme {
    const base = this.themes.get(baseTheme)
    if (!base) {
      throw new Error(`Base theme "${baseTheme}" not found`)
    }

    return {
      ...base,
      ...overrides,
      configs: {
        ...base.configs,
        ...overrides.configs,
      },
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const themeManager = new ThemeManager()

// æ³¨å†Œæš—è‰²ä¸»é¢˜
themeManager.registerTheme({
  name: 'dark',
  displayName: 'æš—è‰²ä¸»é¢˜',
  configs: {
    small: { ...getSizeConfig('small') /* æš—è‰²é…ç½® */ },
    medium: { ...getSizeConfig('medium') /* æš—è‰²é…ç½® */ },
    large: { ...getSizeConfig('large') /* æš—è‰²é…ç½® */ },
    'extra-large': { ...getSizeConfig('extra-large') /* æš—è‰²é…ç½® */ },
  },
  cssVariables: {
    '--ls-bg-primary': '#1a1a1a',
    '--ls-bg-secondary': '#2a2a2a',
    '--ls-text-primary': '#ffffff',
    '--ls-text-secondary': '#cccccc',
  },
})
```

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

### 1. æ’ä»¶æ¥å£å®šä¹‰

```typescript
interface SizePlugin {
  name: string
  version?: string
  description?: string
  dependencies?: string[]

  // ç”Ÿå‘½å‘¨æœŸé’©å­
  install(manager: SizeManager, options?: any): void | Promise<void>
  uninstall?(manager: SizeManager): void | Promise<void>

  // å¯é€‰çš„æ‰©å±•ç‚¹
  beforeModeChange?(event: BeforeModeChangeEvent): void | boolean
  afterModeChange?(event: AfterModeChangeEvent): void
  onConfigGenerate?(config: SizeConfig, mode: SizeMode): SizeConfig
  onCSSGenerate?(variables: Record<string, string>, mode: SizeMode): Record<string, string>
}

// æ’ä»¶ç®¡ç†å™¨
class PluginManager {
  private plugins = new Map<string, SizePlugin>()
  private installedPlugins = new Set<string>()
  private sizeManager: SizeManager

  constructor(sizeManager: SizeManager) {
    this.sizeManager = sizeManager
  }

  // æ³¨å†Œæ’ä»¶
  register(plugin: SizePlugin): void {
    this.validatePlugin(plugin)
    this.plugins.set(plugin.name, plugin)
  }

  // å®‰è£…æ’ä»¶
  async install(pluginName: string, options?: any): Promise<void> {
    const plugin = this.plugins.get(pluginName)
    if (!plugin) {
      throw new Error(`Plugin "${pluginName}" not found`)
    }

    if (this.installedPlugins.has(pluginName)) {
      console.warn(`Plugin "${pluginName}" is already installed`)
      return
    }

    // æ£€æŸ¥ä¾èµ–
    await this.checkDependencies(plugin)

    // å®‰è£…æ’ä»¶
    await plugin.install(this.sizeManager, options)
    this.installedPlugins.add(pluginName)

    // æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    this.registerPluginHooks(plugin)
  }

  // å¸è½½æ’ä»¶
  async uninstall(pluginName: string): Promise<void> {
    const plugin = this.plugins.get(pluginName)
    if (!plugin || !this.installedPlugins.has(pluginName)) {
      return
    }

    if (plugin.uninstall) {
      await plugin.uninstall(this.sizeManager)
    }

    this.installedPlugins.delete(pluginName)
    this.unregisterPluginHooks(plugin)
  }
}
```

### 2. å†…ç½®æ’ä»¶ç¤ºä¾‹

**åŠ¨ç”»æ’ä»¶**ï¼š

```typescript
const AnimationPlugin: SizePlugin = {
  name: 'animation',
  version: '1.0.0',
  description: 'ä¸ºå°ºå¯¸åˆ‡æ¢æ·»åŠ åŠ¨ç”»æ•ˆæœ',

  install(manager: SizeManager, options = {}) {
    const config = {
      duration: 300,
      easing: 'ease-in-out',
      ...options,
    }

    // æ·»åŠ åŠ¨ç”»æ ·å¼
    this.injectAnimationCSS(config)

    // ç›‘å¬å°ºå¯¸å˜åŒ–
    manager.onSizeChange(() => {
      this.triggerAnimation(config)
    })
  },

  injectAnimationCSS(config: any) {
    const css = `
      * {
        transition: font-size ${config.duration}ms ${config.easing},
                   padding ${config.duration}ms ${config.easing},
                   margin ${config.duration}ms ${config.easing},
                   border-radius ${config.duration}ms ${config.easing} !important;
      }
    `

    const style = document.createElement('style')
    style.id = 'size-animation-plugin'
    style.textContent = css
    document.head.appendChild(style)
  },

  triggerAnimation(config: any) {
    // æ·»åŠ åŠ¨ç”»ç±»
    document.body.classList.add('size-changing')

    setTimeout(() => {
      document.body.classList.remove('size-changing')
    }, config.duration)
  },

  uninstall() {
    const style = document.getElementById('size-animation-plugin')
    if (style) {
      style.remove()
    }
  },
}
```

**å­˜å‚¨æ’ä»¶**ï¼š

```typescript
const StoragePlugin: SizePlugin = {
  name: 'storage',
  version: '1.0.0',
  description: 'è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤ç”¨æˆ·çš„å°ºå¯¸åå¥½',

  install(manager: SizeManager, options = {}) {
    const config = {
      storageKey: 'ldesign-size-preference',
      storageType: 'localStorage', // 'localStorage' | 'sessionStorage' | 'cookie'
      ...options,
    }

    // æ¢å¤ä¿å­˜çš„å°ºå¯¸åå¥½
    this.restorePreference(manager, config)

    // ç›‘å¬å˜åŒ–å¹¶ä¿å­˜
    manager.onSizeChange(event => {
      this.savePreference(event.currentMode, config)
    })
  },

  restorePreference(manager: SizeManager, config: any) {
    try {
      const storage = window[config.storageType]
      const saved = storage.getItem(config.storageKey)

      if (saved && isValidSizeMode(saved)) {
        manager.setMode(saved as SizeMode)
      }
    } catch (error) {
      console.warn('Failed to restore size preference:', error)
    }
  },

  savePreference(mode: SizeMode, config: any) {
    try {
      const storage = window[config.storageType]
      storage.setItem(config.storageKey, mode)
    } catch (error) {
      console.warn('Failed to save size preference:', error)
    }
  },
}
```

## ğŸ¯ äº‹ä»¶ç³»ç»Ÿæ‰©å±•

### 1. è‡ªå®šä¹‰äº‹ä»¶

```typescript
// æ‰©å±•äº‹ä»¶ç±»å‹
interface CustomSizeEvents {
  'mode:beforeChange': BeforeModeChangeEvent
  'mode:afterChange': AfterModeChangeEvent
  'config:updated': ConfigUpdatedEvent
  'css:injected': CSSInjectedEvent
  'theme:changed': ThemeChangedEvent
}

// äº‹ä»¶æ‰©å±•ç®¡ç†å™¨
class EventExtensionManager {
  private customEvents = new Map<string, Set<Function>>()

  // æ³¨å†Œè‡ªå®šä¹‰äº‹ä»¶
  registerEvent<K extends keyof CustomSizeEvents>(
    event: K,
    handler: (data: CustomSizeEvents[K]) => void
  ): () => void {
    if (!this.customEvents.has(event)) {
      this.customEvents.set(event, new Set())
    }

    this.customEvents.get(event)!.add(handler)

    return () => {
      this.customEvents.get(event)?.delete(handler)
    }
  }

  // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶
  emitEvent<K extends keyof CustomSizeEvents>(event: K, data: CustomSizeEvents[K]): void {
    const handlers = this.customEvents.get(event)
    if (handlers) {
      handlers.forEach(handler => {
        try {
          handler(data)
        } catch (error) {
          console.error(`Error in custom event handler for ${event}:`, error)
        }
      })
    }
  }
}
```

### 2. ä¸­é—´ä»¶ç³»ç»Ÿ

```typescript
interface SizeMiddleware {
  name: string
  priority?: number

  // ä¸­é—´ä»¶å¤„ç†å‡½æ•°
  process(context: MiddlewareContext, next: () => void): void
}

interface MiddlewareContext {
  action: 'setMode' | 'generateCSS' | 'injectCSS'
  data: any
  manager: SizeManager
}

class MiddlewareManager {
  private middlewares: SizeMiddleware[] = []

  // æ³¨å†Œä¸­é—´ä»¶
  use(middleware: SizeMiddleware): void {
    this.middlewares.push(middleware)
    // æŒ‰ä¼˜å…ˆçº§æ’åº
    this.middlewares.sort((a, b) => (b.priority || 0) - (a.priority || 0))
  }

  // æ‰§è¡Œä¸­é—´ä»¶é“¾
  async execute(context: MiddlewareContext): Promise<void> {
    let index = 0

    const next = async (): Promise<void> => {
      if (index >= this.middlewares.length) {
        return
      }

      const middleware = this.middlewares[index++]
      await middleware.process(context, next)
    }

    await next()
  }
}

// ä¸­é—´ä»¶ç¤ºä¾‹ï¼šæ—¥å¿—è®°å½•
const LoggingMiddleware: SizeMiddleware = {
  name: 'logging',
  priority: 100,

  process(context, next) {
    console.log(`[Size] ${context.action}:`, context.data)
    const startTime = performance.now()

    next()

    const endTime = performance.now()
    console.log(`[Size] ${context.action} completed in ${endTime - startTime}ms`)
  },
}

// ä¸­é—´ä»¶ç¤ºä¾‹ï¼šéªŒè¯
const ValidationMiddleware: SizeMiddleware = {
  name: 'validation',
  priority: 200,

  process(context, next) {
    if (context.action === 'setMode') {
      if (!isValidSizeMode(context.data)) {
        throw new Error(`Invalid size mode: ${context.data}`)
      }
    }

    next()
  },
}
```

## ğŸ”— æ¡†æ¶é›†æˆæ‰©å±•

### 1. React æ”¯æŒæ‰©å±•

```typescript
// React Hook æ‰©å±•
import { useState, useEffect, useCallback } from 'react'

export function useSize(options: UseSizeOptions = {}) {
  const [currentMode, setCurrentMode] = useState<SizeMode>('medium')
  const [currentConfig, setCurrentConfig] = useState<SizeConfig>()

  const sizeManager = useMemo(() => {
    return options.global ? globalSizeManager : createSizeManager(options)
  }, [options.global])

  useEffect(() => {
    setCurrentMode(sizeManager.getCurrentMode())
    setCurrentConfig(sizeManager.getConfig())

    const unsubscribe = sizeManager.onSizeChange(event => {
      setCurrentMode(event.currentMode)
      setCurrentConfig(sizeManager.getConfig(event.currentMode))
    })

    return unsubscribe
  }, [sizeManager])

  const setMode = useCallback(
    (mode: SizeMode) => {
      sizeManager.setMode(mode)
    },
    [sizeManager]
  )

  return {
    currentMode,
    currentConfig,
    setMode,
    sizeManager,
  }
}

// React ç»„ä»¶æ‰©å±•
export const SizeSwitcher: React.FC<SizeSwitcherProps> = ({
  switcherStyle = 'button',
  onChange,
}) => {
  const { currentMode, setMode } = useSize({ global: true })
  const availableModes: SizeMode[] = ['small', 'medium', 'large', 'extra-large']

  const handleChange = (mode: SizeMode) => {
    setMode(mode)
    onChange?.(mode)
  }

  if (switcherStyle === 'button') {
    return (
      <div className='size-switcher size-switcher--button'>
        {availableModes.map(mode => (
          <button
            key={mode}
            className={`size-switcher__button ${currentMode === mode ? 'active' : ''}`}
            onClick={() => handleChange(mode)}
          >
            {getSizeModeDisplayName(mode)}
          </button>
        ))}
      </div>
    )
  }

  // å…¶ä»–æ ·å¼çš„å®ç°...
}
```

### 2. Angular æ”¯æŒæ‰©å±•

```typescript
// Angular æœåŠ¡
@Injectable({
  providedIn: 'root',
})
export class SizeService {
  private sizeManager = globalSizeManager
  private currentMode$ = new BehaviorSubject<SizeMode>('medium')
  private currentConfig$ = new BehaviorSubject<SizeConfig>(getSizeConfig('medium'))

  constructor() {
    this.currentMode$.next(this.sizeManager.getCurrentMode())
    this.currentConfig$.next(this.sizeManager.getConfig())

    this.sizeManager.onSizeChange(event => {
      this.currentMode$.next(event.currentMode)
      this.currentConfig$.next(this.sizeManager.getConfig(event.currentMode))
    })
  }

  getCurrentMode(): Observable<SizeMode> {
    return this.currentMode$.asObservable()
  }

  getCurrentConfig(): Observable<SizeConfig> {
    return this.currentConfig$.asObservable()
  }

  setMode(mode: SizeMode): void {
    this.sizeManager.setMode(mode)
  }
}

// Angular æŒ‡ä»¤
@Directive({
  selector: '[sizeResponsive]',
})
export class SizeResponsiveDirective implements OnInit, OnDestroy {
  @Input() sizeResponsive: Partial<Record<SizeMode, any>> = {}

  private destroy$ = new Subject<void>()

  constructor(
    private el: ElementRef,
    private renderer: Renderer2,
    private sizeService: SizeService
  ) {}

  ngOnInit() {
    this.sizeService
      .getCurrentMode()
      .pipe(takeUntil(this.destroy$))
      .subscribe(mode => {
        this.applyModeStyles(mode)
      })
  }

  ngOnDestroy() {
    this.destroy$.next()
    this.destroy$.complete()
  }

  private applyModeStyles(mode: SizeMode) {
    const styles = this.sizeResponsive[mode]
    if (styles) {
      Object.entries(styles).forEach(([property, value]) => {
        this.renderer.setStyle(this.el.nativeElement, property, value)
      })
    }
  }
}
```

## ğŸš€ æœªæ¥æ‰©å±•è§„åˆ’

### 1. å¯è§†åŒ–é…ç½®å·¥å…·

```typescript
interface VisualConfigTool {
  // å¯è§†åŒ–ç¼–è¾‘å™¨
  openEditor(): void

  // å®æ—¶é¢„è§ˆ
  previewMode(mode: SizeMode): void

  // å¯¼å‡ºé…ç½®
  exportConfig(): SizeConfig

  // å¯¼å…¥é…ç½®
  importConfig(config: SizeConfig): void
}
```

### 2. äº‘ç«¯åŒæ­¥æ‰©å±•

```typescript
interface CloudSyncExtension {
  // åŒæ­¥åˆ°äº‘ç«¯
  syncToCloud(userId: string, preferences: UserPreferences): Promise<void>

  // ä»äº‘ç«¯æ¢å¤
  restoreFromCloud(userId: string): Promise<UserPreferences>

  // è·¨è®¾å¤‡åŒæ­¥
  enableCrossDeviceSync(userId: string): void
}
```

### 3. AI æ™ºèƒ½æ¨è

```typescript
interface AIRecommendationExtension {
  // åŸºäºç”¨æˆ·è¡Œä¸ºæ¨èå°ºå¯¸
  recommendSize(userBehavior: UserBehaviorData): SizeMode

  // è‡ªåŠ¨è°ƒæ•´
  enableAutoAdjustment(preferences: AutoAdjustmentPreferences): void

  // å­¦ä¹ ç”¨æˆ·åå¥½
  learnUserPreferences(interactions: UserInteraction[]): void
}
```

---

_é€šè¿‡è¿™äº›æ‰©å±•æ€§è®¾è®¡ï¼Œ@ldesign/size èƒ½å¤Ÿé€‚åº”å„ç§å¤æ‚çš„ä½¿ç”¨åœºæ™¯ï¼Œå¹¶ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•æä¾›äº†åšå®çš„åŸºç¡€ã€‚_
