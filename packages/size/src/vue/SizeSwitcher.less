/**
 * 尺寸切换器组件样式
 */

// 变量定义
@prefix: size-switcher;
@primary-color: #1890ff;
@border-color: #d9d9d9;
@hover-color: #40a9ff;
@active-color: #096dd9;
@disabled-color: #f5f5f5;
@text-color: #262626;
@text-color-secondary: #8c8c8c;
@border-radius: 6px;
@transition-duration: 0.3s;

// 基础样式
.@{prefix} {
  display: inline-flex;
  align-items: center;
  font-family: inherit;
  
  &--disabled {
    opacity: 0.6;
    pointer-events: none;
  }
  
  &--small {
    font-size: 12px;
    
    .@{prefix}__button {
      padding: 4px 8px;
      min-height: 24px;
    }
  }
  
  &--medium {
    font-size: 14px;
    
    .@{prefix}__button {
      padding: 6px 12px;
      min-height: 32px;
    }
  }
  
  &--large {
    font-size: 16px;
    
    .@{prefix}__button {
      padding: 8px 16px;
      min-height: 40px;
    }
  }
  
  &--animated {
    .@{prefix}__button,
    .@{prefix}__select,
    .@{prefix}__radio-label,
    .@{prefix}__slider,
    .@{prefix}__segmented-item {
      transition: all @transition-duration ease-in-out;
    }
  }
  
  // 主题样式
  &--theme-light {
    --switcher-bg: #ffffff;
    --switcher-border: @border-color;
    --switcher-text: @text-color;
    --switcher-hover: #f5f5f5;
    --switcher-active: @primary-color;
    --switcher-active-text: #ffffff;
  }
  
  &--theme-dark {
    --switcher-bg: #1f1f1f;
    --switcher-border: #434343;
    --switcher-text: #ffffff;
    --switcher-hover: #2f2f2f;
    --switcher-active: @primary-color;
    --switcher-active-text: #ffffff;
  }
  
  &--theme-auto {
    --switcher-bg: #ffffff;
    --switcher-border: @border-color;
    --switcher-text: @text-color;
    --switcher-hover: #f5f5f5;
    --switcher-active: @primary-color;
    --switcher-active-text: #ffffff;
    
    @media (prefers-color-scheme: dark) {
      --switcher-bg: #1f1f1f;
      --switcher-border: #434343;
      --switcher-text: #ffffff;
      --switcher-hover: #2f2f2f;
    }
  }
}

// 按钮样式
.@{prefix}--button {
  .@{prefix}__buttons {
    display: flex;
    border: 1px solid var(--switcher-border);
    border-radius: @border-radius;
    overflow: hidden;
    background: var(--switcher-bg);
  }
  
  .@{prefix}__button {
    border: none;
    background: transparent;
    color: var(--switcher-text);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    border-right: 1px solid var(--switcher-border);
    
    &:last-child {
      border-right: none;
    }
    
    &:hover:not(&--active) {
      background: var(--switcher-hover);
    }
    
    &--active {
      background: var(--switcher-active);
      color: var(--switcher-active-text);
    }
    
    &:focus {
      outline: 2px solid var(--switcher-active);
      outline-offset: 2px;
    }
  }
  
  .@{prefix}__button-icon {
    font-size: 0.9em;
  }
  
  .@{prefix}__button-text {
    white-space: nowrap;
  }
}

// 分段控制器样式
.@{prefix}--segmented {
  .@{prefix}__segmented {
    display: flex;
    background: var(--switcher-bg);
    border: 1px solid var(--switcher-border);
    border-radius: @border-radius;
    padding: 2px;
    position: relative;
  }
  
  .@{prefix}__segmented-item {
    flex: 1;
    padding: 6px 12px;
    text-align: center;
    cursor: pointer;
    border-radius: calc(@border-radius - 2px);
    color: var(--switcher-text);
    position: relative;
    z-index: 1;
    
    &--active {
      background: var(--switcher-active);
      color: var(--switcher-active-text);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    &:hover:not(&--active) {
      background: var(--switcher-hover);
    }
  }
}

// 选择器样式
.@{prefix}--select {
  .@{prefix}__select {
    padding: 6px 12px;
    border: 1px solid var(--switcher-border);
    border-radius: @border-radius;
    background: var(--switcher-bg);
    color: var(--switcher-text);
    cursor: pointer;
    min-width: 120px;
    
    &:hover {
      border-color: var(--switcher-active);
    }
    
    &:focus {
      outline: none;
      border-color: var(--switcher-active);
      box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
    }
  }
}

// 单选框样式
.@{prefix}--radio {
  .@{prefix}__radios {
    display: flex;
    gap: 16px;
  }
  
  .@{prefix}__radio-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    color: var(--switcher-text);
    
    &:hover {
      color: var(--switcher-active);
    }
  }
  
  .@{prefix}__radio {
    width: 16px;
    height: 16px;
    border: 2px solid var(--switcher-border);
    border-radius: 50%;
    background: var(--switcher-bg);
    cursor: pointer;
    position: relative;
    
    &:checked {
      border-color: var(--switcher-active);
      
      &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--switcher-active);
      }
    }
    
    &:focus {
      outline: 2px solid var(--switcher-active);
      outline-offset: 2px;
    }
  }
  
  .@{prefix}__radio-text {
    white-space: nowrap;
  }
}

// 滑块样式
.@{prefix}--slider {
  .@{prefix}__slider {
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 200px;
  }
  
  .@{prefix}__slider-track {
    flex: 1;
    height: 4px;
    background: var(--switcher-border);
    border-radius: 2px;
    position: relative;
    cursor: pointer;
  }
  
  .@{prefix}__slider-thumb {
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 16px;
    height: 16px;
    background: var(--switcher-active);
    border-radius: 50%;
    cursor: grab;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    
    &:active {
      cursor: grabbing;
      transform: translate(-50%, -50%) scale(1.1);
    }
  }
  
  .@{prefix}__slider-label {
    font-size: 0.9em;
    color: var(--switcher-text);
    white-space: nowrap;
  }
}

// 响应式样式
@media (max-width: 768px) {
  .@{prefix}--responsive {
    .@{prefix}__buttons {
      flex-direction: column;
      
      .@{prefix}__button {
        border-right: none;
        border-bottom: 1px solid var(--switcher-border);
        
        &:last-child {
          border-bottom: none;
        }
      }
    }
    
    .@{prefix}__radios {
      flex-direction: column;
      gap: 8px;
    }
  }
}

// 描述文本样式
.@{prefix}__description {
  font-size: 0.8em;
  color: @text-color-secondary;
  margin-top: 2px;
  line-height: 1.2;
}

// 包装器样式
.size-switcher-wrapper {
  display: inline-block;
}

// 尺寸指示器样式
.size-indicator {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--switcher-text, @text-color);
  
  &__mode {
    font-weight: 500;
  }
  
  &__scale {
    color: var(--switcher-text, @text-color-secondary);
    font-size: 0.9em;
  }
}

// 控制面板样式
.size-control-panel {
  display: flex;
  align-items: center;
  gap: 16px;
  
  &__indicator {
    flex-shrink: 0;
  }
  
  &__switcher {
    flex-shrink: 0;
  }
}
