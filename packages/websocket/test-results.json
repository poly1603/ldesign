{"numTotalTestSuites":27,"numPassedTestSuites":27,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":61,"numPassedTests":61,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1757909241178,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["WorkerAdapter","构造函数"],"fullName":"WorkerAdapter 构造函数 应该正确初始化","status":"passed","title":"应该正确初始化","duration":5.330200000000104,"failureMessages":[],"location":{"line":59,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","消息处理"],"fullName":"WorkerAdapter 消息处理 应该处理INIT消息","status":"passed","title":"应该处理INIT消息","duration":1.9586000000000467,"failureMessages":[],"location":{"line":66,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","消息处理"],"fullName":"WorkerAdapter 消息处理 应该处理CONNECT消息","status":"passed","title":"应该处理CONNECT消息","duration":0.852800000000002,"failureMessages":[],"location":{"line":92,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","消息处理"],"fullName":"WorkerAdapter 消息处理 应该处理DISCONNECT消息","status":"passed","title":"应该处理DISCONNECT消息","duration":0.9347999999999956,"failureMessages":[],"location":{"line":111,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","消息处理"],"fullName":"WorkerAdapter 消息处理 应该处理SEND消息","status":"passed","title":"应该处理SEND消息","duration":0.7672999999999774,"failureMessages":[],"location":{"line":130,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","消息处理"],"fullName":"WorkerAdapter 消息处理 应该处理未知消息类型","status":"passed","title":"应该处理未知消息类型","duration":0.6598000000000184,"failureMessages":[],"location":{"line":154,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","消息处理"],"fullName":"WorkerAdapter 消息处理 应该处理消息处理错误","status":"passed","title":"应该处理消息处理错误","duration":0.699100000000044,"failureMessages":[],"location":{"line":174,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","事件转发"],"fullName":"WorkerAdapter 事件转发 应该转发状态变化事件","status":"passed","title":"应该转发状态变化事件","duration":0.828899999999976,"failureMessages":[],"location":{"line":200,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","事件转发"],"fullName":"WorkerAdapter 事件转发 应该转发连接成功事件","status":"passed","title":"应该转发连接成功事件","duration":0.7512000000000398,"failureMessages":[],"location":{"line":209,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","事件转发"],"fullName":"WorkerAdapter 事件转发 应该转发连接断开事件","status":"passed","title":"应该转发连接断开事件","duration":0.7805000000000746,"failureMessages":[],"location":{"line":217,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","事件转发"],"fullName":"WorkerAdapter 事件转发 应该转发消息事件","status":"passed","title":"应该转发消息事件","duration":1.0112000000000307,"failureMessages":[],"location":{"line":227,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","事件转发"],"fullName":"WorkerAdapter 事件转发 应该转发错误事件","status":"passed","title":"应该转发错误事件","duration":1.246599999999944,"failureMessages":[],"location":{"line":237,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","事件转发"],"fullName":"WorkerAdapter 事件转发 应该转发重连事件","status":"passed","title":"应该转发重连事件","duration":0.5967999999999165,"failureMessages":[],"location":{"line":247,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","状态管理"],"fullName":"WorkerAdapter 状态管理 应该正确更新状态","status":"passed","title":"应该正确更新状态","duration":0.6231999999999971,"failureMessages":[],"location":{"line":258,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","状态管理"],"fullName":"WorkerAdapter 状态管理 应该更新最后接收的消息","status":"passed","title":"应该更新最后接收的消息","duration":0.49480000000005475,"failureMessages":[],"location":{"line":271,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","状态管理"],"fullName":"WorkerAdapter 状态管理 应该更新最后的错误","status":"passed","title":"应该更新最后的错误","duration":0.7170999999999594,"failureMessages":[],"location":{"line":279,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","状态管理"],"fullName":"WorkerAdapter 状态管理 应该更新重连次数","status":"passed","title":"应该更新重连次数","duration":0.47529999999994743,"failureMessages":[],"location":{"line":288,"column":5},"meta":{}},{"ancestorTitles":["WorkerAdapter","生命周期"],"fullName":"WorkerAdapter 生命周期 应该正确销毁","status":"passed","title":"应该正确销毁","duration":0.6078999999999724,"failureMessages":[],"location":{"line":297,"column":5},"meta":{}}],"startTime":1757909241974,"endTime":1757909241993.608,"status":"passed","message":"","name":"D:/WorkBench/ldesign/packages/websocket/tests/unit/worker/worker-adapter.test.ts"},{"assertionResults":[{"ancestorTitles":["Worker工厂函数","createWebSocketWorker"],"fullName":"Worker工厂函数 createWebSocketWorker 应该创建WebSocket Worker代理","status":"passed","title":"应该创建WebSocket Worker代理","duration":4.585000000000036,"failureMessages":[],"location":{"line":76,"column":5},"meta":{}},{"ancestorTitles":["Worker工厂函数","createWebSocketWorker"],"fullName":"Worker工厂函数 createWebSocketWorker 应该传递配置参数","status":"passed","title":"应该传递配置参数","duration":14.824800000000096,"failureMessages":[],"location":{"line":84,"column":5},"meta":{}},{"ancestorTitles":["Worker工厂函数","createInlineWebSocketWorker"],"fullName":"Worker工厂函数 createInlineWebSocketWorker 应该创建内联WebSocket Worker","status":"passed","title":"应该创建内联WebSocket Worker","duration":15.852700000000027,"failureMessages":[],"location":{"line":95,"column":5},"meta":{}},{"ancestorTitles":["Worker工厂函数","createInlineWebSocketWorker"],"fullName":"Worker工厂函数 createInlineWebSocketWorker 应该传递配置参数","status":"passed","title":"应该传递配置参数","duration":14.366300000000024,"failureMessages":[],"location":{"line":105,"column":5},"meta":{}},{"ancestorTitles":["Worker工厂函数","环境检测"],"fullName":"Worker工厂函数 环境检测 isWorkerSupported应该返回true","status":"passed","title":"isWorkerSupported应该返回true","duration":0.2961999999999989,"failureMessages":[],"location":{"line":116,"column":5},"meta":{}},{"ancestorTitles":["Worker工厂函数","环境检测"],"fullName":"Worker工厂函数 环境检测 isInWorker应该返回false（在主线程中）","status":"passed","title":"isInWorker应该返回false（在主线程中）","duration":0.11930000000006658,"failureMessages":[],"location":{"line":120,"column":5},"meta":{}},{"ancestorTitles":["Worker工厂函数","环境检测"],"fullName":"Worker工厂函数 环境检测 isInWorker应该返回true（在Worker中）","status":"passed","title":"isInWorker应该返回true（在Worker中）","duration":0.0887000000000171,"failureMessages":[],"location":{"line":124,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerFactory","Worker管理"],"fullName":"WebSocketWorkerFactory Worker管理 应该创建新的Worker","status":"passed","title":"应该创建新的Worker","duration":14.83019999999999,"failureMessages":[],"location":{"line":160,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerFactory","Worker管理"],"fullName":"WebSocketWorkerFactory Worker管理 应该复用已存在的Worker","status":"passed","title":"应该复用已存在的Worker","duration":15.381199999999922,"failureMessages":[],"location":{"line":172,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerFactory","Worker管理"],"fullName":"WebSocketWorkerFactory Worker管理 应该销毁指定的Worker","status":"passed","title":"应该销毁指定的Worker","duration":15.205000000000041,"failureMessages":[],"location":{"line":189,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerFactory","Worker管理"],"fullName":"WebSocketWorkerFactory Worker管理 应该销毁所有Worker","status":"passed","title":"应该销毁所有Worker","duration":24.64779999999996,"failureMessages":[],"location":{"line":204,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerFactory","Worker管理"],"fullName":"WebSocketWorkerFactory Worker管理 应该获取所有Worker键","status":"passed","title":"应该获取所有Worker键","duration":22.943200000000047,"failureMessages":[],"location":{"line":224,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该创建新的Worker池","status":"passed","title":"应该创建新的Worker池","duration":0.1796999999999116,"failureMessages":[],"location":{"line":257,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该获取Worker（首次创建）","status":"passed","title":"应该获取Worker（首次创建）","duration":14.23879999999997,"failureMessages":[],"location":{"line":262,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该使用轮询策略选择Worker","status":"passed","title":"应该使用轮询策略选择Worker","duration":47.08109999999999,"failureMessages":[],"location":{"line":269,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该添加新的Worker","status":"passed","title":"应该添加新的Worker","duration":17.364700000000084,"failureMessages":[],"location":{"line":287,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该限制最大Worker数量","status":"passed","title":"应该限制最大Worker数量","duration":45.51109999999994,"failureMessages":[],"location":{"line":297,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该移除指定的Worker","status":"passed","title":"应该移除指定的Worker","duration":30.526499999999942,"failureMessages":[],"location":{"line":311,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该处理无效的Worker索引","status":"passed","title":"应该处理无效的Worker索引","duration":0.2721000000001368,"failureMessages":[],"location":{"line":321,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerPool","Worker池管理"],"fullName":"WebSocketWorkerPool Worker池管理 应该销毁所有Worker","status":"passed","title":"应该销毁所有Worker","duration":15.276000000000067,"failureMessages":[],"location":{"line":326,"column":5},"meta":{}}],"startTime":1757909241974,"endTime":1757909242288.276,"status":"passed","message":"","name":"D:/WorkBench/ldesign/packages/websocket/tests/unit/worker/worker-factory.test.ts"},{"assertionResults":[{"ancestorTitles":["WebSocketWorkerProxy","构造函数"],"fullName":"WebSocketWorkerProxy 构造函数 应该正确初始化","status":"passed","title":"应该正确初始化","duration":1.0639999999999645,"failureMessages":[],"location":{"line":87,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","构造函数"],"fullName":"WebSocketWorkerProxy 构造函数 应该设置事件监听器","status":"passed","title":"应该设置事件监听器","duration":1.5468999999999369,"failureMessages":[],"location":{"line":93,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","初始化"],"fullName":"WebSocketWorkerProxy 初始化 应该发送初始化消息","status":"passed","title":"应该发送初始化消息","duration":16.557700000000068,"failureMessages":[],"location":{"line":120,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","初始化"],"fullName":"WebSocketWorkerProxy 初始化 应该处理初始化错误","status":"passed","title":"应该处理初始化错误","duration":0.9910999999999603,"failureMessages":[],"location":{"line":134,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","连接管理"],"fullName":"WebSocketWorkerProxy 连接管理 应该发送连接消息","status":"passed","title":"应该发送连接消息","duration":15.192699999999945,"failureMessages":[],"location":{"line":154,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","连接管理"],"fullName":"WebSocketWorkerProxy 连接管理 应该发送断开连接消息","status":"passed","title":"应该发送断开连接消息","duration":14.339899999999943,"failureMessages":[],"location":{"line":165,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","消息发送"],"fullName":"WebSocketWorkerProxy 消息发送 应该发送消息","status":"passed","title":"应该发送消息","duration":30.528999999999996,"failureMessages":[],"location":{"line":183,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","消息发送"],"fullName":"WebSocketWorkerProxy 消息发送 应该处理发送错误","status":"passed","title":"应该处理发送错误","duration":31.591800000000035,"failureMessages":[],"location":{"line":197,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件处理"],"fullName":"WebSocketWorkerProxy 事件处理 应该处理状态变化事件","status":"passed","title":"应该处理状态变化事件","duration":8.797900000000027,"failureMessages":[],"location":{"line":219,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件处理"],"fullName":"WebSocketWorkerProxy 事件处理 应该处理连接成功事件","status":"passed","title":"应该处理连接成功事件","duration":6.914999999999964,"failureMessages":[],"location":{"line":231,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件处理"],"fullName":"WebSocketWorkerProxy 事件处理 应该处理连接断开事件","status":"passed","title":"应该处理连接断开事件","duration":14.850599999999986,"failureMessages":[],"location":{"line":242,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件处理"],"fullName":"WebSocketWorkerProxy 事件处理 应该处理消息事件","status":"passed","title":"应该处理消息事件","duration":15.592100000000073,"failureMessages":[],"location":{"line":254,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件处理"],"fullName":"WebSocketWorkerProxy 事件处理 应该处理错误事件","status":"passed","title":"应该处理错误事件","duration":0.31349999999997635,"failureMessages":[],"location":{"line":267,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件处理"],"fullName":"WebSocketWorkerProxy 事件处理 应该处理重连事件","status":"passed","title":"应该处理重连事件","duration":15.358499999999935,"failureMessages":[],"location":{"line":279,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","状态管理"],"fullName":"WebSocketWorkerProxy 状态管理 应该返回当前状态","status":"passed","title":"应该返回当前状态","duration":15.490499999999997,"failureMessages":[],"location":{"line":297,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","状态管理"],"fullName":"WebSocketWorkerProxy 状态管理 应该更新状态","status":"passed","title":"应该更新状态","duration":15.573499999999967,"failureMessages":[],"location":{"line":311,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","状态管理"],"fullName":"WebSocketWorkerProxy 状态管理 应该更新最后的消息","status":"passed","title":"应该更新最后的消息","duration":15.734199999999987,"failureMessages":[],"location":{"line":322,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","状态管理"],"fullName":"WebSocketWorkerProxy 状态管理 应该更新最后的错误","status":"passed","title":"应该更新最后的错误","duration":1.295699999999897,"failureMessages":[],"location":{"line":333,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件监听器管理"],"fullName":"WebSocketWorkerProxy 事件监听器管理 应该添加事件监听器","status":"passed","title":"应该添加事件监听器","duration":0.18219999999996617,"failureMessages":[],"location":{"line":346,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","事件监听器管理"],"fullName":"WebSocketWorkerProxy 事件监听器管理 应该移除事件监听器","status":"passed","title":"应该移除事件监听器","duration":0.13530000000002929,"failureMessages":[],"location":{"line":357,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","Worker错误处理"],"fullName":"WebSocketWorkerProxy Worker错误处理 应该处理Worker错误","status":"passed","title":"应该处理Worker错误","duration":0.8413000000000466,"failureMessages":[],"location":{"line":371,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","销毁"],"fullName":"WebSocketWorkerProxy 销毁 应该正确销毁","status":"passed","title":"应该正确销毁","duration":0.11820000000000164,"failureMessages":[],"location":{"line":382,"column":5},"meta":{}},{"ancestorTitles":["WebSocketWorkerProxy","销毁"],"fullName":"WebSocketWorkerProxy 销毁 应该清理所有资源","status":"passed","title":"应该清理所有资源","duration":0.09369999999989886,"failureMessages":[],"location":{"line":390,"column":5},"meta":{}}],"startTime":1757909241975,"endTime":1757909242199.1182,"status":"passed","message":"","name":"D:/WorkBench/ldesign/packages/websocket/tests/unit/worker/worker-proxy.test.ts"}]}