/**
 * 按钮组件样式
 */

@import '../variables.less';
@import '../mixins.less';

// 按钮基础类
.ld-btn {
  .btn-base();

  // 默认尺寸
  .btn-size(@btn-height-base, @padding-base, @font-size-sm);

  // 默认样式（主要按钮）
  .btn-variant(@primary-color);

  // 尺寸变体
  &--small {
    .btn-size(@btn-height-sm, @padding-sm, @font-size-xs);
  }

  &--large {
    .btn-size(@btn-height-lg, @padding-lg, @font-size-base);
  }

  // 类型变体
  &--primary {
    .btn-variant(@primary-color);
  }

  &--secondary {
    .btn-variant(@bg-color, @border-color, @text-color);

    &:hover:not(:disabled) {
      border-color: @primary-color;
      color: @primary-color;
    }
  }

  &--success {
    .btn-variant(@success-color);
  }

  &--warning {
    .btn-variant(@warning-color);
  }

  &--danger {
    .btn-variant(@danger-color);
  }

  &--info {
    .btn-variant(@info-color);
  }

  // 状态变体
  &--block {
    width: 100%;
  }

  &--round {
    border-radius: @border-radius-full;
  }

  &--loading {
    cursor: wait;
    position: relative;

    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 14px;
      height: 14px;
      margin: -7px 0 0 -7px;
      border: 2px solid transparent;
      border-top: 2px solid currentColor;
      border-radius: 50%;
      animation: btn-loading-spin 1s linear infinite;
    }
  }

  // 图标按钮
  &--icon-only {
    width: @btn-height-base;
    padding: 0;

    &.ld-btn--small {
      width: @btn-height-sm;
    }

    &.ld-btn--large {
      width: @btn-height-lg;
    }
  }

  // 幽灵按钮
  &--ghost {
    background-color: transparent;
    border-color: currentColor;

    &:hover:not(:disabled) {
      background-color: currentColor;
      color: @bg-color;
    }
  }

  // 文本按钮
  &--text {
    background-color: transparent;
    border-color: transparent;
    color: @primary-color;

    &:hover:not(:disabled) {
      background-color: @primary-color-lighter;
    }

    &:focus {
      box-shadow: none;
      background-color: @primary-color-lighter;
    }
  }

  // 链接按钮
  &--link {
    background-color: transparent;
    border-color: transparent;
    color: @primary-color;
    text-decoration: underline;

    &:hover:not(:disabled) {
      color: @primary-color-hover;
    }

    &:focus {
      box-shadow: none;
    }
  }
}

// 按钮组
.ld-btn-group {
  display: inline-flex;

  .ld-btn {
    border-radius: 0;
    margin-left: -@border-width-base;

    &:first-child {
      border-top-left-radius: @border-radius-base;
      border-bottom-left-radius: @border-radius-base;
      margin-left: 0;
    }

    &:last-child {
      border-top-right-radius: @border-radius-base;
      border-bottom-right-radius: @border-radius-base;
    }

    &:hover,
    &:focus,
    &:active {
      z-index: 1;
      position: relative;
    }
  }

  // 垂直按钮组
  &--vertical {
    flex-direction: column;

    .ld-btn {
      margin-left: 0;
      margin-top: -@border-width-base;

      &:first-child {
        border-radius: @border-radius-base @border-radius-base 0 0;
        margin-top: 0;
      }

      &:last-child {
        border-radius: 0 0 @border-radius-base @border-radius-base;
      }
    }
  }
}

// 加载动画
@keyframes btn-loading-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
