# LDesign Form 目录结构设计

## 项目根目录结构

```
packages/form/
├── src/                          # 源代码目录
│   ├── core/                     # 框架无关核心库
│   │   ├── index.ts             # 核心模块导出
│   │   ├── events.ts            # 事件系统实现
│   │   ├── state.ts             # 状态管理系统
│   │   ├── validator.ts         # 验证器系统
│   │   ├── field.ts             # 字段实例实现
│   │   └── form.ts              # 表单实例实现
│   ├── vue/                      # Vue 3 适配器
│   │   ├── index.ts             # Vue 适配器导出
│   │   ├── hooks/               # Composition API Hooks
│   │   │   ├── index.ts         # Hooks 导出
│   │   │   ├── useForm.ts       # 表单管理 Hook
│   │   │   ├── useField.ts      # 字段管理 Hook
│   │   │   ├── useFieldArray.ts # 数组字段 Hook
│   │   │   └── useFormContext.ts # 表单上下文 Hook
│   │   ├── components/          # Vue 组件
│   │   │   ├── index.ts         # 组件导出
│   │   │   ├── LDesignForm.vue  # 表单组件
│   │   │   ├── LDesignFormItem.vue # 表单项组件
│   │   │   ├── FieldArray.vue   # 数组字段组件
│   │   │   └── FormProvider.vue # 表单提供者组件
│   │   └── directives/          # Vue 指令
│   │       ├── index.ts         # 指令导出
│   │       └── vModel.ts        # 双向绑定指令
│   ├── validators/               # 内置验证器
│   │   ├── index.ts             # 验证器导出
│   │   ├── required.ts          # 必填验证器
│   │   ├── email.ts             # 邮箱验证器
│   │   ├── length.ts            # 长度验证器
│   │   ├── pattern.ts           # 正则验证器
│   │   ├── number.ts            # 数字验证器
│   │   └── custom.ts            # 自定义验证器
│   ├── utils/                    # 工具函数
│   │   ├── index.ts             # 工具导出
│   │   ├── helpers.ts           # 通用工具函数
│   │   ├── constants.ts         # 常量定义
│   │   └── types.ts             # 工具类型
│   ├── types/                    # 类型定义
│   │   ├── index.ts             # 类型导出
│   │   ├── core.ts              # 核心类型
│   │   ├── vue.ts               # Vue 相关类型
│   │   ├── validators.ts        # 验证器类型
│   │   └── utils.ts             # 工具类型
│   ├── styles/                   # 样式文件
│   │   ├── index.less           # 样式入口
│   │   ├── variables.less       # 变量定义
│   │   ├── mixins.less          # 混入函数
│   │   ├── components/          # 组件样式
│   │   │   ├── form.less        # 表单样式
│   │   │   ├── form-item.less   # 表单项样式
│   │   │   └── field-array.less # 数组字段样式
│   │   └── themes/              # 主题样式
│   │       ├── default.less     # 默认主题
│   │       └── dark.less        # 暗色主题
│   ├── legacy/                   # 兼容层
│   │   ├── index.ts             # 兼容层导出
│   │   ├── adapter.ts           # 适配器实现
│   │   └── migration.ts         # 迁移工具
│   └── index.ts                  # 主入口文件
├── __tests__/                    # 测试目录
│   ├── setup.ts                 # 测试设置
│   ├── core/                    # 核心功能测试
│   │   ├── events.test.ts       # 事件系统测试
│   │   ├── state.test.ts        # 状态管理测试
│   │   ├── validator.test.ts    # 验证器测试
│   │   ├── field.test.ts        # 字段测试
│   │   └── form.test.ts         # 表单测试
│   ├── vue/                     # Vue 适配器测试
│   │   ├── useForm.test.ts      # useForm Hook 测试
│   │   ├── useField.test.ts     # useField Hook 测试
│   │   ├── useFieldArray.test.ts # useFieldArray Hook 测试
│   │   └── useFormContext.test.ts # useFormContext Hook 测试
│   ├── components/              # 组件测试
│   │   ├── LDesignForm.test.ts  # 表单组件测试
│   │   ├── LDesignFormItem.test.ts # 表单项组件测试
│   │   ├── FieldArray.test.ts   # 数组字段组件测试
│   │   └── FormProvider.test.ts # 表单提供者组件测试
│   ├── validators/              # 验证器测试
│   │   ├── required.test.ts     # 必填验证器测试
│   │   ├── email.test.ts        # 邮箱验证器测试
│   │   └── length.test.ts       # 长度验证器测试
│   ├── integration/             # 集成测试
│   │   ├── form-submission.test.ts # 表单提交测试
│   │   ├── field-validation.test.ts # 字段验证测试
│   │   └── component-integration.test.ts # 组件集成测试
│   └── e2e/                     # 端到端测试
│       ├── basic-form.spec.ts   # 基础表单测试
│       ├── complex-form.spec.ts # 复杂表单测试
│       └── performance.spec.ts  # 性能测试
├── examples/                     # 示例代码
│   ├── package.json             # 示例项目配置
│   ├── vite.config.ts           # 示例构建配置
│   ├── index.html               # 示例入口页面
│   ├── src/                     # 示例源码
│   │   ├── main.ts              # 示例入口
│   │   ├── App.vue              # 示例应用
│   │   ├── components/          # 示例组件
│   │   │   ├── BasicForm.vue    # 基础表单示例
│   │   │   ├── ComplexForm.vue  # 复杂表单示例
│   │   │   ├── ValidationForm.vue # 验证表单示例
│   │   │   └── ArrayForm.vue    # 数组表单示例
│   │   └── styles/              # 示例样式
│   │       └── main.css         # 主样式文件
│   └── dist/                    # 示例构建产物
├── docs/                         # 文档目录
│   ├── package.json             # 文档项目配置
│   ├── index.md                 # 文档首页
│   ├── guide/                   # 使用指南
│   │   ├── getting-started.md   # 快速开始
│   │   ├── basic-usage.md       # 基础用法
│   │   ├── advanced-usage.md    # 高级用法
│   │   ├── validation.md        # 验证功能
│   │   ├── components.md        # 组件使用
│   │   └── migration.md         # 迁移指南
│   ├── api/                     # API 文档
│   │   ├── core.md              # 核心 API
│   │   ├── vue.md               # Vue API
│   │   ├── components.md        # 组件 API
│   │   └── validators.md        # 验证器 API
│   └── examples/                # 文档示例
│       ├── basic.md             # 基础示例
│       ├── validation.md        # 验证示例
│       └── advanced.md          # 高级示例
├── dist/                         # 构建产物
│   ├── form.mjs                 # ES 模块
│   ├── form.js                  # CommonJS 模块
│   ├── form.d.ts                # 类型定义
│   └── style.css                # 样式文件
├── scripts/                      # 构建脚本
│   ├── build.js                 # 构建脚本
│   ├── dev.js                   # 开发脚本
│   └── test.js                  # 测试脚本
├── package.json                  # 项目配置
├── tsconfig.json                 # TypeScript 配置
├── tsconfig.build.json           # 构建 TypeScript 配置
├── vite.config.ts                # Vite 配置
├── vitest.config.ts              # Vitest 配置
├── eslint.config.js              # ESLint 配置
├── playwright.config.ts          # Playwright 配置
├── README.md                     # 项目说明
├── CHANGELOG.md                  # 更新日志
└── LICENSE                       # 许可证
```

## 目录说明

### 核心目录

- **src/core/**: 框架无关的核心实现，包含表单、字段、验证器、状态管理等
- **src/vue/**: Vue 3 适配器，包含 hooks、组件、指令等
- **src/types/**: 完整的 TypeScript 类型定义
- **src/utils/**: 通用工具函数和常量
- **src/validators/**: 内置验证器实现
- **src/styles/**: 样式文件和主题

### 测试目录

- **__tests__/**: 完整的测试套件，包含单元测试、集成测试、端到端测试
- 按功能模块组织测试文件，确保测试覆盖率

### 示例和文档

- **examples/**: 可运行的示例项目，展示各种使用场景
- **docs/**: 完整的文档系统，包含指南、API 文档、示例等

### 构建和配置

- **dist/**: 构建产物，支持多种模块格式
- **scripts/**: 构建和开发脚本
- 各种配置文件：TypeScript、Vite、ESLint、测试等

## 设计原则

1. **分层架构**: 核心层框架无关，适配层提供框架集成
2. **模块化**: 每个功能模块独立，便于维护和扩展
3. **类型安全**: 完整的 TypeScript 支持
4. **测试驱动**: 全面的测试覆盖
5. **文档完善**: 详细的使用文档和示例
