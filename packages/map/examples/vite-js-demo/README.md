# LDesign Map Vite + JS 示例

基于 Vite + JavaScript 的地图示例应用，展示了 `@ldesign/map` 包的基础功能和使用方法。

## 🎯 项目概述

这是一个简单而功能完整的地图示例应用，采用现代化的前端技术栈，提供了直观的用户界面来演示地图组件的各种功能。

### ✨ 主要特性

- **🗺️ 地图渲染**: 基于 OpenLayers 的高性能地图渲染
- **🎛️ 配置面板**: 直观的地图参数配置界面
- **🎨 主题切换**: 支持多种地图主题（默认/深色/浅色）
- **📱 响应式设计**: 完美适配桌面、平板、移动端设备
- **⌨️ 快捷键支持**: 丰富的键盘快捷键操作
- **🔧 实时配置**: 配置变更即时生效
- **💡 用户友好**: 详细的帮助信息和状态提示

## 🚀 快速开始

### 环境要求

- Node.js >= 16.0.0
- pnpm >= 7.0.0

### 安装依赖

```bash
cd packages/map/examples/vite-js-demo
pnpm install
```

### 启动开发服务器

```bash
pnpm dev
```

应用将在 http://localhost:3001 启动。

### 构建生产版本

```bash
pnpm build
```

### 预览生产版本

```bash
pnpm preview
```

## 📁 项目结构

```
vite-js-demo/
├── src/
│   ├── components/          # 组件目录
│   │   ├── Header.js       # 头部组件
│   │   ├── ConfigPanel.js  # 配置面板组件
│   │   └── MapRenderer.js  # 地图渲染器组件
│   ├── map/                # 地图相关
│   │   └── mapManager.js   # 地图管理器
│   ├── utils/              # 工具函数
│   │   └── eventHandlers.js # 事件处理器
│   ├── styles/             # 样式文件
│   │   └── index.css       # 主样式文件
│   ├── app.js              # 主应用模块
│   └── main.js             # 应用入口
├── index.html              # HTML 模板
├── vite.config.js          # Vite 配置
├── package.json            # 项目配置
└── README.md               # 项目说明
```

## 🎮 功能说明

### 配置面板（左侧）

#### 📍 地图中心点
- **预设位置选择**: 提供北京、上海、广州、深圳、杭州等预设城市
- **自定义坐标**: 支持手动输入经纬度坐标
- **坐标验证**: 自动验证坐标格式和范围

#### 🔍 缩放级别
- **滑块调节**: 1-20 级缩放范围
- **实时显示**: 当前缩放级别实时显示
- **精确控制**: 支持单级缩放调节

#### 🎨 地图主题
- **默认主题**: 清晰明亮，适合日间使用
- **深色主题**: 护眼模式，适合夜间使用
- **浅色主题**: 简洁清爽，突出内容

#### 🎮 地图控件
- **控件显示**: 控制地图控件的显示/隐藏
- **交互功能**: 启用/禁用地图交互功能
- **实时应用**: 配置变更即时生效

### 地图渲染器（右侧）

#### 🗺️ 地图显示
- **状态指示器**: 实时显示地图加载状态
- **信息面板**: 显示当前中心点、缩放级别、主题信息
- **错误处理**: 完善的错误提示和重试机制

#### 🎯 地图控制
- **回到中心点**: 一键回到配置的中心位置
- **放大缩小**: 快速调整地图缩放级别
- **地图刷新**: 重新加载地图内容
- **实时同步**: 与配置面板实时同步

### 应用级功能

#### ⌨️ 快捷键支持
- **F11**: 切换全屏模式
- **Tab**: 切换侧边栏显示/隐藏
- **Esc**: 关闭帮助弹窗
- **Ctrl+H** 或 **?**: 显示帮助信息

#### 📱 响应式布局
- **桌面端**: 左右分栏布局，最佳体验
- **平板端**: 自适应布局，保持功能完整
- **移动端**: 上下分栏，触摸友好

## 🔧 技术栈

- **构建工具**: Vite 5.4+
- **开发语言**: JavaScript ES2022
- **地图引擎**: @ldesign/map (基于 OpenLayers)
- **设计系统**: LDESIGN CSS Variables
- **模块系统**: ESM (ES Modules)
- **路径别名**: src 别名配置

## 📖 使用指南

### 基础使用

1. **启动应用**: 运行 `pnpm dev` 启动开发服务器
2. **配置地图**: 在左侧配置面板调整地图参数
3. **初始化地图**: 点击"初始化地图"按钮开始使用
4. **交互操作**: 使用地图控制按钮或直接与地图交互

### 高级功能

1. **主题切换**: 在配置面板选择不同主题
2. **快捷键**: 使用键盘快捷键提升操作效率
3. **全屏模式**: F11 进入全屏获得更好体验
4. **帮助信息**: 点击帮助按钮查看详细说明

### 自定义开发

1. **修改配置**: 编辑 `vite.config.js` 调整构建配置
2. **添加组件**: 在 `src/components/` 目录添加新组件
3. **扩展功能**: 在 `src/map/mapManager.js` 扩展地图功能
4. **样式定制**: 修改 `src/styles/index.css` 自定义样式

## 🎨 设计特色

### 用户界面
- **现代化设计**: 采用 LDESIGN 设计系统
- **一致性**: 统一的视觉风格和交互模式
- **可访问性**: 支持键盘导航和屏幕阅读器
- **响应式**: 完美适配各种设备和屏幕尺寸

### 技术架构
- **模块化**: 高度模块化的组件结构
- **可维护**: 清晰的代码结构和注释
- **可扩展**: 易于添加新功能和组件
- **性能优化**: 懒加载和事件优化

## 🔍 故障排除

### 常见问题

**Q: 地图无法加载？**
A: 检查网络连接，确保可以访问地图服务。查看浏览器控制台是否有错误信息。

**Q: 配置不生效？**
A: 确保点击了"应用配置"按钮，或检查配置参数是否在有效范围内。

**Q: 样式显示异常？**
A: 检查 LDESIGN 设计系统 CSS 变量是否正确加载。

**Q: 快捷键不工作？**
A: 确保焦点不在输入框内，某些快捷键在输入框中会被禁用。

### 调试技巧

1. **开启控制台**: F12 打开开发者工具查看详细日志
2. **检查网络**: 查看网络面板确认资源加载状态
3. **清除缓存**: 硬刷新页面清除缓存
4. **检查配置**: 验证地图配置参数是否正确

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个示例应用！

### 开发流程

1. Fork 项目
2. 创建功能分支
3. 提交变更
4. 推送到分支
5. 创建 Pull Request

### 代码规范

- 使用 ESM 模块语法
- 遵循 JavaScript 最佳实践
- 添加详细的代码注释
- 保持代码风格一致

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](../../LICENSE) 文件。

## 🔗 相关链接

- [LDesign Map 文档](../../docs/index.md)
- [Vite 官方文档](https://vitejs.dev/)
- [OpenLayers 文档](https://openlayers.org/)
- [LDESIGN 设计系统](https://ldesign.dev/)

---

**项目状态**: ✅ 稳定版本  
**最后更新**: 2025-09-12  
**维护者**: LDesign Team
