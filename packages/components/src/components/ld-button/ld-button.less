:host {
  display: inline-block;
}

.ld-button {
  .button-base();
  
  // Size variants
  &--small {
    padding: var(--ld-spacing-xs) var(--ld-spacing-sm);
    font-size: var(--ld-font-size-sm);
    border-radius: var(--ld-radius-sm);
  }
  
  &--medium {
    padding: var(--ld-spacing-sm) var(--ld-spacing-md);
    font-size: var(--ld-font-size-md);
    border-radius: var(--ld-radius-md);
  }
  
  &--large {
    padding: var(--ld-spacing-md) var(--ld-spacing-lg);
    font-size: var(--ld-font-size-lg);
    border-radius: var(--ld-radius-lg);
  }
  
  // Variant styles
  &--primary {
    .button-variant(var(--ld-color-primary), white);
  }
  
  &--secondary {
    .button-variant(var(--ld-color-bg-tertiary), var(--ld-color-text), var(--ld-color-border));
  }
  
  &--success {
    .button-variant(var(--ld-color-success), white);
  }
  
  &--warning {
    .button-variant(var(--ld-color-warning), white);
  }
  
  &--error {
    .button-variant(var(--ld-color-error), white);
  }
  
  &--outline {
    background-color: transparent;
    color: var(--ld-color-primary);
    border-color: var(--ld-color-primary);
    
    &:hover:not(:disabled) {
      background-color: var(--ld-color-primary-light);
      color: var(--ld-color-primary);
    }
    
    &:active:not(:disabled) {
      background-color: var(--ld-color-primary-lighter);
    }
  }
  
  &--ghost {
    background-color: transparent;
    color: var(--ld-color-primary);
    border-color: transparent;
    
    &:hover:not(:disabled) {
      background-color: var(--ld-color-primary-light);
    }
    
    &:active:not(:disabled) {
      background-color: var(--ld-color-primary-lighter);
    }
  }
  
  &--link {
    background-color: transparent;
    color: var(--ld-color-primary);
    border-color: transparent;
    text-decoration: underline;
    padding: 0;
    
    &:hover:not(:disabled) {
      color: var(--ld-color-primary-hover);
    }
    
    &:active:not(:disabled) {
      color: var(--ld-color-primary-active);
    }
  }
  
  // States
  &--disabled {
    opacity: 0.6;
    cursor: not-allowed;
    
    &:hover {
      transform: none !important;
    }
  }
  
  &--loading {
    cursor: wait;
    
    .ld-button__text {
      opacity: 0.7;
    }
  }
  
  &--pressed {
    transform: translateY(1px);
  }
  
  &--full-width {
    width: 100%;
  }
  
  &--has-icon {
    .ld-button__text:not(:empty) {
      margin: 0 var(--ld-spacing-xs);
    }
  }
  
  // Loading state
  &__loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  
  &__loading-icon {
    animation: spin 1s linear infinite;
  }
  
  // Icon styles
  &__icon {
    display: inline-flex;
    align-items: center;
    
    &--start {
      margin-right: var(--ld-spacing-xs);
    }
    
    &--end {
      margin-left: var(--ld-spacing-xs);
    }
  }
  
  // Text content
  &__text {
    display: inline-flex;
    align-items: center;
  }
  
  // Focus styles
  &:focus-visible {
    .focus-ring();
  }
  
  // Responsive design
  @media (max-width: 768px) {
    &--large {
      padding: var(--ld-spacing-sm) var(--ld-spacing-md);
      font-size: var(--ld-font-size-md);
    }
  }
}

// Animations
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// Dark theme adjustments
:host([data-theme="dark"]) {
  .ld-button {
    &--secondary {
      background-color: var(--ld-color-bg-secondary);
      color: var(--ld-color-text);
      border-color: var(--ld-color-border);
    }
  }
}