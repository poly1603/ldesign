:host {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.ld-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  vertical-align: middle;
  
  // Ensure SVG inherits text color by default
  color: currentColor;
  
  // Style all SVG elements inside
  svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
    stroke: currentColor;
    display: block;
  }
  
  // Loading state
  &--loading {
    opacity: 0.6;
    
    .ld-icon__loading {
      svg {
        animation: spin 1s linear infinite;
      }
    }
  }
  
  // Error state
  &--error {
    color: var(--ld-color-error);
  }
}

// Common icon sizes (can be overridden by iconSize prop)
.ld-icon {
  &--xs {
    width: 12px;
    height: 12px;
  }
  
  &--sm {
    width: 14px;
    height: 14px;
  }
  
  &--md {
    width: 16px;
    height: 16px;
  }
  
  &--lg {
    width: 20px;
    height: 20px;
  }
  
  &--xl {
    width: 24px;
    height: 24px;
  }
  
  &--xxl {
    width: 32px;
    height: 32px;
  }
}

// Animations
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// Icon color variants
.ld-icon {
  &--primary {
    color: var(--ld-color-primary);
  }
  
  &--success {
    color: var(--ld-color-success);
  }
  
  &--warning {
    color: var(--ld-color-warning);
  }
  
  &--error {
    color: var(--ld-color-error);
  }
  
  &--muted {
    color: var(--ld-color-text-tertiary);
  }
}

// Hover effects for interactive icons
.ld-icon {
  &--interactive {
    cursor: pointer;
    transition: all var(--ld-transition-fast) ease;
    border-radius: var(--ld-radius-sm);
    padding: 2px;
    
    &:hover {
      background-color: var(--ld-color-bg-tertiary);
      transform: scale(1.1);
    }
    
    &:active {
      transform: scale(0.95);
    }
    
    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--ld-color-primary-light);
    }
  }
}

// Accessibility improvements
.ld-icon {
  &[role="img"] {
    // Ensure proper focus behavior for screen readers
    &:focus {
      outline: 2px solid var(--ld-color-primary);
      outline-offset: 2px;
    }
  }
}

// Dark theme adjustments
:host([data-theme="dark"]) {
  .ld-icon {
    &--interactive:hover {
      background-color: var(--ld-color-bg-quaternary);
    }
  }
}