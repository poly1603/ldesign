# ğŸŒŠ LDesign Watermark - Vue 3 ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ **Vite + Vue 3 + TypeScript** æ„å»ºçš„ LDesign Watermark æ°´å°ç»„ä»¶å®Œæ•´ç¤ºä¾‹é¡¹ç›®ã€‚é€šè¿‡è¿™ä¸ªç¤º
ä¾‹ï¼Œä½ å¯ä»¥å­¦ä¹ å¦‚ä½•åœ¨ Vue 3 é¡¹ç›®ä¸­ä½¿ç”¨æ°´å°ç»„ä»¶çš„å„ç§åŠŸèƒ½å’Œæœ€ä½³å®è·µã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ åŸºç¡€ç¤ºä¾‹

- **ç®€å•æ–‡å­—æ°´å°** - æœ€åŸºç¡€çš„æ°´å°ç”¨æ³•
- **è‡ªå®šä¹‰æ ·å¼æ°´å°** - ä¸°å¯Œçš„æ ·å¼é…ç½®é€‰é¡¹
- **å›¾ç‰‡æ°´å°** - æ”¯æŒå„ç§å›¾ç‰‡æ ¼å¼
- **å¤šè¡Œæ–‡å­—æ°´å°** - æ”¯æŒå¤šè¡Œå†…å®¹æ˜¾ç¤º
- **å®æ—¶é…ç½®é¢æ¿** - äº¤äº’å¼å‚æ•°è°ƒæ•´

### ğŸ”§ Composition API ç¤ºä¾‹

- **å“åº”å¼æ°´å°é…ç½®** - ä½¿ç”¨ reactive å’Œ ref ç®¡ç†çŠ¶æ€
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†** - å®Œæ•´çš„åˆ›å»ºã€æ›´æ–°ã€é”€æ¯æµç¨‹
- **æ¡ä»¶æ¸²æŸ“** - æ ¹æ®æ¡ä»¶åŠ¨æ€æ˜¾ç¤º/éšè—æ°´å°
- **åŠ¨æ€å†…å®¹æ›´æ–°** - å®æ—¶æ›´æ–°æ°´å°å†…å®¹
- **è‡ªå®šä¹‰ Hook** - å°è£…å¯å¤ç”¨çš„æ°´å°é€»è¾‘

### âš™ï¸ Options API ç¤ºä¾‹

- **ä¼ ç»Ÿ Vue å†™æ³•** - ä½¿ç”¨ dataã€methodsã€watch
- **ç”Ÿå‘½å‘¨æœŸé’©å­** - mountedã€beforeUnmount ç­‰
- **è®¡ç®—å±æ€§** - åŠ¨æ€è®¡ç®—æ°´å°å†…å®¹
- **ä¾¦å¬å™¨** - ç›‘å¬æ•°æ®å˜åŒ–è‡ªåŠ¨æ›´æ–°
- **æ··å…¥ (Mixin)** - å¤ç”¨æ°´å°é€»è¾‘

### ğŸš€ é«˜çº§åŠŸèƒ½

- **å®‰å…¨é˜²æŠ¤æ°´å°** - é˜²æ­¢æ¶æ„åˆ é™¤å’Œä¿®æ”¹
- **å“åº”å¼æ°´å°** - è‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸
- **åŠ¨ç”»æ°´å°** - ä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœ
- **å¤šæ¸²æŸ“æ¨¡å¼** - DOMã€Canvasã€SVG æ¸²æŸ“
- **æ‰¹é‡ç®¡ç†** - åŒæ—¶ç®¡ç†å¤šä¸ªæ°´å°å®ä¾‹

### ğŸ§© ç»„ä»¶åŒ–ç¤ºä¾‹

- **åŸºç¡€æ°´å°ç»„ä»¶** - ç®€å•æ˜“ç”¨çš„å°è£…ç»„ä»¶
- **é«˜çº§æ°´å°ç»„ä»¶** - æ”¯æŒä¸»é¢˜å’Œå¯†åº¦é…ç½®
- **å“åº”å¼æ°´å°ç»„ä»¶** - è‡ªåŠ¨é€‚åº”å®¹å™¨å¤§å°
- **åŠ¨ç”»æ°´å°ç»„ä»¶** - å†…ç½®åŠ¨ç”»æ•ˆæœ
- **ç»„åˆå¼æ°´å°ç»„ä»¶** - é›†æˆå¤šç§åŠŸèƒ½
- **æŒ‡ä»¤å¼ç”¨æ³•** - v-watermark æŒ‡ä»¤

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æˆ–
npm run dev
```

è®¿é—® [http://localhost:3002](http://localhost:3002) æŸ¥çœ‹ç¤ºä¾‹ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview
```

### ç±»å‹æ£€æŸ¥

```bash
# è¿è¡Œç±»å‹æ£€æŸ¥
pnpm type-check
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºç¡€ç”¨æ³•

```vue
<script setup lang="ts">
import WatermarkContainer from './components/watermark/WatermarkContainer.vue'
</script>

<template>
  <div>
    <!-- ä½¿ç”¨ç»„ä»¶ -->
    <WatermarkContainer content="æˆ‘çš„æ°´å°" :enabled="true" :style="{ fontSize: 16, color: '#333' }">
      <div class="content">
        <!-- ä½ çš„å†…å®¹ -->
      </div>
    </WatermarkContainer>
  </div>
</template>
```

### Composition API ç”¨æ³•

```vue
<script setup lang="ts">
import { ref } from 'vue'
import { useWatermark } from './composables/useWatermark'

const containerRef = ref<HTMLElement>()
const { create, destroy, isActive } = useWatermark(containerRef)

// åˆ›å»ºæ°´å°
await create('Composition API æ°´å°', {
  style: { fontSize: 16, color: '#666' },
})
</script>

<template>
  <div ref="containerRef">
    <!-- å†…å®¹ -->
  </div>
</template>
```

### Options API ç”¨æ³•

```vue
<script>
import { createWatermark, destroyWatermark } from '@ldesign/watermark'

export default {
  data() {
    return {
      watermarkInstance: null,
    }
  },

  async mounted() {
    this.watermarkInstance = await createWatermark(this.$refs.container, {
      content: 'Options API æ°´å°',
    })
  },

  beforeUnmount() {
    if (this.watermarkInstance) {
      destroyWatermark(this.watermarkInstance)
    }
  },
}
</script>

<template>
  <div ref="container">
    <!-- å†…å®¹ -->
  </div>
</template>
```

### æŒ‡ä»¤ç”¨æ³•

```vue
<template>
  <!-- ç®€å•ç”¨æ³• -->
  <div v-watermark="'æŒ‡ä»¤æ°´å°'">å†…å®¹</div>

  <!-- é…ç½®å¯¹è±¡ -->
  <div v-watermark="{ content: 'é…ç½®æ°´å°', style: { color: '#666' } }">å†…å®¹</div>

  <!-- ä¿®é¥°ç¬¦ -->
  <div v-watermark.secure.responsive="'å®‰å…¨å“åº”å¼æ°´å°'">å†…å®¹</div>
</template>
```

## ğŸ›ï¸ è‡ªå®šä¹‰ Hook

é¡¹ç›®æä¾›äº†å¤šä¸ªè‡ªå®šä¹‰ Hook æ¥ç®€åŒ–æ°´å°çš„ä½¿ç”¨ï¼š

### useWatermark

åŸºç¡€æ°´å° Hookï¼Œæä¾›åˆ›å»ºã€é”€æ¯ã€åˆ‡æ¢ç­‰åŠŸèƒ½ã€‚

```typescript
const { instance, isActive, create, destroy, toggle } = useWatermark(containerRef)
```

### useAdvancedWatermark

é«˜çº§æ°´å° Hookï¼ŒåŒ…å«çŠ¶æ€ç®¡ç†å’Œé”™è¯¯å¤„ç†ã€‚

```typescript
const { instance, status, isActive, isLoading, create, update, destroy } = useAdvancedWatermark(
  containerRef,
  defaultConfig
)
```

### useWatermarkManager

æ‰¹é‡æ°´å°ç®¡ç† Hookã€‚

```typescript
const { instances, count, create, destroy, destroyAll, get } = useWatermarkManager()
```

## ğŸ§© ç»„ä»¶ API

### WatermarkContainer

åŸºç¡€æ°´å°å®¹å™¨ç»„ä»¶ã€‚

```typescript
interface Props {
  content: string
  enabled?: boolean
  style?: Partial<WatermarkConfig['style']>
  layout?: Partial<WatermarkConfig['layout']>
  renderMode?: 'dom' | 'canvas' | 'svg'
  zIndex?: number
}
```

### AdvancedWatermark

é«˜çº§æ°´å°ç»„ä»¶ï¼Œæ”¯æŒä¸»é¢˜å’Œå¯†åº¦é…ç½®ã€‚

```typescript
interface Props {
  content: string
  theme?: 'default' | 'security' | 'brand' | 'warning'
  density?: 'low' | 'medium' | 'high'
  enabled?: boolean
}
```

### ResponsiveWatermark

å“åº”å¼æ°´å°ç»„ä»¶ã€‚

```typescript
interface Props {
  content: string
  autoResize?: boolean
  breakpoint?: 'mobile' | 'tablet' | 'desktop'
  enabled?: boolean
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
vue3/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ watermark/           # æ°´å°ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ WatermarkContainer.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ AdvancedWatermark.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ResponsiveWatermark.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ AnimatedWatermark.vue
â”‚   â”‚   â”‚   â””â”€â”€ CompositeWatermark.vue
â”‚   â”‚   â”œâ”€â”€ BasicExamples.vue    # åŸºç¡€ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ CompositionExamples.vue # Composition API ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ OptionsExamples.vue  # Options API ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ AdvancedExamples.vue # é«˜çº§åŠŸèƒ½ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ ComponentExamples.vue # ç»„ä»¶åŒ–ç¤ºä¾‹
â”‚   â”œâ”€â”€ composables/
â”‚   â”‚   â””â”€â”€ useWatermark.ts      # è‡ªå®šä¹‰ Hook
â”‚   â”œâ”€â”€ App.vue                  # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.ts                  # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ style.less              # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html                   # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts              # Vite é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ é…ç½®è¯´æ˜

### Vite é…ç½®

- **å¼€å‘æœåŠ¡å™¨ç«¯å£**: 3002
- **TypeScript æ”¯æŒ**: å®Œæ•´çš„ç±»å‹æ£€æŸ¥
- **Vue JSX æ”¯æŒ**: æ”¯æŒ TSX è¯­æ³•
- **Less é¢„å¤„ç†å™¨**: æ ·å¼é¢„å¤„ç†
- **è·¯å¾„åˆ«å**: `@` æŒ‡å‘ `src` ç›®å½•

### TypeScript é…ç½®

- **ä¸¥æ ¼æ¨¡å¼**: å¯ç”¨æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥
- **JSX æ”¯æŒ**: æ”¯æŒ Vue 3 JSX è¯­æ³•
- **è·¯å¾„æ˜ å°„**: æ”¯æŒç»å¯¹è·¯å¾„å¯¼å…¥

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

é¡¹ç›®ä½¿ç”¨ Less ä½œä¸º CSS é¢„å¤„ç†å™¨ï¼Œæä¾›äº†ï¼š

- **CSS å˜é‡**: ç»Ÿä¸€çš„é¢œè‰²å’Œå°ºå¯¸å˜é‡
- **å·¥å…·ç±»**: å¸¸ç”¨çš„å¸ƒå±€å’Œæ ·å¼ç±»
- **å“åº”å¼**: ç§»åŠ¨ç«¯é€‚é…
- **åŠ¨ç”»**: ä¸°å¯Œçš„è¿‡æ¸¡åŠ¨ç”»

## ğŸ§ª æœ€ä½³å®è·µ

1. **ç»„ä»¶å°è£…**: å°†æ°´å°åŠŸèƒ½å°è£…æˆå¯å¤ç”¨çš„ç»„ä»¶
2. **Hook å¤ç”¨**: ä½¿ç”¨è‡ªå®šä¹‰ Hook æå–å…¬å…±é€»è¾‘
3. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨ TypeScript çš„ç±»å‹æ£€æŸ¥
4. **æ€§èƒ½ä¼˜åŒ–**: åˆç†ä½¿ç”¨ watch å’Œ computed
5. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æ•è·å’Œå¤„ç†æœºåˆ¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªç¤ºä¾‹é¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**äº«å—ä½¿ç”¨ LDesign Watermark Vue 3 ç¤ºä¾‹ï¼** ğŸ‰
